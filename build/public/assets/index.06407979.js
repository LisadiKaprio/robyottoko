const Yf=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}};Yf();const Xf="modulepreload",kr={},Qf="/",Fn=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${Qf}${o}`,o in kr)return;kr[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":Xf,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((r,u)=>{i.addEventListener("load",r),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function ha(e,t){const n=Object.create(null),o=e.split(",");for(let a=0;a<o.length;a++)n[o[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const Zf="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",qf=ha(Zf),eh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",th=ha(eh);function od(e){return!!e||e===""}function rt(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=vt(o)?oh(o):rt(o);if(a)for(const l in a)t[l]=a[l]}return t}else{if(vt(e))return e;if(dt(e))return e}}const nh=/;(?![^(]*\))/g,sh=/:(.+)/;function oh(e){const t={};return e.split(nh).forEach(n=>{if(n){const o=n.split(sh);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function De(e){let t="";if(vt(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const o=De(e[n]);o&&(t+=o+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ih(e){if(!e)return null;let{class:t,style:n}=e;return t&&!vt(t)&&(e.class=De(t)),n&&(e.style=rt(n)),e}function ah(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ms(e[o],t[o]);return n}function ms(e,t){if(e===t)return!0;let n=Tr(e),o=Tr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=qo(e),o=qo(t),n||o)return e===t;if(n=ke(e),o=ke(t),n||o)return n&&o?ah(e,t):!1;if(n=dt(e),o=dt(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const i in e){const r=e.hasOwnProperty(i),u=t.hasOwnProperty(i);if(r&&!u||!r&&u||!ms(e[i],t[i]))return!1}}return String(e)===String(t)}function ma(e,t){return e.findIndex(n=>ms(n,t))}const Y=e=>vt(e)?e:e==null?"":ke(e)||dt(e)&&(e.toString===ad||!Le(e.toString))?JSON.stringify(e,id,2):String(e),id=(e,t)=>t&&t.__v_isRef?id(e,t.value):so(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a])=>(n[`${o} =>`]=a,n),{})}:Hs(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!ke(t)&&!ld(t)?String(t):t,it={},no=[],_n=()=>{},lh=()=>!1,rh=/^on[^a-z]/,ci=e=>rh.test(e),Hl=e=>e.startsWith("onUpdate:"),wt=Object.assign,zl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},uh=Object.prototype.hasOwnProperty,et=(e,t)=>uh.call(e,t),ke=Array.isArray,so=e=>fi(e)==="[object Map]",Hs=e=>fi(e)==="[object Set]",Tr=e=>fi(e)==="[object Date]",Le=e=>typeof e=="function",vt=e=>typeof e=="string",qo=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",jl=e=>dt(e)&&Le(e.then)&&Le(e.catch),ad=Object.prototype.toString,fi=e=>ad.call(e),dh=e=>fi(e).slice(8,-1),ld=e=>fi(e)==="[object Object]",Wl=e=>vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fo=ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ch=/-(\w)/g,an=pa(e=>e.replace(ch,(t,n)=>n?n.toUpperCase():"")),fh=/\B([A-Z])/g,On=pa(e=>e.replace(fh,"-$1").toLowerCase()),hi=pa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bo=pa(e=>e?`on${hi(e)}`:""),ro=(e,t)=>!Object.is(e,t),oo=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Yi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ps=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ir;const hh=()=>Ir||(Ir=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let en;class xl{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&en&&(this.parent=en,this.index=(en.scopes||(en.scopes=[])).push(this)-1)}run(t){if(this.active){const n=en;try{return en=this,t()}finally{en=n}}}on(){en=this}off(){en=this.parent}stop(t){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function mh(e){return new xl(e)}function rd(e,t=en){t&&t.active&&t.effects.push(e)}function ph(){return en}function gh(e){en&&en.cleanups.push(e)}const Kl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ud=e=>(e.w&gs)>0,dd=e=>(e.n&gs)>0,vh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=gs},yh=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const a=t[o];ud(a)&&!dd(a)?a.delete(e):t[n++]=a,a.w&=~gs,a.n&=~gs}t.length=n}},dl=new WeakMap;let Do=0,gs=1;const cl=30;let $n;const Ds=Symbol(""),fl=Symbol("");class mi{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rd(this,o)}run(){if(!this.active)return this.fn();let t=$n,n=cs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=$n,$n=this,cs=!0,gs=1<<++Do,Do<=cl?vh(this):Vr(this),this.fn()}finally{Do<=cl&&yh(this),gs=1<<--Do,$n=this.parent,cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$n===this?this.deferStop=!0:this.active&&(Vr(this),this.onStop&&this.onStop(),this.active=!1)}}function Vr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function bh(e,t){e.effect&&(e=e.effect.fn);const n=new mi(e);t&&(wt(n,t),t.scope&&rd(n,t.scope)),(!t||!t.lazy)&&n.run();const o=n.run.bind(n);return o.effect=n,o}function $h(e){e.effect.stop()}let cs=!0;const cd=[];function zs(){cd.push(cs),cs=!1}function js(){const e=cd.pop();cs=e===void 0?!0:e}function ln(e,t,n){if(cs&&$n){let o=dl.get(e);o||dl.set(e,o=new Map);let a=o.get(n);a||o.set(n,a=Kl()),fd(a)}}function fd(e,t){let n=!1;Do<=cl?dd(e)||(e.n|=gs,n=!ud(e)):n=!e.has($n),n&&(e.add($n),$n.deps.push(e))}function Yn(e,t,n,o,a,l){const i=dl.get(e);if(!i)return;let r=[];if(t==="clear")r=[...i.values()];else if(n==="length"&&ke(e))i.forEach((u,d)=>{(d==="length"||d>=o)&&r.push(u)});else switch(n!==void 0&&r.push(i.get(n)),t){case"add":ke(e)?Wl(n)&&r.push(i.get("length")):(r.push(i.get(Ds)),so(e)&&r.push(i.get(fl)));break;case"delete":ke(e)||(r.push(i.get(Ds)),so(e)&&r.push(i.get(fl)));break;case"set":so(e)&&r.push(i.get(Ds));break}if(r.length===1)r[0]&&hl(r[0]);else{const u=[];for(const d of r)d&&u.push(...d);hl(Kl(u))}}function hl(e,t){const n=ke(e)?e:[...e];for(const o of n)o.computed&&Ar(o);for(const o of n)o.computed||Ar(o)}function Ar(e,t){(e!==$n||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const wh=ha("__proto__,__v_isRef,__isVue"),hd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qo)),_h=ga(),Ch=ga(!1,!0),Sh=ga(!0),Eh=ga(!0,!0),Dr=kh();function kh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Ze(this);for(let l=0,i=this.length;l<i;l++)ln(o,"get",l+"");const a=o[t](...n);return a===-1||a===!1?o[t](...n.map(Ze)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){zs();const o=Ze(this)[t].apply(this,n);return js(),o}}),e}function ga(e=!1,t=!1){return function(o,a,l){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&l===(e?t?$d:bd:t?yd:vd).get(o))return o;const i=ke(o);if(!e&&i&&et(Dr,a))return Reflect.get(Dr,a,l);const r=Reflect.get(o,a,l);return(qo(a)?hd.has(a):wh(a))||(e||ln(o,"get",a),t)?r:kt(r)?i&&Wl(a)?r:r.value:dt(r)?e?Gl(r):yo(r):r}}const Th=md(),Ih=md(!0);function md(e=!1){return function(n,o,a,l){let i=n[o];if(Ns(i)&&kt(i)&&!kt(a))return!1;if(!e&&(!ei(a)&&!Ns(a)&&(i=Ze(i),a=Ze(a)),!ke(n)&&kt(i)&&!kt(a)))return i.value=a,!0;const r=ke(n)&&Wl(o)?Number(o)<n.length:et(n,o),u=Reflect.set(n,o,a,l);return n===Ze(l)&&(r?ro(a,i)&&Yn(n,"set",o,a):Yn(n,"add",o,a)),u}}function Vh(e,t){const n=et(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&Yn(e,"delete",t,void 0),o}function Ah(e,t){const n=Reflect.has(e,t);return(!qo(t)||!hd.has(t))&&ln(e,"has",t),n}function Dh(e){return ln(e,"iterate",ke(e)?"length":Ds),Reflect.ownKeys(e)}const pd={get:_h,set:Th,deleteProperty:Vh,has:Ah,ownKeys:Dh},gd={get:Sh,set(e,t){return!0},deleteProperty(e,t){return!0}},Oh=wt({},pd,{get:Ch,set:Ih}),Rh=wt({},gd,{get:Eh}),Jl=e=>e,va=e=>Reflect.getPrototypeOf(e);function Si(e,t,n=!1,o=!1){e=e.__v_raw;const a=Ze(e),l=Ze(t);n||(t!==l&&ln(a,"get",t),ln(a,"get",l));const{has:i}=va(a),r=o?Jl:n?Ql:ti;if(i.call(a,t))return r(e.get(t));if(i.call(a,l))return r(e.get(l));e!==a&&e.get(t)}function Ei(e,t=!1){const n=this.__v_raw,o=Ze(n),a=Ze(e);return t||(e!==a&&ln(o,"has",e),ln(o,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function ki(e,t=!1){return e=e.__v_raw,!t&&ln(Ze(e),"iterate",Ds),Reflect.get(e,"size",e)}function Or(e){e=Ze(e);const t=Ze(this);return va(t).has.call(t,e)||(t.add(e),Yn(t,"add",e,e)),this}function Rr(e,t){t=Ze(t);const n=Ze(this),{has:o,get:a}=va(n);let l=o.call(n,e);l||(e=Ze(e),l=o.call(n,e));const i=a.call(n,e);return n.set(e,t),l?ro(t,i)&&Yn(n,"set",e,t):Yn(n,"add",e,t),this}function Pr(e){const t=Ze(this),{has:n,get:o}=va(t);let a=n.call(t,e);a||(e=Ze(e),a=n.call(t,e)),o&&o.call(t,e);const l=t.delete(e);return a&&Yn(t,"delete",e,void 0),l}function Mr(){const e=Ze(this),t=e.size!==0,n=e.clear();return t&&Yn(e,"clear",void 0,void 0),n}function Ti(e,t){return function(o,a){const l=this,i=l.__v_raw,r=Ze(i),u=t?Jl:e?Ql:ti;return!e&&ln(r,"iterate",Ds),i.forEach((d,c)=>o.call(a,u(d),u(c),l))}}function Ii(e,t,n){return function(...o){const a=this.__v_raw,l=Ze(a),i=so(l),r=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,d=a[e](...o),c=n?Jl:t?Ql:ti;return!t&&ln(l,"iterate",u?fl:Ds),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:r?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function ts(e){return function(...t){return e==="delete"?!1:this}}function Ph(){const e={get(l){return Si(this,l)},get size(){return ki(this)},has:Ei,add:Or,set:Rr,delete:Pr,clear:Mr,forEach:Ti(!1,!1)},t={get(l){return Si(this,l,!1,!0)},get size(){return ki(this)},has:Ei,add:Or,set:Rr,delete:Pr,clear:Mr,forEach:Ti(!1,!0)},n={get(l){return Si(this,l,!0)},get size(){return ki(this,!0)},has(l){return Ei.call(this,l,!0)},add:ts("add"),set:ts("set"),delete:ts("delete"),clear:ts("clear"),forEach:Ti(!0,!1)},o={get(l){return Si(this,l,!0,!0)},get size(){return ki(this,!0)},has(l){return Ei.call(this,l,!0)},add:ts("add"),set:ts("set"),delete:ts("delete"),clear:ts("clear"),forEach:Ti(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Ii(l,!1,!1),n[l]=Ii(l,!0,!1),t[l]=Ii(l,!1,!0),o[l]=Ii(l,!0,!0)}),[e,n,t,o]}const[Mh,Uh,Nh,Lh]=Ph();function ya(e,t){const n=t?e?Lh:Nh:e?Uh:Mh;return(o,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(et(n,a)&&a in o?n:o,a,l)}const Fh={get:ya(!1,!1)},Bh={get:ya(!1,!0)},Hh={get:ya(!0,!1)},zh={get:ya(!0,!0)},vd=new WeakMap,yd=new WeakMap,bd=new WeakMap,$d=new WeakMap;function jh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wh(e){return e.__v_skip||!Object.isExtensible(e)?0:jh(dh(e))}function yo(e){return Ns(e)?e:ba(e,!1,pd,Fh,vd)}function wd(e){return ba(e,!1,Oh,Bh,yd)}function Gl(e){return ba(e,!0,gd,Hh,bd)}function xh(e){return ba(e,!0,Rh,zh,$d)}function ba(e,t,n,o,a){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const i=Wh(e);if(i===0)return e;const r=new Proxy(e,i===2?o:n);return a.set(e,r),r}function Os(e){return Ns(e)?Os(e.__v_raw):!!(e&&e.__v_isReactive)}function Ns(e){return!!(e&&e.__v_isReadonly)}function ei(e){return!!(e&&e.__v_isShallow)}function Yl(e){return Os(e)||Ns(e)}function Ze(e){const t=e&&e.__v_raw;return t?Ze(t):e}function Xl(e){return Yi(e,"__v_skip",!0),e}const ti=e=>dt(e)?yo(e):e,Ql=e=>dt(e)?Gl(e):e;function Zl(e){cs&&$n&&(e=Ze(e),fd(e.dep||(e.dep=Kl())))}function $a(e,t){e=Ze(e),e.dep&&hl(e.dep)}function kt(e){return!!(e&&e.__v_isRef===!0)}function ve(e){return Cd(e,!1)}function _d(e){return Cd(e,!0)}function Cd(e,t){return kt(e)?e:new Kh(e,t)}class Kh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ze(t),this._value=n?t:ti(t)}get value(){return Zl(this),this._value}set value(t){const n=this.__v_isShallow||ei(t)||Ns(t);t=n?t:Ze(t),ro(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ti(t),$a(this))}}function Jh(e){$a(e)}function Xe(e){return kt(e)?e.value:e}const Gh={get:(e,t,n)=>Xe(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return kt(a)&&!kt(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function ql(e){return Os(e)?e:new Proxy(e,Gh)}class Yh{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>Zl(this),()=>$a(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function Xh(e){return new Yh(e)}function Qh(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=Sd(e,n);return t}class Zh{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Sd(e,t,n){const o=e[t];return kt(o)?o:new Zh(e,t,n)}var Ed;class qh{constructor(t,n,o,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Ed]=!1,this._dirty=!0,this.effect=new mi(t,()=>{this._dirty||(this._dirty=!0,$a(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const t=Ze(this);return Zl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ed="__v_isReadonly";function em(e,t,n=!1){let o,a;const l=Le(e);return l?(o=e,a=_n):(o=e.get,a=e.set),new qh(o,a,l||!a,n)}const Ho=[];function kd(e,...t){zs();const n=Ho.length?Ho[Ho.length-1].component:null,o=n&&n.appContext.config.warnHandler,a=tm();if(o)Rn(o,n,11,[e+t.join(""),n&&n.proxy,a.map(({vnode:l})=>`at <${gc(n,l.type)}>`).join(`
`),a]);else{const l=[`[Vue warn]: ${e}`,...t];a.length&&l.push(`
`,...nm(a)),console.warn(...l)}js()}function tm(){let e=Ho[Ho.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function nm(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...sm(n))}),t}function sm({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,a=` at <${gc(e.component,e.type,o)}`,l=">"+n;return e.props?[a,...om(e.props),l]:[a+l]}function om(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...Td(o,e[o]))}),n.length>3&&t.push(" ..."),t}function Td(e,t,n){return vt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:kt(t)?(t=Td(e,Ze(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Le(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ze(t),n?t:[`${e}=`,t])}function Rn(e,t,n,o){let a;try{a=o?e(...o):e()}catch(l){Ws(l,t,n)}return a}function on(e,t,n,o){if(Le(e)){const l=Rn(e,t,n,o);return l&&jl(l)&&l.catch(i=>{Ws(i,t,n)}),l}const a=[];for(let l=0;l<e.length;l++)a.push(on(e[l],t,n,o));return a}function Ws(e,t,n,o=!0){const a=t?t.vnode:null;if(t){let l=t.parent;const i=t.proxy,r=n;for(;l;){const d=l.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,i,r)===!1)return}l=l.parent}const u=t.appContext.config.errorHandler;if(u){Rn(u,null,10,[e,i,r]);return}}im(e,n,a,o)}function im(e,t,n,o=!0){console.error(e)}let ni=!1,ml=!1;const Rt=[];let An=0;const io=[];let xn=null,Ts=0;const Id=Promise.resolve();let er=null;function bo(e){const t=er||Id;return e?t.then(this?e.bind(this):e):t}function am(e){let t=An+1,n=Rt.length;for(;t<n;){const o=t+n>>>1;si(Rt[o])<e?t=o+1:n=o}return t}function wa(e){(!Rt.length||!Rt.includes(e,ni&&e.allowRecurse?An+1:An))&&(e.id==null?Rt.push(e):Rt.splice(am(e.id),0,e),Vd())}function Vd(){!ni&&!ml&&(ml=!0,er=Id.then(Ad))}function lm(e){const t=Rt.indexOf(e);t>An&&Rt.splice(t,1)}function tr(e){ke(e)?io.push(...e):(!xn||!xn.includes(e,e.allowRecurse?Ts+1:Ts))&&io.push(e),Vd()}function Ur(e,t=ni?An+1:0){for(;t<Rt.length;t++){const n=Rt[t];n&&n.pre&&(Rt.splice(t,1),t--,n())}}function Xi(e){if(io.length){const t=[...new Set(io)];if(io.length=0,xn){xn.push(...t);return}for(xn=t,xn.sort((n,o)=>si(n)-si(o)),Ts=0;Ts<xn.length;Ts++)xn[Ts]();xn=null,Ts=0}}const si=e=>e.id==null?1/0:e.id,rm=(e,t)=>{const n=si(e)-si(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ad(e){ml=!1,ni=!0,Rt.sort(rm);const t=_n;try{for(An=0;An<Rt.length;An++){const n=Rt[An];n&&n.active!==!1&&Rn(n,null,14)}}finally{An=0,Rt.length=0,Xi(),ni=!1,er=null,(Rt.length||io.length)&&Ad()}}let Zs,Vi=[];function Dd(e,t){var n,o;Zs=e,Zs?(Zs.enabled=!0,Vi.forEach(({event:a,args:l})=>Zs.emit(a,...l)),Vi=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((o=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Dd(l,t)}),setTimeout(()=>{Zs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Vi=[])},3e3)):Vi=[]}function um(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||it;let a=n;const l=t.startsWith("update:"),i=l&&t.slice(7);if(i&&i in o){const c=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:h}=o[c]||it;h&&(a=n.map(m=>m.trim())),f&&(a=n.map(ps))}let r,u=o[r=Bo(t)]||o[r=Bo(an(t))];!u&&l&&(u=o[r=Bo(On(t))]),u&&on(u,e,6,a);const d=o[r+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,on(d,e,6,a)}}function Od(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const l=e.emits;let i={},r=!1;if(!Le(e)){const u=d=>{const c=Od(d,t,!0);c&&(r=!0,wt(i,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!l&&!r?(dt(e)&&o.set(e,null),null):(ke(l)?l.forEach(u=>i[u]=null):wt(i,l),dt(e)&&o.set(e,i),i)}function _a(e,t){return!e||!ci(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,On(t))||et(e,t))}let Mt=null,Ca=null;function oi(e){const t=Mt;return Mt=e,Ca=e&&e.type.__scopeId||null,t}function En(e){Ca=e}function kn(){Ca=null}const dm=e=>ut;function ut(e,t=Mt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&wl(-1);const l=oi(t),i=e(...a);return oi(l),o._d&&wl(1),i};return o._n=!0,o._c=!0,o._d=!0,o}function Bi(e){const{type:t,vnode:n,proxy:o,withProxy:a,props:l,propsOptions:[i],slots:r,attrs:u,emit:d,render:c,renderCache:f,data:h,setupState:m,ctx:p,inheritAttrs:y}=e;let w,$;const b=oi(e);try{if(n.shapeFlag&4){const _=a||o;w=tn(c.call(_,_,f,l,m,h,p)),$=u}else{const _=t;w=tn(_.length>1?_(l,{attrs:u,slots:r,emit:d}):_(l,null)),$=t.props?u:fm(u)}}catch(_){Wo.length=0,Ws(_,e,1),w=T(Ut)}let S=w;if($&&y!==!1){const _=Object.keys($),{shapeFlag:I}=S;_.length&&I&7&&(i&&_.some(Hl)&&($=hm($,i)),S=Un(S,$))}return n.dirs&&(S=Un(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),w=S,oi(b),w}function cm(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(vs(o)){if(o.type!==Ut||o.children==="v-if"){if(t)return;t=o}}else return}return t}const fm=e=>{let t;for(const n in e)(n==="class"||n==="style"||ci(n))&&((t||(t={}))[n]=e[n]);return t},hm=(e,t)=>{const n={};for(const o in e)(!Hl(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function mm(e,t,n){const{props:o,children:a,component:l}=e,{props:i,children:r,patchFlag:u}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return o?Nr(o,i,d):!!i;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(i[h]!==o[h]&&!_a(d,h))return!0}}}else return(a||r)&&(!r||!r.$stable)?!0:o===i?!1:o?i?Nr(o,i,d):!0:!!i;return!1}function Nr(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const l=o[a];if(t[l]!==e[l]&&!_a(n,l))return!0}return!1}function nr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Rd=e=>e.__isSuspense,pm={name:"Suspense",__isSuspense:!0,process(e,t,n,o,a,l,i,r,u,d){e==null?vm(t,n,o,a,l,i,r,u,d):ym(e,t,n,o,a,i,r,u,d)},hydrate:bm,create:sr,normalize:$m},gm=pm;function ii(e,t){const n=e.props&&e.props[t];Le(n)&&n()}function vm(e,t,n,o,a,l,i,r,u){const{p:d,o:{createElement:c}}=u,f=c("div"),h=e.suspense=sr(e,a,o,t,f,n,l,i,r,u);d(null,h.pendingBranch=e.ssContent,f,null,o,h,l,i),h.deps>0?(ii(e,"onPending"),ii(e,"onFallback"),d(null,e.ssFallback,t,n,o,null,l,i),ao(h,e.ssFallback)):h.resolve()}function ym(e,t,n,o,a,l,i,r,{p:u,um:d,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,m=t.ssFallback,{activeBranch:p,pendingBranch:y,isInFallback:w,isHydrating:$}=f;if(y)f.pendingBranch=h,Dn(h,y)?(u(y,h,f.hiddenContainer,null,a,f,l,i,r),f.deps<=0?f.resolve():w&&(u(p,m,n,o,a,null,l,i,r),ao(f,m))):(f.pendingId++,$?(f.isHydrating=!1,f.activeBranch=y):d(y,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),w?(u(null,h,f.hiddenContainer,null,a,f,l,i,r),f.deps<=0?f.resolve():(u(p,m,n,o,a,null,l,i,r),ao(f,m))):p&&Dn(h,p)?(u(p,h,n,o,a,f,l,i,r),f.resolve(!0)):(u(null,h,f.hiddenContainer,null,a,f,l,i,r),f.deps<=0&&f.resolve()));else if(p&&Dn(h,p))u(p,h,n,o,a,f,l,i,r),ao(f,h);else if(ii(t,"onPending"),f.pendingBranch=h,f.pendingId++,u(null,h,f.hiddenContainer,null,a,f,l,i,r),f.deps<=0)f.resolve();else{const{timeout:b,pendingId:S}=f;b>0?setTimeout(()=>{f.pendingId===S&&f.fallback(m)},b):b===0&&f.fallback(m)}}function sr(e,t,n,o,a,l,i,r,u,d,c=!1){const{p:f,m:h,um:m,n:p,o:{parentNode:y,remove:w}}=d,$=ps(e.props&&e.props.timeout),b={vnode:e,parent:t,parentComponent:n,isSVG:i,container:o,hiddenContainer:a,anchor:l,deps:0,pendingId:0,timeout:typeof $=="number"?$:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1){const{vnode:_,activeBranch:I,pendingBranch:E,pendingId:U,effects:R,parentComponent:O,container:z}=b;if(b.isHydrating)b.isHydrating=!1;else if(!S){const W=I&&E.transition&&E.transition.mode==="out-in";W&&(I.transition.afterLeave=()=>{U===b.pendingId&&h(E,z,F,0)});let{anchor:F}=b;I&&(F=p(I),m(I,O,b,!0)),W||h(E,z,F,0)}ao(b,E),b.pendingBranch=null,b.isInFallback=!1;let K=b.parent,J=!1;for(;K;){if(K.pendingBranch){K.effects.push(...R),J=!0;break}K=K.parent}J||tr(R),b.effects=[],ii(_,"onResolve")},fallback(S){if(!b.pendingBranch)return;const{vnode:_,activeBranch:I,parentComponent:E,container:U,isSVG:R}=b;ii(_,"onFallback");const O=p(I),z=()=>{!b.isInFallback||(f(null,S,U,O,E,null,R,r,u),ao(b,S))},K=S.transition&&S.transition.mode==="out-in";K&&(I.transition.afterLeave=z),b.isInFallback=!0,m(I,E,null,!0),K||z()},move(S,_,I){b.activeBranch&&h(b.activeBranch,S,_,I),b.container=S},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(S,_){const I=!!b.pendingBranch;I&&b.deps++;const E=S.vnode.el;S.asyncDep.catch(U=>{Ws(U,S,0)}).then(U=>{if(S.isUnmounted||b.isUnmounted||b.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:R}=S;_l(S,U,!1),E&&(R.el=E);const O=!E&&S.subTree.el;_(S,R,y(E||S.subTree.el),E?null:p(S.subTree),b,i,u),O&&w(O),nr(S,R.el),I&&--b.deps===0&&b.resolve()})},unmount(S,_){b.isUnmounted=!0,b.activeBranch&&m(b.activeBranch,n,S,_),b.pendingBranch&&m(b.pendingBranch,n,S,_)}};return b}function bm(e,t,n,o,a,l,i,r,u){const d=t.suspense=sr(t,o,n,e.parentNode,document.createElement("div"),null,a,l,i,r,!0),c=u(e,d.pendingBranch=t.ssContent,n,d,l,i);return d.deps===0&&d.resolve(),c}function $m(e){const{shapeFlag:t,children:n}=e,o=t&32;e.ssContent=Lr(o?n.default:n),e.ssFallback=o?Lr(n.fallback):T(Ut)}function Lr(e){let t;if(Le(e)){const n=Fs&&e._c;n&&(e._d=!1,g()),e=e(),n&&(e._d=!0,t=Jt,ac())}return ke(e)&&(e=cm(e)),e=tn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Pd(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):tr(e)}function ao(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e,a=n.el=t.el;o&&o.subTree===n&&(o.vnode.el=a,nr(o,a))}function zo(e,t){if(Et){let n=Et.provides;const o=Et.parent&&Et.parent.provides;o===n&&(n=Et.provides=Object.create(o)),n[e]=t}}function fn(e,t,n=!1){const o=Et||Mt;if(o){const a=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Le(t)?t.call(o.proxy):t}}function wm(e,t){return pi(e,null,t)}function Md(e,t){return pi(e,null,{flush:"post"})}function _m(e,t){return pi(e,null,{flush:"sync"})}const Fr={};function Tt(e,t,n){return pi(e,t,n)}function pi(e,t,{immediate:n,deep:o,flush:a,onTrack:l,onTrigger:i}=it){const r=Et;let u,d=!1,c=!1;if(kt(e)?(u=()=>e.value,d=ei(e)):Os(e)?(u=()=>e,o=!0):ke(e)?(c=!0,d=e.some($=>Os($)||ei($)),u=()=>e.map($=>{if(kt($))return $.value;if(Os($))return Vs($);if(Le($))return Rn($,r,2)})):Le(e)?t?u=()=>Rn(e,r,2):u=()=>{if(!(r&&r.isUnmounted))return f&&f(),on(e,r,3,[h])}:u=_n,t&&o){const $=u;u=()=>Vs($())}let f,h=$=>{f=w.onStop=()=>{Rn($,r,4)}};if(fo)return h=_n,t?n&&on(t,r,3,[u(),c?[]:void 0,h]):u(),_n;let m=c?[]:Fr;const p=()=>{if(!!w.active)if(t){const $=w.run();(o||d||(c?$.some((b,S)=>ro(b,m[S])):ro($,m)))&&(f&&f(),on(t,r,3,[$,m===Fr?void 0:m,h]),m=$)}else w.run()};p.allowRecurse=!!t;let y;a==="sync"?y=p:a==="post"?y=()=>Vt(p,r&&r.suspense):(p.pre=!0,r&&(p.id=r.uid),y=()=>wa(p));const w=new mi(u,y);return t?n?p():m=w.run():a==="post"?Vt(w.run.bind(w),r&&r.suspense):w.run(),()=>{w.stop(),r&&r.scope&&zl(r.scope.effects,w)}}function Cm(e,t,n){const o=this.proxy,a=vt(e)?e.includes(".")?Ud(o,e):()=>o[e]:e.bind(o,o);let l;Le(t)?l=t:(l=t.handler,n=t);const i=Et;ys(this);const r=pi(a,l.bind(o),n);return i?ys(i):fs(),r}function Ud(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}function Vs(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),kt(e))Vs(e.value,t);else if(ke(e))for(let n=0;n<e.length;n++)Vs(e[n],t);else if(Hs(e)||so(e))e.forEach(n=>{Vs(n,t)});else if(ld(e))for(const n in e)Vs(e[n],t);return e}function or(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nt(()=>{e.isMounted=!0}),Ta(()=>{e.isUnmounting=!0}),e}const rn=[Function,Array],Sm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rn,onEnter:rn,onAfterEnter:rn,onEnterCancelled:rn,onBeforeLeave:rn,onLeave:rn,onAfterLeave:rn,onLeaveCancelled:rn,onBeforeAppear:rn,onAppear:rn,onAfterAppear:rn,onAppearCancelled:rn},setup(e,{slots:t}){const n=Zn(),o=or();let a;return()=>{const l=t.default&&Sa(t.default(),!0);if(!l||!l.length)return;let i=l[0];if(l.length>1){for(const y of l)if(y.type!==Ut){i=y;break}}const r=Ze(e),{mode:u}=r;if(o.isLeaving)return ja(i);const d=Br(i);if(!d)return ja(i);const c=uo(d,r,o,n);Ls(d,c);const f=n.subTree,h=f&&Br(f);let m=!1;const{getTransitionKey:p}=d.type;if(p){const y=p();a===void 0?a=y:y!==a&&(a=y,m=!0)}if(h&&h.type!==Ut&&(!Dn(d,h)||m)){const y=uo(h,r,o,n);if(Ls(h,y),u==="out-in")return o.isLeaving=!0,y.afterLeave=()=>{o.isLeaving=!1,n.update()},ja(i);u==="in-out"&&d.type!==Ut&&(y.delayLeave=(w,$,b)=>{const S=Nd(o,h);S[String(h.key)]=h,w._leaveCb=()=>{$(),w._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=b})}return i}}},ir=Sm;function Nd(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function uo(e,t,n,o){const{appear:a,mode:l,persisted:i=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:y,onAppear:w,onAfterAppear:$,onAppearCancelled:b}=t,S=String(e.key),_=Nd(n,e),I=(R,O)=>{R&&on(R,o,9,O)},E=(R,O)=>{const z=O[1];I(R,O),ke(R)?R.every(K=>K.length<=1)&&z():R.length<=1&&z()},U={mode:l,persisted:i,beforeEnter(R){let O=r;if(!n.isMounted)if(a)O=y||r;else return;R._leaveCb&&R._leaveCb(!0);const z=_[S];z&&Dn(e,z)&&z.el._leaveCb&&z.el._leaveCb(),I(O,[R])},enter(R){let O=u,z=d,K=c;if(!n.isMounted)if(a)O=w||u,z=$||d,K=b||c;else return;let J=!1;const W=R._enterCb=F=>{J||(J=!0,F?I(K,[R]):I(z,[R]),U.delayedLeave&&U.delayedLeave(),R._enterCb=void 0)};O?E(O,[R,W]):W()},leave(R,O){const z=String(e.key);if(R._enterCb&&R._enterCb(!0),n.isUnmounting)return O();I(f,[R]);let K=!1;const J=R._leaveCb=W=>{K||(K=!0,O(),W?I(p,[R]):I(m,[R]),R._leaveCb=void 0,_[z]===e&&delete _[z])};_[z]=e,h?E(h,[R,J]):J()},clone(R){return uo(R,t,n,o)}};return U}function ja(e){if(gi(e))return e=Un(e),e.children=null,e}function Br(e){return gi(e)?e.children?e.children[0]:void 0:e}function Ls(e,t){e.shapeFlag&6&&e.component?Ls(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sa(e,t=!1,n){let o=[],a=0;for(let l=0;l<e.length;l++){let i=e[l];const r=n==null?i.key:String(n)+String(i.key!=null?i.key:l);i.type===Z?(i.patchFlag&128&&a++,o=o.concat(Sa(i.children,t,r))):(t||i.type!==Ut)&&o.push(r!=null?Un(i,{key:r}):i)}if(a>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function de(e){return Le(e)?{setup:e,name:e.name}:e}const Rs=e=>!!e.type.__asyncLoader;function Em(e){Le(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:a=200,timeout:l,suspensible:i=!0,onError:r}=e;let u=null,d,c=0;const f=()=>(c++,u=null,h()),h=()=>{let m;return u||(m=u=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),r)return new Promise((y,w)=>{r(p,()=>y(f()),()=>w(p),c+1)});throw p}).then(p=>m!==u&&u?u:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),d=p,p)))};return de({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return d},setup(){const m=Et;if(d)return()=>Wa(d,m);const p=b=>{u=null,Ws(b,m,13,!o)};if(i&&m.suspense||fo)return h().then(b=>()=>Wa(b,m)).catch(b=>(p(b),()=>o?T(o,{error:b}):null));const y=ve(!1),w=ve(),$=ve(!!a);return a&&setTimeout(()=>{$.value=!1},a),l!=null&&setTimeout(()=>{if(!y.value&&!w.value){const b=new Error(`Async component timed out after ${l}ms.`);p(b),w.value=b}},l),h().then(()=>{y.value=!0,m.parent&&gi(m.parent.vnode)&&wa(m.parent.update)}).catch(b=>{p(b),w.value=b}),()=>{if(y.value&&d)return Wa(d,m);if(w.value&&o)return T(o,{error:w.value});if(n&&!$.value)return T(n)}}})}function Wa(e,{vnode:{ref:t,props:n,children:o,shapeFlag:a},parent:l}){const i=T(e,n,o);return i.ref=t,i}const gi=e=>e.type.__isKeepAlive,km={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Zn(),o=n.ctx;if(!o.renderer)return()=>{const b=t.default&&t.default();return b&&b.length===1?b[0]:b};const a=new Map,l=new Set;let i=null;const r=n.suspense,{renderer:{p:u,m:d,um:c,o:{createElement:f}}}=o,h=f("div");o.activate=(b,S,_,I,E)=>{const U=b.component;d(b,S,_,0,r),u(U.vnode,b,S,_,U,r,I,b.slotScopeIds,E),Vt(()=>{U.isDeactivated=!1,U.a&&oo(U.a);const R=b.props&&b.props.onVnodeMounted;R&&xt(R,U.parent,b)},r)},o.deactivate=b=>{const S=b.component;d(b,h,null,1,r),Vt(()=>{S.da&&oo(S.da);const _=b.props&&b.props.onVnodeUnmounted;_&&xt(_,S.parent,b),S.isDeactivated=!0},r)};function m(b){xa(b),c(b,n,r,!0)}function p(b){a.forEach((S,_)=>{const I=ta(S.type);I&&(!b||!b(I))&&y(_)})}function y(b){const S=a.get(b);!i||S.type!==i.type?m(S):i&&xa(i),a.delete(b),l.delete(b)}Tt(()=>[e.include,e.exclude],([b,S])=>{b&&p(_=>Oo(b,_)),S&&p(_=>!Oo(S,_))},{flush:"post",deep:!0});let w=null;const $=()=>{w!=null&&a.set(w,Ka(n.subTree))};return Nt($),ka($),Ta(()=>{a.forEach(b=>{const{subTree:S,suspense:_}=n,I=Ka(S);if(b.type===I.type){xa(I);const E=I.component.da;E&&Vt(E,_);return}m(b)})}),()=>{if(w=null,!t.default)return null;const b=t.default(),S=b[0];if(b.length>1)return i=null,b;if(!vs(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return i=null,S;let _=Ka(S);const I=_.type,E=ta(Rs(_)?_.type.__asyncResolved||{}:I),{include:U,exclude:R,max:O}=e;if(U&&(!E||!Oo(U,E))||R&&E&&Oo(R,E))return i=_,S;const z=_.key==null?I:_.key,K=a.get(z);return _.el&&(_=Un(_),S.shapeFlag&128&&(S.ssContent=_)),w=z,K?(_.el=K.el,_.component=K.component,_.transition&&Ls(_,_.transition),_.shapeFlag|=512,l.delete(z),l.add(z)):(l.add(z),O&&l.size>parseInt(O,10)&&y(l.values().next().value)),_.shapeFlag|=256,i=_,Rd(S.type)?S:_}}},Tm=km;function Oo(e,t){return ke(e)?e.some(n=>Oo(n,t)):vt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Ld(e,t){Bd(e,"a",t)}function Fd(e,t){Bd(e,"da",t)}function Bd(e,t,n=Et){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Ea(t,o,n),n){let a=n.parent;for(;a&&a.parent;)gi(a.parent.vnode)&&Im(o,t,n,a),a=a.parent}}function Im(e,t,n,o){const a=Ea(t,e,o,!0);Bn(()=>{zl(o[t],a)},n)}function xa(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function Ka(e){return e.shapeFlag&128?e.ssContent:e}function Ea(e,t,n=Et,o=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;zs(),ys(n);const r=on(t,n,e,i);return fs(),js(),r});return o?a.unshift(l):a.push(l),l}}const Qn=e=>(t,n=Et)=>(!fo||e==="sp")&&Ea(e,t,n),Hd=Qn("bm"),Nt=Qn("m"),zd=Qn("bu"),ka=Qn("u"),Ta=Qn("bum"),Bn=Qn("um"),jd=Qn("sp"),Wd=Qn("rtg"),xd=Qn("rtc");function Kd(e,t=Et){Ea("ec",e,t)}function oe(e,t){const n=Mt;if(n===null)return e;const o=Aa(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[i,r,u,d=it]=t[l];Le(i)&&(i={mounted:i,updated:i}),i.deep&&Vs(r),a.push({dir:i,instance:o,value:r,oldValue:void 0,arg:u,modifiers:d})}return e}function Vn(e,t,n,o){const a=e.dirs,l=t&&t.dirs;for(let i=0;i<a.length;i++){const r=a[i];l&&(r.oldValue=l[i].value);let u=r.dir[o];u&&(zs(),on(u,n,8,[e.el,r,e,t]),js())}}const ar="components",Vm="directives";function N(e,t){return lr(ar,e,!0,t)||e}const Jd=Symbol();function Ia(e){return vt(e)?lr(ar,e,!1)||e:e||Jd}function Am(e){return lr(Vm,e)}function lr(e,t,n=!0,o=!1){const a=Mt||Et;if(a){const l=a.type;if(e===ar){const r=ta(l,!1);if(r&&(r===t||r===an(t)||r===hi(an(t))))return l}const i=Hr(a[e]||l[e],t)||Hr(a.appContext[e],t);return!i&&o?l:i}}function Hr(e,t){return e&&(e[t]||e[an(t)]||e[hi(an(t))])}function ue(e,t,n,o){let a;const l=n&&n[o];if(ke(e)||vt(e)){a=new Array(e.length);for(let i=0,r=e.length;i<r;i++)a[i]=t(e[i],i,void 0,l&&l[i])}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,l&&l[i])}else if(dt(e))if(e[Symbol.iterator])a=Array.from(e,(i,r)=>t(i,r,void 0,l&&l[r]));else{const i=Object.keys(e);a=new Array(i.length);for(let r=0,u=i.length;r<u;r++){const d=i[r];a[r]=t(e[d],d,r,l&&l[r])}}else a=[];return n&&(n[o]=a),a}function Dm(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(ke(o))for(let a=0;a<o.length;a++)e[o[a].name]=o[a].fn;else o&&(e[o.name]=o.key?(...a)=>{const l=o.fn(...a);return l.key=o.key,l}:o.fn)}return e}function rr(e,t,n={},o,a){if(Mt.isCE||Mt.parent&&Rs(Mt.parent)&&Mt.parent.isCE)return T("slot",t==="default"?null:{name:t},o&&o());let l=e[t];l&&l._c&&(l._d=!1),g();const i=l&&Gd(l(n)),r=Ae(Z,{key:n.key||i&&i.key||`_${t}`},i||(o?o():[]),i&&e._===1?64:-2);return!a&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),l&&l._c&&(l._d=!0),r}function Gd(e){return e.some(t=>vs(t)?!(t.type===Ut||t.type===Z&&!Gd(t.children)):!0)?e:null}function Yd(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:Bo(o)]=e[o];return n}const pl=e=>e?fc(e)?Aa(e)||e.proxy:pl(e.parent):null,Qi=wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pl(e.parent),$root:e=>pl(e.root),$emit:e=>e.emit,$options:e=>ur(e),$forceUpdate:e=>e.f||(e.f=()=>wa(e.update)),$nextTick:e=>e.n||(e.n=bo.bind(e.proxy)),$watch:e=>Cm.bind(e)}),gl={get({_:e},t){const{ctx:n,setupState:o,data:a,props:l,accessCache:i,type:r,appContext:u}=e;let d;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(o!==it&&et(o,t))return i[t]=1,o[t];if(a!==it&&et(a,t))return i[t]=2,a[t];if((d=e.propsOptions[0])&&et(d,t))return i[t]=3,l[t];if(n!==it&&et(n,t))return i[t]=4,n[t];vl&&(i[t]=0)}}const c=Qi[t];let f,h;if(c)return t==="$attrs"&&ln(e,"get",t),c(e);if((f=r.__cssModules)&&(f=f[t]))return f;if(n!==it&&et(n,t))return i[t]=4,n[t];if(h=u.config.globalProperties,et(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:l}=e;return a!==it&&et(a,t)?(a[t]=n,!0):o!==it&&et(o,t)?(o[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:l}},i){let r;return!!n[i]||e!==it&&et(e,i)||t!==it&&et(t,i)||(r=l[0])&&et(r,i)||et(o,i)||et(Qi,i)||et(a.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Om=wt({},gl,{get(e,t){if(t!==Symbol.unscopables)return gl.get(e,t,e)},has(e,t){return t[0]!=="_"&&!qf(t)}});let vl=!0;function Rm(e){const t=ur(e),n=e.proxy,o=e.ctx;vl=!1,t.beforeCreate&&zr(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:i,watch:r,provide:u,inject:d,created:c,beforeMount:f,mounted:h,beforeUpdate:m,updated:p,activated:y,deactivated:w,beforeDestroy:$,beforeUnmount:b,destroyed:S,unmounted:_,render:I,renderTracked:E,renderTriggered:U,errorCaptured:R,serverPrefetch:O,expose:z,inheritAttrs:K,components:J,directives:W,filters:F}=t;if(d&&Pm(d,o,null,e.appContext.config.unwrapInjectedRef),i)for(const ce in i){const Ce=i[ce];Le(Ce)&&(o[ce]=Ce.bind(n))}if(a){const ce=a.call(n,n);dt(ce)&&(e.data=yo(ce))}if(vl=!0,l)for(const ce in l){const Ce=l[ce],ze=Le(Ce)?Ce.bind(n,n):Le(Ce.get)?Ce.get.bind(n,n):_n,at=!Le(Ce)&&Le(Ce.set)?Ce.set.bind(n):_n,We=Ye({get:ze,set:at});Object.defineProperty(o,ce,{enumerable:!0,configurable:!0,get:()=>We.value,set:q=>We.value=q})}if(r)for(const ce in r)Xd(r[ce],o,n,ce);if(u){const ce=Le(u)?u.call(n):u;Reflect.ownKeys(ce).forEach(Ce=>{zo(Ce,ce[Ce])})}c&&zr(c,e,"c");function Q(ce,Ce){ke(Ce)?Ce.forEach(ze=>ce(ze.bind(n))):Ce&&ce(Ce.bind(n))}if(Q(Hd,f),Q(Nt,h),Q(zd,m),Q(ka,p),Q(Ld,y),Q(Fd,w),Q(Kd,R),Q(xd,E),Q(Wd,U),Q(Ta,b),Q(Bn,_),Q(jd,O),ke(z))if(z.length){const ce=e.exposed||(e.exposed={});z.forEach(Ce=>{Object.defineProperty(ce,Ce,{get:()=>n[Ce],set:ze=>n[Ce]=ze})})}else e.exposed||(e.exposed={});I&&e.render===_n&&(e.render=I),K!=null&&(e.inheritAttrs=K),J&&(e.components=J),W&&(e.directives=W)}function Pm(e,t,n=_n,o=!1){ke(e)&&(e=yl(e));for(const a in e){const l=e[a];let i;dt(l)?"default"in l?i=fn(l.from||a,l.default,!0):i=fn(l.from||a):i=fn(l),kt(i)&&o?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[a]=i}}function zr(e,t,n){on(ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Xd(e,t,n,o){const a=o.includes(".")?Ud(n,o):()=>n[o];if(vt(e)){const l=t[e];Le(l)&&Tt(a,l)}else if(Le(e))Tt(a,e.bind(n));else if(dt(e))if(ke(e))e.forEach(l=>Xd(l,t,n,o));else{const l=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(l)&&Tt(a,l,e)}}function ur(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,r=l.get(t);let u;return r?u=r:!a.length&&!n&&!o?u=t:(u={},a.length&&a.forEach(d=>Zi(u,d,i,!0)),Zi(u,t,i)),dt(t)&&l.set(t,u),u}function Zi(e,t,n,o=!1){const{mixins:a,extends:l}=t;l&&Zi(e,l,n,!0),a&&a.forEach(i=>Zi(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const r=Mm[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const Mm={data:jr,props:Es,emits:Es,methods:Es,computed:Es,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:Es,directives:Es,watch:Nm,provide:jr,inject:Um};function jr(e,t){return t?e?function(){return wt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function Um(e,t){return Es(yl(e),yl(t))}function yl(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function Es(e,t){return e?wt(wt(Object.create(null),e),t):t}function Nm(e,t){if(!e)return t;if(!t)return e;const n=wt(Object.create(null),e);for(const o in t)n[o]=Lt(e[o],t[o]);return n}function Lm(e,t,n,o=!1){const a={},l={};Yi(l,Va,1),e.propsDefaults=Object.create(null),Qd(e,t,a,l);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);n?e.props=o?a:wd(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function Fm(e,t,n,o){const{props:a,attrs:l,vnode:{patchFlag:i}}=e,r=Ze(a),[u]=e.propsOptions;let d=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(_a(e.emitsOptions,h))continue;const m=t[h];if(u)if(et(l,h))m!==l[h]&&(l[h]=m,d=!0);else{const p=an(h);a[p]=bl(u,r,p,m,e,!1)}else m!==l[h]&&(l[h]=m,d=!0)}}}else{Qd(e,t,a,l)&&(d=!0);let c;for(const f in r)(!t||!et(t,f)&&((c=On(f))===f||!et(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=bl(u,r,f,void 0,e,!0)):delete a[f]);if(l!==r)for(const f in l)(!t||!et(t,f)&&!0)&&(delete l[f],d=!0)}d&&Yn(e,"set","$attrs")}function Qd(e,t,n,o){const[a,l]=e.propsOptions;let i=!1,r;if(t)for(let u in t){if(Fo(u))continue;const d=t[u];let c;a&&et(a,c=an(u))?!l||!l.includes(c)?n[c]=d:(r||(r={}))[c]=d:_a(e.emitsOptions,u)||(!(u in o)||d!==o[u])&&(o[u]=d,i=!0)}if(l){const u=Ze(n),d=r||it;for(let c=0;c<l.length;c++){const f=l[c];n[f]=bl(a,u,f,d[f],e,!et(d,f))}}return i}function bl(e,t,n,o,a,l){const i=e[n];if(i!=null){const r=et(i,"default");if(r&&o===void 0){const u=i.default;if(i.type!==Function&&Le(u)){const{propsDefaults:d}=a;n in d?o=d[n]:(ys(a),o=d[n]=u.call(null,t),fs())}else o=u}i[0]&&(l&&!r?o=!1:i[1]&&(o===""||o===On(n))&&(o=!0))}return o}function Zd(e,t,n=!1){const o=t.propsCache,a=o.get(e);if(a)return a;const l=e.props,i={},r=[];let u=!1;if(!Le(e)){const c=f=>{u=!0;const[h,m]=Zd(f,t,!0);wt(i,h),m&&r.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!u)return dt(e)&&o.set(e,no),no;if(ke(l))for(let c=0;c<l.length;c++){const f=an(l[c]);Wr(f)&&(i[f]=it)}else if(l)for(const c in l){const f=an(c);if(Wr(f)){const h=l[c],m=i[f]=ke(h)||Le(h)?{type:h}:h;if(m){const p=Jr(Boolean,m.type),y=Jr(String,m.type);m[0]=p>-1,m[1]=y<0||p<y,(p>-1||et(m,"default"))&&r.push(f)}}}const d=[i,r];return dt(e)&&o.set(e,d),d}function Wr(e){return e[0]!=="$"}function xr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Kr(e,t){return xr(e)===xr(t)}function Jr(e,t){return ke(t)?t.findIndex(n=>Kr(n,e)):Le(t)&&Kr(t,e)?0:-1}const qd=e=>e[0]==="_"||e==="$stable",dr=e=>ke(e)?e.map(tn):[tn(e)],Bm=(e,t,n)=>{if(t._n)return t;const o=ut((...a)=>dr(t(...a)),n);return o._c=!1,o},ec=(e,t,n)=>{const o=e._ctx;for(const a in e){if(qd(a))continue;const l=e[a];if(Le(l))t[a]=Bm(a,l,o);else if(l!=null){const i=dr(l);t[a]=()=>i}}},tc=(e,t)=>{const n=dr(t);e.slots.default=()=>n},Hm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ze(t),Yi(t,"_",n)):ec(t,e.slots={})}else e.slots={},t&&tc(e,t);Yi(e.slots,Va,1)},zm=(e,t,n)=>{const{vnode:o,slots:a}=e;let l=!0,i=it;if(o.shapeFlag&32){const r=t._;r?n&&r===1?l=!1:(wt(a,t),!n&&r===1&&delete a._):(l=!t.$stable,ec(t,a)),i=t}else t&&(tc(e,t),i={default:1});if(l)for(const r in a)!qd(r)&&!(r in i)&&delete a[r]};function nc(){return{app:null,config:{isNativeTag:lh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jm=0;function Wm(e,t){return function(o,a=null){Le(o)||(o=Object.assign({},o)),a!=null&&!dt(a)&&(a=null);const l=nc(),i=new Set;let r=!1;const u=l.app={_uid:jm++,_component:o,_props:a,_container:null,_context:l,_instance:null,version:$c,get config(){return l.config},set config(d){},use(d,...c){return i.has(d)||(d&&Le(d.install)?(i.add(d),d.install(u,...c)):Le(d)&&(i.add(d),d(u,...c))),u},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),u},component(d,c){return c?(l.components[d]=c,u):l.components[d]},directive(d,c){return c?(l.directives[d]=c,u):l.directives[d]},mount(d,c,f){if(!r){const h=T(o,a);return h.appContext=l,c&&t?t(h,d):e(h,d,f),r=!0,u._container=d,d.__vue_app__=u,Aa(h.component)||h.component.proxy}},unmount(){r&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,c){return l.provides[d]=c,u}};return u}}function qi(e,t,n,o,a=!1){if(ke(e)){e.forEach((h,m)=>qi(h,t&&(ke(t)?t[m]:t),n,o,a));return}if(Rs(o)&&!a)return;const l=o.shapeFlag&4?Aa(o.component)||o.component.proxy:o.el,i=a?null:l,{i:r,r:u}=e,d=t&&t.r,c=r.refs===it?r.refs={}:r.refs,f=r.setupState;if(d!=null&&d!==u&&(vt(d)?(c[d]=null,et(f,d)&&(f[d]=null)):kt(d)&&(d.value=null)),Le(u))Rn(u,r,12,[i,c]);else{const h=vt(u),m=kt(u);if(h||m){const p=()=>{if(e.f){const y=h?c[u]:u.value;a?ke(y)&&zl(y,l):ke(y)?y.includes(l)||y.push(l):h?(c[u]=[l],et(f,u)&&(f[u]=c[u])):(u.value=[l],e.k&&(c[e.k]=u.value))}else h?(c[u]=i,et(f,u)&&(f[u]=i)):m&&(u.value=i,e.k&&(c[e.k]=i))};i?(p.id=-1,Vt(p,n)):p()}}}let ns=!1;const Ai=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Di=e=>e.nodeType===8;function xm(e){const{mt:t,p:n,o:{patchProp:o,createText:a,nextSibling:l,parentNode:i,remove:r,insert:u,createComment:d}}=e,c=($,b)=>{if(!b.hasChildNodes()){n(null,$,b),Xi(),b._vnode=$;return}ns=!1,f(b.firstChild,$,null,null,null),Xi(),b._vnode=$,ns&&console.error("Hydration completed but contains mismatches.")},f=($,b,S,_,I,E=!1)=>{const U=Di($)&&$.data==="[",R=()=>y($,b,S,_,I,U),{type:O,ref:z,shapeFlag:K,patchFlag:J}=b,W=$.nodeType;b.el=$,J===-2&&(E=!1,b.dynamicChildren=null);let F=null;switch(O){case co:W!==3?b.children===""?(u(b.el=a(""),i($),$),F=$):F=R():($.data!==b.children&&(ns=!0,$.data=b.children),F=l($));break;case Ut:W!==8||U?F=R():F=l($);break;case Ps:if(W!==1&&W!==3)F=R();else{F=$;const be=!b.children.length;for(let Q=0;Q<b.staticCount;Q++)be&&(b.children+=F.nodeType===1?F.outerHTML:F.data),Q===b.staticCount-1&&(b.anchor=F),F=l(F);return F}break;case Z:U?F=p($,b,S,_,I,E):F=R();break;default:if(K&1)W!==1||b.type.toLowerCase()!==$.tagName.toLowerCase()?F=R():F=h($,b,S,_,I,E);else if(K&6){b.slotScopeIds=I;const be=i($);if(t(b,be,null,S,_,Ai(be),E),F=U?w($):l($),F&&Di(F)&&F.data==="teleport end"&&(F=l(F)),Rs(b)){let Q;U?(Q=T(Z),Q.anchor=F?F.previousSibling:be.lastChild):Q=$.nodeType===3?V(""):T("div"),Q.el=$,b.component.subTree=Q}}else K&64?W!==8?F=R():F=b.type.hydrate($,b,S,_,I,E,e,m):K&128&&(F=b.type.hydrate($,b,S,_,Ai(i($)),I,E,e,f))}return z!=null&&qi(z,null,_,b),F},h=($,b,S,_,I,E)=>{E=E||!!b.dynamicChildren;const{type:U,props:R,patchFlag:O,shapeFlag:z,dirs:K}=b,J=U==="input"&&K||U==="option";if(J||O!==-1){if(K&&Vn(b,null,S,"created"),R)if(J||!E||O&48)for(const F in R)(J&&F.endsWith("value")||ci(F)&&!Fo(F))&&o($,F,null,R[F],!1,void 0,S);else R.onClick&&o($,"onClick",null,R.onClick,!1,void 0,S);let W;if((W=R&&R.onVnodeBeforeMount)&&xt(W,S,b),K&&Vn(b,null,S,"beforeMount"),((W=R&&R.onVnodeMounted)||K)&&Pd(()=>{W&&xt(W,S,b),K&&Vn(b,null,S,"mounted")},_),z&16&&!(R&&(R.innerHTML||R.textContent))){let F=m($.firstChild,b,$,S,_,I,E);for(;F;){ns=!0;const be=F;F=F.nextSibling,r(be)}}else z&8&&$.textContent!==b.children&&(ns=!0,$.textContent=b.children)}return $.nextSibling},m=($,b,S,_,I,E,U)=>{U=U||!!b.dynamicChildren;const R=b.children,O=R.length;for(let z=0;z<O;z++){const K=U?R[z]:R[z]=tn(R[z]);if($)$=f($,K,_,I,E,U);else{if(K.type===co&&!K.children)continue;ns=!0,n(null,K,S,null,_,I,Ai(S),E)}}return $},p=($,b,S,_,I,E)=>{const{slotScopeIds:U}=b;U&&(I=I?I.concat(U):U);const R=i($),O=m(l($),b,R,S,_,I,E);return O&&Di(O)&&O.data==="]"?l(b.anchor=O):(ns=!0,u(b.anchor=d("]"),R,O),O)},y=($,b,S,_,I,E)=>{if(ns=!0,b.el=null,E){const O=w($);for(;;){const z=l($);if(z&&z!==O)r(z);else break}}const U=l($),R=i($);return r($),n(null,b,R,U,S,_,Ai(R),I),U},w=$=>{let b=0;for(;$;)if($=l($),$&&Di($)&&($.data==="["&&b++,$.data==="]")){if(b===0)return l($);b--}return $};return[c,f]}const Vt=Pd;function sc(e){return ic(e)}function oc(e){return ic(e,xm)}function ic(e,t){const n=hh();n.__VUE__=!0;const{insert:o,remove:a,patchProp:l,createElement:i,createText:r,createComment:u,setText:d,setElementText:c,parentNode:f,nextSibling:h,setScopeId:m=_n,cloneNode:p,insertStaticContent:y}=e,w=(C,k,L,j=null,G=null,ae=null,pe=!1,ne=null,le=!!k.dynamicChildren)=>{if(C===k)return;C&&!Dn(C,k)&&(j=se(C),ge(C,G,ae,!0),C=null),k.patchFlag===-2&&(le=!1,k.dynamicChildren=null);const{type:ee,ref:Te,shapeFlag:we}=k;switch(ee){case co:$(C,k,L,j);break;case Ut:b(C,k,L,j);break;case Ps:C==null&&S(k,L,j,pe);break;case Z:W(C,k,L,j,G,ae,pe,ne,le);break;default:we&1?E(C,k,L,j,G,ae,pe,ne,le):we&6?F(C,k,L,j,G,ae,pe,ne,le):(we&64||we&128)&&ee.process(C,k,L,j,G,ae,pe,ne,le,re)}Te!=null&&G&&qi(Te,C&&C.ref,ae,k||C,!k)},$=(C,k,L,j)=>{if(C==null)o(k.el=r(k.children),L,j);else{const G=k.el=C.el;k.children!==C.children&&d(G,k.children)}},b=(C,k,L,j)=>{C==null?o(k.el=u(k.children||""),L,j):k.el=C.el},S=(C,k,L,j)=>{[C.el,C.anchor]=y(C.children,k,L,j,C.el,C.anchor)},_=({el:C,anchor:k},L,j)=>{let G;for(;C&&C!==k;)G=h(C),o(C,L,j),C=G;o(k,L,j)},I=({el:C,anchor:k})=>{let L;for(;C&&C!==k;)L=h(C),a(C),C=L;a(k)},E=(C,k,L,j,G,ae,pe,ne,le)=>{pe=pe||k.type==="svg",C==null?U(k,L,j,G,ae,pe,ne,le):z(C,k,G,ae,pe,ne,le)},U=(C,k,L,j,G,ae,pe,ne)=>{let le,ee;const{type:Te,props:we,shapeFlag:Ie,transition:Re,patchFlag:Je,dirs:tt}=C;if(C.el&&p!==void 0&&Je===-1)le=C.el=p(C.el);else{if(le=C.el=i(C.type,ae,we&&we.is,we),Ie&8?c(le,C.children):Ie&16&&O(C.children,le,null,j,G,ae&&Te!=="foreignObject",pe,ne),tt&&Vn(C,null,j,"created"),we){for(const D in we)D!=="value"&&!Fo(D)&&l(le,D,null,we[D],ae,C.children,j,G,x);"value"in we&&l(le,"value",null,we.value),(ee=we.onVnodeBeforeMount)&&xt(ee,j,C)}R(le,C,C.scopeId,pe,j)}tt&&Vn(C,null,j,"beforeMount");const A=(!G||G&&!G.pendingBranch)&&Re&&!Re.persisted;A&&Re.beforeEnter(le),o(le,k,L),((ee=we&&we.onVnodeMounted)||A||tt)&&Vt(()=>{ee&&xt(ee,j,C),A&&Re.enter(le),tt&&Vn(C,null,j,"mounted")},G)},R=(C,k,L,j,G)=>{if(L&&m(C,L),j)for(let ae=0;ae<j.length;ae++)m(C,j[ae]);if(G){let ae=G.subTree;if(k===ae){const pe=G.vnode;R(C,pe,pe.scopeId,pe.slotScopeIds,G.parent)}}},O=(C,k,L,j,G,ae,pe,ne,le=0)=>{for(let ee=le;ee<C.length;ee++){const Te=C[ee]=ne?as(C[ee]):tn(C[ee]);w(null,Te,k,L,j,G,ae,pe,ne)}},z=(C,k,L,j,G,ae,pe)=>{const ne=k.el=C.el;let{patchFlag:le,dynamicChildren:ee,dirs:Te}=k;le|=C.patchFlag&16;const we=C.props||it,Ie=k.props||it;let Re;L&&$s(L,!1),(Re=Ie.onVnodeBeforeUpdate)&&xt(Re,L,k,C),Te&&Vn(k,C,L,"beforeUpdate"),L&&$s(L,!0);const Je=G&&k.type!=="foreignObject";if(ee?K(C.dynamicChildren,ee,ne,L,j,Je,ae):pe||ze(C,k,ne,null,L,j,Je,ae,!1),le>0){if(le&16)J(ne,k,we,Ie,L,j,G);else if(le&2&&we.class!==Ie.class&&l(ne,"class",null,Ie.class,G),le&4&&l(ne,"style",we.style,Ie.style,G),le&8){const tt=k.dynamicProps;for(let A=0;A<tt.length;A++){const D=tt[A],B=we[D],te=Ie[D];(te!==B||D==="value")&&l(ne,D,B,te,G,C.children,L,j,x)}}le&1&&C.children!==k.children&&c(ne,k.children)}else!pe&&ee==null&&J(ne,k,we,Ie,L,j,G);((Re=Ie.onVnodeUpdated)||Te)&&Vt(()=>{Re&&xt(Re,L,k,C),Te&&Vn(k,C,L,"updated")},j)},K=(C,k,L,j,G,ae,pe)=>{for(let ne=0;ne<k.length;ne++){const le=C[ne],ee=k[ne],Te=le.el&&(le.type===Z||!Dn(le,ee)||le.shapeFlag&70)?f(le.el):L;w(le,ee,Te,null,j,G,ae,pe,!0)}},J=(C,k,L,j,G,ae,pe)=>{if(L!==j){for(const ne in j){if(Fo(ne))continue;const le=j[ne],ee=L[ne];le!==ee&&ne!=="value"&&l(C,ne,ee,le,pe,k.children,G,ae,x)}if(L!==it)for(const ne in L)!Fo(ne)&&!(ne in j)&&l(C,ne,L[ne],null,pe,k.children,G,ae,x);"value"in j&&l(C,"value",L.value,j.value)}},W=(C,k,L,j,G,ae,pe,ne,le)=>{const ee=k.el=C?C.el:r(""),Te=k.anchor=C?C.anchor:r("");let{patchFlag:we,dynamicChildren:Ie,slotScopeIds:Re}=k;Re&&(ne=ne?ne.concat(Re):Re),C==null?(o(ee,L,j),o(Te,L,j),O(k.children,L,Te,G,ae,pe,ne,le)):we>0&&we&64&&Ie&&C.dynamicChildren?(K(C.dynamicChildren,Ie,L,G,ae,pe,ne),(k.key!=null||G&&k===G.subTree)&&cr(C,k,!0)):ze(C,k,L,Te,G,ae,pe,ne,le)},F=(C,k,L,j,G,ae,pe,ne,le)=>{k.slotScopeIds=ne,C==null?k.shapeFlag&512?G.ctx.activate(k,L,j,pe,le):be(k,L,j,G,ae,pe,le):Q(C,k,le)},be=(C,k,L,j,G,ae,pe)=>{const ne=C.component=cc(C,j,G);if(gi(C)&&(ne.ctx.renderer=re),hc(ne),ne.asyncDep){if(G&&G.registerDep(ne,ce),!C.el){const le=ne.subTree=T(Ut);b(null,le,k,L)}return}ce(ne,C,k,L,G,ae,pe)},Q=(C,k,L)=>{const j=k.component=C.component;if(mm(C,k,L))if(j.asyncDep&&!j.asyncResolved){Ce(j,k,L);return}else j.next=k,lm(j.update),j.update();else k.el=C.el,j.vnode=k},ce=(C,k,L,j,G,ae,pe)=>{const ne=()=>{if(C.isMounted){let{next:Te,bu:we,u:Ie,parent:Re,vnode:Je}=C,tt=Te,A;$s(C,!1),Te?(Te.el=Je.el,Ce(C,Te,pe)):Te=Je,we&&oo(we),(A=Te.props&&Te.props.onVnodeBeforeUpdate)&&xt(A,Re,Te,Je),$s(C,!0);const D=Bi(C),B=C.subTree;C.subTree=D,w(B,D,f(B.el),se(B),C,G,ae),Te.el=D.el,tt===null&&nr(C,D.el),Ie&&Vt(Ie,G),(A=Te.props&&Te.props.onVnodeUpdated)&&Vt(()=>xt(A,Re,Te,Je),G)}else{let Te;const{el:we,props:Ie}=k,{bm:Re,m:Je,parent:tt}=C,A=Rs(k);if($s(C,!1),Re&&oo(Re),!A&&(Te=Ie&&Ie.onVnodeBeforeMount)&&xt(Te,tt,k),$s(C,!0),we&&Se){const D=()=>{C.subTree=Bi(C),Se(we,C.subTree,C,G,null)};A?k.type.__asyncLoader().then(()=>!C.isUnmounted&&D()):D()}else{const D=C.subTree=Bi(C);w(null,D,L,j,C,G,ae),k.el=D.el}if(Je&&Vt(Je,G),!A&&(Te=Ie&&Ie.onVnodeMounted)){const D=k;Vt(()=>xt(Te,tt,D),G)}(k.shapeFlag&256||tt&&Rs(tt.vnode)&&tt.vnode.shapeFlag&256)&&C.a&&Vt(C.a,G),C.isMounted=!0,k=L=j=null}},le=C.effect=new mi(ne,()=>wa(ee),C.scope),ee=C.update=()=>le.run();ee.id=C.uid,$s(C,!0),ee()},Ce=(C,k,L)=>{k.component=C;const j=C.vnode.props;C.vnode=k,C.next=null,Fm(C,k.props,j,L),zm(C,k.children,L),zs(),Ur(),js()},ze=(C,k,L,j,G,ae,pe,ne,le=!1)=>{const ee=C&&C.children,Te=C?C.shapeFlag:0,we=k.children,{patchFlag:Ie,shapeFlag:Re}=k;if(Ie>0){if(Ie&128){We(ee,we,L,j,G,ae,pe,ne,le);return}else if(Ie&256){at(ee,we,L,j,G,ae,pe,ne,le);return}}Re&8?(Te&16&&x(ee,G,ae),we!==ee&&c(L,we)):Te&16?Re&16?We(ee,we,L,j,G,ae,pe,ne,le):x(ee,G,ae,!0):(Te&8&&c(L,""),Re&16&&O(we,L,j,G,ae,pe,ne,le))},at=(C,k,L,j,G,ae,pe,ne,le)=>{C=C||no,k=k||no;const ee=C.length,Te=k.length,we=Math.min(ee,Te);let Ie;for(Ie=0;Ie<we;Ie++){const Re=k[Ie]=le?as(k[Ie]):tn(k[Ie]);w(C[Ie],Re,L,null,G,ae,pe,ne,le)}ee>Te?x(C,G,ae,!0,!1,we):O(k,L,j,G,ae,pe,ne,le,we)},We=(C,k,L,j,G,ae,pe,ne,le)=>{let ee=0;const Te=k.length;let we=C.length-1,Ie=Te-1;for(;ee<=we&&ee<=Ie;){const Re=C[ee],Je=k[ee]=le?as(k[ee]):tn(k[ee]);if(Dn(Re,Je))w(Re,Je,L,null,G,ae,pe,ne,le);else break;ee++}for(;ee<=we&&ee<=Ie;){const Re=C[we],Je=k[Ie]=le?as(k[Ie]):tn(k[Ie]);if(Dn(Re,Je))w(Re,Je,L,null,G,ae,pe,ne,le);else break;we--,Ie--}if(ee>we){if(ee<=Ie){const Re=Ie+1,Je=Re<Te?k[Re].el:j;for(;ee<=Ie;)w(null,k[ee]=le?as(k[ee]):tn(k[ee]),L,Je,G,ae,pe,ne,le),ee++}}else if(ee>Ie)for(;ee<=we;)ge(C[ee],G,ae,!0),ee++;else{const Re=ee,Je=ee,tt=new Map;for(ee=Je;ee<=Ie;ee++){const Fe=k[ee]=le?as(k[ee]):tn(k[ee]);Fe.key!=null&&tt.set(Fe.key,ee)}let A,D=0;const B=Ie-Je+1;let te=!1,_e=0;const Oe=new Array(B);for(ee=0;ee<B;ee++)Oe[ee]=0;for(ee=Re;ee<=we;ee++){const Fe=C[ee];if(D>=B){ge(Fe,G,ae,!0);continue}let st;if(Fe.key!=null)st=tt.get(Fe.key);else for(A=Je;A<=Ie;A++)if(Oe[A-Je]===0&&Dn(Fe,k[A])){st=A;break}st===void 0?ge(Fe,G,ae,!0):(Oe[st-Je]=ee+1,st>=_e?_e=st:te=!0,w(Fe,k[st],L,null,G,ae,pe,ne,le),D++)}const Be=te?Km(Oe):no;for(A=Be.length-1,ee=B-1;ee>=0;ee--){const Fe=Je+ee,st=k[Fe],Me=Fe+1<Te?k[Fe+1].el:j;Oe[ee]===0?w(null,st,L,Me,G,ae,pe,ne,le):te&&(A<0||ee!==Be[A]?q(st,L,Me,2):A--)}}},q=(C,k,L,j,G=null)=>{const{el:ae,type:pe,transition:ne,children:le,shapeFlag:ee}=C;if(ee&6){q(C.component.subTree,k,L,j);return}if(ee&128){C.suspense.move(k,L,j);return}if(ee&64){pe.move(C,k,L,re);return}if(pe===Z){o(ae,k,L);for(let we=0;we<le.length;we++)q(le[we],k,L,j);o(C.anchor,k,L);return}if(pe===Ps){_(C,k,L);return}if(j!==2&&ee&1&&ne)if(j===0)ne.beforeEnter(ae),o(ae,k,L),Vt(()=>ne.enter(ae),G);else{const{leave:we,delayLeave:Ie,afterLeave:Re}=ne,Je=()=>o(ae,k,L),tt=()=>{we(ae,()=>{Je(),Re&&Re()})};Ie?Ie(ae,Je,tt):tt()}else o(ae,k,L)},ge=(C,k,L,j=!1,G=!1)=>{const{type:ae,props:pe,ref:ne,children:le,dynamicChildren:ee,shapeFlag:Te,patchFlag:we,dirs:Ie}=C;if(ne!=null&&qi(ne,null,L,C,!0),Te&256){k.ctx.deactivate(C);return}const Re=Te&1&&Ie,Je=!Rs(C);let tt;if(Je&&(tt=pe&&pe.onVnodeBeforeUnmount)&&xt(tt,k,C),Te&6)X(C.component,L,j);else{if(Te&128){C.suspense.unmount(L,j);return}Re&&Vn(C,null,k,"beforeUnmount"),Te&64?C.type.remove(C,k,L,G,re,j):ee&&(ae!==Z||we>0&&we&64)?x(ee,k,L,!1,!0):(ae===Z&&we&384||!G&&Te&16)&&x(le,k,L),j&&me(C)}(Je&&(tt=pe&&pe.onVnodeUnmounted)||Re)&&Vt(()=>{tt&&xt(tt,k,C),Re&&Vn(C,null,k,"unmounted")},L)},me=C=>{const{type:k,el:L,anchor:j,transition:G}=C;if(k===Z){P(L,j);return}if(k===Ps){I(C);return}const ae=()=>{a(L),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(C.shapeFlag&1&&G&&!G.persisted){const{leave:pe,delayLeave:ne}=G,le=()=>pe(L,ae);ne?ne(C.el,ae,le):le()}else ae()},P=(C,k)=>{let L;for(;C!==k;)L=h(C),a(C),C=L;a(k)},X=(C,k,L)=>{const{bum:j,scope:G,update:ae,subTree:pe,um:ne}=C;j&&oo(j),G.stop(),ae&&(ae.active=!1,ge(pe,C,k,L)),ne&&Vt(ne,k),Vt(()=>{C.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},x=(C,k,L,j=!1,G=!1,ae=0)=>{for(let pe=ae;pe<C.length;pe++)ge(C[pe],k,L,j,G)},se=C=>C.shapeFlag&6?se(C.component.subTree):C.shapeFlag&128?C.suspense.next():h(C.anchor||C.el),H=(C,k,L)=>{C==null?k._vnode&&ge(k._vnode,null,null,!0):w(k._vnode||null,C,k,null,null,null,L),Ur(),Xi(),k._vnode=C},re={p:w,um:ge,m:q,r:me,mt:be,mc:O,pc:ze,pbc:K,n:se,o:e};let ye,Se;return t&&([ye,Se]=t(re)),{render:H,hydrate:ye,createApp:Wm(H,ye)}}function $s({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function cr(e,t,n=!1){const o=e.children,a=t.children;if(ke(o)&&ke(a))for(let l=0;l<o.length;l++){const i=o[l];let r=a[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=a[l]=as(a[l]),r.el=i.el),n||cr(i,r))}}function Km(e){const t=e.slice(),n=[0];let o,a,l,i,r;const u=e.length;for(o=0;o<u;o++){const d=e[o];if(d!==0){if(a=n[n.length-1],e[a]<d){t[o]=a,n.push(o);continue}for(l=0,i=n.length-1;l<i;)r=l+i>>1,e[n[r]]<d?l=r+1:i=r;d<e[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,i=n[l-1];l-- >0;)n[l]=i,i=t[i];return n}const Jm=e=>e.__isTeleport,jo=e=>e&&(e.disabled||e.disabled===""),Gr=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,$l=(e,t)=>{const n=e&&e.to;return vt(n)?t?t(n):null:n},Gm={__isTeleport:!0,process(e,t,n,o,a,l,i,r,u,d){const{mc:c,pc:f,pbc:h,o:{insert:m,querySelector:p,createText:y,createComment:w}}=d,$=jo(t.props);let{shapeFlag:b,children:S,dynamicChildren:_}=t;if(e==null){const I=t.el=y(""),E=t.anchor=y("");m(I,n,o),m(E,n,o);const U=t.target=$l(t.props,p),R=t.targetAnchor=y("");U&&(m(R,U),i=i||Gr(U));const O=(z,K)=>{b&16&&c(S,z,K,a,l,i,r,u)};$?O(n,E):U&&O(U,R)}else{t.el=e.el;const I=t.anchor=e.anchor,E=t.target=e.target,U=t.targetAnchor=e.targetAnchor,R=jo(e.props),O=R?n:E,z=R?I:U;if(i=i||Gr(E),_?(h(e.dynamicChildren,_,O,a,l,i,r),cr(e,t,!0)):u||f(e,t,O,z,a,l,i,r,!1),$)R||Oi(t,n,I,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=$l(t.props,p);K&&Oi(t,K,null,d,0)}else R&&Oi(t,E,U,d,1)}},remove(e,t,n,o,{um:a,o:{remove:l}},i){const{shapeFlag:r,children:u,anchor:d,targetAnchor:c,target:f,props:h}=e;if(f&&l(c),(i||!jo(h))&&(l(d),r&16))for(let m=0;m<u.length;m++){const p=u[m];a(p,t,n,!0,!!p.dynamicChildren)}},move:Oi,hydrate:Ym};function Oi(e,t,n,{o:{insert:o},m:a},l=2){l===0&&o(e.targetAnchor,t,n);const{el:i,anchor:r,shapeFlag:u,children:d,props:c}=e,f=l===2;if(f&&o(i,t,n),(!f||jo(c))&&u&16)for(let h=0;h<d.length;h++)a(d[h],t,n,2);f&&o(r,t,n)}function Ym(e,t,n,o,a,l,{o:{nextSibling:i,parentNode:r,querySelector:u}},d){const c=t.target=$l(t.props,u);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(jo(t.props))t.anchor=d(i(e),t,r(e),n,o,a,l),t.targetAnchor=f;else{t.anchor=i(e);let h=f;for(;h;)if(h=i(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&i(t.targetAnchor);break}d(f,t,c,n,o,a,l)}}return t.anchor&&i(t.anchor)}const Xm=Gm,Z=Symbol(void 0),co=Symbol(void 0),Ut=Symbol(void 0),Ps=Symbol(void 0),Wo=[];let Jt=null;function g(e=!1){Wo.push(Jt=e?null:[])}function ac(){Wo.pop(),Jt=Wo[Wo.length-1]||null}let Fs=1;function wl(e){Fs+=e}function lc(e){return e.dynamicChildren=Fs>0?Jt||no:null,ac(),Fs>0&&Jt&&Jt.push(e),e}function v(e,t,n,o,a,l){return lc(s(e,t,n,o,a,l,!0))}function Ae(e,t,n,o,a){return lc(T(e,t,n,o,a,!0))}function vs(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}function Qm(e){}const Va="__vInternal",rc=({key:e})=>e!=null?e:null,Hi=({ref:e,ref_key:t,ref_for:n})=>e!=null?vt(e)||kt(e)||Le(e)?{i:Mt,r:e,k:t,f:!!n}:e:null;function s(e,t=null,n=null,o=0,a=null,l=e===Z?0:1,i=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rc(t),ref:t&&Hi(t),scopeId:Ca,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null};return r?(fr(u,n),l&128&&e.normalize(u)):n&&(u.shapeFlag|=vt(n)?8:16),Fs>0&&!i&&Jt&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&Jt.push(u),u}const T=Zm;function Zm(e,t=null,n=null,o=0,a=null,l=!1){if((!e||e===Jd)&&(e=Ut),vs(e)){const r=Un(e,t,!0);return n&&fr(r,n),Fs>0&&!l&&Jt&&(r.shapeFlag&6?Jt[Jt.indexOf(e)]=r:Jt.push(r)),r.patchFlag|=-2,r}if(lp(e)&&(e=e.__vccOpts),t){t=uc(t);let{class:r,style:u}=t;r&&!vt(r)&&(t.class=De(r)),dt(u)&&(Yl(u)&&!ke(u)&&(u=wt({},u)),t.style=rt(u))}const i=vt(e)?1:Rd(e)?128:Jm(e)?64:dt(e)?4:Le(e)?2:0;return s(e,t,n,o,a,i,l,!0)}function uc(e){return e?Yl(e)||Va in e?wt({},e):e:null}function Un(e,t,n=!1){const{props:o,ref:a,patchFlag:l,children:i}=e,r=t?vi(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&rc(r),ref:t&&t.ref?n&&a?ke(a)?a.concat(Hi(t)):[a,Hi(t)]:Hi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Z?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor}}function V(e=" ",t=0){return T(co,null,e,t)}function dc(e,t){const n=T(Ps,null,e);return n.staticCount=t,n}function M(e="",t=!1){return t?(g(),Ae(Ut,null,e)):T(Ut,null,e)}function tn(e){return e==null||typeof e=="boolean"?T(Ut):ke(e)?T(Z,null,e.slice()):typeof e=="object"?as(e):T(co,null,String(e))}function as(e){return e.el===null||e.memo?e:Un(e)}function fr(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),fr(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Va in t)?t._ctx=Mt:a===3&&Mt&&(Mt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:Mt},n=32):(t=String(t),o&64?(n=16,t=[V(t)]):n=8);e.children=t,e.shapeFlag|=n}function vi(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=De([t.class,o.class]));else if(a==="style")t.style=rt([t.style,o.style]);else if(ci(a)){const l=t[a],i=o[a];i&&l!==i&&!(ke(l)&&l.includes(i))&&(t[a]=l?[].concat(l,i):i)}else a!==""&&(t[a]=o[a])}return t}function xt(e,t,n,o=null){on(e,t,7,[n,o])}const qm=nc();let ep=0;function cc(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||qm,l={uid:ep++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new xl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zd(o,a),emitsOptions:Od(o,a),emit:null,emitted:null,propsDefaults:it,inheritAttrs:o.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=um.bind(null,l),e.ce&&e.ce(l),l}let Et=null;const Zn=()=>Et||Mt,ys=e=>{Et=e,e.scope.on()},fs=()=>{Et&&Et.scope.off(),Et=null};function fc(e){return e.vnode.shapeFlag&4}let fo=!1;function hc(e,t=!1){fo=t;const{props:n,children:o}=e.vnode,a=fc(e);Lm(e,n,a,t),Hm(e,o);const l=a?tp(e,t):void 0;return fo=!1,l}function tp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Xl(new Proxy(e.ctx,gl));const{setup:o}=n;if(o){const a=e.setupContext=o.length>1?pc(e):null;ys(e),zs();const l=Rn(o,e,0,[e.props,a]);if(js(),fs(),jl(l)){if(l.then(fs,fs),t)return l.then(i=>{_l(e,i,t)}).catch(i=>{Ws(i,e,0)});e.asyncDep=l}else _l(e,l,t)}else mc(e,t)}function _l(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=ql(t)),mc(e,n)}let ea,Cl;function np(e){ea=e,Cl=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Om))}}const sp=()=>!ea;function mc(e,t,n){const o=e.type;if(!e.render){if(!t&&ea&&!o.render){const a=o.template||ur(e).template;if(a){const{isCustomElement:l,compilerOptions:i}=e.appContext.config,{delimiters:r,compilerOptions:u}=o,d=wt(wt({isCustomElement:l,delimiters:r},i),u);o.render=ea(a,d)}}e.render=o.render||_n,Cl&&Cl(e)}ys(e),zs(),Rm(e),js(),fs()}function op(e){return new Proxy(e.attrs,{get(t,n){return ln(e,"get","$attrs"),t[n]}})}function pc(e){const t=o=>{e.exposed=o||{}};let n;return{get attrs(){return n||(n=op(e))},slots:e.slots,emit:e.emit,expose:t}}function Aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ql(Xl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qi)return Qi[n](e)}}))}const ip=/(?:^|[-_])(\w)/g,ap=e=>e.replace(ip,t=>t.toUpperCase()).replace(/[-_]/g,"");function ta(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function gc(e,t,n=!1){let o=ta(t);if(!o&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(o=a[1])}if(!o&&e&&e.parent){const a=l=>{for(const i in l)if(l[i]===t)return i};o=a(e.components||e.parent.type.components)||a(e.appContext.components)}return o?ap(o):n?"App":"Anonymous"}function lp(e){return Le(e)&&"__vccOpts"in e}const Ye=(e,t)=>em(e,t,fo);function rp(){return null}function up(){return null}function dp(e){}function cp(e,t){return null}function fp(){return vc().slots}function hp(){return vc().attrs}function vc(){const e=Zn();return e.setupContext||(e.setupContext=pc(e))}function mp(e,t){const n=ke(e)?e.reduce((o,a)=>(o[a]={},o),{}):e;for(const o in t){const a=n[o];a?ke(a)||Le(a)?n[o]={type:a,default:t[o]}:a.default=t[o]:a===null&&(n[o]={default:t[o]})}return n}function pp(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}function gp(e){const t=Zn();let n=e();return fs(),jl(n)&&(n=n.catch(o=>{throw ys(t),o})),[n,()=>ys(t)]}function Da(e,t,n){const o=arguments.length;return o===2?dt(t)&&!ke(t)?vs(t)?T(e,null,[t]):T(e,t):T(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&vs(n)&&(n=[n]),T(e,t,n))}const yc=Symbol(""),vp=()=>{{const e=fn(yc);return e||kd("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function yp(){}function bp(e,t,n,o){const a=n[o];if(a&&bc(a,e))return a;const l=t();return l.memo=e.slice(),n[o]=l}function bc(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(ro(n[o],t[o]))return!1;return Fs>0&&Jt&&Jt.push(e),!0}const $c="3.2.39",$p={createComponentInstance:cc,setupComponent:hc,renderComponentRoot:Bi,setCurrentRenderingInstance:oi,isVNode:vs,normalizeVNode:tn},wp=$p,_p=null,Cp=null,Sp="http://www.w3.org/2000/svg",Is=typeof document!="undefined"?document:null,Yr=Is&&Is.createElement("template"),Ep={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t?Is.createElementNS(Sp,e):Is.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>Is.createTextNode(e),createComment:e=>Is.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Is.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,o,a,l){const i=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Yr.innerHTML=o?`<svg>${e}</svg>`:e;const r=Yr.content;if(o){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function kp(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Tp(e,t,n){const o=e.style,a=vt(n);if(n&&!a){for(const l in n)Sl(o,l,n[l]);if(t&&!vt(t))for(const l in t)n[l]==null&&Sl(o,l,"")}else{const l=o.display;a?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=l)}}const Xr=/\s*!important$/;function Sl(e,t,n){if(ke(n))n.forEach(o=>Sl(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Ip(e,t);Xr.test(n)?e.setProperty(On(o),n.replace(Xr,""),"important"):e[o]=n}}const Qr=["Webkit","Moz","ms"],Ja={};function Ip(e,t){const n=Ja[t];if(n)return n;let o=an(t);if(o!=="filter"&&o in e)return Ja[t]=o;o=hi(o);for(let a=0;a<Qr.length;a++){const l=Qr[a]+o;if(l in e)return Ja[t]=l}return t}const Zr="http://www.w3.org/1999/xlink";function Vp(e,t,n,o,a){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Zr,t.slice(6,t.length)):e.setAttributeNS(Zr,t,n);else{const l=th(t);n==null||l&&!od(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function Ap(e,t,n,o,a,l,i){if(t==="innerHTML"||t==="textContent"){o&&i(o,a,l),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=od(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}const[wc,Dp]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let El=0;const Op=Promise.resolve(),Rp=()=>{El=0},Pp=()=>El||(Op.then(Rp),El=wc());function Kn(e,t,n,o){e.addEventListener(t,n,o)}function Mp(e,t,n,o){e.removeEventListener(t,n,o)}function Up(e,t,n,o,a=null){const l=e._vei||(e._vei={}),i=l[t];if(o&&i)i.value=o;else{const[r,u]=Np(t);if(o){const d=l[t]=Lp(o,a);Kn(e,r,d,u)}else i&&(Mp(e,r,i,u),l[t]=void 0)}}const qr=/(?:Once|Passive|Capture)$/;function Np(e){let t;if(qr.test(e)){t={};let o;for(;o=e.match(qr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):On(e.slice(2)),t]}function Lp(e,t){const n=o=>{const a=o.timeStamp||wc();(Dp||a>=n.attached-1)&&on(Fp(o,n.value),t,5,[o])};return n.value=e,n.attached=Pp(),n}function Fp(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const eu=/^on[a-z]/,Bp=(e,t,n,o,a=!1,l,i,r,u)=>{t==="class"?kp(e,o,a):t==="style"?Tp(e,n,o):ci(t)?Hl(t)||Up(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hp(e,t,o,a))?Ap(e,t,o,l,i,r,u):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Vp(e,t,o,a))};function Hp(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&eu.test(t)&&Le(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||eu.test(t)&&vt(n)?!1:t in e}function _c(e,t){const n=de(e);class o extends Oa{constructor(l){super(n,l,t)}}return o.def=n,o}const zp=e=>_c(e,Uc),jp=typeof HTMLElement!="undefined"?HTMLElement:class{};class Oa extends jp{constructor(t,n={},o){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,bo(()=>{this._connected||(Tl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const a of o)this._setAttr(a.attributeName)}).observe(this,{attributes:!0});const t=o=>{const{props:a,styles:l}=o,i=!ke(a),r=a?i?Object.keys(a):a:[];let u;if(i)for(const d in this._props){const c=a[d];(c===Number||c&&c.type===Number)&&(this._props[d]=ps(this._props[d]),(u||(u=Object.create(null)))[d]=!0)}this._numberProps=u;for(const d of Object.keys(this))d[0]!=="_"&&this._setProp(d,this[d],!0,!1);for(const d of r.map(an))Object.defineProperty(this,d,{get(){return this._getProp(d)},set(c){this._setProp(d,c)}});this._applyStyles(l),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=ps(n)),this._setProp(an(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,o=!0,a=!0){n!==this._props[t]&&(this._props[t]=n,a&&this._instance&&this._update(),o&&(n===!0?this.setAttribute(On(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(On(t),n+""):n||this.removeAttribute(On(t))))}_update(){Tl(this._createVNode(),this.shadowRoot)}_createVNode(){const t=T(this._def,wt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(a,...l)=>{this.dispatchEvent(new CustomEvent(a,{detail:l}))};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof Oa){n.parent=o._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const o=document.createElement("style");o.textContent=n,this.shadowRoot.appendChild(o)})}}function Wp(e="$style"){{const t=Zn();if(!t)return it;const n=t.type.__cssModules;if(!n)return it;const o=n[e];return o||it}}function xp(e){const t=Zn();if(!t)return;const n=()=>kl(t.subTree,e(t.proxy));Md(n),Nt(()=>{const o=new MutationObserver(n);o.observe(t.subTree.el.parentNode,{childList:!0}),Bn(()=>o.disconnect())})}function kl(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{kl(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)tu(e.el,t);else if(e.type===Z)e.children.forEach(n=>kl(n,t));else if(e.type===Ps){let{el:n,anchor:o}=e;for(;n&&(tu(n,t),n!==o);)n=n.nextSibling}}function tu(e,t){if(e.nodeType===1){const n=e.style;for(const o in t)n.setProperty(`--${o}`,t[o])}}const ss="transition",So="animation",hr=(e,{slots:t})=>Da(ir,Sc(e),t);hr.displayName="Transition";const Cc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kp=hr.props=wt({},ir.props,Cc),ws=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},nu=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function Sc(e){const t={};for(const J in e)J in Cc||(t[J]=e[J]);if(e.css===!1)return t;const{name:n="v",type:o,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:r=`${n}-enter-to`,appearFromClass:u=l,appearActiveClass:d=i,appearToClass:c=r,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=Jp(a),y=p&&p[0],w=p&&p[1],{onBeforeEnter:$,onEnter:b,onEnterCancelled:S,onLeave:_,onLeaveCancelled:I,onBeforeAppear:E=$,onAppear:U=b,onAppearCancelled:R=S}=t,O=(J,W,F)=>{is(J,W?c:r),is(J,W?d:i),F&&F()},z=(J,W)=>{J._isLeaving=!1,is(J,f),is(J,m),is(J,h),W&&W()},K=J=>(W,F)=>{const be=J?U:b,Q=()=>O(W,J,F);ws(be,[W,Q]),su(()=>{is(W,J?u:l),jn(W,J?c:r),nu(be)||ou(W,o,y,Q)})};return wt(t,{onBeforeEnter(J){ws($,[J]),jn(J,l),jn(J,i)},onBeforeAppear(J){ws(E,[J]),jn(J,u),jn(J,d)},onEnter:K(!1),onAppear:K(!0),onLeave(J,W){J._isLeaving=!0;const F=()=>z(J,W);jn(J,f),kc(),jn(J,h),su(()=>{!J._isLeaving||(is(J,f),jn(J,m),nu(_)||ou(J,o,w,F))}),ws(_,[J,F])},onEnterCancelled(J){O(J,!1),ws(S,[J])},onAppearCancelled(J){O(J,!0),ws(R,[J])},onLeaveCancelled(J){z(J),ws(I,[J])}})}function Jp(e){if(e==null)return null;if(dt(e))return[Ga(e.enter),Ga(e.leave)];{const t=Ga(e);return[t,t]}}function Ga(e){return ps(e)}function jn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function is(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function su(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Gp=0;function ou(e,t,n,o){const a=e._endId=++Gp,l=()=>{a===e._endId&&o()};if(n)return setTimeout(l,n);const{type:i,timeout:r,propCount:u}=Ec(e,t);if(!i)return o();const d=i+"end";let c=0;const f=()=>{e.removeEventListener(d,h),l()},h=m=>{m.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},r+1),e.addEventListener(d,h)}function Ec(e,t){const n=window.getComputedStyle(e),o=p=>(n[p]||"").split(", "),a=o(ss+"Delay"),l=o(ss+"Duration"),i=iu(a,l),r=o(So+"Delay"),u=o(So+"Duration"),d=iu(r,u);let c=null,f=0,h=0;t===ss?i>0&&(c=ss,f=i,h=l.length):t===So?d>0&&(c=So,f=d,h=u.length):(f=Math.max(i,d),c=f>0?i>d?ss:So:null,h=c?c===ss?l.length:u.length:0);const m=c===ss&&/\b(transform|all)(,|$)/.test(n[ss+"Property"]);return{type:c,timeout:f,propCount:h,hasTransform:m}}function iu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>au(n)+au(e[o])))}function au(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function kc(){return document.body.offsetHeight}const Tc=new WeakMap,Ic=new WeakMap,Yp={name:"TransitionGroup",props:wt({},Kp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Zn(),o=or();let a,l;return ka(()=>{if(!a.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!qp(a[0].el,n.vnode.el,i))return;a.forEach(Xp),a.forEach(Qp);const r=a.filter(Zp);kc(),r.forEach(u=>{const d=u.el,c=d.style;jn(d,i),c.transform=c.webkitTransform=c.transitionDuration="";const f=d._moveCb=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d._moveCb=null,is(d,i))};d.addEventListener("transitionend",f)})}),()=>{const i=Ze(e),r=Sc(i);let u=i.tag||Z;a=l,l=t.default?Sa(t.default()):[];for(let d=0;d<l.length;d++){const c=l[d];c.key!=null&&Ls(c,uo(c,r,o,n))}if(a)for(let d=0;d<a.length;d++){const c=a[d];Ls(c,uo(c,r,o,n)),Tc.set(c,c.el.getBoundingClientRect())}return T(u,null,l)}}},Vc=Yp;function Xp(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Qp(e){Ic.set(e,e.el.getBoundingClientRect())}function Zp(e){const t=Tc.get(e),n=Ic.get(e),o=t.left-n.left,a=t.top-n.top;if(o||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${a}px)`,l.transitionDuration="0s",e}}function qp(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(r=>r&&o.classList.remove(r))}),n.split(/\s+/).forEach(i=>i&&o.classList.add(i)),o.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(o);const{hasTransform:l}=Ec(o);return a.removeChild(o),l}const bs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>oo(t,n):t};function eg(e){e.target.composing=!0}function lu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $e={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e._assign=bs(a);const l=o||a.props&&a.props.type==="number";Kn(e,t?"change":"input",i=>{if(i.target.composing)return;let r=e.value;n&&(r=r.trim()),l&&(r=ps(r)),e._assign(r)}),n&&Kn(e,"change",()=>{e.value=e.value.trim()}),t||(Kn(e,"compositionstart",eg),Kn(e,"compositionend",lu),Kn(e,"change",lu))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:a}},l){if(e._assign=bs(l),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(a||e.type==="number")&&ps(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},Tn={deep:!0,created(e,t,n){e._assign=bs(n),Kn(e,"change",()=>{const o=e._modelValue,a=ho(e),l=e.checked,i=e._assign;if(ke(o)){const r=ma(o,a),u=r!==-1;if(l&&!u)i(o.concat(a));else if(!l&&u){const d=[...o];d.splice(r,1),i(d)}}else if(Hs(o)){const r=new Set(o);l?r.add(a):r.delete(a),i(r)}else i(Ac(e,l))})},mounted:ru,beforeUpdate(e,t,n){e._assign=bs(n),ru(e,t,n)}};function ru(e,{value:t,oldValue:n},o){e._modelValue=t,ke(t)?e.checked=ma(t,o.props.value)>-1:Hs(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=ms(t,Ac(e,!0)))}const Gt={created(e,{value:t},n){e.checked=ms(t,n.props.value),e._assign=bs(n),Kn(e,"change",()=>{e._assign(ho(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=bs(o),t!==n&&(e.checked=ms(t,o.props.value))}},Nn={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Hs(t);Kn(e,"change",()=>{const l=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?ps(ho(i)):ho(i));e._assign(e.multiple?a?new Set(l):l:l[0])}),e._assign=bs(o)},mounted(e,{value:t}){uu(e,t)},beforeUpdate(e,t,n){e._assign=bs(n)},updated(e,{value:t}){uu(e,t)}};function uu(e,t){const n=e.multiple;if(!(n&&!ke(t)&&!Hs(t))){for(let o=0,a=e.options.length;o<a;o++){const l=e.options[o],i=ho(l);if(n)ke(t)?l.selected=ma(t,i)>-1:l.selected=t.has(i);else if(ms(ho(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ho(e){return"_value"in e?e._value:e.value}function Ac(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Dc={created(e,t,n){Ri(e,t,n,null,"created")},mounted(e,t,n){Ri(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){Ri(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){Ri(e,t,n,o,"updated")}};function Oc(e,t){switch(e){case"SELECT":return Nn;case"TEXTAREA":return $e;default:switch(t){case"checkbox":return Tn;case"radio":return Gt;default:return $e}}}function Ri(e,t,n,o,a){const i=Oc(e.tagName,n.props&&n.props.type)[a];i&&i(e,t,n,o)}function tg(){$e.getSSRProps=({value:e})=>({value:e}),Gt.getSSRProps=({value:e},t)=>{if(t.props&&ms(t.props.value,e))return{checked:!0}},Tn.getSSRProps=({value:e},t)=>{if(ke(e)){if(t.props&&ma(e,t.props.value)>-1)return{checked:!0}}else if(Hs(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Dc.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Oc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const ng=["ctrl","shift","alt","meta"],sg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ng.some(n=>e[`${n}Key`]&&!t.includes(n))},na=(e,t)=>(n,...o)=>{for(let a=0;a<t.length;a++){const l=sg[t[a]];if(l&&l(n,t))return}return e(n,...o)},og={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xn=(e,t)=>n=>{if(!("key"in n))return;const o=On(n.key);if(t.some(a=>a===o||og[a]===o))return e(n)},$o={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Eo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Eo(e,!0),o.enter(e)):o.leave(e,()=>{Eo(e,!1)}):Eo(e,t))},beforeUnmount(e,{value:t}){Eo(e,t)}};function Eo(e,t){e.style.display=t?e._vod:"none"}function ig(){$o.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Rc=wt({patchProp:Bp},Ep);let xo,du=!1;function Pc(){return xo||(xo=sc(Rc))}function Mc(){return xo=du?xo:oc(Rc),du=!0,xo}const Tl=(...e)=>{Pc().render(...e)},Uc=(...e)=>{Mc().hydrate(...e)},mr=(...e)=>{const t=Pc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=Nc(o);if(!a)return;const l=t._component;!Le(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const i=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t},ag=(...e)=>{const t=Mc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=Nc(o);if(a)return n(a,!0,a instanceof SVGElement)},t};function Nc(e){return vt(e)?document.querySelector(e):e}let cu=!1;const lg=()=>{cu||(cu=!0,tg(),ig())},rg=()=>{};var ug=Object.freeze(Object.defineProperty({__proto__:null,compile:rg,EffectScope:xl,ReactiveEffect:mi,customRef:Xh,effect:bh,effectScope:mh,getCurrentScope:ph,isProxy:Yl,isReactive:Os,isReadonly:Ns,isRef:kt,isShallow:ei,markRaw:Xl,onScopeDispose:gh,proxyRefs:ql,reactive:yo,readonly:Gl,ref:ve,shallowReactive:wd,shallowReadonly:xh,shallowRef:_d,stop:$h,toRaw:Ze,toRef:Sd,toRefs:Qh,triggerRef:Jh,unref:Xe,camelize:an,capitalize:hi,normalizeClass:De,normalizeProps:ih,normalizeStyle:rt,toDisplayString:Y,toHandlerKey:Bo,BaseTransition:ir,Comment:Ut,Fragment:Z,KeepAlive:Tm,Static:Ps,Suspense:gm,Teleport:Xm,Text:co,callWithAsyncErrorHandling:on,callWithErrorHandling:Rn,cloneVNode:Un,compatUtils:Cp,computed:Ye,createBlock:Ae,createCommentVNode:M,createElementBlock:v,createElementVNode:s,createHydrationRenderer:oc,createPropsRestProxy:pp,createRenderer:sc,createSlots:Dm,createStaticVNode:dc,createTextVNode:V,createVNode:T,defineAsyncComponent:Em,defineComponent:de,defineEmits:up,defineExpose:dp,defineProps:rp,get devtools(){return Zs},getCurrentInstance:Zn,getTransitionRawChildren:Sa,guardReactiveProps:uc,h:Da,handleError:Ws,initCustomFormatter:yp,inject:fn,isMemoSame:bc,isRuntimeOnly:sp,isVNode:vs,mergeDefaults:mp,mergeProps:vi,nextTick:bo,onActivated:Ld,onBeforeMount:Hd,onBeforeUnmount:Ta,onBeforeUpdate:zd,onDeactivated:Fd,onErrorCaptured:Kd,onMounted:Nt,onRenderTracked:xd,onRenderTriggered:Wd,onServerPrefetch:jd,onUnmounted:Bn,onUpdated:ka,openBlock:g,popScopeId:kn,provide:zo,pushScopeId:En,queuePostFlushCb:tr,registerRuntimeCompiler:np,renderList:ue,renderSlot:rr,resolveComponent:N,resolveDirective:Am,resolveDynamicComponent:Ia,resolveFilter:_p,resolveTransitionHooks:uo,setBlockTracking:wl,setDevtoolsHook:Dd,setTransitionHooks:Ls,ssrContextKey:yc,ssrUtils:wp,toHandlers:Yd,transformVNodeArgs:Qm,useAttrs:hp,useSSRContext:vp,useSlots:fp,useTransitionState:or,version:$c,warn:kd,watch:Tt,watchEffect:wm,watchPostEffect:Md,watchSyncEffect:_m,withAsyncContext:gp,withCtx:ut,withDefaults:cp,withDirectives:oe,withMemo:bp,withScopeId:dm,Transition:hr,TransitionGroup:Vc,VueElement:Oa,createApp:mr,createSSRApp:ag,defineCustomElement:_c,defineSSRCustomElement:zp,hydrate:Uc,initDirectivesForSSR:lg,render:Tl,useCssModule:Wp,useCssVars:xp,vModelCheckbox:Tn,vModelDynamic:Dc,vModelRadio:Gt,vModelSelect:Nn,vModelText:$e,vShow:$o,withKeys:Xn,withModifiers:na},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof window!="undefined";function dg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function Ya(e,t){const n={};for(const o in t){const a=t[o];n[o]=Cn(a)?a.map(e):e(a)}return n}const Ko=()=>{},Cn=Array.isArray,cg=/\/$/,fg=e=>e.replace(cg,"");function Xa(e,t,n="/"){let o,a={},l="",i="";const r=t.indexOf("#");let u=t.indexOf("?");return r<u&&r>=0&&(u=-1),u>-1&&(o=t.slice(0,u),l=t.slice(u+1,r>-1?r:t.length),a=e(l)),r>-1&&(o=o||t.slice(0,r),i=t.slice(r,t.length)),o=gg(o!=null?o:t,n),{fullPath:o+(l&&"?")+l+i,path:o,query:a,hash:i}}function hg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function fu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mg(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&mo(t.matched[o],n.matched[a])&&Lc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function mo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pg(e[n],t[n]))return!1;return!0}function pg(e,t){return Cn(e)?hu(e,t):Cn(t)?hu(t,e):e===t}function hu(e,t){return Cn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function gg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/");let a=n.length-1,l,i;for(l=0;l<o.length;l++)if(i=o[l],i!==".")if(i==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var ai;(function(e){e.pop="pop",e.push="push"})(ai||(ai={}));var Jo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Jo||(Jo={}));function vg(e){if(!e)if(qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fg(e)}const yg=/^[^#]+#/;function bg(e,t){return e.replace(yg,"#")+t}function $g(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Ra=()=>({left:window.pageXOffset,top:window.pageYOffset});function wg(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=$g(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function mu(e,t){return(history.state?history.state.position-t:-1)+e}const Il=new Map;function _g(e,t){Il.set(e,t)}function Cg(e){const t=Il.get(e);return Il.delete(e),t}let Sg=()=>location.protocol+"//"+location.host;function Fc(e,t){const{pathname:n,search:o,hash:a}=t,l=e.indexOf("#");if(l>-1){let r=a.includes(e.slice(l))?e.slice(l).length:1,u=a.slice(r);return u[0]!=="/"&&(u="/"+u),fu(u,"")}return fu(n,e)+o+a}function Eg(e,t,n,o){let a=[],l=[],i=null;const r=({state:h})=>{const m=Fc(e,location),p=n.value,y=t.value;let w=0;if(h){if(n.value=m,t.value=h,i&&i===p){i=null;return}w=y?h.position-y.position:0}else o(m);a.forEach($=>{$(n.value,p,{delta:w,type:ai.pop,direction:w?w>0?Jo.forward:Jo.back:Jo.unknown})})};function u(){i=n.value}function d(h){a.push(h);const m=()=>{const p=a.indexOf(h);p>-1&&a.splice(p,1)};return l.push(m),m}function c(){const{history:h}=window;!h.state||h.replaceState(lt({},h.state,{scroll:Ra()}),"")}function f(){for(const h of l)h();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:d,destroy:f}}function pu(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Ra():null}}function kg(e){const{history:t,location:n}=window,o={value:Fc(e,n)},a={value:t.state};a.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,d,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:Sg()+e+u;try{t[c?"replaceState":"pushState"](d,"",h),a.value=d}catch(m){console.error(m),n[c?"replace":"assign"](h)}}function i(u,d){const c=lt({},t.state,pu(a.value.back,u,a.value.forward,!0),d,{position:a.value.position});l(u,c,!0),o.value=u}function r(u,d){const c=lt({},a.value,t.state,{forward:u,scroll:Ra()});l(c.current,c,!0);const f=lt({},pu(o.value,u,null),{position:c.position+1},d);l(u,f,!1),o.value=u}return{location:o,state:a,push:r,replace:i}}function Tg(e){e=vg(e);const t=kg(e),n=Eg(e,t.state,t.location,t.replace);function o(l,i=!0){i||n.pauseListeners(),history.go(l)}const a=lt({location:"",base:e,go:o,createHref:bg.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Ig(e){return typeof e=="string"||e&&typeof e=="object"}function Bc(e){return typeof e=="string"||typeof e=="symbol"}const os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hc=Symbol("");var gu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gu||(gu={}));function po(e,t){return lt(new Error,{type:e,[Hc]:!0},t)}function Hn(e,t){return e instanceof Error&&Hc in e&&(t==null||!!(e.type&t))}const vu="[^/]+?",Vg={sensitive:!1,strict:!1,start:!0,end:!0},Ag=/[.+*?^${}()[\]/\\]/g;function Dg(e,t){const n=lt({},Vg,t),o=[];let a=n.start?"^":"";const l=[];for(const d of e){const c=d.length?[]:[90];n.strict&&!d.length&&(a+="/");for(let f=0;f<d.length;f++){const h=d[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(Ag,"\\$&"),m+=40;else if(h.type===1){const{value:p,repeatable:y,optional:w,regexp:$}=h;l.push({name:p,repeatable:y,optional:w});const b=$||vu;if(b!==vu){m+=10;try{new RegExp(`(${b})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+_.message)}}let S=y?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(S=w&&d.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),a+=S,m+=20,w&&(m+=-8),y&&(m+=-20),b===".*"&&(m+=-50)}c.push(m)}o.push(c)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const i=new RegExp(a,n.sensitive?"":"i");function r(d){const c=d.match(i),f={};if(!c)return null;for(let h=1;h<c.length;h++){const m=c[h]||"",p=l[h-1];f[p.name]=m&&p.repeatable?m.split("/"):m}return f}function u(d){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const m of h)if(m.type===0)c+=m.value;else if(m.type===1){const{value:p,repeatable:y,optional:w}=m,$=p in d?d[p]:"";if(Cn($)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Cn($)?$.join("/"):$;if(!b)if(w)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:i,score:o,keys:l,parse:r,stringify:u}}function Og(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Rg(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const l=Og(o[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-o.length)===1){if(yu(o))return 1;if(yu(a))return-1}return a.length-o.length}function yu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pg={type:0,value:""},Mg=/[a-zA-Z0-9_]/;function Ug(e){if(!e)return[[]];if(e==="/")return[[Pg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,o=n;const a=[];let l;function i(){l&&a.push(l),l=[]}let r=0,u,d="",c="";function f(){!d||(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=u}for(;r<e.length;){if(u=e[r++],u==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:u==="/"?(d&&f(),i()):u===":"?(f(),n=1):h();break;case 4:h(),n=o;break;case 1:u==="("?n=2:Mg.test(u)?h():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),i(),a}function Ng(e,t,n){const o=Dg(Ug(e.path),n),a=lt(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Lg(e,t){const n=[],o=new Map;t=wu({strict:!1,end:!0,sensitive:!1},t);function a(c){return o.get(c)}function l(c,f,h){const m=!h,p=Fg(c);p.aliasOf=h&&h.record;const y=wu(t,c),w=[p];if("alias"in c){const S=typeof c.alias=="string"?[c.alias]:c.alias;for(const _ of S)w.push(lt({},p,{components:h?h.record.components:p.components,path:_,aliasOf:h?h.record:p}))}let $,b;for(const S of w){const{path:_}=S;if(f&&_[0]!=="/"){const I=f.record.path,E=I[I.length-1]==="/"?"":"/";S.path=f.record.path+(_&&E+_)}if($=Ng(S,f,y),h?h.alias.push($):(b=b||$,b!==$&&b.alias.push($),m&&c.name&&!$u($)&&i(c.name)),p.children){const I=p.children;for(let E=0;E<I.length;E++)l(I[E],$,h&&h.children[E])}h=h||$,u($)}return b?()=>{i(b)}:Ko}function i(c){if(Bc(c)){const f=o.get(c);f&&(o.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&o.delete(c.record.name),c.children.forEach(i),c.alias.forEach(i))}}function r(){return n}function u(c){let f=0;for(;f<n.length&&Rg(c,n[f])>=0&&(c.record.path!==n[f].record.path||!zc(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!$u(c)&&o.set(c.record.name,c)}function d(c,f){let h,m={},p,y;if("name"in c&&c.name){if(h=o.get(c.name),!h)throw po(1,{location:c});y=h.record.name,m=lt(bu(f.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),c.params&&bu(c.params,h.keys.map(b=>b.name))),p=h.stringify(m)}else if("path"in c)p=c.path,h=n.find(b=>b.re.test(p)),h&&(m=h.parse(p),y=h.record.name);else{if(h=f.name?o.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw po(1,{location:c,currentLocation:f});y=h.record.name,m=lt({},f.params,c.params),p=h.stringify(m)}const w=[];let $=h;for(;$;)w.unshift($.record),$=$.parent;return{name:y,path:p,params:m,matched:w,meta:Hg(w)}}return e.forEach(c=>l(c)),{addRoute:l,resolve:d,removeRoute:i,getRoutes:r,getRecordMatcher:a}}function bu(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Fg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Bg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Bg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="boolean"?n:n[o];return t}function $u(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Hg(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function wu(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function zc(e,t){return t.children.some(n=>n===e||zc(e,n))}const jc=/#/g,zg=/&/g,jg=/\//g,Wg=/=/g,xg=/\?/g,Wc=/\+/g,Kg=/%5B/g,Jg=/%5D/g,xc=/%5E/g,Gg=/%60/g,Kc=/%7B/g,Yg=/%7C/g,Jc=/%7D/g,Xg=/%20/g;function pr(e){return encodeURI(""+e).replace(Yg,"|").replace(Kg,"[").replace(Jg,"]")}function Qg(e){return pr(e).replace(Kc,"{").replace(Jc,"}").replace(xc,"^")}function Vl(e){return pr(e).replace(Wc,"%2B").replace(Xg,"+").replace(jc,"%23").replace(zg,"%26").replace(Gg,"`").replace(Kc,"{").replace(Jc,"}").replace(xc,"^")}function Zg(e){return Vl(e).replace(Wg,"%3D")}function qg(e){return pr(e).replace(jc,"%23").replace(xg,"%3F")}function ev(e){return e==null?"":qg(e).replace(jg,"%2F")}function sa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function tv(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const l=o[a].replace(Wc," "),i=l.indexOf("="),r=sa(i<0?l:l.slice(0,i)),u=i<0?null:sa(l.slice(i+1));if(r in t){let d=t[r];Cn(d)||(d=t[r]=[d]),d.push(u)}else t[r]=u}return t}function _u(e){let t="";for(let n in e){const o=e[n];if(n=Zg(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Cn(o)?o.map(l=>l&&Vl(l)):[o&&Vl(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function nv(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Cn(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const sv=Symbol(""),Cu=Symbol(""),Pa=Symbol(""),Gc=Symbol(""),Al=Symbol("");function ko(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ls(e,t,n,o,a){const l=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((i,r)=>{const u=f=>{f===!1?r(po(4,{from:n,to:t})):f instanceof Error?r(f):Ig(f)?r(po(2,{from:t,to:f})):(l&&o.enterCallbacks[a]===l&&typeof f=="function"&&l.push(f),i())},d=e.call(o&&o.instances[a],t,n,u);let c=Promise.resolve(d);e.length<3&&(c=c.then(u)),c.catch(f=>r(f))})}function Qa(e,t,n,o){const a=[];for(const l of e)for(const i in l.components){let r=l.components[i];if(!(t!=="beforeRouteEnter"&&!l.instances[i]))if(ov(r)){const d=(r.__vccOpts||r)[t];d&&a.push(ls(d,n,o,l,i))}else{let u=r();a.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${l.path}"`));const c=dg(d)?d.default:d;l.components[i]=c;const h=(c.__vccOpts||c)[t];return h&&ls(h,n,o,l,i)()}))}}return a}function ov(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Su(e){const t=fn(Pa),n=fn(Gc),o=Ye(()=>t.resolve(Xe(e.to))),a=Ye(()=>{const{matched:u}=o.value,{length:d}=u,c=u[d-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(mo.bind(null,c));if(h>-1)return h;const m=Eu(u[d-2]);return d>1&&Eu(c)===m&&f[f.length-1].path!==m?f.findIndex(mo.bind(null,u[d-2])):h}),l=Ye(()=>a.value>-1&&rv(n.params,o.value.params)),i=Ye(()=>a.value>-1&&a.value===n.matched.length-1&&Lc(n.params,o.value.params));function r(u={}){return lv(u)?t[Xe(e.replace)?"replace":"push"](Xe(e.to)).catch(Ko):Promise.resolve()}return{route:o,href:Ye(()=>o.value.href),isActive:l,isExactActive:i,navigate:r}}const iv=de({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Su,setup(e,{slots:t}){const n=yo(Su(e)),{options:o}=fn(Pa),a=Ye(()=>({[ku(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[ku(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:Da("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),av=iv;function lv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rv(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!Cn(a)||a.length!==o.length||o.some((l,i)=>l!==a[i]))return!1}return!0}function Eu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ku=(e,t,n)=>e!=null?e:t!=null?t:n,uv=de({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=fn(Al),a=Ye(()=>e.route||o.value),l=fn(Cu,0),i=Ye(()=>{let d=Xe(l);const{matched:c}=a.value;let f;for(;(f=c[d])&&!f.components;)d++;return d}),r=Ye(()=>a.value.matched[i.value]);zo(Cu,Ye(()=>i.value+1)),zo(sv,r),zo(Al,a);const u=ve();return Tt(()=>[u.value,r.value,e.name],([d,c,f],[h,m,p])=>{c&&(c.instances[f]=d,m&&m!==c&&d&&d===h&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),d&&c&&(!m||!mo(c,m)||!h)&&(c.enterCallbacks[f]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=a.value,c=e.name,f=r.value,h=f&&f.components[c];if(!h)return Tu(n.default,{Component:h,route:d});const m=f.props[c],p=m?m===!0?d.params:typeof m=="function"?m(d):m:null,w=Da(h,lt({},p,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return Tu(n.default,{Component:w,route:d})||w}}});function Tu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const dv=uv;function cv(e){const t=Lg(e.routes,e),n=e.parseQuery||tv,o=e.stringifyQuery||_u,a=e.history,l=ko(),i=ko(),r=ko(),u=_d(os);let d=os;qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ya.bind(null,P=>""+P),f=Ya.bind(null,ev),h=Ya.bind(null,sa);function m(P,X){let x,se;return Bc(P)?(x=t.getRecordMatcher(P),se=X):se=P,t.addRoute(se,x)}function p(P){const X=t.getRecordMatcher(P);X&&t.removeRoute(X)}function y(){return t.getRoutes().map(P=>P.record)}function w(P){return!!t.getRecordMatcher(P)}function $(P,X){if(X=lt({},X||u.value),typeof P=="string"){const Se=Xa(n,P,X.path),C=t.resolve({path:Se.path},X),k=a.createHref(Se.fullPath);return lt(Se,C,{params:h(C.params),hash:sa(Se.hash),redirectedFrom:void 0,href:k})}let x;if("path"in P)x=lt({},P,{path:Xa(n,P.path,X.path).path});else{const Se=lt({},P.params);for(const C in Se)Se[C]==null&&delete Se[C];x=lt({},P,{params:f(P.params)}),X.params=f(X.params)}const se=t.resolve(x,X),H=P.hash||"";se.params=c(h(se.params));const re=hg(o,lt({},P,{hash:Qg(H),path:se.path})),ye=a.createHref(re);return lt({fullPath:re,hash:H,query:o===_u?nv(P.query):P.query||{}},se,{redirectedFrom:void 0,href:ye})}function b(P){return typeof P=="string"?Xa(n,P,u.value.path):lt({},P)}function S(P,X){if(d!==P)return po(8,{from:X,to:P})}function _(P){return U(P)}function I(P){return _(lt(b(P),{replace:!0}))}function E(P){const X=P.matched[P.matched.length-1];if(X&&X.redirect){const{redirect:x}=X;let se=typeof x=="function"?x(P):x;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=b(se):{path:se},se.params={}),lt({query:P.query,hash:P.hash,params:"path"in se?{}:P.params},se)}}function U(P,X){const x=d=$(P),se=u.value,H=P.state,re=P.force,ye=P.replace===!0,Se=E(x);if(Se)return U(lt(b(Se),{state:typeof Se=="object"?lt({},H,Se.state):H,force:re,replace:ye}),X||x);const C=x;C.redirectedFrom=X;let k;return!re&&mg(o,se,x)&&(k=po(16,{to:C,from:se}),at(se,se,!0,!1)),(k?Promise.resolve(k):O(C,se)).catch(L=>Hn(L)?Hn(L,2)?L:ze(L):ce(L,C,se)).then(L=>{if(L){if(Hn(L,2))return U(lt({replace:ye},b(L.to),{state:typeof L.to=="object"?lt({},H,L.to.state):H,force:re}),X||C)}else L=K(C,se,!0,ye,H);return z(C,se,L),L})}function R(P,X){const x=S(P,X);return x?Promise.reject(x):Promise.resolve()}function O(P,X){let x;const[se,H,re]=fv(P,X);x=Qa(se.reverse(),"beforeRouteLeave",P,X);for(const Se of se)Se.leaveGuards.forEach(C=>{x.push(ls(C,P,X))});const ye=R.bind(null,P,X);return x.push(ye),Gs(x).then(()=>{x=[];for(const Se of l.list())x.push(ls(Se,P,X));return x.push(ye),Gs(x)}).then(()=>{x=Qa(H,"beforeRouteUpdate",P,X);for(const Se of H)Se.updateGuards.forEach(C=>{x.push(ls(C,P,X))});return x.push(ye),Gs(x)}).then(()=>{x=[];for(const Se of P.matched)if(Se.beforeEnter&&!X.matched.includes(Se))if(Cn(Se.beforeEnter))for(const C of Se.beforeEnter)x.push(ls(C,P,X));else x.push(ls(Se.beforeEnter,P,X));return x.push(ye),Gs(x)}).then(()=>(P.matched.forEach(Se=>Se.enterCallbacks={}),x=Qa(re,"beforeRouteEnter",P,X),x.push(ye),Gs(x))).then(()=>{x=[];for(const Se of i.list())x.push(ls(Se,P,X));return x.push(ye),Gs(x)}).catch(Se=>Hn(Se,8)?Se:Promise.reject(Se))}function z(P,X,x){for(const se of r.list())se(P,X,x)}function K(P,X,x,se,H){const re=S(P,X);if(re)return re;const ye=X===os,Se=qs?history.state:{};x&&(se||ye?a.replace(P.fullPath,lt({scroll:ye&&Se&&Se.scroll},H)):a.push(P.fullPath,H)),u.value=P,at(P,X,x,ye),ze()}let J;function W(){J||(J=a.listen((P,X,x)=>{if(!me.listening)return;const se=$(P),H=E(se);if(H){U(lt(H,{replace:!0}),se).catch(Ko);return}d=se;const re=u.value;qs&&_g(mu(re.fullPath,x.delta),Ra()),O(se,re).catch(ye=>Hn(ye,12)?ye:Hn(ye,2)?(U(ye.to,se).then(Se=>{Hn(Se,20)&&!x.delta&&x.type===ai.pop&&a.go(-1,!1)}).catch(Ko),Promise.reject()):(x.delta&&a.go(-x.delta,!1),ce(ye,se,re))).then(ye=>{ye=ye||K(se,re,!1),ye&&(x.delta&&!Hn(ye,8)?a.go(-x.delta,!1):x.type===ai.pop&&Hn(ye,20)&&a.go(-1,!1)),z(se,re,ye)}).catch(Ko)}))}let F=ko(),be=ko(),Q;function ce(P,X,x){ze(P);const se=be.list();return se.length?se.forEach(H=>H(P,X,x)):console.error(P),Promise.reject(P)}function Ce(){return Q&&u.value!==os?Promise.resolve():new Promise((P,X)=>{F.add([P,X])})}function ze(P){return Q||(Q=!P,W(),F.list().forEach(([X,x])=>P?x(P):X()),F.reset()),P}function at(P,X,x,se){const{scrollBehavior:H}=e;if(!qs||!H)return Promise.resolve();const re=!x&&Cg(mu(P.fullPath,0))||(se||!x)&&history.state&&history.state.scroll||null;return bo().then(()=>H(P,X,re)).then(ye=>ye&&wg(ye)).catch(ye=>ce(ye,P,X))}const We=P=>a.go(P);let q;const ge=new Set,me={currentRoute:u,listening:!0,addRoute:m,removeRoute:p,hasRoute:w,getRoutes:y,resolve:$,options:e,push:_,replace:I,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:l.add,beforeResolve:i.add,afterEach:r.add,onError:be.add,isReady:Ce,install(P){const X=this;P.component("RouterLink",av),P.component("RouterView",dv),P.config.globalProperties.$router=X,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Xe(u)}),qs&&!q&&u.value===os&&(q=!0,_(a.location).catch(H=>{}));const x={};for(const H in os)x[H]=Ye(()=>u.value[H]);P.provide(Pa,X),P.provide(Gc,yo(x)),P.provide(Al,u);const se=P.unmount;ge.add(P),P.unmount=function(){ge.delete(P),ge.size<1&&(d=os,J&&J(),J=null,u.value=os,q=!1,Q=!1),se()}}};return me}function Gs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function fv(e,t){const n=[],o=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const r=t.matched[i];r&&(e.matched.find(d=>mo(d,r))?o.push(r):n.push(r));const u=e.matched[i];u&&(t.matched.find(d=>mo(d,u))||a.push(u))}return[n,o,a]}function Yc(){return fn(Pa)}var hv=Object.defineProperty,Iu=Object.getOwnPropertySymbols,mv=Object.prototype.hasOwnProperty,pv=Object.prototype.propertyIsEnumerable,Vu=(e,t,n)=>t in e?hv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xc=(e,t)=>{for(var n in t||(t={}))mv.call(t,n)&&Vu(e,n,t[n]);if(Iu)for(var n of Iu(t))pv.call(t,n)&&Vu(e,n,t[n]);return e},Ma=e=>typeof e=="function",Ua=e=>typeof e=="string",Qc=e=>Ua(e)&&e.trim().length>0,gv=e=>typeof e=="number",As=e=>typeof e=="undefined",li=e=>typeof e=="object"&&e!==null,vv=e=>Pn(e,"tag")&&Qc(e.tag),Zc=e=>window.TouchEvent&&e instanceof TouchEvent,qc=e=>Pn(e,"component")&&ef(e.component),yv=e=>Ma(e)||li(e),ef=e=>!As(e)&&(Ua(e)||yv(e)||qc(e)),Au=e=>li(e)&&["height","width","right","left","top","bottom"].every(t=>gv(e[t])),Pn=(e,t)=>(li(e)||Ma(e))&&t in e,bv=(e=>()=>e++)(0);function Za(e){return Zc(e)?e.targetTouches[0].clientX:e.clientX}function Du(e){return Zc(e)?e.targetTouches[0].clientY:e.clientY}var $v=e=>{As(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},yi=e=>qc(e)?yi(e.component):vv(e)?de({render(){return e}}):typeof e=="string"?e:Ze(Xe(e)),wv=e=>{if(typeof e=="string")return e;const t=Pn(e,"props")&&li(e.props)?e.props:{},n=Pn(e,"listeners")&&li(e.listeners)?e.listeners:{};return{component:yi(e),props:t,listeners:n}},_v=()=>typeof window!="undefined",gr=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(o=>o(t))}},Cv=e=>["on","off","emit"].every(t=>Pn(e,t)&&Ma(e[t])),nn;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(nn||(nn={}));var oa;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(oa||(oa={}));var sn;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(sn||(sn={}));var wn="Vue-Toastification",bn={type:{type:String,default:nn.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},tf={type:bn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},zi={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:bn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Dl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},nf={transition:{type:[Object,String],default:`${wn}__bounce`}},Sv={position:{type:String,default:oa.TOP_RIGHT},draggable:bn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:bn.trueBoolean,pauseOnHover:bn.trueBoolean,closeOnClick:bn.trueBoolean,timeout:Dl.timeout,hideProgressBar:Dl.hideProgressBar,toastClassName:bn.classNames,bodyClassName:bn.classNames,icon:tf.customIcon,closeButton:zi.component,closeButtonClassName:zi.classNames,showCloseButtonOnHover:zi.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new gr}},Ev={id:{type:[String,Number],required:!0,default:0},type:bn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},kv={container:{type:[Object,Function],default:()=>document.body},newestOnTop:bn.trueBoolean,maxToasts:{type:Number,default:20},transition:nf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:bn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Jn={CORE_TOAST:Sv,TOAST:Ev,CONTAINER:kv,PROGRESS_BAR:Dl,ICON:tf,TRANSITION:nf,CLOSE_BUTTON:zi},sf=de({name:"VtProgressBar",props:Jn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${wn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Tv(e,t){return g(),v("div",{style:rt(e.style),class:De(e.cpClass)},null,6)}sf.render=Tv;var Iv=sf,of=de({name:"VtCloseButton",props:Jn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?yi(this.component):"button"},classes(){const e=[`${wn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Vv=V(" \xD7 ");function Av(e,t){return g(),Ae(Ia(e.buttonComponent),vi({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:ut(()=>[Vv]),_:1},16,["aria-label","class"])}of.render=Av;var Dv=of,af={},Ov={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Rv=s("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Pv=[Rv];function Mv(e,t){return g(),v("svg",Ov,Pv)}af.render=Mv;var Uv=af,lf={},Nv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Lv=s("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Fv=[Lv];function Bv(e,t){return g(),v("svg",Nv,Fv)}lf.render=Bv;var Ou=lf,rf={},Hv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},zv=s("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),jv=[zv];function Wv(e,t){return g(),v("svg",Hv,jv)}rf.render=Wv;var xv=rf,uf={},Kv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Jv=s("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Gv=[Jv];function Yv(e,t){return g(),v("svg",Kv,Gv)}uf.render=Yv;var Xv=uf,df=de({name:"VtIcon",props:Jn.ICON,computed:{customIconChildren(){return Pn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Ua(this.customIcon)?this.trimValue(this.customIcon):Pn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Pn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:ef(this.customIcon)?yi(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[nn.DEFAULT]:Ou,[nn.INFO]:Ou,[nn.SUCCESS]:Uv,[nn.ERROR]:Xv,[nn.WARNING]:xv}[this.type]},iconClasses(){const e=[`${wn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Qc(e)?e.trim():t}}});function Qv(e,t){return g(),Ae(Ia(e.component),{class:De(e.iconClasses)},{default:ut(()=>[V(Y(e.customIconChildren),1)]),_:1},8,["class"])}df.render=Qv;var Zv=df,cf=de({name:"VtToast",components:{ProgressBar:Iv,CloseButton:Dv,Icon:Zv},inheritAttrs:!1,props:Object.assign({},Jn.CORE_TOAST,Jn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${wn}__toast`,`${wn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${wn}__toast--rtl`),e},bodyClasses(){return[`${wn}__toast-${Ua(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Au(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Pn,getVueComponentFromObj:yi,closeToast(){this.eventBus.emit(sn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Za(e),y:Du(e)},this.dragStart=Za(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Za(e),y:Du(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Au(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),qv=["role"];function ey(e,t){const n=N("Icon"),o=N("CloseButton"),a=N("ProgressBar");return g(),v("div",{class:De(e.classes),style:rt(e.draggableStyle),onClick:t[0]||(t[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:t[1]||(t[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:t[2]||(t[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(g(),Ae(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):M("v-if",!0),s("div",{role:e.accessibility.toastRole||"alert",class:De(e.bodyClasses)},[typeof e.content=="string"?(g(),v(Z,{key:0},[V(Y(e.content),1)],2112)):(g(),Ae(Ia(e.getVueComponentFromObj(e.content)),vi({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Yd(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,qv),e.closeButton?(g(),Ae(o,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:na(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):M("v-if",!0),e.timeout?(g(),Ae(a,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):M("v-if",!0)],38)}cf.render=ey;var ty=cf,ff=de({name:"VtTransition",props:Jn.TRANSITION,emits:["leave"],methods:{hasProp:Pn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function ny(e,t){return g(),Ae(Vc,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:ut(()=>[rr(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}ff.render=ny;var sy=ff,hf=de({name:"VueToastification",devtools:{hide:!0},components:{Toast:ty,VtTransition:sy},props:Object.assign({},Jn.CORE_TOAST,Jn.CONTAINER,Jn.TRANSITION),data(){return{count:0,positions:Object.values(oa),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(sn.ADD,this.addToast),e.on(sn.CLEAR,this.clearToasts),e.on(sn.DISMISS,this.dismissToast),e.on(sn.UPDATE,this.updateToast),e.on(sn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ma(e)&&(e=await e()),$v(this.$el),e.appendChild(this.$el)},setToast(e){As(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=wv(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!As(t)&&!As(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){As(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${wn}__container`,e].concat(this.defaults.containerClassName)}}});function oy(e,t){const n=N("Toast"),o=N("VtTransition");return g(),v("div",null,[(g(!0),v(Z,null,ue(e.positions,a=>(g(),v("div",{key:a},[T(o,{transition:e.defaults.transition,class:De(e.getClasses(a))},{default:ut(()=>[(g(!0),v(Z,null,ue(e.getPositionToasts(a),l=>(g(),Ae(n,vi({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}hf.render=oy;var iy=hf,Ru=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new gr;t&&bo(()=>{const l=mr(iy,Xc({},e)),i=l.mount(document.createElement("div")),r=e.onMounted;if(As(r)||r(i,l),e.shareAppContext){const u=e.shareAppContext;u===!0?console.warn(`[${wn}] App to share context with was not provided.`):(l._context.components=u._context.components,l._context.directives=u._context.directives,l._context.mixins=u._context.mixins,l._context.provides=u._context.provides,l.config.globalProperties=u.config.globalProperties)}});const o=(l,i)=>{const r=Object.assign({},{id:bv(),type:nn.DEFAULT},i,{content:l});return n.emit(sn.ADD,r),r.id};o.clear=()=>n.emit(sn.CLEAR,void 0),o.updateDefaults=l=>{n.emit(sn.UPDATE_DEFAULTS,l)},o.dismiss=l=>{n.emit(sn.DISMISS,l)};function a(l,{content:i,options:r},u=!1){const d=Object.assign({},r,{content:i});n.emit(sn.UPDATE,{id:l,options:d,create:u})}return o.update=a,o.success=(l,i)=>o(l,Object.assign({},i,{type:nn.SUCCESS})),o.info=(l,i)=>o(l,Object.assign({},i,{type:nn.INFO})),o.error=(l,i)=>o(l,Object.assign({},i,{type:nn.ERROR})),o.warning=(l,i)=>o(l,Object.assign({},i,{type:nn.WARNING})),o},ay=()=>{const e=()=>console.warn(`[${wn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Ol(e){return _v()?Cv(e)?Ru({eventBus:e},!1):Ru(e,!0):ay()}var mf=Symbol("VueToastification"),pf=new gr,ly=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=Ol(Xc({eventBus:pf},t));e.provide(mf,n)},gf=e=>{if(e)return Ol(e);const t=Zn()?fn(mf,void 0):void 0;return t||Ol(pf)},ry=ly;var Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const uy=de({name:"app"});function dy(e,t,n,o,a,l){const i=N("router-view");return g(),Ae(i)}var cy=Ne(uy,[["render",dy]]);const fy=1,Bs=1e3*fy,ri=60*Bs,ui=60*ri,ia=24*ui;let Ro=[];const hy=e=>{switch(e){case"error":Ro=["error"];break;case"warn":Ro=["error","warn"];break;case"info":Ro=["error","warn","info"];break;case"debug":Ro=["error","warn","info","debug"];break}};hy("info");const xs=(e,...t)=>{const n=e,o=a=>(...l)=>{Ro.includes(a)&&console[a](py("hh:mm:ss",new Date),`[${n}]`,...t,...l)};return{error:o("error"),warn:o("warn"),info:o("info"),debug:o("debug")}},my=e=>[...e].length,py=(e,t)=>e.replace(/(hh|mm|ss)/g,(n,o)=>{switch(o){case"hh":return hs(t.getHours(),"00");case"mm":return hs(t.getMinutes(),"00");case"ss":return hs(t.getSeconds(),"00");default:return n}}),hs=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n};function Ke(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const vr=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const n=`${e}`.trim();if(!n)throw new Error("unable to parse duration");const o=h=>{if(h<0&&!t)throw new Error("negative value not allowed");return h};if(n.match(/^-?\d+$/))return o(parseInt(n,10));const a=n.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(a){const h=parseFloat(a[1]);if(isNaN(h))throw new Error("unable to parse duration");const m=a[2];let p=0;return m==="d"?p=h*ia:m==="h"?p=h*ui:m==="m"?p=h*ri:m==="s"&&(p=h*Bs),o(Math.round(p))}const l=n.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!l)throw new Error("unable to parse duration");const i=l[1]?-1:1,r=l[2]?parseInt(l[2],10):0,u=l[3]?parseInt(l[3],10):0,d=l[4]?parseInt(l[4],10):0,c=l[5]?parseInt(l[5],10):0,f=l[6]?parseInt(l[6],10):0;return o(i*(c*Bs+d*ri+u*ui+r*ia+f))},gy=(e,t=!1)=>{try{return vr(e,t)}catch{return 0}},vy=(e,t=["ms","s","m","h","d"])=>{let n=e;const o=Math.floor(n/ia);n=n%ia;const a=Math.floor(n/ui);n=n%ui;const l=Math.floor(n/ri);n=n%ri;const i=Math.floor(n/Bs);n=n%Bs;const u=[n,i,l,a,o];let d=0;for(;d<u.length&&u[d]===0;)d++;let c=u.length-1;for(;c>=0&&u[c]===0;)c--;const f=[];for(let h=d;h<=c;h++)f.unshift(`${u[h]}${t[h]}`);return f.join(" ")};function yy(e,t,n){if(n>=e.length){let o=n-e.length+1;for(;o--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e}const Na=(e,t,n)=>{if(t===n||t<0||t>e.length-1||n<0||n>e.length-1)return!1;const o=e[t];return e[t]=e[n],e[n]=o,!0},by=(e,t)=>{const n=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$daysuntil\("([^"]+)"\)/g,/\$daysuntil\("([^"]+)",\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let o=e,a;do{a=o;for(const l of n)o=o.replace(l,t)}while(a!==o);return o},$y=(e,t=",",n=-1)=>{const o=e.split(t);return n===-1||o.length<=n?o:[...o.slice(0,n-1),o.slice(n-1).join(t)]},wy=e=>{let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const o=e[t];e[t]=e[n],e[n]=o}return e};function vf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function yf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const _y=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},Rl=(e,t="pt")=>{const n=`${e}`;return n.match(/^\d+$/)?`${n}${t}`:n},ie=(e,t,n)=>{let o=e;for(const a of t){if(typeof o!="object"||o===null||!Object.keys(o).includes(a))return n;o=o[a]}return o},bf=(e,t,n)=>Math.max(e,Math.min(n,t)),vn=(e,t)=>Math.random()*(t-e)+e,Wt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),Wn=e=>e[Wt(0,e.length-1)],Cy=(e,t,n,o,a)=>{const l=i=>new Date(`${hs(i.getFullYear(),"0000")}-${hs(i.getMonth()+1,"00")}-${hs(i.getDate(),"00")}`);try{const i=new Date(e);if(isNaN(i.getTime()))return a;const r=new Date,u=l(i).getTime()-l(r).getTime(),d=Math.ceil(u/1e3/60/60/24);let c="{days}";return d===0?c=o:d===1?c=n:c=t,c.replace("{days}",`${d}`)}catch{return a}};var Yt={arrayMove:yy,arraySwap:Na,clamp:bf,daysUntil:Cy,doDummyReplacements:by,getRandom:Wn,getRandomFloat:vn,getRandomInt:Wt,humanDuration:vy,mediaFileFromUploadedFile:vf,mustParseHumanDuration:vr,pad:hs,parseHumanDuration:gy,shuffle:wy,soundMediaFileFromUploadedFile:yf,split:$y,toNumberUnitString:Rl,unicodeLength:my};const $f=(e=null)=>({name:ie(e,["name"],""),width:ie(e,["width"],64),height:ie(e,["height"],64),stateDefinitions:ie(e,["stateDefinitions"],[]),slotDefinitions:ie(e,["slotDefinitions"],[]),state:ie(e,["state"],{slots:{},lockedState:""})}),Pl=(e=null)=>({styles:{bgColor:ie(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:ie(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:ie(e,["avatarDefinitions"],[]).map($f)}),La=async(e,t,n)=>new Promise((o,a)=>{const l=new window.XMLHttpRequest;l.open(e,t,!0),l.withCredentials=!0;const i=n.headers||{};for(const r in i)l.setRequestHeader(r,i[r]);l.addEventListener("load",function(r){o({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),l.addEventListener("error",function(r){a(new Error("xhr error"))}),l.upload&&n.onUploadProgress&&l.upload.addEventListener("progress",function(r){n.onUploadProgress&&n.onUploadProgress(r)}),l.send(n.body)}),mn=async(e,t={})=>La("get",e,t),Sy=async(e,t={})=>La("post",e,t),wf=async(e,t)=>La("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),In=async(e,t)=>wf(e,JSON.stringify(t));function Ey(e){const t=[];for(const n in e){const o=[n,e[n]].map(encodeURIComponent);t.push(o.join("="))}return t.length===0?"":`?${t.join("&")}`}var ft={resendVerificationMail:async e=>In("/api/user/_resend_verification_mail",e),requestPasswordReset:async e=>In("/api/user/_request_password_reset",e),register:async e=>In("/api/user/_register",e),resetPassword:async e=>In("/api/user/_reset_password",e),handleToken:async e=>In("/api/_handle-token",e),saveVariables:async e=>In("/api/save-variables",e),twitchUserIdByName:async e=>In("/api/twitch/user-id-by-name",e),saveUserSettings:async e=>In("/api/save-settings",e),getPageVariablesData:async()=>mn("/api/page/variables"),getPageIndexData:async()=>mn("/api/page/index"),getPageSettingsData:async()=>mn("/api/page/settings"),getDataGlobal:async()=>mn("/api/data/global"),getMe:async()=>mn("/api/user/me"),logout:async()=>Sy("/api/logout"),login:async e=>In("/api/auth",e),getConf:async()=>mn("/api/conf"),upload:async(e,t)=>{const n=new FormData;return n.append("file",e,e.name),La("post","/api/upload",{body:n,onUploadProgress:t})},importPlaylist:async e=>wf("/api/sr/import",e),getDrawcastAllImages:async()=>mn("/api/drawcast/all-images"),getGeneralGlobalEmotes:async()=>mn("/api/general/global-emotes"),getGeneralChannelEmotes:async e=>mn("/api/general/channel-emotes"+Ey({channel_name:e})),createWidgetUrl:async e=>In("/api/widget/create_url",e),getWidgetData:async(e,t)=>mn(`/api/widget/${e}/${t}/`),getPubData:async e=>mn(`/api/pub/${e}`)};let _f=null;const ky=async()=>{const e=await ft.getConf();_f=e.status===200?await e.json():null};var Cf={init:ky,getConf:()=>_f};function Sf(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(a){a(n)}),(o=e.get("*"))&&o.slice().map(function(a){a(t,n)})}}}let aa=null;const di=Sf(),Ef=()=>localStorage.getItem("darkmode")==="1",Ty=e=>{localStorage.setItem("darkmode",e?"1":"0"),di.emit("darkmode",e)};async function kf(){di.emit("darkmode",Ef());const e=await ft.getMe();aa=e.status===200?await e.json():null,aa&&di.emit("login")}async function Iy(){return(await(await ft.logout()).json()).success?(aa=null,di.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}async function Vy(e,t){const n=await ft.login({user:e,pass:t});return n.status===200?(await kf(),{error:!1}):n.status===401?{error:(await n.json()).reason}:{error:"Unknown error"}}var cn={getMe:()=>aa,isDarkmode:Ef,setDarkmode:Ty,eventBus:di,logout:Iy,login:Vy,init:kf};const Ay=1001,To=4e3,zn=xs("WsWrapper.ts");class Dy{constructor(t,n){this.addr=t,this.protocols=n,this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{}}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=Ke(10);this.id=t;const n=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};zn.info({id:t,addr:this.addr},"trying to connect");const o=new WebSocket(this.addr,this.protocols);o.onopen=a=>{if(zn.info({id:t},"ws connected"),t!==this.id){zn.info({id:t,this_id:this.id},"connected but it is not the last attempt"),o.close(To);return}for(this.handle&&(zn.error({e:a},"handle already existed, closing old one and replacing it"),this.handle.close(To)),this.handle=o;this.sendBuffer.length>0;){const l=this.sendBuffer.shift();l&&this.handle.send(l)}this.onopen(a),this.keepAlive()},o.onmessage=a=>{try{const l=JSON.parse(a.data);if(l.type&&l.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(a)},o.onerror=a=>{this.cancelKeepAlive(),zn.error({e:a,id:t})},o.onclose=a=>{this.cancelKeepAlive(),this.handle=null,this.onclose(a),a.code===To?zn.info({id:t},"custom disconnect, will not reconnect"):a.code===Ay?zn.info({id:t},"going away, will not reconnect"):(zn.info({id:t,code:a.code},"connection closed, trying to reconnect."),n())}}disconnect(){this.handle&&(zn.info({code:To},"handle existed, closing"),this.handle.close(To))}}const Pu=xs("WsClient.ts");class Tf extends Dy{constructor(t,n){super(t,n),this._on={},this.onopen=o=>{this._dispatch("socket","open",o)},this.onmessage=o=>{if(this._dispatch("socket","message",o),this._on.message){const a=this._parseMessageData(o.data);a.event&&this._dispatch("message",`${a.event}`,a.data,a)}},this.onclose=o=>{this._dispatch("socket","close",o)}}onSocket(t,n){this.addEventListener("socket",t,n)}onMessage(t,n){this.addEventListener("message",t,n)}addEventListener(t,n,o){const a=Array.isArray(n)?n:[n];this._on[t]=this._on[t]||{};for(const l of a)this._on[t][l]=this._on[t][l]||[],this._on[t][l].push(o)}_parseMessageData(t){try{const n=JSON.parse(t);if(n.event)return n.data=n.data||null,n}catch(n){Pu.info({e:n})}return{event:null,data:null}}_dispatch(t,n,...o){const l=(this._on[t]||{})[n]||[];if(l.length!==0){Pu.info({type:t,tag:n},"ws dispatch");for(const i of l)i(...o)}}}const Oy=e=>{const t=Cf.getConf(),n=cn.getMe();return new Tf(`${t.wsBase}/${e}`,n?n.token:"")},bi=e=>{if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if(e.dataTransfer.items[t].kind==="file")return e.dataTransfer.items[t].getAsFile();return null}for(let t=0;t<e.dataTransfer.files.length;t++)return e.dataTransfer.files[t];return null};var qn={wsClient:Oy,getFileFromDropEvent:bi,getParam:e=>new URLSearchParams(window.location.search).get(e)||""};const Ry={name:"Hyottoko-Chan",width:400,height:400,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1},{value:"brb",deletable:!0}],slotDefinitions:[{slot:"Base",defaultItemIndex:0,items:[{title:"Default Clothing",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bVyo1l-BASE.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/JFvasz-2022-01-30T01_30_40.133Z-xUI5QQ.png",duration:100}]}]},{title:"Neko Maid",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/CnWpBL-BASE 2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/xV8vXJ-brb2.png",duration:100}]}]}]},{slot:"Mouth",defaultItemIndex:0,items:[{title:"Confused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/GkDE45-mouth-confused-open.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/snKSAf-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Mild Smile",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/TTeOCx-mouth-mild-smile.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/gjs4vW-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bbpNaD-mouth-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Eyes",defaultItemIndex:1,items:[{title:"Calm",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/NO7zrl-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/nmUEqi-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/9eidC9-l2idid-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/pw1HJw-nmUEqi-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Interested",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/2wlpCr-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/DwiBor-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/5fP25n-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/PYiAtV-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/LQkiXq-eyes-down-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Hands + Table",defaultItemIndex:0,items:[{title:"Empty",states:[{state:"default",frames:[{url:"",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[]}]},{title:"Mouse Study",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/YJnPbG-mouse-study.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Tablet",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/MNHy2s-tablet-osu.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Knitting",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/pn9ZlM-knitting-hands2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Cross Stitch",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/XZRYyh-crossstitch-hands.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]}],state:{slots:{Mouth:1,Eyes:1,Base:1,"Hands + Table":1},lockedState:"default"}};const Py=de({data:()=>({editIdx:-1,editEntity:null,unchangedJson:"{}",changedJson:"{}",settings:Pl(),defaultSettings:Pl(),ws:null,inited:!1,tabDefinitions:[{tab:"avatars",title:"Avatars"},{tab:"settings",title:"Settings"}],tab:"avatars",controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=qn.wsClient("avatar"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{edit(e){if(!this.settings){console.warn("edit: this.settings not initialized");return}this.editIdx=e,this.editEntity=this.settings.avatarDefinitions[e]},remove(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.avatarDefinitions=this.settings.avatarDefinitions.filter((t,n)=>n!==e),this.sendSave()},duplicate(e){if(!this.settings){console.warn("duplicate: this.settings not initialized");return}this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=JSON.parse(JSON.stringify(this.settings.avatarDefinitions[e]))},updatedAvatar(e){if(!this.settings){console.warn("updateAvatar: this.settings not initialized");return}this.settings.avatarDefinitions[this.editIdx]=e,this.sendSave()},addAvatar(){if(!this.settings){console.warn("addAvatar: this.settings not initialized");return}const e={name:"Unnamed Avatar",width:64,height:64,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1}],slotDefinitions:[],state:{slots:{},lockedState:"default"}};this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},addExampleAvatar(){const e=JSON.parse(JSON.stringify(Ry));this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},dragEnd(e){if(!this.settings){console.warn("dragEnd: this.settings not initialized");return}this.settings.avatarDefinitions=Yt.arrayMove(this.settings.avatarDefinitions,e.oldIndex,e.newIndex),this.sendSave()}}}),My={class:"view"},Uy={id:"top",ref:"top"},Ny={id:"actionbar",class:"p-1"},Ly=["href"],Fy=["href"],By={key:0,id:"main",ref:"main"},Hy={class:"tabs"},zy=["onClick"],jy={key:0,class:"table is-striped"},Wy=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),xy=s("td",null,[s("code",null,"settings.style.bgColor")],-1),Ky=["disabled"],Jy=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),Gy={key:1},Yy={class:"table is-striped"},Xy=s("thead",null,[s("tr",null,[s("th"),s("th"),s("th",null,"Preview"),s("th",null,"Name"),s("th",null,"Actions")])],-1),Qy=s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1),Zy={class:"pl-0 pr-0"},qy=["onClick"],eb=s("i",{class:"fa fa-pencil"},null,-1),tb=[eb],nb={class:"pl-0 pr-0"},sb=s("i",{class:"fa fa-trash"},null,-1),ob=["onClick"],ib=s("i",{class:"fa fa-clone"},null,-1),ab=[ib],lb=["href"],rb=s("i",{class:"fa fa-external-link mr-1"},null,-1),ub=V(" Control widget"),db=[rb,ub],cb=["href"],fb=s("i",{class:"fa fa-external-link mr-1"},null,-1),hb=V(" Display widget"),mb=[fb,hb];function pb(e,t,n,o,a,l){const i=N("navbar-element"),r=N("CheckboxInput"),u=N("avatar-preview"),d=N("doubleclick-button"),c=N("vue-draggable"),f=N("avatar-editor");return g(),v("div",My,[s("div",Uy,[T(i),s("div",Ny,[s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,Ly),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,Fy)])],512),e.inited?(g(),v("div",By,[s("div",Hy,[s("ul",null,[(g(!0),v(Z,null,ue(e.tabDefinitions,(h,m)=>(g(),v("li",{key:m,class:De({"is-active":e.tab===h.tab}),onClick:p=>e.tab=h.tab},[s("a",null,Y(h.title),1)],10,zy))),128))])]),e.tab==="settings"?(g(),v("table",jy,[s("tbody",null,[Wy,s("tr",null,[xy,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=h=>e.settings.styles.bgColor=h),class:"input is-small",type:"color","on:update:modelValue":t[1]||(t[1]=(...h)=>e.sendSave&&e.sendSave(...h))},null,544),[[$e,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=h=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)}," Reset to default ",8,Ky)])]),s("tr",null,[Jy,s("td",null,[T(r,{modelValue:e.settings.styles.bgColorEnabled,"onUpdate:modelValue":[t[3]||(t[3]=h=>e.settings.styles.bgColorEnabled=h),e.sendSave]},null,8,["modelValue","onUpdate:modelValue"])])])])])):M("",!0),e.tab==="avatars"?(g(),v("div",Gy,[s("table",Yy,[Xy,T(c,{"model-value":e.settings.avatarDefinitions,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:ut(({element:h,index:m})=>[s("tr",null,[Qy,s("td",Zy,[s("button",{class:"button is-small",onClick:p=>e.edit(m)},tb,8,qy)]),s("td",null,[T(u,{avatar:h},null,8,["avatar"])]),s("td",null,Y(h.name),1),s("td",nb,[T(d,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:p=>e.remove(m)},{default:ut(()=>[sb]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small mr-1",onClick:p=>e.duplicate(m)},ab,8,ob),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl+"?avatar="+h.name,target:"_blank"},db,8,lb),s("a",{class:"button is-small",href:e.displayWidgetUrl+"?avatar="+h.name,target:"_blank"},mb,8,cb)])])]),_:1},8,["model-value","onEnd"])]),e.editEntity?(g(),Ae(f,{key:0,"model-value":e.editEntity,"onUpdate:modelValue":e.updatedAvatar,onCancel:t[4]||(t[4]=h=>e.editEntity=null)},null,8,["model-value","onUpdate:modelValue"])):M("",!0),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=(...h)=>e.addAvatar&&e.addAvatar(...h))},"Add new avatar"),s("span",{class:"button is-small",onClick:t[6]||(t[6]=(...h)=>e.addExampleAvatar&&e.addExampleAvatar(...h))},"Add example avatar (Hyottoko-Chan)")])):M("",!0)],512)):M("",!0)])}var gb=Ne(Py,[["render",pb]]);const yr=()=>({volume:100}),vb=()=>({showImages:!0,autocommands:[]});var Ot=(e=>(e.BALLOON="balloon",e.BOUNCY="bouncy",e.EXPLODE="explode",e.FLOATING_SPACE="floatingSpace",e.FOUNTAIN="fountain",e.RAIN="rain",e.RANDOM_BEZIER="randomBezier",e))(Ot||{}),Kt=(e=>(e.COMMAND="command",e.REWARD_REDEMPTION="reward_redemption",e.FOLLOW="follow",e.SUB="sub",e.BITS="bits",e.RAID="raid",e.TIMER="timer",e.FIRST_CHAT="first_chat",e))(Kt||{}),he=(e=>(e.TEXT="text",e.MEDIA="media",e.EMOTES="emotes",e.MEDIA_VOLUME="media_volume",e.COUNTDOWN="countdown",e.DICT_LOOKUP="dict_lookup",e.MADOCHAN_CREATEWORD="madochan_createword",e.CHATTERS="chatters",e.SET_CHANNEL_TITLE="set_channel_title",e.SET_CHANNEL_GAME_ID="set_channel_game_id",e.ADD_STREAM_TAGS="add_stream_tags",e.REMOVE_STREAM_TAGS="remove_stream_tags",e.SR_CURRENT="sr_current",e.SR_UNDO="sr_undo",e.SR_GOOD="sr_good",e.SR_BAD="sr_bad",e.SR_STATS="sr_stats",e.SR_PREV="sr_prev",e.SR_NEXT="sr_next",e.SR_JUMPTONEW="sr_jumptonew",e.SR_CLEAR="sr_clear",e.SR_RM="sr_rm",e.SR_SHUFFLE="sr_shuffle",e.SR_RESET_STATS="sr_reset_stats",e.SR_LOOP="sr_loop",e.SR_NOLOOP="sr_noloop",e.SR_PAUSE="sr_pause",e.SR_UNPAUSE="sr_unpause",e.SR_HIDEVIDEO="sr_hidevideo",e.SR_SHOWVIDEO="sr_showvideo",e.SR_REQUEST="sr_request",e.SR_RE_REQUEST="sr_re_request",e.SR_ADDTAG="sr_addtag",e.SR_RMTAG="sr_rmtag",e.SR_VOLUME="sr_volume",e.SR_FILTER="sr_filter",e.SR_PRESET="sr_preset",e.SR_QUEUE="sr_queue",e))(he||{}),Fa=(e=>(e.TEXT="text",e.MEDIA="media",e.DELAY="delay",e))(Fa||{});const pt=["mod","broadcaster"],Ks=[{value:"broadcaster",label:"Broadcaster"},{value:"mod",label:"Moderators"},{value:"sub",label:"Subscribers"}],yb=e=>{if(e.length===0)return"Everyone";const t=[];return Ks.forEach(n=>{e.includes(n.value)&&t.push(n.label)}),t.join(", ")},br=()=>"",bb=(e=null)=>({filename:ie(e,["filename"],""),file:ie(e,["file"],""),urlpath:ie(e,["urlpath"],""),volume:ie(e,["volume"],100)}),$b=(e=null)=>({filename:ie(e,["filename"],""),file:ie(e,["file"],""),urlpath:ie(e,["urlpath"],"")}),wb=(e=null)=>({url:ie(e,["url"],""),volume:ie(e,["volume"],100)}),go=(e=null)=>({widgetIds:ie(e,["widgetIds"],[]),sound:bb(e==null?void 0:e.sound),image:$b(e==null?void 0:e.image),image_url:ie(e,["image_url"],""),video:wb(e==null?void 0:e.video),minDurationMs:ie(e,["minDurationMs"],"1s")}),_b=()=>({type:Fa.DELAY,value:"1s"}),Cb=()=>({type:Fa.TEXT,value:br()}),Sb=()=>({type:Fa.MEDIA,value:go()}),Js=e=>({type:e,data:{command:"",commandExact:!1,minInterval:0,minLines:0,since:"stream"}}),je=(e="",t=!1)=>{const n=Js(Kt.COMMAND);return n.data.command=e,n.data.commandExact=t,n},wo=e=>{if(e.type===Kt.COMMAND)return!!e.data.command;if(e.type===Kt.TIMER){try{vr(e.data.minInterval)}catch{return!1}const t=parseInt(`${e.data.minLines}`,10);return!isNaN(t)}return!0},_t={add_stream_tags:{Name:()=>"add_stream_tags command",Description:()=>"Add streamtag",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.ADD_STREAM_TAGS,restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},chatters:{Name:()=>"chatters command",Description:()=>"Outputs the people who chatted during the stream.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.CHATTERS,restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},countdown:{Name:()=>"countdown",Description:()=>"Add a countdown or messages spaced by time intervals.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.COUNTDOWN,restrict_to:[],variables:[],variableChanges:[],data:{type:"auto",step:"",steps:"3",interval:"1s",intro:"Starting countdown...",outro:"Done!",actions:[]}}),RequiresAccessToken:()=>!1},dict_lookup:{Name:()=>"dictionary lookup",Description:()=>"Outputs the translation for the searched word.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.DICT_LOOKUP,restrict_to:[],variables:[],variableChanges:[],data:{lang:"ja",phrase:""}}),RequiresAccessToken:()=>!1},madochan_createword:{Name:()=>"madochan",Description:()=>"Creates a word for a definition.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.MADOCHAN_CREATEWORD,restrict_to:[],variables:[],variableChanges:[],data:{model:"100epochs800lenhashingbidirectional.h5",weirdness:"1"}}),RequiresAccessToken:()=>!1},media:{Name:()=>"media command",Description:()=>"Display an image and/or play a sound.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.MEDIA,restrict_to:[],variables:[],variableChanges:[],data:go()}),RequiresAccessToken:()=>!1},emotes:{Name:()=>"emote command",Description:()=>"Display emotes.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.EMOTES,restrict_to:[],variables:[],variableChanges:[],data:{displayFn:[],emotes:[]}}),RequiresAccessToken:()=>!1},media_volume:{Name:()=>"media volume command",Description:()=>`Sets the media volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.MEDIA_VOLUME,restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},text:{Name:()=>"command",Description:()=>"Send a message to chat",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.TEXT,restrict_to:[],variables:[],variableChanges:[],data:{text:[br()]}}),RequiresAccessToken:()=>!1},remove_stream_tags:{Name:()=>"remove_stream_tags command",Description:()=>"Remove streamtag",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.REMOVE_STREAM_TAGS,restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},set_channel_game_id:{Name:()=>"change stream category command",Description:()=>"Change the stream category",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.SET_CHANNEL_GAME_ID,restrict_to:pt,variables:[],variableChanges:[],data:{game_id:""}}),RequiresAccessToken:()=>!0},set_channel_title:{Name:()=>"change stream title command",Description:()=>"Change the stream title",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),triggers:[je()],action:he.SET_CHANNEL_TITLE,restrict_to:pt,variables:[],variableChanges:[],data:{title:""}}),RequiresAccessToken:()=>!0},sr_current:{Name:()=>"sr_current",Description:()=>"Show what song is currently playing",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_CURRENT,triggers:[je("!sr current",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_undo:{Name:()=>"sr_undo",Description:()=>"Remove the song that was last added by oneself.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_UNDO,triggers:[je("!sr undo",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_good:{Name:()=>"sr_good",Description:()=>"Vote the current song up",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_GOOD,triggers:[je("!sr good",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_bad:{Name:()=>"sr_bad",Description:()=>"Vote the current song down",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_BAD,triggers:[je("!sr bad",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_stats:{Name:()=>"sr_stats",Description:()=>"Show stats about the playlist",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_STATS,triggers:[je("!sr stats",!0),je("!sr stat",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_prev:{Name:()=>"sr_prev",Description:()=>"Skip to the previous song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_PREV,triggers:[je("!sr prev",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_next:{Name:()=>"sr_next",Description:()=>"Skip to the next song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_NEXT,triggers:[je("!sr next",!0),je("!sr skip",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_jumptonew:{Name:()=>"sr_jumptonew",Description:()=>"Jump to the next unplayed song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_JUMPTONEW,triggers:[je("!sr jumptonew",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_clear:{Name:()=>"sr_clear",Description:()=>"Clear the playlist",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_CLEAR,triggers:[je("!sr clear",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_rm:{Name:()=>"sr_rm",Description:()=>"Remove the current song from the playlist",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_RM,triggers:[je("!sr rm",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_shuffle:{Name:()=>"sr_shuffle",Description:()=>`Shuffle the playlist (current song unaffected).
    <br />
    Non-played and played songs will be shuffled separately and non-played
    songs will be put after currently playing song.`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_SHUFFLE,triggers:[je("!sr shuffle",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_reset_stats:{Name:()=>"sr_reset_stats",Description:()=>"Reset all statistics of all songs",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_RESET_STATS,triggers:[je("!sr resetStats",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_loop:{Name:()=>"sr_loop",Description:()=>"Loop the current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_LOOP,triggers:[je("!sr loop",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_noloop:{Name:()=>"sr_noloop",Description:()=>"Stop looping the current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_NOLOOP,triggers:[je("!sr noloop",!0),je("!sr unloop",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_pause:{Name:()=>"sr_pause",Description:()=>"Pause currently playing song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_PAUSE,triggers:[je("!sr pause",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_unpause:{Name:()=>"sr_unpause",Description:()=>"Unpause currently paused song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_UNPAUSE,triggers:[je("!sr nopause",!0),je("!sr unpause",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_hidevideo:{Name:()=>"sr_hidevideo",Description:()=>"Hide video for current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_HIDEVIDEO,triggers:[je("!sr hidevideo",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_showvideo:{Name:()=>"sr_showvideo",Description:()=>"Show video for current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_SHOWVIDEO,triggers:[je("!sr showvideo",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_request:{Name:()=>"sr_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    at youtube (by id or by title)
    and queue the first result in the playlist (after the first found
    batch of unplayed songs).`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_REQUEST,triggers:[je("!sr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_re_request:{Name:()=>"sr_re_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    in the current playlist and queue the first result in the playlist
    (after the first found batch of unplayed songs).`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_RE_REQUEST,triggers:[je("!resr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_addtag:{Name:()=>"sr_addtag",Description:()=>"Add tag <code>&lt;TAG&gt;</code> (argument to this command) to the current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_ADDTAG,triggers:[je("!sr tag"),je("!sr addtag")],restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!1},sr_rmtag:{Name:()=>"sr_rmtag",Description:()=>"Remove tag <code>&lt;TAG&gt;</code> (argument to this command) from the current song",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_RMTAG,triggers:[je("!sr rmtag")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_volume:{Name:()=>"sr_volume",Description:()=>`Sets the song request volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_VOLUME,triggers:[je("!sr volume")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_filter:{Name:()=>"sr_filter",Description:()=>`Play only songs with the given tag <code>&lt;TAG&gt;</code> (argument to this command). If no tag
  is given, play all songs.`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_FILTER,triggers:[je("!sr filter")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_preset:{Name:()=>"sr_preset",Description:()=>`Switches to the preset <code>&lt;PRESET&gt;</code> (argument to this command) if it exists.
  If no arguments are given, outputs all available presets.`,NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_PRESET,triggers:[je("!sr preset")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_queue:{Name:()=>"sr_queue",Description:()=>"Shows the next 3 songs that will play.",NewCommand:()=>({id:Ke(10),createdAt:JSON.stringify(new Date),action:he.SR_QUEUE,triggers:[je("!sr queue")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1}},_o=()=>[{type:Kt.COMMAND,label:"Add Command",title:"Command"},{type:Kt.FIRST_CHAT,label:"Add First Chat",title:"First Chat"},{type:Kt.REWARD_REDEMPTION,label:"Add Reward Redemption",title:"Reward Redemption"},{type:Kt.BITS,label:"Add Bits",title:"Bits"},{type:Kt.FOLLOW,label:"Add Follow",title:"Follow"},{type:Kt.RAID,label:"Add Raid",title:"Raid"},{type:Kt.SUB,label:"Add Sub",title:"Sub"},{type:Kt.TIMER,label:"Add Timer",title:"Timer"}],Eb=["placeholder"],Xt=de({__name:"StringInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ve(n.modelValue);return Tt(()=>n.modelValue,a=>{o.value=a}),Tt(o,a=>{t("update:modelValue",a)},{deep:!0}),(a,l)=>oe((g(),v("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Eb)),[[$e,o.value]])}}),kb=de({components:{StringInput:Xt},props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:Ks}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),Tb={key:0,class:"modal is-active"},Ib={class:"modal-card"},Vb={class:"modal-card-head"},Ab={class:"modal-card-title"},Db={class:"modal-card-body"},Ob={class:"table is-striped"},Rb=s("td",null,"Triggers:",-1),Pb={key:0},Mb=s("td",null,"Description:",-1),Ub=["innerHTML"],Nb={key:1},Lb=s("td",null,"Attention:",-1),Fb=s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1),Bb=[Lb,Fb],Hb={key:2},zb=s("td",null,"Stream title:",-1),jb={key:3},Wb=s("td",null,"Stream category:",-1),xb={key:4},Kb=s("td",null,"Tag to add:",-1),Jb={key:5},Gb=s("td",null,"Tag to remove:",-1),Yb={key:6},Xb=s("td",null,"Tag:",-1),Qb={key:7},Zb=s("td",null,"Response:",-1),qb=s("td",null,"Outputs the people who chatted during the stream.",-1),e1=[Zb,qb],t1={key:8},n1=s("td",null,"Settings",-1),s1=s("td",null,"Variables:",-1),o1={key:0},i1=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),a1=["onClick"],l1=s("i",{class:"fa fa-remove"},null,-1),r1=[l1],u1=s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1),d1=s("td",null,"Variable changes:",-1),c1={key:0},f1=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),h1={class:"select is-small"},m1=["onUpdate:modelValue"],p1=s("option",{value:"set"}," set ",-1),g1=s("option",{value:"increase_by"}," increase by ",-1),v1=s("option",{value:"decrease_by"}," decrease by ",-1),y1=[p1,g1,v1],b1=["onClick"],$1=s("i",{class:"fa fa-remove"},null,-1),w1=[$1],_1=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),C1=s("td",null,"Permissions:",-1),S1=["value"],E1={class:"modal-card-foot"},k1=["disabled"];function T1(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("countdown-editor"),d=N("StringInput"),c=N("dropdown-input");return e.item?(g(),v("div",Tb,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...f)=>e.onOverlayClick&&e.onOverlayClick(...f))}),s("div",Ib,[s("header",Vb,[s("p",Ab,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...f)=>e.onCloseClick&&e.onCloseClick(...f))})]),s("section",Db,[s("table",Ob,[s("tbody",null,[s("tr",null,[Rb,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(f,h)=>(g(),Ae(i,{key:h,class:"spacerow","model-value":f,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":m=>e.item.triggers[h]=m,onRemove:m=>e.rmtrigger(h)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",Pb,[Mb,s("td",{innerHTML:e.actionDescription},null,8,Ub)])):M("",!0),e.requiresAccessToken?(g(),v("tr",Nb,Bb)):M("",!0),e.item.action==="set_channel_title"?(g(),v("tr",Hb,[zb,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=f=>e.item.data.title=f),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.title]]),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=f=>e.item.data.title="")},"All args")])])):M("",!0),e.item.action==="set_channel_game_id"?(g(),v("tr",jb,[Wb,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=f=>e.item.data.game_id=f),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.game_id]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=f=>e.item.data.game_id="")},"All args")])])):M("",!0),e.item.action==="add_stream_tags"?(g(),v("tr",xb,[Kb,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[6]||(t[6]=f=>e.item.data.tag=f),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[7]||(t[7]=f=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="remove_stream_tags"?(g(),v("tr",Jb,[Gb,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[8]||(t[8]=f=>e.item.data.tag=f),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[9]||(t[9]=f=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="sr_addtag"?(g(),v("tr",Yb,[Xb,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[10]||(t[10]=f=>e.item.data.tag=f),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[11]||(t[11]=f=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="chatters"?(g(),v("tr",Qb,e1)):M("",!0),e.item.action==="countdown"?(g(),v("tr",t1,[n1,s("td",null,[T(u,{modelValue:e.item.data,"onUpdate:modelValue":t[12]||(t[12]=f=>e.item.data=f),"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])])])):M("",!0),s("tr",null,[s1,s("td",null,[e.item.variables.length>0?(g(),v("table",o1,[i1,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(f,h)=>(g(),v("tr",{key:h},[s("td",null,[T(d,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(d,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariable(h)},r1,8,a1)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...f)=>e.onAddVariable&&e.onAddVariable(...f))},"Add Variable"),u1])]),s("tr",null,[d1,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",c1,[f1,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(f,h)=>(g(),v("tr",{key:h},[s("td",null,[T(c,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m,values:e.autocompletableVariables().map(m=>({value:m.var.name,label:`${m.var.name} (${m.type}), <code>${m.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",h1,[oe(s("select",{"onUpdate:modelValue":m=>f.change=m},y1,8,m1),[[Nn,f.change]])])]),s("td",null,[T(d,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariableChange(h)},w1,8,b1)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[14]||(t[14]=(...f)=>e.onAddVariableChange&&e.onAddVariableChange(...f))},"Add Variable Change"),_1])]),s("tr",null,[C1,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(f,h)=>(g(),v("label",{key:h,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[15]||(t[15]=m=>e.item.restrict_to=m),type:"checkbox",value:f.value},null,8,S1),[[Tn,e.item.restrict_to]]),V(" "+Y(f.label),1)]))),128))])])])])]),s("footer",E1,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[16]||(t[16]=(...f)=>e.onSaveClick&&e.onSaveClick(...f))}," Save changes ",8,k1),s("button",{class:"button is-small",onClick:t[17]||(t[17]=(...f)=>e.onCancelClick&&e.onCancelClick(...f))}," Cancel ")])])])):M("",!0)}var I1=Ne(kb,[["render",T1]]);const V1=de({components:{StringInput:Xt},props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:Ks,possibleEmoteDisplayFunctions:[Ot.BALLOON,Ot.BOUNCY,Ot.EXPLODE,Ot.FLOATING_SPACE,Ot.FOUNTAIN,Ot.RAIN,Ot.RANDOM_BEZIER],channelNameInput:"",possibleEmoteSets:[]}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},async created(){this.possibleEmoteSets=[];const t=await(await ft.getGeneralGlobalEmotes()).json();this.possibleEmoteSets.push({name:"global",emotes:t.data.map(n=>`https://static-cdn.jtvnw.net/emoticons/v2/${n.id}/default/dark/3.0`)})},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{async loadChannelEmotes(){const e=this.channelNameInput;if(this.possibleEmoteSets.find(o=>o.name===e))return;const n=await(await ft.getGeneralChannelEmotes(e)).json();this.possibleEmoteSets.unshift({name:e,emotes:n.data.map(o=>`https://static-cdn.jtvnw.net/emoticons/v2/${o.id}/default/dark/3.0`)})},rmFn(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.displayFn=this.item.data.displayFn.filter((t,n)=>n!==e)},addFn(){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.displayFn.push({fn:Ot.FLOATING_SPACE,args:[]})},removeEmote(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.emotes=this.item.data.emotes.filter((t,n)=>n!==e)},addEmote(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.emotes.push({url:e})},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),A1={key:0,class:"modal is-active"},D1={class:"modal-card"},O1={class:"modal-card-head"},R1={class:"modal-card-title"},P1={class:"modal-card-body"},M1={class:"table is-striped"},U1=s("td",null,"Triggers:",-1),N1={key:0},L1=s("td",null,"Description:",-1),F1=["innerHTML"],B1=s("td",null,"Display Functions",-1),H1={class:"control"},z1={class:"select is-small"},j1=["onUpdate:modelValue"],W1=["value"],x1=["onClick"],K1=s("i",{class:"fa fa-remove"},null,-1),J1=[K1],G1=s("i",{class:"fa fa-plus mr-1"},null,-1),Y1=V(" Add "),X1=[G1,Y1],Q1=s("td",null,"Emotes",-1),Z1={class:"emote-select"},q1=["src","onClick"],e0={class:"field has-addons"},t0={class:"control"},n0=s("i",{class:"fa fa-plus mr-1"},null,-1),s0=V(" Show emotes from channel "),o0=[n0,s0],i0={class:"emote-select"},a0=V(" Select emotes to display: "),l0={class:"emote-set-name"},r0=["src","onClick"],u0={key:1},d0=s("td",null,"Attention:",-1),c0=s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1),f0=[d0,c0],h0=s("td",null,"Variables:",-1),m0={key:0},p0=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),g0=["onClick"],v0=s("i",{class:"fa fa-remove"},null,-1),y0=[v0],b0=s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1),$0=s("td",null,"Variable changes:",-1),w0={key:0},_0=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),C0={class:"select is-small"},S0=["onUpdate:modelValue"],E0=s("option",{value:"set"}," set ",-1),k0=s("option",{value:"increase_by"}," increase by ",-1),T0=s("option",{value:"decrease_by"}," decrease by ",-1),I0=[E0,k0,T0],V0=["onClick"],A0=s("i",{class:"fa fa-remove"},null,-1),D0=[A0],O0=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),R0=s("td",null,"Permissions:",-1),P0=["value"],M0={class:"modal-card-foot"},U0=["disabled"];function N0(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("StringInput"),d=N("dropdown-input");return e.item?(g(),v("div",A1,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",D1,[s("header",O1,[s("p",R1,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",P1,[s("table",M1,[s("tbody",null,[s("tr",null,[U1,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(c,f)=>(g(),Ae(i,{key:f,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[f]=h,onRemove:h=>e.rmtrigger(f)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",N1,[L1,s("td",{innerHTML:e.actionDescription},null,8,F1)])):M("",!0),s("tr",null,[B1,s("td",null,[(g(!0),v(Z,null,ue(e.item.data.displayFn,(c,f)=>(g(),v("div",{key:f,class:"field has-addons mb-1"},[s("div",H1,[s("div",z1,[oe(s("select",{"onUpdate:modelValue":h=>e.item.data.displayFn[f].fn=h},[(g(!0),v(Z,null,ue(e.possibleEmoteDisplayFunctions,(h,m)=>(g(),v("option",{key:m,value:h},Y(h),9,W1))),128))],8,j1),[[Nn,e.item.data.displayFn[f].fn]])])]),s("button",{class:"button is-small",onClick:h=>e.rmFn(f)},J1,8,x1)]))),128)),s("button",{class:"button is-small",onClick:t[2]||(t[2]=c=>e.addFn())},X1)])]),s("tr",null,[Q1,s("td",null,[s("div",Z1,[(g(!0),v(Z,null,ue(e.item.data.emotes,(c,f)=>(g(),v("img",{key:f,src:c.url,onClick:h=>e.removeEmote(f)},null,8,q1))),128))]),s("div",e0,[s("div",t0,[T(u,{modelValue:e.channelNameInput,"onUpdate:modelValue":t[3]||(t[3]=c=>e.channelNameInput=c),placeholder:"Enter channel name here"},null,8,["modelValue"])]),s("button",{class:"button is-small",onClick:t[4]||(t[4]=(...c)=>e.loadChannelEmotes&&e.loadChannelEmotes(...c))},o0)]),s("div",i0,[a0,(g(!0),v(Z,null,ue(e.possibleEmoteSets,(c,f)=>(g(),v("div",{key:f},[s("div",l0,Y(c.name),1),(g(!0),v(Z,null,ue(c.emotes,(h,m)=>(g(),v("img",{key:m,src:h,onClick:p=>e.addEmote(h)},null,8,r0))),128))]))),128))])])]),e.requiresAccessToken?(g(),v("tr",u0,f0)):M("",!0),s("tr",null,[h0,s("td",null,[e.item.variables.length>0?(g(),v("table",m0,[p0,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(u,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(f)},y0,8,g0)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[5]||(t[5]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),b0])]),s("tr",null,[$0,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",w0,[_0,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(d,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",C0,[oe(s("select",{"onUpdate:modelValue":h=>c.change=h},I0,8,S0),[[Nn,c.change]])])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(f)},D0,8,V0)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[6]||(t[6]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),O0])]),s("tr",null,[R0,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(c,f)=>(g(),v("label",{key:f,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[7]||(t[7]=h=>e.item.restrict_to=h),type:"checkbox",value:c.value},null,8,P0),[[Tn,e.item.restrict_to]]),V(" "+Y(c.label),1)]))),128))])])])])]),s("footer",M0,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[8]||(t[8]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,U0),s("button",{class:"button is-small",onClick:t[9]||(t[9]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):M("",!0)}var L0=Ne(V1,[["render",N0]]);const F0=de({components:{CommandEditor:I1,EmotesCommandEditor:L0},props:{globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},possibleActions:{type:Array,required:!0},baseVolume:{type:Number,required:!0},modelValue:{type:Array,required:!0},showToggleImages:{type:Boolean,required:!1,default:!1},showFilterActions:{type:Boolean,required:!1,default:!1},showImages:{type:Boolean,required:!1,default:!1},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","showImagesChange"],data(){return{commands:[],editIdx:null,editCommand:null,filter:{search:"",actions:[]},imagesVisible:!1}},computed:{possibleActionsMapped(){return this.possibleActions.map(e=>({type:e,title:this.actionDescription(e),label:`Add ${this.actionName(e)}`}))},possibleActionsWithCount(){return this.possibleActions.map(e=>({action:e,count:this.commandCount(e)})).filter(e=>e.count>0)}},created(){this.commands=JSON.parse(JSON.stringify(this.modelValue)),this.imagesVisible=this.showImages},methods:{onImageVisibleChange(){this.$emit("showImagesChange",this.imagesVisible)},emitChange(){this.$emit("update:modelValue",this.commands)},commandCount(e){let t=0;for(const n of this.commands)n.action===e&&t++;return t},filteredOut(e){if(this.filter.actions.length>0&&!this.filter.actions.includes(e.action))return!0;if(!this.filter.search)return!1;const t=this.filter.search.toLowerCase();return!(e.triggers.find(o=>o.type===Kt.COMMAND||o.type===Kt.REWARD_REDEMPTION?o.data.command.toLowerCase().indexOf(t)>=0:!1)||e.action===he.TEXT&&e.data.text.find(a=>a.toLowerCase().indexOf(t)>=0))},permissionsStr(e){return yb(e.restrict_to)},remove(e){this.commands=this.commands.filter((t,n)=>n!==e),this.emitChange()},add(e){const t=e.type;this.editIdx=-1,this.editCommand=_t[t].NewCommand()},edit(e){this.editIdx=e,this.editCommand=this.commands[e]},duplicate(e){this.editIdx=-1,this.editCommand=JSON.parse(JSON.stringify(this.commands[e]))},editedCommand(e){this.editIdx!==null&&(this.editIdx===-1?this.commands.unshift(e):this.commands[this.editIdx]=e,this.emitChange(),this.editIdx=null,this.editCommand=null)},dragEnd(e){this.commands=Yt.arrayMove(this.commands,e.oldIndex,e.newIndex),this.emitChange()},actionDescription(e){return _t[e].Description()},actionName(e){return _t[e].Name()}}}),Bt=e=>(En("data-v-63c747a0"),e=e(),kn(),e),B0={class:"actions"},H0=Bt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),z0={class:"field has-addons mr-1 mb-0"},j0={class:"control"},W0={key:0,class:"field"},x0=["value"],K0={key:0,class:"table-container"},J0={ref:"table",class:"table is-striped"},G0=Bt(()=>s("th",null,null,-1)),Y0=Bt(()=>s("th",null,null,-1)),X0=Bt(()=>s("th",null,"Trigger",-1)),Q0=V(" Response "),Z0={key:0},q0=V(" Show images "),e$=Bt(()=>s("th",null,"Type",-1)),t$=Bt(()=>s("th",null,"Permissions",-1)),n$=Bt(()=>s("th",null,"Widgets",-1)),s$=Bt(()=>s("th",null,null,-1)),o$=Bt(()=>s("th",null,null,-1)),i$=Bt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),a$={class:"pl-0 pr-0"},l$=["onClick"],r$=Bt(()=>s("i",{class:"fa fa-pencil"},null,-1)),u$=[r$],d$={class:"col-triggers"},c$={key:0},f$={key:0},h$={key:0,class:"spacerow media-holder media-holder-inline"},m$={key:1},p$={key:2,class:"fa fa-plus is-justify-content-center mr-2 ml-2"},g$={key:3,class:"ml-2"},v$=V("for at least "),y$={key:4,class:"ml-2"},b$=V("for "),$$={key:2},w$={key:0},_$=Bt(()=>s("span",null,"\u2192",-1)),C$=V(" \u2715 "),S$=Bt(()=>s("span",null,"\u2192",-1)),E$={key:1},k$={key:1},T$={key:2},I$=V(" Media("),V$={key:0},A$={key:1},D$={key:2},O$=V(") "),R$={key:3},P$=["innerHTML"],M$={key:0},U$=["href"],N$=["href"],L$=V(" Widget "),F$={key:1},B$={class:"pl-0 pr-0"},H$=Bt(()=>s("i",{class:"fa fa-trash"},null,-1)),z$=["onClick"],j$=Bt(()=>s("i",{class:"fa fa-clone"},null,-1)),W$=[j$],x$={key:1};function K$(e,t,n,o,a,l){const i=N("dropdown-button"),r=N("CheckboxInput"),u=N("trigger-info"),d=N("responsive-image"),c=N("audio-player"),f=N("duration-display"),h=N("doubleclick-button"),m=N("vue-draggable"),p=N("text-command-editor"),y=N("media-command-editor"),w=N("dict-lookup-command-editor"),$=N("madochan-createword-command-editor"),b=N("EmotesCommandEditor"),S=N("CommandEditor");return g(),v("div",null,[s("div",B0,[T(i,{actions:e.possibleActionsMapped,label:"Add command",onClick:e.add},null,8,["actions","onClick"]),H0,s("div",z0,[s("div",j0,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=_=>e.filter.search=_),class:"input is-small"},null,512),[[$e,e.filter.search]])])]),e.showFilterActions?(g(),v("div",W0,[(g(!0),v(Z,null,ue(e.possibleActionsWithCount,(_,I)=>(g(),v("label",{key:I,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=E=>e.filter.actions=E),class:"mr-1",type:"checkbox",value:_.action},null,8,x0),[[Tn,e.filter.actions]]),V(Y(_.action)+" ("+Y(_.count)+")",1)]))),128))])):M("",!0)]),e.commands.length>0?(g(),v("div",K0,[s("table",J0,[s("thead",null,[s("tr",null,[G0,Y0,X0,s("th",null,[Q0,e.showToggleImages?(g(),v("label",Z0,[T(r,{modelValue:e.imagesVisible,"onUpdate:modelValue":[t[2]||(t[2]=_=>e.imagesVisible=_),e.onImageVisibleChange]},null,8,["modelValue","onUpdate:modelValue"]),q0])):M("",!0)]),e$,t$,n$,s$,o$])]),T(m,{"model-value":e.commands,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:ut(({element:_,index:I})=>[oe(s("tr",null,[i$,s("td",a$,[s("button",{class:"button is-small",onClick:E=>e.edit(I)},u$,8,l$)]),s("td",d$,[(g(!0),v(Z,null,ue(_.triggers,(E,U)=>(g(),v("div",{key:U,class:"spacerow"},[T(u,{trigger:E},null,8,["trigger"])]))),128))]),s("td",null,[_.action==="text"?(g(),v("div",c$,[(g(!0),v(Z,null,ue(_.data.text,(E,U)=>(g(),v(Z,{key:U},[s("code",null,Y(_.data.text[U]),1),U<_.data.text.length-1?(g(),v("span",f$,"or")):M("",!0)],64))),128))])):_.action==="media"?(g(),v("div",{key:1,class:De(_.action)},[_.data.image.file||_.data.sound.file?(g(),v("div",h$,[_.data.image.file&&e.imagesVisible?(g(),Ae(d,{key:0,src:_.data.image.urlpath,title:_.data.image.filename,width:"100px",height:"50px",style:{display:"inline-block"}},null,8,["src","title"])):_.data.image.file?(g(),v("code",m$,Y(_.data.image.filename),1)):M("",!0),_.data.image.file&&_.data.sound.file?(g(),v("i",p$)):M("",!0),T(c,{src:_.data.sound.urlpath,name:_.data.sound.filename,volume:_.data.sound.volume,"base-volume":e.baseVolume,class:"button is-small is-justify-content-center"},null,8,["src","name","volume","base-volume"]),_.data.image.file&&_.data.sound.file?(g(),v("span",g$,[v$,T(f,{value:_.data.minDurationMs},null,8,["value"])])):_.data.image.file?(g(),v("span",y$,[b$,T(f,{value:_.data.minDurationMs},null,8,["value"])])):M("",!0)])):M("",!0)],2)):_.action==="countdown"?(g(),v("div",$$,[(_.data.type||"auto")==="auto"?(g(),v("div",w$,[s("code",null,Y(_.data.intro),1),_$,s("code",null,Y(_.data.steps),1),C$,T(f,{value:_.data.interval},null,8,["value"]),S$,s("code",null,Y(_.data.outro),1)])):(g(),v("div",E$,[(g(!0),v(Z,null,ue(_.data.actions,(E,U)=>(g(),v(Z,{key:U},[E.type==="delay"?(g(),Ae(f,{key:0,value:E.value},null,8,["value"])):M("",!0),E.type==="text"?(g(),v("code",k$,Y(E.value),1)):M("",!0),E.type==="media"?(g(),v("code",T$,[I$,E.value.image.file?(g(),v("span",V$,Y(E.value.image.filename),1)):M("",!0),E.value.image.file&&E.value.sound.file?(g(),v("span",A$,"+")):M("",!0),E.value.sound.file?(g(),v("span",D$,Y(E.value.sound.filename),1)):M("",!0),O$])):M("",!0),U<_.data.actions.length-1?(g(),v("span",R$,"\u2192")):M("",!0)],64))),128))]))])):e.actionDescription(_.action)?(g(),v("div",{key:3,innerHTML:e.actionDescription(_.action)},null,8,P$)):M("",!0)]),s("td",null,Y(_.action),1),s("td",null,Y(e.permissionsStr(_)),1),s("td",null,[_.action==="media"?(g(),v("div",M$,[_.data.widgetIds.length===0?(g(),v("a",{key:0,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"Default widget",8,U$)):M("",!0),(g(!0),v(Z,null,ue(_.data.widgetIds,(E,U)=>(g(),v("a",{key:U,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(E)}`,target:"_blank"},[s("code",null,Y(E),1),L$],8,N$))),128))])):(g(),v("div",F$," - "))]),s("td",B$,[T(h,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:E=>e.remove(I)},{default:ut(()=>[H$]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small",onClick:E=>e.duplicate(I)},W$,8,z$)])],512),[[$o,!e.filteredOut(_)]])]),_:1},8,["model-value","onEnd"])],512)])):(g(),v("div",x$," No commands set up ")),e.editIdx!==null&&e.editCommand&&e.editCommand.action==="text"?(g(),Ae(p,{key:2,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[3]||(t[3]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="media"?(g(),Ae(y,{key:3,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"widget-url":e.widgetUrl,"onUpdate:modelValue":e.editedCommand,onCancel:t[4]||(t[4]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","widget-url","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="dict_lookup"?(g(),Ae(w,{key:4,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[5]||(t[5]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="madochan_createword"?(g(),Ae($,{key:5,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[6]||(t[6]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="emotes"?(g(),Ae(b,{key:6,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"onUpdate:modelValue":e.editedCommand,onCancel:t[7]||(t[7]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand?(g(),Ae(S,{key:7,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"onUpdate:modelValue":e.editedCommand,onCancel:t[8]||(t[8]=_=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","onUpdate:modelValue"])):M("",!0)])}var If=Ne(F0,[["render",K$],["__scopeId","data-v-63c747a0"]]);const J$={class:"view"},G$={id:"top",ref:"top"},Y$={id:"main",ref:"main"},X$={class:"tabs"},Q$=["onClick"],Z$=["href"],q$={key:1},ew={key:0,ref:"table",class:"table is-striped"},tw=s("td",null,[s("code",null,"settings.volume")],-1),nw=s("td",null,"Base volume for all media playing from commands",-1),sw=de({__name:"CommandsView",setup(e){const t=ve([]),n=ve(yr()),o=ve(vb()),a=ve([]),l=ve({});let i=null;const r=[he.TEXT,he.MEDIA,he.EMOTES,he.MEDIA_VOLUME,he.COUNTDOWN,he.DICT_LOOKUP,he.MADOCHAN_CREATEWORD,he.CHATTERS,he.SET_CHANNEL_TITLE,he.SET_CHANNEL_GAME_ID,he.ADD_STREAM_TAGS,he.REMOVE_STREAM_TAGS],u=[{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"}],d=ve(!1),c=ve("commands"),f=ve(""),h=Ye(()=>n.value.volume),m=w=>{o.value.showImages=w,p()},p=()=>{y({event:"save",commands:t.value,settings:n.value,adminSettings:o.value})},y=w=>{if(!i){console.warn("sendMsg: this.ws not initialized");return}i.send(JSON.stringify(w))};return Nt(()=>{i=qn.wsClient("general"),i.onMessage("init",w=>{t.value=w.commands,n.value=w.settings,f.value=w.mediaWidgetUrl,o.value=w.adminSettings,a.value=w.globalVariables,l.value=w.channelPointsCustomRewards,d.value=!0}),i.connect()}),Bn(()=>{i&&i.disconnect()}),(w,$)=>{const b=N("navbar-element"),S=N("volume-slider");return g(),v("div",J$,[s("div",G$,[T(b)],512),s("div",Y$,[s("div",X$,[s("ul",null,[(g(),v(Z,null,ue(u,(_,I)=>s("li",{key:I,class:De({"is-active":c.value===_.tab}),onClick:E=>c.value=_.tab},[s("a",null,Y(_.title),1)],10,Q$)),64)),s("li",null,[s("a",{class:"button is-small mr-1",href:f.value,target:"_blank"},"Open Media widget",8,Z$)])])]),d.value&&c.value==="commands"?(g(),Ae(If,{key:0,modelValue:t.value,"onUpdate:modelValue":[$[0]||($[0]=_=>t.value=_),p],"global-variables":a.value,"channel-points-custom-rewards":l.value,"possible-actions":r,"base-volume":Xe(h),"show-toggle-images":!0,"show-filter-actions":!0,"widget-url":f.value,"show-images":o.value.showImages,onShowImagesChange:m},null,8,["modelValue","global-variables","channel-points-custom-rewards","base-volume","widget-url","show-images"])):M("",!0),d.value&&c.value==="settings"?(g(),v("div",q$,[n.value?(g(),v("table",ew,[s("tbody",null,[s("tr",null,[tw,s("td",null,[T(S,{modelValue:n.value.volume,"onUpdate:modelValue":[$[1]||($[1]=_=>n.value.volume=_),p]},null,8,["modelValue"])]),nw])])],512)):M("",!0)])):M("",!0)],512)])}}}),ow=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath}:null,iw=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath,volume:e.volume}:null,Mu=(e=null)=>({submitButtonText:ie(e,["submitButtonText"],"Submit"),submitConfirm:ie(e,["submitConfirm"],""),recentImagesTitle:ie(e,["recentImagesTitle"],""),canvasWidth:ie(e,["canvasWidth"],720),canvasHeight:ie(e,["canvasHeight"],405),customDescription:ie(e,["customDescription"],""),customProfileImage:!e||typeof e.customProfileImage=="undefined"?null:ow(e.customProfileImage),palette:ie(e,["palette"],["#000000","#808080","#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff8080","#80ff80","#ffffff","#c0c0c0","#800000","#804000","#808000","#008000","#008080","#000080","#800080","#8080ff","#ffff80"]),displayDuration:ie(e,["displayDuration"],5e3),displayLatestForever:ie(e,["displayLatestForever"],!1),displayLatestAutomatically:ie(e,["displayLatestAutomatically"],!1),autofillLatest:ie(e,["autofillLatest"],!1),notificationSound:!e||typeof e.notificationSound=="undefined"?null:iw(e.notificationSound),requireManualApproval:ie(e,["requireManualApproval"],!1),favoriteLists:ie(e,["favoriteLists"],[{list:ie(e,["favorites"],[]),title:ie(e,["favoriteImagesTitle"],"")}])}),aw=["placeholder"],$r=de({__name:"IntegerInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ve(`${n.modelValue}`);return Tt(()=>n.modelValue,a=>{o.value=`${a}`}),Tt(o,a=>{const l=parseInt(`${a}`,10);t("update:modelValue",isNaN(l)?0:l)},{deep:!0}),(a,l)=>oe((g(),v("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,aw)),[[$e,o.value]])}}),$i=de({__name:"CheckboxInput",props:{modelValue:null,onValue:{default:!0},offValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ve(n.modelValue===n.onValue),a=()=>{t("update:modelValue",o.value?n.onValue:n.offValue)};return(l,i)=>oe((g(),v("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),type:"checkbox",onChange:a},null,544)),[[Tn,o.value]])}});const lw={key:0,class:"doubleclick-button-message mr-2 p-1 has-text-danger"},rw=de({__name:"DoubleclickButton",props:{message:null,timeout:null},emits:["click","doubleclick"],setup(e,{emit:t}){const n=e,o=ve(null),a=ve(null),l=Ye(()=>a.value===null||o.value===null?{}:{width:`${o.value/n.timeout*100}%`}),i=()=>{a.value===null?(t("click"),o.value=n.timeout,a.value=setInterval(()=>{o.value&&(o.value-=10),(!o.value||o.value<=0)&&(clearInterval(a.value),a.value=null,o.value=null)},10)):(t("doubleclick"),a.value&&(clearInterval(a.value),a.value=null,o.value=null))};return(r,u)=>(g(),v("button",{class:"doubleclick-button",onClick:i},[rr(r.$slots,"default",{},void 0,!0),a.value?(g(),v("span",lw,[V(Y(e.message)+" ",1),s("span",{class:"doubleclick-button-timout-indicator",style:rt(Xe(l))},null,4)])):M("",!0)]))}});var Vf=Ne(rw,[["__scopeId","data-v-3ab45fcf"]]);const uw=de({components:{StringInput:Xt,IntegerInput:$r,CheckboxInput:$i,DoubleclickButton:Vf},data:()=>({unchangedJson:"{}",changedJson:"{}",inited:!1,settings:Mu(),defaultSettings:Mu(),ws:null,drawUrl:"",notificationSoundAudio:null,manualApproval:{hovered:"",items:[]},favoriteSelection:{hovered:"",items:[],pagination:{page:1,perPage:20}},controlWidgetUrl:"",receiveWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson},favoriteSelectionTotalPages(){return Math.floor(this.favoriteSelection.items.length/this.favoriteSelection.pagination.perPage)+(this.favoriteSelection.items.length%this.favoriteSelection.pagination.perPage===0?0:1)},currentFavoriteSelectionItems(){const e=(this.favoriteSelection.pagination.page-1)*this.favoriteSelection.pagination.perPage;return this.favoriteSelection.items.slice(e,e+this.favoriteSelection.pagination.perPage)}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async created(){this.ws=qn.wsClient("drawcast"),this.ws.onMessage("init",async e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.drawUrl=e.drawUrl,this.controlWidgetUrl=e.controlWidgetUrl,this.receiveWidgetUrl=e.receiveWidgetUrl;const n=await(await ft.getDrawcastAllImages()).json();this.favoriteSelection.items=n.map(o=>o.path),this.settings.notificationSound&&(this.notificationSoundAudio=new Audio(this.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=this.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(o=>!o.approved).map(o=>o.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice()}),this.ws.onMessage("image_deleted",e=>{this.settings.favoriteLists=this.settings.favoriteLists.map(t=>(t.list=t.list.filter(n=>n!==e.img),t)),this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice(),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{deleteImage(e){this.sendMsg({event:"delete_image",path:e})},approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},addFavoriteList(){if(!this.settings){console.warn("addFavoriteList: this.settings not initialized");return}this.settings.favoriteLists.push({list:[],title:""})},moveFavoriteListUp(e){this.swapItems(e-1,e)},moveFavoriteListDown(e){this.swapItems(e+1,e)},swapItems(e,t){Na(this.settings.favoriteLists,e,t)},removeFavoriteList(e){if(!this.settings){console.warn("removeFavoriteList: this.settings not initialized");return}const t=[];for(let n in this.settings.favoriteLists)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.settings.favoriteLists[n]);this.settings.favoriteLists=t},toggleFavorite(e,t){if(!this.settings){console.warn("toggleFavorite: this.settings not initialized");return}console.log(e,t),this.settings.favoriteLists[e].list.includes(t)?this.settings.favoriteLists[e].list=this.settings.favoriteLists[e].list.filter(n=>n!==t):this.settings.favoriteLists[e].list.push(t)},customProfileImageChanged(e){if(!this.settings){console.warn("customProfileImageChanged: this.settings not initialized");return}this.settings.customProfileImage=e.file?e:null},notificationSoundChanged(e){if(!this.settings){console.warn("notificationSoundChanged: this.settings not initialized");return}this.settings.notificationSound=e.file?e:null},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:{canvasWidth:parseInt(`${this.settings.canvasWidth}`,10)||720,canvasHeight:parseInt(`${this.settings.canvasHeight}`,10)||405,submitButtonText:this.settings.submitButtonText,submitConfirm:this.settings.submitConfirm,recentImagesTitle:this.settings.recentImagesTitle,customDescription:this.settings.customDescription,customProfileImage:this.settings.customProfileImage,palette:this.settings.palette,displayDuration:parseInt(`${this.settings.displayDuration}`,10)||5e3,displayLatestForever:this.settings.displayLatestForever,displayLatestAutomatically:this.settings.displayLatestAutomatically,autofillLatest:this.settings.autofillLatest,requireManualApproval:this.settings.requireManualApproval,notificationSound:this.settings.notificationSound,favoriteLists:this.settings.favoriteLists}})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),dw={class:"view"},cw={id:"top",ref:"top"},fw={id:"actionbar",class:"p-1"},hw=["disabled"],mw=["href"],pw=["href"],gw={id:"main",ref:"main"},vw={key:0,ref:"table",class:"table is-striped"},yw=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),bw=s("td",null,[s("code",null,"settings.canvasWidth")],-1),$w=s("td",null,[V(" Width of the drawing area."),s("br"),V(" Caution: changing this will clear the area for currenty connected users. ")],-1),ww=s("td",null,[s("code",null,"settings.canvasHeight")],-1),_w=s("td",null,[V(" Height of the drawing area."),s("br"),V(" Caution: changing this will clear the area for currenty connected users. ")],-1),Cw=s("td",null,[s("code",null,"settings.displayDuration")],-1),Sw=s("td",null," The duration in Milliseconds that each drawing will be shown ",-1),Ew=s("td",null,[s("code",null,"settings.requireManualApproval")],-1),kw=s("td",null," If checked, new drawings need to be approved before being displayed for anyone. ",-1),Tw=V(" Pending approval "),Iw=s("br",null,null,-1),Vw=["href"],Aw={key:0},Dw={class:"card-body"},Ow=["src"],Rw={class:"card-footer"},Pw=["onClick"],Mw=["onClick"],Uw={key:1},Nw=s("td",null,null,-1),Lw=s("td",null,[s("code",null,"settings.displayLatestForever")],-1),Fw=s("td",null,"If checked, the latest drawing will be shown indefinately.",-1),Bw=s("td",null,[s("code",null,"settings.displayLatestAutomatically")],-1),Hw=s("td",null," If checked, the latest drawing will be shown in widget automatically. ",-1),zw=s("td",null,[s("code",null,"settings.autofillLatest")],-1),jw=s("td",null," Fill the latest submitted drawing into the draw panel when opening the draw page. ",-1),Ww=s("td",null,[s("code",null,"settings.submitButtonText")],-1),xw=s("td",null,null,-1),Kw=s("td",null,[s("code",null,"settings.submitConfirm")],-1),Jw=s("td",null," Leave empty if no confirm is required by user before sending. ",-1),Gw=s("td",null,[s("code",null,"settings.recentImagesTitle")],-1),Yw=s("td",null,"Title for the recently submitted images gallery.",-1),Xw=s("td",null,[s("code",null,"settings.customDescription")],-1),Qw=s("td",null,"Description text below the drawing panel.",-1),Zw=s("td",null,[s("code",null,"settings.customProfileImage")],-1),qw=s("td",null,[V(" Profile image that will be displayed next to the "),s("code",null,"settings.customDescription"),V(". ")],-1),e_=s("td",null,[s("code",null,"settings.palette")],-1),t_=["onUpdate:modelValue"],n_=s("br",null,null,-1),s_=s("br",null,null,-1),o_=s("td",null,[V(" Default colors appearing on the draw page."),s("br"),V(" Caution: Changing this will change selected color for currenty connected users. ")],-1),i_=s("td",null,[s("code",null,"settings.notificationSound")],-1),a_=s("td",null,[V(" Add a sound here that plays when new drawings arrive. "),s("br"),V(" This is played in this window, if approval is necessary, otherwise it will play in the display widget. It won't play in the draw widget. ")],-1),l_=s("div",null,[s("code",null,"settings.favoriteLists")],-1),r_={class:"preview"},u_=["src"],d_={key:0},c_=["onClick"],f_=s("i",{class:"fa fa-chevron-up"},null,-1),h_=[f_],m_=["onClick"],p_=s("i",{class:"fa fa-chevron-down"},null,-1),g_=[p_],v_=["onClick"],y_=s("i",{class:"fa fa-trash"},null,-1),b_=[y_],$_=s("td",null,"Title:",-1),w_=s("td",null,"Currently selected favorites:",-1),__={class:"favorites"},C_=["src","onClick","onMouseover"],S_=s("td",null,"All images:",-1),E_={class:"favorites-select"},k_=["src","onMouseover"],T_={class:"buttons"},I_=["onClick"],V_=s("i",{class:"fa fa-trash"},null,-1),A_=["disabled"],D_=["disabled"],O_=s("td",null," The favorites will always be displayed at the beginning of the gallery in the draw widget. ",-1);function R_(e,t,n,o,a,l){const i=N("navbar-element"),r=N("IntegerInput"),u=N("CheckboxInput"),d=N("StringInput"),c=N("image-upload"),f=N("sound-upload"),h=N("DoubleclickButton");return g(),v("div",dw,[s("div",cw,[T(i),s("div",fw,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...m)=>e.sendSave&&e.sendSave(...m))}," Save ",8,hw),s("a",{class:"button is-small mr-1",href:e.receiveWidgetUrl,target:"_blank"},"Open widget",8,mw),s("a",{class:"button is-small",href:e.drawUrl,target:"_blank"},"Open draw",8,pw)])],512),s("div",gw,[e.inited?(g(),v("table",vw,[s("tbody",null,[yw,s("tr",null,[bw,s("td",null,[T(r,{modelValue:e.settings.canvasWidth,"onUpdate:modelValue":t[1]||(t[1]=m=>e.settings.canvasWidth=m)},null,8,["modelValue"])]),$w]),s("tr",null,[ww,s("td",null,[T(r,{modelValue:e.settings.canvasHeight,"onUpdate:modelValue":t[2]||(t[2]=m=>e.settings.canvasHeight=m)},null,8,["modelValue"])]),_w]),s("tr",null,[Cw,s("td",null,[T(r,{modelValue:e.settings.displayDuration,"onUpdate:modelValue":t[3]||(t[3]=m=>e.settings.displayDuration=m)},null,8,["modelValue"])]),Sw]),s("tr",null,[Ew,s("td",null,[T(u,{modelValue:e.settings.requireManualApproval,"onUpdate:modelValue":t[4]||(t[4]=m=>e.settings.requireManualApproval=m)},null,8,["modelValue"])]),kw]),s("tr",null,[s("td",null,[Tw,Iw,s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open in separate tab",8,Vw)]),s("td",null,[e.manualApproval.items.length?(g(),v("div",Aw,[(g(!0),v(Z,null,ue(e.manualApproval.items,(m,p)=>(g(),v("div",{key:p,class:"image-to-approve card mr-1"},[s("div",Dw,[s("img",{src:m,width:"250",class:"thumbnail mr-1"},null,8,Ow)]),s("div",Rw,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:y=>e.approveImage(m)}," Approve! ",8,Pw),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:y=>e.denyImage(m)}," Deny! ",8,Mw)])]))),128))])):(g(),v("div",Uw," Currently there are no drawings awaiting approval. "))]),Nw]),s("tr",null,[Lw,s("td",null,[T(u,{modelValue:e.settings.displayLatestForever,"onUpdate:modelValue":t[5]||(t[5]=m=>e.settings.displayLatestForever=m)},null,8,["modelValue"])]),Fw]),s("tr",null,[Bw,s("td",null,[T(u,{modelValue:e.settings.displayLatestAutomatically,"onUpdate:modelValue":t[6]||(t[6]=m=>e.settings.displayLatestAutomatically=m)},null,8,["modelValue"])]),Hw]),s("tr",null,[zw,s("td",null,[T(u,{modelValue:e.settings.autofillLatest,"onUpdate:modelValue":t[7]||(t[7]=m=>e.settings.autofillLatest=m)},null,8,["modelValue"])]),jw]),s("tr",null,[Ww,s("td",null,[T(d,{modelValue:e.settings.submitButtonText,"onUpdate:modelValue":t[8]||(t[8]=m=>e.settings.submitButtonText=m)},null,8,["modelValue"])]),xw]),s("tr",null,[Kw,s("td",null,[T(d,{modelValue:e.settings.submitConfirm,"onUpdate:modelValue":t[9]||(t[9]=m=>e.settings.submitConfirm=m)},null,8,["modelValue"])]),Jw]),s("tr",null,[Gw,s("td",null,[T(d,{modelValue:e.settings.recentImagesTitle,"onUpdate:modelValue":t[10]||(t[10]=m=>e.settings.recentImagesTitle=m)},null,8,["modelValue"])]),Yw]),s("tr",null,[Xw,s("td",null,[oe(s("textarea",{"onUpdate:modelValue":t[11]||(t[11]=m=>e.settings.customDescription=m),class:"textarea"},null,512),[[$e,e.settings.customDescription]])]),Qw]),s("tr",null,[Zw,s("td",null,[T(c,{modelValue:e.settings.customProfileImage,"onUpdate:modelValue":[t[12]||(t[12]=m=>e.settings.customProfileImage=m),e.customProfileImageChanged],width:"100px",height:"50px",class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),qw]),s("tr",null,[e_,s("td",null,[(g(!0),v(Z,null,ue(e.settings.palette,(m,p)=>(g(),v("label",{key:p,class:"square"},[oe(s("input",{"onUpdate:modelValue":y=>e.settings.palette[p]=y,type:"color"},null,8,t_),[[$e,e.settings.palette[p]]]),s("span",{class:"square-inner",style:rt({backgroundColor:m})},null,4)]))),128)),n_,s_,s("button",{class:"button is-small",onClick:t[13]||(t[13]=m=>e.settings.palette=e.defaultSettings.palette)}," Reset to default palette ")]),o_]),s("tr",null,[i_,s("td",null,[T(f,{modelValue:e.settings.notificationSound,"onUpdate:modelValue":[t[14]||(t[14]=m=>e.settings.notificationSound=m),e.notificationSoundChanged],class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),a_]),s("tr",null,[s("td",null,[l_,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=(...m)=>e.addFavoriteList&&e.addFavoriteList(...m))},"Add a list")]),s("div",r_,[e.favoriteSelection.hovered?(g(),v("img",{key:0,src:e.favoriteSelection.hovered},null,8,u_)):M("",!0)])]),s("td",null,[(g(!0),v(Z,null,ue(e.settings.favoriteLists,(m,p)=>(g(),v("div",{key:p,class:"card p-2 mb-2"},[e.settings.favoriteLists.length>1?(g(),v("div",d_,[s("span",{class:De(["button is-small ml-1",{"is-disabled":p>0}]),onClick:y=>e.moveFavoriteListUp(p)},h_,10,c_),s("span",{class:De(["button is-small ml-1",{"is-disabled":p<e.settings.favoriteLists.length-1}]),onClick:y=>e.moveFavoriteListDown(p)},g_,10,m_),s("span",{class:"button is-small ml-1",onClick:y=>e.removeFavoriteList(p)},b_,8,v_)])):M("",!0),s("table",null,[s("tr",null,[$_,s("td",null,[T(d,{modelValue:m.title,"onUpdate:modelValue":y=>m.title=y},null,8,["modelValue","onUpdate:modelValue"])])]),s("tr",null,[w_,s("td",null,[s("div",__,[(g(!0),v(Z,null,ue(m.list,(y,w)=>(g(),v("img",{key:w,src:y,width:"50",height:"50",class:"thumbnail is-favorited mr-1",onClick:$=>e.toggleFavorite(p,y),onMouseover:$=>e.favoriteSelection.hovered=y,onMouseleave:t[16]||(t[16]=$=>e.favoriteSelection.hovered="")},null,40,C_))),128))])])]),s("tr",null,[S_,s("td",null,[s("div",E_,[(g(!0),v(Z,null,ue(e.currentFavoriteSelectionItems,(y,w)=>(g(),v("div",{key:w,class:"favorites-select-image"},[s("img",{src:y,width:"100",height:"100",class:De(["thumbnail mr-1",{"is-favorited":m.list.includes(y)}]),onMouseover:$=>e.favoriteSelection.hovered=y,onMouseleave:t[17]||(t[17]=$=>e.favoriteSelection.hovered="")},null,42,k_),s("div",T_,[s("span",{class:"button is-small",onClick:$=>e.toggleFavorite(p,y)},[s("i",{class:De(["fa fa-star",{"has-text-warning":m.list.includes(y)}])},null,2)],8,I_),T(h,{class:"button is-small",message:"Are you sure?",timeout:1e3,onDoubleclick:$=>e.deleteImage(y)},{default:ut(()=>[V_]),_:2},1032,["onDoubleclick"])])]))),128))]),s("span",{class:"button is-small mr-1",disabled:e.favoriteSelection.pagination.page>1?void 0:!0,onClick:t[18]||(t[18]=y=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page-1)},"Prev",8,A_),s("span",{class:"button is-small",disabled:e.favoriteSelection.pagination.page<e.favoriteSelectionTotalPages?void 0:!0,onClick:t[19]||(t[19]=y=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page+1)},"Next",8,D_)])])])]))),128))]),O_])])],512)):M("",!0)],512)])}var P_=Ne(uw,[["render",R_]]);const M_={class:"view center-screen mt-2"},U_=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),N_={key:0,class:"field has-background-success-light has-text-success-dark"},L_=V(" Password-reset mail sent. Click "),F_=V(" here "),B_=V(" to login. "),H_={key:1},z_={key:0,class:"field has-background-danger-light has-text-danger-dark"},j_={class:"field"},W_={class:"control has-icons-left"},x_=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),K_={class:"field"},J_=V(" Register an account "),G_=V(" | "),Y_=V(" Login "),X_=de({__name:"ForgotPasswordView",setup(e){const t=ve(""),n=ve(""),o=ve(!1),a=async()=>{o.value=!1,n.value="";const l=await ft.requestPasswordReset({email:t.value});if(l.status===200)o.value=!0;else try{n.value=(await l.json()).reason}catch{n.value="Unknown error"}};return(l,i)=>{const r=N("router-link"),u=N("global-user-info");return g(),v("div",M_,[U_,o.value?(g(),v("div",N_,[L_,T(r,{to:{name:"login"}},{default:ut(()=>[F_]),_:1}),B_])):(g(),v("form",H_,[n.value?(g(),v("div",z_,Y(n.value),1)):M("",!0),s("div",j_,[s("div",W_,[oe(s("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>t.value=d),class:"input",type:"email",placeholder:"Email",onKeyup:i[1]||(i[1]=d=>n.value="")},null,544),[[$e,t.value]]),x_])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:a},"Request Password Reset")]),s("div",K_,[T(r,{to:{name:"register"}},{default:ut(()=>[J_]),_:1}),G_,T(r,{to:{name:"login"}},{default:ut(()=>[Y_]),_:1})]),T(u)]))])}}}),Q_=de({data:()=>({widgets:[],toast:gf()}),async created(){const e=await ft.getPageIndexData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.widgets=t.widgets},methods:{async newUrl(e){const t=await ft.createWidgetUrl({type:e.type,pub:e.pub});if(t.status===200)try{const n=await t.json();n.url&&(this.widgets=this.widgets.map(o=>(o.type===e.type&&(o.url=n.url),o))),this.toast.success("New URL created")}catch{this.toast.error("New URL couldn't be created")}else this.toast.error("New URL couldn't be created")}}}),Z_={key:0,class:"view"},q_={id:"top",ref:"top"},eC={id:"main",ref:"main"},tC={class:"table is-striped is-fullwidth"},nC=s("thead",null,[s("tr",null,[s("th",null,"Widget"),s("th",null,"Hint"),s("th")])],-1),sC=["href"],oC=["onClick"];function iC(e,t,n,o,a,l){const i=N("navbar-element");return e.widgets?(g(),v("div",Z_,[s("div",q_,[T(i)],512),s("div",eC,[s("table",tC,[nC,s("tbody",null,[(g(!0),v(Z,null,ue(e.widgets,(r,u)=>(g(),v("tr",{key:u},[s("td",null,[s("a",{href:r.url,target:"blank"},Y(r.title),9,sC)]),s("td",null,Y(r.hint),1),s("td",null,[s("span",{class:"button is-small ml-1",onClick:d=>e.newUrl(r)},"Generate new url",8,oC)])]))),128))])])],512)])):M("",!0)}var aC=Ne(Q_,[["render",iC]]);const lC={class:"view center-screen mt-2"},rC=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),uC={key:0,class:"field has-background-success-light has-text-success-dark"},dC={key:1,class:"field has-background-danger-light has-text-danger-dark"},cC={class:"field"},fC={class:"control has-icons-left"},hC=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),mC={class:"field"},pC={class:"control has-icons-left"},gC=["onKeyup"],vC=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),yC={class:"field"},bC=V(" Register an account "),$C=V(" | "),wC=V(" Forgot password? "),_C=de({__name:"LoginView",setup(e){const t=ve(""),n=ve(""),o=ve(""),a=ve("");Nt(async()=>{const r=qn.getParam("t");if(r){a.value="",o.value="";const u=await ft.handleToken({token:r});u.status===200?(await u.json()).type==="registration-verified"&&(a.value="Registration complete"):o.value="Unknown error"}});const l=Yc(),i=async()=>{a.value="",o.value="";const r=await cn.login(t.value,n.value);r.error?o.value=r.error:l.push({name:"index"})};return(r,u)=>{const d=N("router-link"),c=N("global-user-info");return g(),v("div",lC,[rC,s("form",null,[a.value?(g(),v("div",uC,Y(a.value),1)):M("",!0),o.value?(g(),v("div",dC,Y(o.value),1)):M("",!0),s("div",cC,[s("div",fC,[oe(s("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>t.value=f),class:"input",type:"text",placeholder:"User",onKeyup:u[1]||(u[1]=f=>o.value="")},null,544),[[$e,t.value]]),hC])]),s("div",mC,[s("div",pC,[oe(s("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>n.value=f),class:"input",type:"password",placeholder:"Password",onKeyup:[u[3]||(u[3]=f=>o.value=""),Xn(i,["enter"])]},null,40,gC),[[$e,n.value]]),vC])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:i},"Login")]),s("div",yC,[T(d,{to:{name:"register"}},{default:ut(()=>[bC]),_:1}),$C,T(d,{to:{name:"forgot-password"}},{default:ut(()=>[wC]),_:1})]),T(c)])])}}}),CC={class:"view center-screen mt-2"},SC=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),EC={key:0,class:"field has-background-success-light has-text-success-dark"},kC=V(" Password successfully set. Click "),TC=V(" here "),IC=V(" to login. "),VC={key:1},AC={key:0,class:"field has-background-danger-light has-text-danger-dark"},DC={class:"field"},OC={class:"control has-icons-left"},RC=["onKeyup"],PC=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),MC={class:"field"},UC=["disabled"],NC=de({__name:"PasswordResetView",setup(e){const t=ve(""),n=ve(""),o=ve(!1),a=Ye(()=>t.value&&!n.value),l=async()=>{const i=qn.getParam("t");o.value=!1,n.value="";const r=await ft.resetPassword({pass:t.value,token:i});if(r.status===200)o.value=!0;else try{n.value=(await r.json()).reason}catch{n.value="Unknown error"}};return(i,r)=>{const u=N("router-link");return g(),v("div",CC,[SC,o.value?(g(),v("div",EC,[kC,T(u,{to:{name:"login"}},{default:ut(()=>[TC]),_:1}),IC])):(g(),v("div",VC,[n.value?(g(),v("div",AC,Y(n.value),1)):M("",!0),s("div",DC,[s("div",OC,[oe(s("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>t.value=d),class:"input",type:"password",placeholder:"New Password",onKeyup:[r[1]||(r[1]=d=>n.value=""),Xn(l,["enter"])]},null,40,RC),[[$e,t.value]]),PC])]),s("div",MC,[s("button",{class:"button is-primary is-fullwidth",disabled:Xe(a)?void 0:!0,onClick:l}," Save Password ",8,UC)])]))])}}}),ji=(e=null)=>({chatMessage:ie(e,["chatMessage"],""),sound:ie(e,["sound"],{file:"",filename:"",urlpath:"",volume:100})}),Af=(e=null)=>({effect:ji(ie(e,["effect"],null)),offsetMs:ie(e,["offsetMs"],"")}),LC=(e=null)=>({fontFamily:ie(e,["fontFamily"],""),fontSize:ie(e,["fontSize"],"72px"),color:ie(e,["color"],""),timerFormat:ie(e,["timerFormat"],"{mm}:{ss}"),showTimerWhenFinished:ie(e,["showTimerWhenFinished"],!0),finishedText:ie(e,["finishedText"],""),startEffect:ji(ie(e,["startEffect"],null)),endEffect:ji(ie(e,["endEffect"],null)),stopEffect:ji(ie(e,["stopEffect"],null)),notifications:ie(e,["notifications"],[]).map(Af)}),FC=de({components:{StringInput:Xt},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:LC(),inited:!1,ws:null,widgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=qn.wsClient("pomo"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.widgetUrl=e.widgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},addNotification(){this.settings.notifications.push(Af())},removeNotification(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.notifications=this.settings.notifications.filter((t,n)=>n!==e)}}}),BC={class:"view"},HC={id:"top",ref:"top"},zC={id:"actionbar",class:"p-1"},jC=["disabled"],WC=["href"],xC={id:"main",ref:"main"},KC={key:0,ref:"table",class:"table is-striped"},JC=s("tr",null,[s("td",{colspan:"2"}," Pomo ")],-1),GC=s("td",null,[s("code",null,"settings.color")],-1),YC=s("td",null,"The text color in the widget.",-1),XC=s("td",null,[s("code",null,"settings.fontFamily")],-1),QC=s("td",null,"The font in the widget.",-1),ZC=s("td",null,[s("code",null,"settings.fontSize")],-1),qC=s("td",null,[V(" The text size in the widget, for example "),s("code",null,"12px"),V(", "),s("code",null,"20pt"),V(". ")],-1),eS=s("td",null,[s("code",null,"settings.timerFormat")],-1),tS=s("td",null,[V(" Format of the timer, you can use the following placeholders: "),s("code",{innerHTML:"{{hh}}"}),V(" for hours, "),s("code",{innerHTML:"{{mm}}"}),V(" for minutes, "),s("code",{innerHTML:"{{ss}}"}),V(" for seconds. ")],-1),nS=s("td",null,[s("code",null,"settings.finishedText")],-1),sS=s("td",null,"Text that is displayed when the timer reaches 0.",-1),oS=s("td",null,[s("code",null,"settings.showTimerWhenFinished")],-1),iS=s("td",null," If enabled, the timer will be displayed even when it reached 0. ",-1),aS=s("td",null,[s("code",null,"settings.startEffect.chatMessage")],-1),lS=s("td",null,"Chat message that is sent when pomo is started.",-1),rS=s("td",null,[s("code",null,"settings.startEffect.sound")],-1),uS=s("td",null,"Sound that will be displayed when pomo is started.",-1),dS=s("td",null,[s("code",null,"settings.endEffect.chatMessage")],-1),cS=s("td",null,"Chat message that is sent when pomo reaches 0.",-1),fS=s("td",null,[s("code",null,"settings.endEffect.sound")],-1),hS=s("td",null,"Sound that will be displayed when pomo reaches 0.",-1),mS=s("td",null,[s("code",null,"settings.stopEffect.chatMessage")],-1),pS=s("td",null," Chat message that is sent when pomo is stopped (via pomo exit). ",-1),gS=s("td",null,[s("code",null,"settings.stopEffect.sound")],-1),vS=s("td",null," Sound that will be displayed when pomo is stopped (via pomo exit). ",-1),yS=s("code",null,"settings.notifications",-1),bS=["onClick"],$S=s("td",null,[s("code",null,"offsetMs")],-1),wS=s("td",null," Offset to the end of pomo. Negative offset means time before end of pomo. ",-1),_S=s("td",null,[s("code",null,"chatMessage")],-1),CS=s("td",null,"Chat message sent at the set offset.",-1),SS=s("td",null,[s("code",null,"sound")],-1),ES=s("td",null,"Sound played at the set offset.",-1);function kS(e,t,n,o,a,l){const i=N("navbar-element"),r=N("StringInput"),u=N("CheckboxInput"),d=N("sound-upload"),c=N("duration-input");return g(),v("div",BC,[s("div",HC,[T(i),s("div",zC,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...f)=>e.sendSave&&e.sendSave(...f))}," Save ",8,jC),s("a",{class:"button is-small mr-1",href:e.widgetUrl,target:"_blank"},"Open widget",8,WC)])],512),s("div",xC,[e.inited?(g(),v("table",KC,[s("tbody",null,[JC,s("tr",null,[GC,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=f=>e.settings.color=f),class:"input is-small",type:"color"},null,512),[[$e,e.settings.color]])]),YC]),s("tr",null,[XC,s("td",null,[T(r,{modelValue:e.settings.fontFamily,"onUpdate:modelValue":t[2]||(t[2]=f=>e.settings.fontFamily=f)},null,8,["modelValue"])]),QC]),s("tr",null,[ZC,s("td",null,[T(r,{modelValue:e.settings.fontSize,"onUpdate:modelValue":t[3]||(t[3]=f=>e.settings.fontSize=f)},null,8,["modelValue"])]),qC]),s("tr",null,[eS,s("td",null,[T(r,{modelValue:e.settings.timerFormat,"onUpdate:modelValue":t[4]||(t[4]=f=>e.settings.timerFormat=f)},null,8,["modelValue"])]),tS]),s("tr",null,[nS,s("td",null,[T(r,{modelValue:e.settings.finishedText,"onUpdate:modelValue":t[5]||(t[5]=f=>e.settings.finishedText=f)},null,8,["modelValue"])]),sS]),s("tr",null,[oS,s("td",null,[T(u,{modelValue:e.settings.showTimerWhenFinished,"onUpdate:modelValue":t[6]||(t[6]=f=>e.settings.showTimerWhenFinished=f)},null,8,["modelValue"])]),iS]),s("tr",null,[aS,s("td",null,[T(r,{modelValue:e.settings.startEffect.chatMessage,"onUpdate:modelValue":t[7]||(t[7]=f=>e.settings.startEffect.chatMessage=f)},null,8,["modelValue"])]),lS]),s("tr",null,[rS,s("td",null,[T(d,{modelValue:e.settings.startEffect.sound,"onUpdate:modelValue":t[8]||(t[8]=f=>e.settings.startEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),uS]),s("tr",null,[dS,s("td",null,[T(r,{modelValue:e.settings.endEffect.chatMessage,"onUpdate:modelValue":t[9]||(t[9]=f=>e.settings.endEffect.chatMessage=f)},null,8,["modelValue"])]),cS]),s("tr",null,[fS,s("td",null,[T(d,{modelValue:e.settings.endEffect.sound,"onUpdate:modelValue":t[10]||(t[10]=f=>e.settings.endEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),hS]),s("tr",null,[mS,s("td",null,[T(r,{modelValue:e.settings.stopEffect.chatMessage,"onUpdate:modelValue":t[11]||(t[11]=f=>e.settings.stopEffect.chatMessage=f)},null,8,["modelValue"])]),pS]),s("tr",null,[gS,s("td",null,[T(d,{modelValue:e.settings.stopEffect.sound,"onUpdate:modelValue":t[12]||(t[12]=f=>e.settings.stopEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),vS]),s("tr",null,[s("td",null,[yS,s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...f)=>e.addNotification&&e.addNotification(...f))},"Add notification")]),s("td",null,[(g(!0),v(Z,null,ue(e.settings.notifications,(f,h)=>(g(),v("div",{key:h},[s("span",{class:"button is-small",onClick:m=>e.removeNotification(h)},"Remove",8,bS),s("table",null,[s("tr",null,[$S,s("td",null,[T(c,{modelValue:f.offsetMs,"onUpdate:modelValue":m=>f.offsetMs=m,"allow-negative":!0},null,8,["modelValue","onUpdate:modelValue"])]),wS]),s("tr",null,[_S,s("td",null,[T(r,{modelValue:f.effect.chatMessage,"onUpdate:modelValue":m=>f.effect.chatMessage=m},null,8,["modelValue","onUpdate:modelValue"])]),CS]),s("tr",null,[SS,s("td",null,[T(d,{modelValue:f.effect.sound,"onUpdate:modelValue":m=>f.effect.sound=m,"base-volume":100},null,8,["modelValue","onUpdate:modelValue"])]),ES])])]))),128))])])])],512)):M("",!0)],512)])}var TS=Ne(FC,[["render",kS]]);const IS={class:"view center-screen mt-2"},VS=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),AS={key:0,class:"field has-background-success-light has-text-success-dark"},DS=V(" Account registered. Please check your mail. Click "),OS=V(" here "),RS=V(" to login. "),PS={key:1},MS={key:0,class:"field has-background-danger-light has-text-danger-dark"},US={key:0},NS=V(" A user with this email is already registered. "),LS=s("br",null,null,-1),FS=V(" Request a password reset. "),BS={key:1},HS=V(" A user with this email is already registered. "),zS=s("br",null,null,-1),jS={key:2},WS={key:3},xS={key:4},KS={class:"field"},JS={class:"control has-icons-left"},GS=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),YS={class:"field"},XS={class:"control has-icons-left"},QS=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),ZS={class:"field"},qS={class:"control has-icons-left"},e2=["onKeyup"],t2=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),n2={class:"field"},s2=["disabled"],o2={class:"field"},i2=V(" Already have an account? "),a2=V(" Login! "),l2=de({__name:"RegisterView",setup(e){const t=ve(""),n=ve(""),o=ve(""),a=ve(""),l=ve(!1),i=Ye(()=>t.value&&n.value&&o.value&&!a.value),r=async()=>{l.value=!1,a.value="";const d=await ft.resendVerificationMail({email:o.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}},u=async()=>{l.value=!1,a.value="";const d=await ft.register({user:t.value,pass:n.value,email:o.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}};return(d,c)=>{const f=N("router-link"),h=N("global-user-info");return g(),v("div",IS,[VS,l.value?(g(),v("div",AS,[DS,T(f,{to:{name:"login"}},{default:ut(()=>[OS]),_:1}),RS])):(g(),v("div",PS,[a.value?(g(),v("div",MS,[a.value==="verified_mail_already_exists"?(g(),v("div",US,[NS,LS,T(f,{to:{name:"forgot-password"}},{default:ut(()=>[FS]),_:1})])):a.value==="unverified_mail_already_exists"?(g(),v("div",BS,[HS,zS,s("span",{class:"button is-small",onClick:r},"Resend verification email")])):a.value==="verified_name_already_exists"?(g(),v("div",jS," A user with this name is already registered. ")):a.value==="unverified_name_already_exists"?(g(),v("div",WS," A user with this name is already registered. ")):(g(),v("span",xS,Y(a.value),1))])):M("",!0),s("div",KS,[s("div",JS,[oe(s("input",{"onUpdate:modelValue":c[0]||(c[0]=m=>t.value=m),class:"input",type:"text",placeholder:"User","on:update:modelValue":c[1]||(c[1]=m=>a.value="")},null,544),[[$e,t.value]]),GS])]),s("div",YS,[s("div",XS,[oe(s("input",{"onUpdate:modelValue":c[2]||(c[2]=m=>o.value=m),class:"input",type:"email",placeholder:"Email","on:update:modelValue":c[3]||(c[3]=m=>a.value="")},null,544),[[$e,o.value]]),QS])]),s("div",ZS,[s("div",qS,[oe(s("input",{"onUpdate:modelValue":c[4]||(c[4]=m=>n.value=m),class:"input",type:"password",placeholder:"Password","on:update:modelValue":c[5]||(c[5]=m=>a.value=""),onKeyup:Xn(u,["enter"])},null,40,e2),[[$e,n.value]]),t2])]),s("div",n2,[s("button",{class:"button is-primary is-fullwidth",disabled:Xe(i)?void 0:!0,onClick:u}," Register ",8,s2)]),s("div",o2,[i2,T(f,{to:{name:"login"}},{default:ut(()=>[a2]),_:1})]),T(h)]))])}}}),r2=de({components:{StringInput:Xt},data:()=>({unchangedJson:"[]",changedJson:"[]",user:{id:0,name:"",email:"",pass:"",groups:[],tmi_identity_client_id:"",tmi_identity_client_secret:"",tmi_identity_password:"",tmi_identity_username:""},twitch_channels:[]}),computed:{isAdmin(){return this.user.groups.includes("admin")},changed(){return this.unchangedJson!==this.changedJson},accessTokenLink(){if(!this.user.tmi_identity_client_id)return;const e=["analytics:read:extensions","analytics:read:games","bits:read","channel:edit:commercial","channel:manage:broadcast","channel:manage:extensions","channel:manage:redemptions","channel:manage:videos","channel:read:editors","channel:read:hype_train","channel:read:redemptions","channel:read:stream_key","channel:read:subscriptions","clips:edit","moderation:read","user:edit","user:edit:follows","user:read:blocked_users","user:manage:blocked_users","user:read:broadcast","user:read:email"],t=document.location,n=`${t.protocol}//${t.host}/twitch/redirect_uri`;return`https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=${this.user.tmi_identity_client_id}&redirect_uri=${n}&scope=${e.join("+")}`}},watch:{user:{deep:!0,handler(){this.setChanged()}},twitch_channels:{deep:!0,handler(){this.setChanged()}}},async mounted(){const e=await ft.getPageSettingsData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.user=t.user,this.twitch_channels=t.twitchChannels,this.setUnchanged()},methods:{openAuth(){window.open(this.accessTokenLink)},setChanged(){this.changedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels})},setUnchanged(){this.unchangedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels}),this.changedJson=this.unchangedJson},rmchannel(e){this.twitch_channels=this.twitch_channels.filter((t,n)=>n!==e)},addchannel(){this.twitch_channels.push({user_id:this.user.id,bot_status_messages:1,channel_id:"",channel_name:"",access_token:"",is_streaming:!1})},async loadid(e){this.twitch_channels[e].channel_id=await this.getTwitchUserIdByName(this.twitch_channels[e].channel_name)},async getTwitchUserIdByName(e){const t={name:e,client_id:this.user.tmi_identity_client_id||null,client_secret:this.user.tmi_identity_client_secret||null},n=await ft.twitchUserIdByName(t);try{return`${(await n.json()).id}`}catch{return""}},async sendSave(){await ft.saveUserSettings({user:this.user,twitch_channels:this.twitch_channels}),this.setUnchanged()}}}),u2={class:"view"},d2={id:"top",ref:"top"},c2={id:"actionbar",class:"p-1"},f2=["disabled"],h2={id:"main"},m2={class:"mb-4"},p2=s("h1",{class:"title mb-2"}," User ",-1),g2={class:"table is-striped"},v2=s("td",null,"Name:",-1),y2=s("td",null,"Email:",-1),b2=s("td",null,"Password:",-1),$2={key:0,class:"mb-4"},w2=s("h1",{class:"title mb-2"}," Twitch-Bot ",-1),_2=s("p",null,[V(" Please refer to "),s("a",{href:"https://dev.twitch.tv/docs/irc/#building-the-bot",target:"_blank"},"building the bot"),V(". ")],-1),C2={class:"table is-striped"},S2=s("td",null,"Bot name:",-1),E2=s("td",null,"Bot oauth (pass):",-1),k2=s("td",null,"Bot client_id:",-1),T2=s("td",null,"Bot client_secret:",-1),I2={class:"mb-4"},V2=s("h1",{class:"title mb-2"}," Twitch Channels ",-1),A2=V(" List of twitch channels where the bot will connect to. "),D2={key:0},O2={key:0,class:"table is-striped"},R2=s("thead",null,[s("tr",null,[s("td",null,"Channel name"),s("td",null,"Chat status updates"),s("td",null,"Channel id*"),s("td",null,"Access Token*"),s("td")])],-1),P2=["onClick"],M2=["onUpdate:modelValue"],U2=["onClick"],N2=s("i",{class:"fa fa-remove"},null,-1),L2=[N2],F2={key:1,class:"content"},B2=s("p",null," Channel Id* and Access Token*: You may not need the client id or access token. They are required for channel point reward redemption triggers only. ",-1),H2={key:0},z2={key:1,class:"list"},j2=s("li",{class:"list-item"}," Login to twitch as the channel owner ",-1),W2={class:"list-item"},x2=V(" Click "),K2=V(" to authorize the bot with the channel "),J2=s("li",{class:"list-item"}," If authorized, you get redirected back to hyottoko.club. If there is a success message, the access token will have been set and this page should automatically reload. ",-1),G2={key:2};function Y2(e,t,n,o,a,l){const i=N("navbar-element"),r=N("StringInput"),u=N("checkbox-input");return g(),v("div",u2,[s("div",d2,[T(i),s("div",c2,[s("button",{class:"button is-small is-primary",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,f2)])],512),s("div",h2,[s("div",m2,[p2,s("table",g2,[s("tbody",null,[s("tr",null,[v2,s("td",null,Y(e.user.name),1)]),s("tr",null,[y2,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.user.email=d),type:"email"},null,512),[[$e,e.user.email]])])]),s("tr",null,[b2,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.user.pass=d),type:"password"},null,512),[[$e,e.user.pass]])])])])])]),e.isAdmin?(g(),v("div",$2,[w2,_2,s("table",C2,[s("tbody",null,[s("tr",null,[S2,s("td",null,[T(r,{modelValue:e.user.tmi_identity_username,"onUpdate:modelValue":t[3]||(t[3]=d=>e.user.tmi_identity_username=d)},null,8,["modelValue"])])]),s("tr",null,[E2,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.user.tmi_identity_password=d),class:"input is-small",type:"password"},null,512),[[$e,e.user.tmi_identity_password]])])]),s("tr",null,[k2,s("td",null,[T(r,{modelValue:e.user.tmi_identity_client_id,"onUpdate:modelValue":t[5]||(t[5]=d=>e.user.tmi_identity_client_id=d)},null,8,["modelValue"])])]),s("tr",null,[T2,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>e.user.tmi_identity_client_secret=d),class:"input is-small",type:"password"},null,512),[[$e,e.user.tmi_identity_client_secret]])])])])])])):M("",!0),s("div",I2,[V2,s("p",null,[A2,e.twitch_channels.length===0?(g(),v("span",D2," Currently no channels are configured. ")):M("",!0)]),e.twitch_channels.length>0?(g(),v("table",O2,[R2,s("tbody",null,[(g(!0),v(Z,null,ue(e.twitch_channels,(d,c)=>(g(),v("tr",{key:c},[s("td",null,[T(r,{modelValue:d.channel_name,"onUpdate:modelValue":f=>d.channel_name=f},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(u,{modelValue:d.bot_status_messages,"onUpdate:modelValue":f=>d.bot_status_messages=f,class:"is-small","on-value":1,"off-value":0},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[d.channel_id?(g(),Ae(r,{key:0,modelValue:d.channel_id,"onUpdate:modelValue":f=>d.channel_id=f},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),d.channel_id?M("",!0):(g(),v("button",{key:1,class:"button is-small",onClick:f=>e.loadid(c)}," Load id ",8,P2))]),s("td",null,[oe(s("input",{"onUpdate:modelValue":f=>d.access_token=f,class:"input is-small",type:"password"},null,8,M2),[[$e,d.access_token]])]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.rmchannel(c)},L2,8,U2)])]))),128))])])):M("",!0),s("button",{class:"button is-small",onClick:t[7]||(t[7]=d=>e.addchannel())}," Add channel ")]),e.twitch_channels.length>0?(g(),v("div",F2,[B2,e.accessTokenLink?(g(),v("p",H2," To get an access token, do the following: ")):M("",!0),e.accessTokenLink?(g(),v("ol",z2,[j2,s("li",W2,[x2,s("a",{target:"_blank",onClick:t[8]||(t[8]=(...d)=>e.openAuth&&e.openAuth(...d))},"here"),K2]),J2])):e.isAdmin?(g(),v("p",G2,' To configure an access token, please configure the "Bot client_id" above. ')):M("",!0)])):M("",!0)])])}var X2=Ne(r2,[["render",Y2]]);const Q2=(e=null)=>({name:ie(e,["name"],""),css:ie(e,["css"],""),showProgressBar:ie(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:ie(e,["maxItemsShown"],-1)}),wr=(e=null)=>{var t,n;return{volume:ie(e,["volume"],100),initAutoplay:ie(e,["initAutoplay"],!0),hideVideoImage:{file:ie(e,["hideVideoImage","file"],""),filename:ie(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(n=e==null?void 0:e.hideVideoImage)!=null&&n.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:ie(e,["maxSongLength","viewer"],0),mod:ie(e,["maxSongLength","mod"],0),sub:ie(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(ie(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(ie(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(ie(e,["maxSongsQueued","sub"],0)),10)},customCss:ie(e,["customCss"],""),customCssPresets:ie(e,["customCssPresets"],[]).map(Q2),showProgressBar:ie(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:ie(e,["maxItemsShown"],-1)}};const Co=e=>(En("data-v-f3e66be2"),e=e(),kn(),e),Z2={class:"view"},q2={id:"top",ref:"top"},eE={id:"actionbar",class:"p-1"},tE=["disabled","title","onClick"],nE=["disabled"],sE=Co(()=>s("span",{class:"txt"},"Set all to played",-1)),oE=[sE],iE=["disabled","title"],aE=Co(()=>s("i",{class:"fa fa-tv mr-1"},null,-1)),lE={class:"txt"},rE={class:"field has-addons mr-1"},uE={class:"control"},dE=["disabled","onKeyup"],cE={class:"control"},fE=["disabled"],hE=Co(()=>s("i",{class:"fa fa-search mr-1"},null,-1)),mE=V(" from playlist "),pE=[hE,mE],gE={class:"field has-addons mr-1"},vE={class:"control"},yE=["disabled","onKeyup"],bE={class:"control"},$E=["disabled"],wE=Co(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),_E=V(" from YouTube "),CE=[wE,_E],SE=["disabled","href"],EE={id:"main",ref:"main"},kE={style:{width:"640px","max-width":"100%"}},TE={class:"tabs"},IE=["onClick"],VE={key:0},AE={class:"mb-1"},DE=["href"],OE=Co(()=>s("i",{class:"fa fa-download mr-1"},null,-1)),RE=V(" Export playlist"),PE=[OE,RE],ME=Co(()=>s("i",{class:"fa fa-upload mr-1"},null,-1)),UE=V(" Import playlist "),NE=[ME,UE],LE={key:1,id:"tags"},FE={key:3,id:"playlist",class:"table-container"},BE=de({__name:"SongRequestView",setup(e){const t=()=>{},n=ve(!1),o=ve([]),a=ve([]),l=ve([]),i=ve({}),r=ve(wr()),u=ve({tag:""}),d=ve(""),c=ve(""),f=ve(!1),h=ve("playlist"),m=ve(""),p=ve("");let y=null;const w=gf(),$=[{title:"Reset stats",ctrl:"resetStats",icon:"fa-eraser"},{title:"Clear playlist",ctrl:"clear",icon:"fa-eject"},{title:"Shuffle",ctrl:"shuffle",icon:"fa-random"},{title:"Play",ctrl:"unpause",icon:"fa-play"},{title:"Pause",ctrl:"pause",icon:"fa-pause"},{title:"Prev",ctrl:"prev",icon:"fa-step-backward"},{title:"Next",ctrl:"skip",icon:"fa-step-forward"}],b=[{tab:"playlist",title:"Playlist"},{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"},{tab:"tags",title:"Tags"},{tab:"import",title:"Import/Export"}],S=[he.SR_CURRENT,he.SR_UNDO,he.SR_GOOD,he.SR_BAD,he.SR_STATS,he.SR_PREV,he.SR_NEXT,he.SR_JUMPTONEW,he.SR_CLEAR,he.SR_RM,he.SR_SHUFFLE,he.SR_RESET_STATS,he.SR_LOOP,he.SR_NOLOOP,he.SR_PAUSE,he.SR_UNPAUSE,he.SR_HIDEVIDEO,he.SR_SHOWVIDEO,he.SR_REQUEST,he.SR_RE_REQUEST,he.SR_ADDTAG,he.SR_RMTAG,he.SR_VOLUME,he.SR_FILTER,he.SR_PRESET,he.SR_QUEUE],_=Ye(()=>{const H=[];return o.value.forEach(re=>{re.tags.forEach(ye=>{const Se=H.findIndex(C=>C.value===ye);Se===-1?H.push({value:ye,count:1}):H[Se].count++})}),H}),I=ve(null),E=Ye(()=>I.value||{stop:t,play:t,pause:t,unpause:t,setVolume:t,setLoop:t,playing:t}),U=Ye(()=>u.value.tag===""?o.value:o.value.filter(H=>H.tags.includes(u.value.tag))),R=Ye(()=>U.value[0]),O=Ye(()=>U.value.length!==0),z=Ye(()=>n.value?"":"width:0;height:0;padding:0;margin-bottom:0;"),K=Ye(()=>n.value?"Hide Player":"Show Player"),J=Ye(()=>`${location.protocol}//${location.host}/api/sr/export`),W=()=>{ge({event:"save",commands:a.value,settings:r.value})},F=H=>{se(H[0],H[1])},be=H=>{We(H[0],H[1])},Q=H=>{We("filter",[{tag:H}])},ce=async()=>{(await ft.importPlaylist(m.value)).status===200?(h.value="playlist",w.success("Import successful")):w.error("Import failed")},Ce=()=>{n.value=!n.value,n.value?E.value.playing()||me():E.value.stop()},ze=()=>{d.value!==""&&(We("resr",[d.value]),d.value="")},at=()=>{c.value!==""&&(We("sr",[c.value]),c.value="")},We=(H,re)=>{ge({event:"ctrl",ctrl:H,args:re})},q=()=>{ge({event:"ended"})},ge=H=>{y?y.send(JSON.stringify(H)):console.warn("sendMsg: this.ws not initialized")},me=()=>{x(r.value.volume),n.value&&O.value&&(E.value.play(R.value.yt),ge({event:"play",id:R.value.id}))},P=()=>{O.value&&(E.value.unpause(),ge({event:"unpause",id:R.value.id}))},X=()=>{n.value&&O.value&&(E.value.pause(),ge({event:"pause"}))},x=H=>{E.value.setVolume(H)},se=(H,re)=>{H!==re&&We("updatetag",[H,re])};return Nt(async()=>{bo(()=>{y=qn.wsClient("sr"),y.onMessage("save",H=>{r.value=H.settings,p.value=H.widgetUrl,a.value=H.commands,l.value=H.globalVariables,i.value=H.channelPointsCustomRewards}),y.onMessage(["pause"],H=>{E.value.playing()&&X()}),y.onMessage(["unpause"],H=>{E.value.playing()||P()}),y.onMessage(["loop"],H=>{E.value.setLoop(!0)}),y.onMessage(["noloop"],H=>{E.value.setLoop(!1)}),y.onMessage(["onEnded","prev","skip","remove","move","tags"],H=>{r.value=H.settings,a.value=H.commands,l.value=H.globalVariables,i.value=H.channelPointsCustomRewards;const re=U.value.length>0?U.value[0].id:null;u.value=H.filter,o.value=H.playlist;const ye=U.value.length>0?U.value[0].id:null;re!==ye&&me()}),y.onMessage(["filter"],H=>{r.value=H.settings,a.value=H.commands,l.value=H.globalVariables,i.value=H.channelPointsCustomRewards;const re=U.value.length>0?U.value[0].id:null;u.value=H.filter,o.value=H.playlist,U.value.find(ye=>ye.id===re)||me()}),y.onMessage(["stats","video","playIdx","resetStats","shuffle"],H=>{r.value=H.settings,a.value=H.commands,l.value=H.globalVariables,i.value=H.channelPointsCustomRewards,u.value=H.filter,o.value=H.playlist}),y.onMessage(["add","init"],H=>{r.value=H.settings,p.value=H.widgetUrl,a.value=H.commands,l.value=H.globalVariables,i.value=H.channelPointsCustomRewards,u.value=H.filter,o.value=H.playlist,!f.value&&!E.value.playing()&&me(),f.value=!0}),y.connect(),me()})}),Bn(()=>{y&&y.disconnect()}),(H,re)=>{const ye=N("navbar-element"),Se=N("youtube-player"),C=N("tags-editor"),k=N("song-request-settings"),L=N("playlist-editor");return g(),v("div",Z2,[s("div",q2,[T(ye),s("div",eE,[(g(),v(Z,null,ue($,(j,G)=>s("button",{key:G,class:"button is-small mr-1",disabled:f.value?void 0:!0,title:j.title,onClick:ae=>We(j.ctrl,[])},[s("i",{class:De(["fa",j.icon])},null,2)],8,tE)),64)),s("button",{class:"button is-small mr-1",disabled:f.value?void 0:!0,title:"Sets all songs to at least 1x played",onClick:re[0]||(re[0]=j=>We("setAllToPlayed",[]))},oE,8,nE),s("button",{class:"button is-small mr-1",disabled:f.value?void 0:!0,title:Xe(K),onClick:Ce},[aE,s("span",lE,Y(Xe(K)),1)],8,iE),s("div",rE,[s("div",uE,[oe(s("input",{"onUpdate:modelValue":re[1]||(re[1]=j=>d.value=j),class:"input is-small",disabled:f.value?void 0:!0,onKeyup:Xn(ze,["enter"])},null,40,dE),[[$e,d.value]])]),s("div",cE,[s("button",{class:"button is-small",disabled:f.value?void 0:!0,onClick:ze},pE,8,fE)])]),s("div",gE,[s("div",vE,[oe(s("input",{"onUpdate:modelValue":re[2]||(re[2]=j=>c.value=j),class:"input is-small",disabled:f.value?void 0:!0,onKeyup:Xn(at,["enter"])},null,40,yE),[[$e,c.value]])]),s("div",bE,[s("button",{class:"button is-small",disabled:f.value?void 0:!0,onClick:at},CE,8,$E)])]),s("a",{class:"button is-small mr-1",disabled:f.value?void 0:!0,href:p.value,target:"_blank"},"Open SR widget",8,SE)])],512),s("div",EE,[s("div",kE,[s("div",{id:"player",class:"video-16-9",style:rt(Xe(z))},[T(Se,{ref_key:"youtube",ref:I,visible:n.value,onEnded:q},null,8,["visible"])],4)]),s("div",TE,[s("ul",null,[(g(),v(Z,null,ue(b,(j,G)=>s("li",{key:G,class:De({"is-active":h.value===j.tab}),onClick:ae=>h.value=j.tab},[s("a",null,Y(j.title),1)],10,IE)),64))])]),f.value&&h.value==="import"?(g(),v("div",VE,[s("div",AE,[s("a",{class:"button is-small mr-1",href:Xe(J),target:"_blank"},PE,8,DE),s("button",{class:"button is-small",onClick:ce},NE)]),oe(s("textarea",{"onUpdate:modelValue":re[3]||(re[3]=j=>m.value=j),class:"textarea mb-1"},null,512),[[$e,m.value]])])):M("",!0),f.value&&h.value==="tags"?(g(),v("div",LE,[T(C,{tags:Xe(_),onUpdateTag:F},null,8,["tags"])])):M("",!0),f.value&&h.value==="settings"?(g(),Ae(k,{key:2,id:"settings",modelValue:r.value,"onUpdate:modelValue":[re[4]||(re[4]=j=>r.value=j),W]},null,8,["modelValue"])):M("",!0),f.value&&h.value==="playlist"?(g(),v("div",FE,[T(L,{playlist:o.value,filter:u.value,onStopPlayer:re[5]||(re[5]=j=>Xe(E).stop()),onFilterChange:Q,onCtrl:be},null,8,["playlist","filter"])])):M("",!0),f.value&&h.value==="commands"?(g(),Ae(If,{key:4,modelValue:a.value,"onUpdate:modelValue":[re[6]||(re[6]=j=>a.value=j),W],"global-variables":l.value,"channel-points-custom-rewards":i.value,"possible-actions":S,"base-volume":100},null,8,["modelValue","global-variables","channel-points-custom-rewards"])):M("",!0)],512)])}}});var HE=Ne(BE,[["__scopeId","data-v-f3e66be2"]]);const Uu=(e=null)=>({status:{enabled:ie(e,["status","enabled"],!1)},styles:{bgColor:ie(e,["styles","bgColor"],"#ff00ff"),bgColorEnabled:ie(e,["styles","bgColorEnabled"],!0),vAlign:ie(e,["styles","vAlign"],"bottom"),recognition:{fontFamily:ie(e,["styles","recognition","fontFamily"],"sans-serif"),fontSize:ie(e,["styles","recognition","fontSize"],"30pt"),fontWeight:ie(e,["styles","recognition","fontWeight"],"400"),strokeWidth:ie(e,["styles","recognition","strokeWidth"],"8pt"),strokeColor:ie(e,["styles","recognition","strokeColor"],"#292929"),color:ie(e,["styles","recognition","color"],"#ffff00")},translation:{fontFamily:ie(e,["styles","translation","fontFamily"],"sans-serif"),fontSize:ie(e,["styles","translation","fontSize"],"30pt"),fontWeight:ie(e,["styles","translation","fontWeight"],"400"),strokeWidth:ie(e,["styles","translation","strokeWidth"],"8pt"),strokeColor:ie(e,["styles","translation","strokeColor"],"#292929"),color:ie(e,["styles","translation","color"],"#cbcbcb")}},recognition:{display:ie(e,["recognition","display"],!0),lang:ie(e,["recognition","lang"],"ja"),synthesize:ie(e,["recognition","synthesize"],!1),synthesizeLang:ie(e,["recognition","synthesizeLang"],"")},translation:{enabled:ie(e,["translation","enabled"],!0),langSrc:ie(e,["translation","langSrc"],"ja"),langDst:ie(e,["translation","langDst"],"en"),synthesize:ie(e,["translation","synthesize"],!1),synthesizeLang:ie(e,["translation","synthesizeLang"],"")}}),zE=de({components:{StringInput:Xt,CheckboxInput:$i},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:Uu(),defaultSettings:Uu(),ws:null,inited:!1,controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=qn.wsClient("speech-to-text"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),jE={class:"view"},WE={id:"top",ref:"top"},xE={id:"actionbar",class:"p-1"},KE=["disabled"],JE=["href"],GE=["href"],YE={id:"main",ref:"main"},XE={key:0,ref:"table",class:"table is-striped"},QE=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),ZE=s("td",null,[s("code",null,"settings.style.bgColor")],-1),qE=["disabled"],ek=s("i",{class:"fa fa-remove"},null,-1),tk=[ek],nk=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),sk=s("td",null,[s("code",null,"settings.style.vAlign")],-1),ok={class:"select is-small"},ik=s("option",{value:"top"}," top ",-1),ak=s("option",{value:"bottom"}," bottom ",-1),lk=[ik,ak],rk=["disabled"],uk=s("i",{class:"fa fa-remove"},null,-1),dk=[uk],ck=s("tr",null,[s("td",{colspan:"3"}," Recognition ")],-1),fk=s("td",null,[s("code",null,"settings.recognition.lang")],-1),hk=["disabled"],mk=s("i",{class:"fa fa-remove"},null,-1),pk=[mk],gk=s("td",null,[s("code",null,"settings.recognition.synthesize")],-1),vk=["disabled"],yk=s("i",{class:"fa fa-remove"},null,-1),bk=[yk],$k=s("td",null,[s("code",null,"settings.recognition.synthesizeLang")],-1),wk=["disabled"],_k=s("i",{class:"fa fa-remove"},null,-1),Ck=[_k],Sk=s("td",null,[s("code",null,"settings.recognition.display")],-1),Ek=["disabled"],kk=s("i",{class:"fa fa-remove"},null,-1),Tk=[kk],Ik=s("td",null,[s("code",null,"settings.styles.recognition.color")],-1),Vk=["disabled"],Ak=s("i",{class:"fa fa-remove"},null,-1),Dk=[Ak],Ok=s("td",null,[s("code",null,"settings.styles.recognition.strokeWidth")],-1),Rk=["disabled"],Pk=s("i",{class:"fa fa-remove"},null,-1),Mk=[Pk],Uk=s("td",null,[s("code",null,"settings.styles.recognition.strokeColor")],-1),Nk=["disabled"],Lk=s("i",{class:"fa fa-remove"},null,-1),Fk=[Lk],Bk=s("td",null,[s("code",null,"settings.styles.recognition.fontFamily")],-1),Hk=["disabled"],zk=s("i",{class:"fa fa-remove"},null,-1),jk=[zk],Wk=s("td",null,[s("code",null,"settings.styles.recognition.fontSize")],-1),xk=["disabled"],Kk=s("i",{class:"fa fa-remove"},null,-1),Jk=[Kk],Gk=s("td",null,[s("code",null,"settings.styles.recognition.fontWeight")],-1),Yk=["disabled"],Xk=s("i",{class:"fa fa-remove"},null,-1),Qk=[Xk],Zk=s("tr",null,[s("td",{colspan:"3"}," Translation ")],-1),qk=s("td",null,[s("code",null,"settings.translation.enabled")],-1),eT=["disabled"],tT=s("i",{class:"fa fa-remove"},null,-1),nT=[tT],sT=s("td",null,[s("code",null,"settings.translation.synthesize")],-1),oT=["disabled"],iT=s("i",{class:"fa fa-remove"},null,-1),aT=[iT],lT=s("td",null,[s("code",null,"settings.translation.synthesizeLang")],-1),rT=["disabled"],uT=s("i",{class:"fa fa-remove"},null,-1),dT=[uT],cT=s("td",null,[s("code",null,"settings.translation.langSrc")],-1),fT=["disabled"],hT=s("i",{class:"fa fa-remove"},null,-1),mT=[hT],pT=s("td",null,[s("code",null,"settings.translation.langDst")],-1),gT=["disabled"],vT=s("i",{class:"fa fa-remove"},null,-1),yT=[vT],bT=s("td",null,[s("code",null,"settings.styles.translation.color")],-1),$T=["disabled"],wT=s("i",{class:"fa fa-remove"},null,-1),_T=[wT],CT=s("td",null,[s("code",null,"settings.styles.translation.strokeWidth")],-1),ST=["disabled"],ET=s("i",{class:"fa fa-remove"},null,-1),kT=[ET],TT=s("td",null,[s("code",null,"settings.styles.translation.strokeColor")],-1),IT=["disabled"],VT=s("i",{class:"fa fa-remove"},null,-1),AT=[VT],DT=s("td",null,[s("code",null,"settings.styles.translation.fontFamily")],-1),OT=["disabled"],RT=s("i",{class:"fa fa-remove"},null,-1),PT=[RT],MT=s("td",null,[s("code",null,"settings.styles.translation.fontSize")],-1),UT=["disabled"],NT=s("i",{class:"fa fa-remove"},null,-1),LT=[NT],FT=s("td",null,[s("code",null,"settings.styles.translation.fontWeight")],-1),BT=["disabled"],HT=s("i",{class:"fa fa-remove"},null,-1),zT=[HT],jT=s("tr",null,[s("td",{colspan:"3"}," Debug ")],-1),WT=s("td",null,[s("code",null,"settings.status.enabled")],-1),xT=["disabled"],KT=s("i",{class:"fa fa-remove"},null,-1),JT=[KT];function GT(e,t,n,o,a,l){const i=N("navbar-element"),r=N("CheckboxInput"),u=N("StringInput");return g(),v("div",jE,[s("div",WE,[T(i),s("div",xE,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,KE),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,JE),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,GE)])],512),s("div",YE,[e.inited?(g(),v("table",XE,[s("tbody",null,[QE,s("tr",null,[ZE,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.styles.bgColor=d),class:"input is-small",type:"color"},null,512),[[$e,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=d=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)},tk,8,qE)])]),s("tr",null,[nk,s("td",null,[T(r,{modelValue:e.settings.styles.bgColorEnabled,"onUpdate:modelValue":t[3]||(t[3]=d=>e.settings.styles.bgColorEnabled=d)},null,8,["modelValue"])])]),s("tr",null,[sk,s("td",null,[s("div",ok,[oe(s("select",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.settings.styles.vAlign=d)},lk,512),[[Nn,e.settings.styles.vAlign]])])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.vAlign===e.defaultSettings.styles.vAlign,onClick:t[5]||(t[5]=d=>e.settings.styles.vAlign=e.defaultSettings.styles.vAlign)},dk,8,rk)])]),ck,s("tr",null,[fk,s("td",null,[T(u,{modelValue:e.settings.recognition.lang,"onUpdate:modelValue":t[6]||(t[6]=d=>e.settings.recognition.lang=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.lang===e.defaultSettings.recognition.lang,onClick:t[7]||(t[7]=d=>e.settings.recognition.lang=e.defaultSettings.recognition.lang)},pk,8,hk)])]),s("tr",null,[gk,s("td",null,[T(r,{modelValue:e.settings.recognition.synthesize,"onUpdate:modelValue":t[8]||(t[8]=d=>e.settings.recognition.synthesize=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesize===e.defaultSettings.recognition.synthesize,onClick:t[9]||(t[9]=d=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},bk,8,vk)])]),s("tr",null,[$k,s("td",null,[T(u,{modelValue:e.settings.recognition.synthesizeLang,"onUpdate:modelValue":t[10]||(t[10]=d=>e.settings.recognition.synthesizeLang=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesizeLang===e.defaultSettings.recognition.synthesizeLang,onClick:t[11]||(t[11]=d=>e.settings.recognition.synthesizeLang=e.defaultSettings.recognition.synthesizeLang)},Ck,8,wk)])]),s("tr",null,[Sk,s("td",null,[T(r,{modelValue:e.settings.recognition.display,"onUpdate:modelValue":t[12]||(t[12]=d=>e.settings.recognition.display=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.display===e.defaultSettings.recognition.display,onClick:t[13]||(t[13]=d=>e.settings.recognition.display=e.defaultSettings.recognition.display)},Tk,8,Ek)])]),s("tr",null,[Ik,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[14]||(t[14]=d=>e.settings.styles.recognition.color=d),class:"input is-small",type:"color"},null,512),[[$e,e.settings.styles.recognition.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.color===e.defaultSettings.styles.recognition.color,onClick:t[15]||(t[15]=d=>e.settings.styles.recognition.color=e.defaultSettings.styles.recognition.color)},Dk,8,Vk)])]),s("tr",null,[Ok,s("td",null,[T(u,{modelValue:e.settings.styles.recognition.strokeWidth,"onUpdate:modelValue":t[16]||(t[16]=d=>e.settings.styles.recognition.strokeWidth=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeWidth===e.defaultSettings.styles.recognition.strokeWidth,onClick:t[17]||(t[17]=d=>e.settings.styles.recognition.strokeWidth=e.defaultSettings.styles.recognition.strokeWidth)},Mk,8,Rk)])]),s("tr",null,[Uk,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[18]||(t[18]=d=>e.settings.styles.recognition.strokeColor=d),class:"input is-small",type:"color"},null,512),[[$e,e.settings.styles.recognition.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeColor===e.defaultSettings.styles.recognition.strokeColor,onClick:t[19]||(t[19]=d=>e.settings.styles.recognition.strokeColor=e.defaultSettings.styles.recognition.strokeColor)},Fk,8,Nk)])]),s("tr",null,[Bk,s("td",null,[T(u,{modelValue:e.settings.styles.recognition.fontFamily,"onUpdate:modelValue":t[20]||(t[20]=d=>e.settings.styles.recognition.fontFamily=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontFamily===e.defaultSettings.styles.recognition.fontFamily,onClick:t[21]||(t[21]=d=>e.settings.styles.recognition.fontFamily=e.defaultSettings.styles.recognition.fontFamily)},jk,8,Hk)])]),s("tr",null,[Wk,s("td",null,[T(u,{modelValue:e.settings.styles.recognition.fontSize,"onUpdate:modelValue":t[22]||(t[22]=d=>e.settings.styles.recognition.fontSize=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontSize===e.defaultSettings.styles.recognition.fontSize,onClick:t[23]||(t[23]=d=>e.settings.styles.recognition.fontSize=e.defaultSettings.styles.recognition.fontSize)},Jk,8,xk)])]),s("tr",null,[Gk,s("td",null,[T(u,{modelValue:e.settings.styles.recognition.fontWeight,"onUpdate:modelValue":t[24]||(t[24]=d=>e.settings.styles.recognition.fontWeight=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontWeight===e.defaultSettings.styles.recognition.fontWeight,onClick:t[25]||(t[25]=d=>e.settings.styles.recognition.fontWeight=e.defaultSettings.styles.recognition.fontWeight)},Qk,8,Yk)])]),Zk,s("tr",null,[qk,s("td",null,[T(r,{modelValue:e.settings.translation.enabled,"onUpdate:modelValue":t[26]||(t[26]=d=>e.settings.translation.enabled=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.enabled===e.defaultSettings.translation.enabled,onClick:t[27]||(t[27]=d=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},nT,8,eT)])]),s("tr",null,[sT,s("td",null,[T(r,{modelValue:e.settings.translation.synthesize,"onUpdate:modelValue":t[28]||(t[28]=d=>e.settings.translation.synthesize=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesize===e.defaultSettings.translation.synthesize,onClick:t[29]||(t[29]=d=>e.settings.translation.synthesize=e.defaultSettings.translation.synthesize)},aT,8,oT)])]),s("tr",null,[lT,s("td",null,[T(u,{modelValue:e.settings.translation.synthesizeLang,"onUpdate:modelValue":t[30]||(t[30]=d=>e.settings.translation.synthesizeLang=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesizeLang===e.defaultSettings.translation.synthesizeLang,onClick:t[31]||(t[31]=d=>e.settings.translation.synthesizeLang=e.defaultSettings.translation.synthesizeLang)},dT,8,rT)])]),s("tr",null,[cT,s("td",null,[T(u,{modelValue:e.settings.translation.langSrc,"onUpdate:modelValue":t[32]||(t[32]=d=>e.settings.translation.langSrc=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langSrc===e.defaultSettings.translation.langSrc,onClick:t[33]||(t[33]=d=>e.settings.translation.langSrc=e.defaultSettings.translation.langSrc)},mT,8,fT)])]),s("tr",null,[pT,s("td",null,[T(u,{modelValue:e.settings.translation.langDst,"onUpdate:modelValue":t[34]||(t[34]=d=>e.settings.translation.langDst=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langDst===e.defaultSettings.translation.langDst,onClick:t[35]||(t[35]=d=>e.settings.translation.langDst=e.defaultSettings.translation.langDst)},yT,8,gT)])]),s("tr",null,[bT,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[36]||(t[36]=d=>e.settings.styles.translation.color=d),class:"input is-small",type:"color"},null,512),[[$e,e.settings.styles.translation.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.color===e.defaultSettings.styles.translation.color,onClick:t[37]||(t[37]=d=>e.settings.styles.translation.color=e.defaultSettings.styles.translation.color)},_T,8,$T)])]),s("tr",null,[CT,s("td",null,[T(u,{modelValue:e.settings.styles.translation.strokeWidth,"onUpdate:modelValue":t[38]||(t[38]=d=>e.settings.styles.translation.strokeWidth=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeWidth===e.defaultSettings.styles.translation.strokeWidth,onClick:t[39]||(t[39]=d=>e.settings.styles.translation.strokeWidth=e.defaultSettings.styles.translation.strokeWidth)},kT,8,ST)])]),s("tr",null,[TT,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[40]||(t[40]=d=>e.settings.styles.translation.strokeColor=d),class:"input is-small",type:"color"},null,512),[[$e,e.settings.styles.translation.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeColor===e.defaultSettings.styles.translation.strokeColor,onClick:t[41]||(t[41]=d=>e.settings.styles.translation.strokeColor=e.defaultSettings.styles.translation.strokeColor)},AT,8,IT)])]),s("tr",null,[DT,s("td",null,[T(u,{modelValue:e.settings.styles.translation.fontFamily,"onUpdate:modelValue":t[42]||(t[42]=d=>e.settings.styles.translation.fontFamily=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontFamily===e.defaultSettings.styles.translation.fontFamily,onClick:t[43]||(t[43]=d=>e.settings.styles.translation.fontFamily=e.defaultSettings.styles.translation.fontFamily)},PT,8,OT)])]),s("tr",null,[MT,s("td",null,[T(u,{modelValue:e.settings.styles.translation.fontSize,"onUpdate:modelValue":t[44]||(t[44]=d=>e.settings.styles.translation.fontSize=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontSize===e.defaultSettings.styles.translation.fontSize,onClick:t[45]||(t[45]=d=>e.settings.styles.translation.fontSize=e.defaultSettings.styles.translation.fontSize)},LT,8,UT)])]),s("tr",null,[FT,s("td",null,[T(u,{modelValue:e.settings.styles.translation.fontWeight,"onUpdate:modelValue":t[46]||(t[46]=d=>e.settings.styles.translation.fontWeight=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontWeight===e.defaultSettings.styles.translation.fontWeight,onClick:t[47]||(t[47]=d=>e.settings.styles.translation.fontWeight=e.defaultSettings.styles.translation.fontWeight)},zT,8,BT)])]),jT,s("tr",null,[WT,s("td",null,[T(r,{modelValue:e.settings.status.enabled,"onUpdate:modelValue":t[48]||(t[48]=d=>e.settings.status.enabled=d)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.status.enabled===e.defaultSettings.status.enabled,onClick:t[49]||(t[49]=d=>e.settings.status.enabled=e.defaultSettings.status.enabled)},JT,8,xT)])])])],512)):M("",!0)],512)])}var XT=Ne(zE,[["render",GT]]);const QT={class:"view"},ZT={id:"top",ref:"top"},qT={id:"actionbar",class:"p-1"},eI=["disabled"],tI={id:"main"},nI={class:"mb-4"},sI=s("h1",{class:"title mb-2"}," Global Variables ",-1),oI=s("div",{class:"help"},[V(" Variables can be used from commands with "),s("code",null,"$var(variable_name)"),V(". In addition to the global variables defined here, commands can define their own local variables which have precedence over the global ones. ")],-1),iI={class:"table is-striped"},aI=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",null,"Value"),s("th")])],-1),lI=s("i",{class:"fa fa-trash"},null,-1),rI=de({__name:"VariablesView",setup(e){const t=ve("[]"),n=ve("[]"),o=ve([]),a=Ye(()=>t.value!==n.value),l=f=>{o.value=o.value.filter((h,m)=>m!==f)},i=()=>{o.value.push({name:"",value:""})},r=()=>{n.value=JSON.stringify({variables:o.value})},u=()=>{t.value=JSON.stringify({variables:o.value}),n.value=t.value},d=async()=>{await ft.saveVariables({variables:o.value}),u()},c=Yc();return Nt(async()=>{const f=await ft.getPageVariablesData();if(f.status!==200){c.push({name:"login"});return}const h=await f.json();o.value=h.variables,u(),Tt(o,()=>{r()},{deep:!0})}),(f,h)=>{const m=N("navbar-element"),p=N("doubleclick-button");return g(),v("div",QT,[s("div",ZT,[T(m),s("div",qT,[s("button",{class:"button is-small",onClick:i}," Add "),s("button",{class:"button is-small is-primary",disabled:!Xe(a),onClick:d}," Save ",8,eI)])],512),s("div",tI,[s("div",nI,[sI,oI,s("table",iI,[aI,s("tbody",null,[(g(!0),v(Z,null,ue(o.value,(y,w)=>(g(),v("tr",{key:w},[s("td",null,[T(Xt,{modelValue:y.name,"onUpdate:modelValue":$=>y.name=$},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(Xt,{modelValue:y.value,"onUpdate:modelValue":$=>y.value=$},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(p,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:$=>l(w)},{default:ut(()=>[lI]),_:2},1032,["onDoubleclick"])])]))),128))])])])])])}}});var uI=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function dI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Df(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var Of={exports:{}},cI=Df(ug);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nu(Object(n),!0).forEach(function(o){fI(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Wi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wi=function(t){return typeof t}:Wi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function fI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},hn.apply(this,arguments)}function hI(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,l;for(l=0;l<o.length;l++)a=o[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function mI(e,t){if(e==null)return{};var n=hI(e,t),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)o=l[a],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}function pI(e){return gI(e)||vI(e)||yI(e)||bI()}function gI(e){if(Array.isArray(e))return Ml(e)}function vI(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yI(e,t){if(!!e){if(typeof e=="string")return Ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ml(e,t)}}function Ml(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function bI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $I="1.14.0";function Gn(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var es=Gn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),wi=Gn(/Edge/i),Lu=Gn(/firefox/i),Go=Gn(/safari/i)&&!Gn(/chrome/i)&&!Gn(/android/i),Rf=Gn(/iP(ad|od|hone)/i),wI=Gn(/chrome/i)&&Gn(/android/i),Pf={capture:!1,passive:!1};function Qe(e,t,n){e.addEventListener(t,n,!es&&Pf)}function Ge(e,t,n){e.removeEventListener(t,n,!es&&Pf)}function la(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function _I(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function yn(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&la(e,t):la(e,t))||o&&e===n)return e;if(e===n)break}while(e=_I(e))}return null}var Fu=/\s+/g;function gt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Fu," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Fu," ")}}function Ee(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Ms(e,t){var n="";if(typeof e=="string")n=e;else do{var o=Ee(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function Mf(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,l=o.length;if(n)for(;a<l;a++)n(o[a],a);return o}return[]}function Mn(){var e=document.scrollingElement;return e||document.documentElement}function mt(e,t,n,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var l,i,r,u,d,c,f;if(e!==window&&e.parentNode&&e!==Mn()?(l=e.getBoundingClientRect(),i=l.top,r=l.left,u=l.bottom,d=l.right,c=l.height,f=l.width):(i=0,r=0,u=window.innerHeight,d=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!es))do if(a&&a.getBoundingClientRect&&(Ee(a,"transform")!=="none"||n&&Ee(a,"position")!=="static")){var h=a.getBoundingClientRect();i-=h.top+parseInt(Ee(a,"border-top-width")),r-=h.left+parseInt(Ee(a,"border-left-width")),u=i+l.height,d=r+l.width;break}while(a=a.parentNode);if(o&&e!==window){var m=Ms(a||e),p=m&&m.a,y=m&&m.d;m&&(i/=y,r/=p,f/=p,c/=y,u=i+c,d=r+f)}return{top:i,left:r,bottom:u,right:d,width:f,height:c}}}function Bu(e,t,n){for(var o=ds(e,!0),a=mt(e)[t];o;){var l=mt(o)[n],i=void 0;if(n==="top"||n==="left"?i=a>=l:i=a<=l,!i)return o;if(o===Mn())break;o=ds(o,!1)}return!1}function vo(e,t,n,o){for(var a=0,l=0,i=e.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==Ue.ghost&&(o||i[l]!==Ue.dragged)&&yn(i[l],n.draggable,e,!1)){if(a===t)return i[l];a++}l++}return null}function _r(e,t){for(var n=e.lastElementChild;n&&(n===Ue.ghost||Ee(n,"display")==="none"||t&&!la(n,t));)n=n.previousElementSibling;return n||null}function $t(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ue.clone&&(!t||la(e,t))&&n++;return n}function Hu(e){var t=0,n=0,o=Mn();if(e)do{var a=Ms(e),l=a.a,i=a.d;t+=e.scrollLeft*l,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function CI(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function ds(e,t){if(!e||!e.getBoundingClientRect)return Mn();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=Ee(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Mn();if(o||t)return n;o=!0}}while(n=n.parentNode);return Mn()}function SI(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function qa(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Yo;function Uf(e,t){return function(){if(!Yo){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Yo=setTimeout(function(){Yo=void 0},t)}}}function EI(){clearTimeout(Yo),Yo=void 0}function Nf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Cr(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function zu(e,t){Ee(e,"position","absolute"),Ee(e,"top",t.top),Ee(e,"left",t.left),Ee(e,"width",t.width),Ee(e,"height",t.height)}function el(e){Ee(e,"position",""),Ee(e,"top",""),Ee(e,"left",""),Ee(e,"width",""),Ee(e,"height","")}var Pt="Sortable"+new Date().getTime();function kI(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(Ee(a,"display")==="none"||a===Ue.ghost)){e.push({target:a,rect:mt(a)});var l=Ln({},e[e.length-1].rect);if(a.thisAnimationDuration){var i=Ms(a,!0);i&&(l.top-=i.f,l.left-=i.e)}a.fromRect=l}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(CI(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var l=!1,i=0;e.forEach(function(r){var u=0,d=r.target,c=d.fromRect,f=mt(d),h=d.prevFromRect,m=d.prevToRect,p=r.rect,y=Ms(d,!0);y&&(f.top-=y.f,f.left-=y.e),d.toRect=f,d.thisAnimationDuration&&qa(h,f)&&!qa(c,f)&&(p.top-f.top)/(p.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=II(p,h,m,a.options)),qa(f,c)||(d.prevFromRect=c,d.prevToRect=f,u||(u=a.options.animation),a.animate(d,p,f,u)),u&&(l=!0,i=Math.max(i,u),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},u),d.thisAnimationDuration=u)}),clearTimeout(t),l?t=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,a,l,i){if(i){Ee(o,"transition",""),Ee(o,"transform","");var r=Ms(this.el),u=r&&r.a,d=r&&r.d,c=(a.left-l.left)/(u||1),f=(a.top-l.top)/(d||1);o.animatingX=!!c,o.animatingY=!!f,Ee(o,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=TI(o),Ee(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Ee(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){Ee(o,"transition",""),Ee(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function TI(e){return e.offsetWidth}function II(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Ys=[],tl={initializeByDefault:!0},_i={mount:function(t){for(var n in tl)tl.hasOwnProperty(n)&&!(n in t)&&(t[n]=tl[n]);Ys.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ys.push(t)},pluginEvent:function(t,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var l=t+"Global";Ys.forEach(function(i){!n[i.pluginName]||(n[i.pluginName][l]&&n[i.pluginName][l](Ln({sortable:n},o)),n.options[i.pluginName]&&n[i.pluginName][t]&&n[i.pluginName][t](Ln({sortable:n},o)))})},initializePlugins:function(t,n,o,a){Ys.forEach(function(r){var u=r.pluginName;if(!(!t.options[u]&&!r.initializeByDefault)){var d=new r(t,n,t.options);d.sortable=t,d.options=t.options,t[u]=d,hn(o,d.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var i=this.modifyOption(t,l,t.options[l]);typeof i!="undefined"&&(t.options[l]=i)}},getEventProperties:function(t,n){var o={};return Ys.forEach(function(a){typeof a.eventProperties=="function"&&hn(o,a.eventProperties.call(n[a.pluginName],t))}),o},modifyOption:function(t,n,o){var a;return Ys.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[n]=="function"&&(a=l.optionListeners[n].call(t[l.pluginName],o))}),a}};function Po(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,l=e.cloneEl,i=e.toEl,r=e.fromEl,u=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Pt],!!t){var y,w=t.options,$="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!es&&!wi?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=i||n,y.from=r||n,y.item=a||n,y.clone=l,y.oldIndex=u,y.newIndex=d,y.oldDraggableIndex=c,y.newDraggableIndex=f,y.originalEvent=h,y.pullMode=m?m.lastPutMode:void 0;var b=Ln(Ln({},p),_i.getEventProperties(o,t));for(var S in b)y[S]=b[S];n&&n.dispatchEvent(y),w[$]&&w[$].call(t,y)}}var VI=["evt"],zt=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,l=mI(o,VI);_i.pluginEvent.bind(Ue)(t,n,Ln({dragEl:fe,parentEl:yt,ghostEl:xe,rootEl:ht,nextEl:ks,lastDownEl:xi,cloneEl:bt,cloneHidden:us,dragStarted:Mo,putSortable:It,activeSortable:Ue.active,originalEvent:a,oldIndex:to,oldDraggableIndex:Xo,newIndex:qt,newDraggableIndex:rs,hideGhostForTarget:Hf,unhideGhostForTarget:zf,cloneNowHidden:function(){us=!0},cloneNowShown:function(){us=!1},dispatchSortableEvent:function(r){Ft({sortable:n,name:r,originalEvent:a})}},l))};function Ft(e){Po(Ln({putSortable:It,cloneEl:bt,targetEl:fe,rootEl:ht,oldIndex:to,oldDraggableIndex:Xo,newIndex:qt,newDraggableIndex:rs},e))}var fe,yt,xe,ht,ks,xi,bt,us,to,qt,Xo,rs,Pi,It,eo=!1,ra=!1,ua=[],_s,pn,nl,sl,ju,Wu,Mo,Xs,Qo,Zo=!1,Mi=!1,Ki,Dt,ol=[],Ul=!1,da=[],Ba=typeof document!="undefined",Ui=Rf,xu=wi||es?"cssFloat":"float",AI=Ba&&!wI&&!Rf&&"draggable"in document.createElement("div"),Lf=function(){if(!!Ba){if(es)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Ff=function(t,n){var o=Ee(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=vo(t,0,n),i=vo(t,1,n),r=l&&Ee(l),u=i&&Ee(i),d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+mt(l).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+mt(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var f=r.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||d>=a&&o[xu]==="none"||i&&o[xu]==="none"&&d+c>a)?"vertical":"horizontal"},DI=function(t,n,o){var a=o?t.left:t.top,l=o?t.right:t.bottom,i=o?t.width:t.height,r=o?n.left:n.top,u=o?n.right:n.bottom,d=o?n.width:n.height;return a===r||l===u||a+i/2===r+d/2},OI=function(t,n){var o;return ua.some(function(a){var l=a[Pt].options.emptyInsertThreshold;if(!(!l||_r(a))){var i=mt(a),r=t>=i.left-l&&t<=i.right+l,u=n>=i.top-l&&n<=i.bottom+l;if(r&&u)return o=a}}),o},Bf=function(t){function n(l,i){return function(r,u,d,c){var f=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(l==null&&(i||f))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return n(l(r,u,d,c),i)(r,u,d,c);var h=(i?r:u).options.group.name;return l===!0||typeof l=="string"&&l===h||l.join&&l.indexOf(h)>-1}}var o={},a=t.group;(!a||Wi(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,t.group=o},Hf=function(){!Lf&&xe&&Ee(xe,"display","none")},zf=function(){!Lf&&xe&&Ee(xe,"display","")};Ba&&document.addEventListener("click",function(e){if(ra)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ra=!1,!1},!0);var Cs=function(t){if(fe){t=t.touches?t.touches[0]:t;var n=OI(t.clientX,t.clientY);if(n){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Pt]._onDragOver(o)}}},RI=function(t){fe&&fe.parentNode[Pt]._isOutsideThisEl(t.target)};function Ue(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=hn({},t),e[Pt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ff(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ue.supportPointer!==!1&&"PointerEvent"in window&&!Go,emptyInsertThreshold:5};_i.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Bf(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:AI,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Qe(e,"pointerdown",this._onTapStart):(Qe(e,"mousedown",this._onTapStart),Qe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Qe(e,"dragover",this),Qe(e,"dragenter",this)),ua.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),hn(this,kI())}Ue.prototype={constructor:Ue,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Xs=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,fe):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,a=this.options,l=a.preventOnFilter,i=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(r||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=a.filter;if(HI(o),!fe&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Go&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=yn(u,a.draggable,o,!1),!(u&&u.animated)&&xi!==u)){if(to=$t(u),Xo=$t(u,a.draggable),typeof c=="function"){if(c.call(this,t,u,this)){Ft({sortable:n,rootEl:d,name:"filter",targetEl:u,toEl:o,fromEl:o}),zt("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=yn(d,f.trim(),o,!1),f)return Ft({sortable:n,rootEl:f,name:"filter",targetEl:u,fromEl:o,toEl:o}),zt("filter",n,{evt:t}),!0}),c)){l&&t.cancelable&&t.preventDefault();return}a.handle&&!yn(d,a.handle,o,!1)||this._prepareDragStart(t,r,u)}}},_prepareDragStart:function(t,n,o){var a=this,l=a.el,i=a.options,r=l.ownerDocument,u;if(o&&!fe&&o.parentNode===l){var d=mt(o);if(ht=l,fe=o,yt=fe.parentNode,ks=fe.nextSibling,xi=o,Pi=i.group,Ue.dragged=fe,_s={target:fe,clientX:(n||t).clientX,clientY:(n||t).clientY},ju=_s.clientX-d.left,Wu=_s.clientY-d.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,fe.style["will-change"]="all",u=function(){if(zt("delayEnded",a,{evt:t}),Ue.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Lu&&a.nativeDraggable&&(fe.draggable=!0),a._triggerDragStart(t,n),Ft({sortable:a,name:"choose",originalEvent:t}),gt(fe,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){Mf(fe,c.trim(),il)}),Qe(r,"dragover",Cs),Qe(r,"mousemove",Cs),Qe(r,"touchmove",Cs),Qe(r,"mouseup",a._onDrop),Qe(r,"touchend",a._onDrop),Qe(r,"touchcancel",a._onDrop),Lu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,fe.draggable=!0),zt("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(wi||es))){if(Ue.eventCanceled){this._onDrop();return}Qe(r,"mouseup",a._disableDelayedDrag),Qe(r,"touchend",a._disableDelayedDrag),Qe(r,"touchcancel",a._disableDelayedDrag),Qe(r,"mousemove",a._delayedDragTouchMoveHandler),Qe(r,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&Qe(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){fe&&il(fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ge(t,"mouseup",this._disableDelayedDrag),Ge(t,"touchend",this._disableDelayedDrag),Ge(t,"touchcancel",this._disableDelayedDrag),Ge(t,"mousemove",this._delayedDragTouchMoveHandler),Ge(t,"touchmove",this._delayedDragTouchMoveHandler),Ge(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Qe(document,"pointermove",this._onTouchMove):n?Qe(document,"touchmove",this._onTouchMove):Qe(document,"mousemove",this._onTouchMove):(Qe(fe,"dragend",this),Qe(ht,"dragstart",this._onDragStart));try{document.selection?Ji(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(eo=!1,ht&&fe){zt("dragStarted",this,{evt:n}),this.nativeDraggable&&Qe(document,"dragover",RI);var o=this.options;!t&&gt(fe,o.dragClass,!1),gt(fe,o.ghostClass,!0),Ue.active=this,t&&this._appendGhost(),Ft({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(pn){this._lastX=pn.clientX,this._lastY=pn.clientY,Hf();for(var t=document.elementFromPoint(pn.clientX,pn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(pn.clientX,pn.clientY),t!==n);)n=t;if(fe.parentNode[Pt]._isOutsideThisEl(t),n)do{if(n[Pt]){var o=void 0;if(o=n[Pt]._onDragOver({clientX:pn.clientX,clientY:pn.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);zf()}},_onTouchMove:function(t){if(_s){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,l=t.touches?t.touches[0]:t,i=xe&&Ms(xe,!0),r=xe&&i&&i.a,u=xe&&i&&i.d,d=Ui&&Dt&&Hu(Dt),c=(l.clientX-_s.clientX+a.x)/(r||1)+(d?d[0]-ol[0]:0)/(r||1),f=(l.clientY-_s.clientY+a.y)/(u||1)+(d?d[1]-ol[1]:0)/(u||1);if(!Ue.active&&!eo){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(xe){i?(i.e+=c-(nl||0),i.f+=f-(sl||0)):i={a:1,b:0,c:0,d:1,e:c,f};var h="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Ee(xe,"webkitTransform",h),Ee(xe,"mozTransform",h),Ee(xe,"msTransform",h),Ee(xe,"transform",h),nl=c,sl=f,pn=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!xe){var t=this.options.fallbackOnBody?document.body:ht,n=mt(fe,!0,Ui,!0,t),o=this.options;if(Ui){for(Dt=t;Ee(Dt,"position")==="static"&&Ee(Dt,"transform")==="none"&&Dt!==document;)Dt=Dt.parentNode;Dt!==document.body&&Dt!==document.documentElement?(Dt===document&&(Dt=Mn()),n.top+=Dt.scrollTop,n.left+=Dt.scrollLeft):Dt=Mn(),ol=Hu(Dt)}xe=fe.cloneNode(!0),gt(xe,o.ghostClass,!1),gt(xe,o.fallbackClass,!0),gt(xe,o.dragClass,!0),Ee(xe,"transition",""),Ee(xe,"transform",""),Ee(xe,"box-sizing","border-box"),Ee(xe,"margin",0),Ee(xe,"top",n.top),Ee(xe,"left",n.left),Ee(xe,"width",n.width),Ee(xe,"height",n.height),Ee(xe,"opacity","0.8"),Ee(xe,"position",Ui?"absolute":"fixed"),Ee(xe,"zIndex","100000"),Ee(xe,"pointerEvents","none"),Ue.ghost=xe,t.appendChild(xe),Ee(xe,"transform-origin",ju/parseInt(xe.style.width)*100+"% "+Wu/parseInt(xe.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,a=t.dataTransfer,l=o.options;if(zt("dragStart",this,{evt:t}),Ue.eventCanceled){this._onDrop();return}zt("setupClone",this),Ue.eventCanceled||(bt=Cr(fe),bt.draggable=!1,bt.style["will-change"]="",this._hideClone(),gt(bt,this.options.chosenClass,!1),Ue.clone=bt),o.cloneId=Ji(function(){zt("clone",o),!Ue.eventCanceled&&(o.options.removeCloneOnHide||ht.insertBefore(bt,fe),o._hideClone(),Ft({sortable:o,name:"clone"}))}),!n&&gt(fe,l.dragClass,!0),n?(ra=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Ge(document,"mouseup",o._onDrop),Ge(document,"touchend",o._onDrop),Ge(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(o,a,fe)),Qe(document,"drop",o),Ee(fe,"transform","translateZ(0)")),eo=!0,o._dragStartId=Ji(o._dragStarted.bind(o,n,t)),Qe(document,"selectstart",o),Mo=!0,Go&&Ee(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,a,l,i,r=this.options,u=r.group,d=Ue.active,c=Pi===u,f=r.sort,h=It||d,m,p=this,y=!1;if(Ul)return;function w(Ce,ze){zt(Ce,p,Ln({evt:t,isOwner:c,axis:m?"vertical":"horizontal",revert:i,dragRect:a,targetRect:l,canSort:f,fromSortable:h,target:o,completed:b,onMove:function(We,q){return Ni(ht,n,fe,a,We,mt(We),t,q)},changed:S},ze))}function $(){w("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function b(Ce){return w("dragOverCompleted",{insertion:Ce}),Ce&&(c?d._hideClone():d._showClone(p),p!==h&&(gt(fe,It?It.options.ghostClass:d.options.ghostClass,!1),gt(fe,r.ghostClass,!0)),It!==p&&p!==Ue.active?It=p:p===Ue.active&&It&&(It=null),h===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){w("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===fe&&!fe.animated||o===n&&!o.animated)&&(Xs=null),!r.dragoverBubble&&!t.rootEl&&o!==document&&(fe.parentNode[Pt]._isOutsideThisEl(t.target),!Ce&&Cs(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function S(){qt=$t(fe),rs=$t(fe,r.draggable),Ft({sortable:p,name:"change",toEl:n,newIndex:qt,newDraggableIndex:rs,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=yn(o,r.draggable,n,!0),w("dragOver"),Ue.eventCanceled)return y;if(fe.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return b(!1);if(ra=!1,d&&!r.disabled&&(c?f||(i=yt!==ht):It===this||(this.lastPutMode=Pi.checkPull(this,d,fe,t))&&u.checkPut(this,d,fe,t))){if(m=this._getDirection(t,o)==="vertical",a=mt(fe),w("dragOverValid"),Ue.eventCanceled)return y;if(i)return yt=ht,$(),this._hideClone(),w("revert"),Ue.eventCanceled||(ks?ht.insertBefore(fe,ks):ht.appendChild(fe)),b(!0);var _=_r(n,r.draggable);if(!_||NI(t,m,this)&&!_.animated){if(_===fe)return b(!1);if(_&&n===t.target&&(o=_),o&&(l=mt(o)),Ni(ht,n,fe,a,o,l,t,!!o)!==!1)return $(),n.appendChild(fe),yt=n,S(),b(!0)}else if(_&&UI(t,m,this)){var I=vo(n,0,r,!0);if(I===fe)return b(!1);if(o=I,l=mt(o),Ni(ht,n,fe,a,o,l,t,!1)!==!1)return $(),n.insertBefore(fe,I),yt=n,S(),b(!0)}else if(o.parentNode===n){l=mt(o);var E=0,U,R=fe.parentNode!==n,O=!DI(fe.animated&&fe.toRect||a,o.animated&&o.toRect||l,m),z=m?"top":"left",K=Bu(o,"top","top")||Bu(fe,"top","top"),J=K?K.scrollTop:void 0;Xs!==o&&(U=l[z],Zo=!1,Mi=!O&&r.invertSwap||R),E=LI(t,o,l,m,O?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Mi,Xs===o);var W;if(E!==0){var F=$t(fe);do F-=E,W=yt.children[F];while(W&&(Ee(W,"display")==="none"||W===xe))}if(E===0||W===o)return b(!1);Xs=o,Qo=E;var be=o.nextElementSibling,Q=!1;Q=E===1;var ce=Ni(ht,n,fe,a,o,l,t,Q);if(ce!==!1)return(ce===1||ce===-1)&&(Q=ce===1),Ul=!0,setTimeout(MI,30),$(),Q&&!be?n.appendChild(fe):o.parentNode.insertBefore(fe,Q?be:o),K&&Nf(K,0,J-K.scrollTop),yt=fe.parentNode,U!==void 0&&!Mi&&(Ki=Math.abs(U-mt(o)[z])),S(),b(!0)}if(n.contains(fe))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ge(document,"mousemove",this._onTouchMove),Ge(document,"touchmove",this._onTouchMove),Ge(document,"pointermove",this._onTouchMove),Ge(document,"dragover",Cs),Ge(document,"mousemove",Cs),Ge(document,"touchmove",Cs)},_offUpEvents:function(){var t=this.el.ownerDocument;Ge(t,"mouseup",this._onDrop),Ge(t,"touchend",this._onDrop),Ge(t,"pointerup",this._onDrop),Ge(t,"touchcancel",this._onDrop),Ge(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(qt=$t(fe),rs=$t(fe,o.draggable),zt("drop",this,{evt:t}),yt=fe&&fe.parentNode,qt=$t(fe),rs=$t(fe,o.draggable),Ue.eventCanceled){this._nulling();return}eo=!1,Mi=!1,Zo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Nl(this.cloneId),Nl(this._dragStartId),this.nativeDraggable&&(Ge(document,"drop",this),Ge(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Go&&Ee(document.body,"user-select",""),Ee(fe,"transform",""),t&&(Mo&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),xe&&xe.parentNode&&xe.parentNode.removeChild(xe),(ht===yt||It&&It.lastPutMode!=="clone")&&bt&&bt.parentNode&&bt.parentNode.removeChild(bt),fe&&(this.nativeDraggable&&Ge(fe,"dragend",this),il(fe),fe.style["will-change"]="",Mo&&!eo&&gt(fe,It?It.options.ghostClass:this.options.ghostClass,!1),gt(fe,this.options.chosenClass,!1),Ft({sortable:this,name:"unchoose",toEl:yt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ht!==yt?(qt>=0&&(Ft({rootEl:yt,name:"add",toEl:yt,fromEl:ht,originalEvent:t}),Ft({sortable:this,name:"remove",toEl:yt,originalEvent:t}),Ft({rootEl:yt,name:"sort",toEl:yt,fromEl:ht,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:yt,originalEvent:t})),It&&It.save()):qt!==to&&qt>=0&&(Ft({sortable:this,name:"update",toEl:yt,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:yt,originalEvent:t})),Ue.active&&((qt==null||qt===-1)&&(qt=to,rs=Xo),Ft({sortable:this,name:"end",toEl:yt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){zt("nulling",this),ht=fe=yt=xe=ks=bt=xi=us=_s=pn=Mo=qt=rs=to=Xo=Xs=Qo=It=Pi=Ue.dragged=Ue.ghost=Ue.clone=Ue.active=null,da.forEach(function(t){t.checked=!0}),da.length=nl=sl=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":fe&&(this._onDragOver(t),PI(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,a=0,l=o.length,i=this.options;a<l;a++)n=o[a],yn(n,i.draggable,this.el,!1)&&t.push(n.getAttribute(i.dataIdAttr)||BI(n));return t},sort:function(t,n){var o={},a=this.el;this.toArray().forEach(function(l,i){var r=a.children[i];yn(r,this.options.draggable,a,!1)&&(o[l]=r)},this),n&&this.captureAnimationState(),t.forEach(function(l){o[l]&&(a.removeChild(o[l]),a.appendChild(o[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return yn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var a=_i.modifyOption(this,t,n);typeof a!="undefined"?o[t]=a:o[t]=n,t==="group"&&Bf(o)},destroy:function(){zt("destroy",this);var t=this.el;t[Pt]=null,Ge(t,"mousedown",this._onTapStart),Ge(t,"touchstart",this._onTapStart),Ge(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ge(t,"dragover",this),Ge(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ua.splice(ua.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!us){if(zt("hideClone",this),Ue.eventCanceled)return;Ee(bt,"display","none"),this.options.removeCloneOnHide&&bt.parentNode&&bt.parentNode.removeChild(bt),us=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(us){if(zt("showClone",this),Ue.eventCanceled)return;fe.parentNode==ht&&!this.options.group.revertClone?ht.insertBefore(bt,fe):ks?ht.insertBefore(bt,ks):ht.appendChild(bt),this.options.group.revertClone&&this.animate(fe,bt),Ee(bt,"display",""),us=!1}}};function PI(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ni(e,t,n,o,a,l,i,r){var u,d=e[Pt],c=d.options.onMove,f;return window.CustomEvent&&!es&&!wi?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=o,u.related=a||t,u.relatedRect=l||mt(t),u.willInsertAfter=r,u.originalEvent=i,e.dispatchEvent(u),c&&(f=c.call(d,u,i)),f}function il(e){e.draggable=!1}function MI(){Ul=!1}function UI(e,t,n){var o=mt(vo(n.el,0,n.options,!0)),a=10;return t?e.clientX<o.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-a||e.clientY<o.bottom&&e.clientX<o.left}function NI(e,t,n){var o=mt(_r(n.el,n.options.draggable)),a=10;return t?e.clientX>o.right+a||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+a}function LI(e,t,n,o,a,l,i,r){var u=o?e.clientY:e.clientX,d=o?n.height:n.width,c=o?n.top:n.left,f=o?n.bottom:n.right,h=!1;if(!i){if(r&&Ki<d*a){if(!Zo&&(Qo===1?u>c+d*l/2:u<f-d*l/2)&&(Zo=!0),Zo)h=!0;else if(Qo===1?u<c+Ki:u>f-Ki)return-Qo}else if(u>c+d*(1-a)/2&&u<f-d*(1-a)/2)return FI(t)}return h=h||i,h&&(u<c+d*l/2||u>f-d*l/2)?u>c+d/2?1:-1:0}function FI(e){return $t(fe)<$t(e)?1:-1}function BI(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function HI(e){da.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&da.push(o)}}function Ji(e){return setTimeout(e,0)}function Nl(e){return clearTimeout(e)}Ba&&Qe(document,"touchmove",function(e){(Ue.active||eo)&&e.cancelable&&e.preventDefault()});Ue.utils={on:Qe,off:Ge,css:Ee,find:Mf,is:function(t,n){return!!yn(t,n,t,!1)},extend:SI,throttle:Uf,closest:yn,toggleClass:gt,clone:Cr,index:$t,nextTick:Ji,cancelNextTick:Nl,detectDirection:Ff,getChild:vo};Ue.get=function(e){return e[Pt]};Ue.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Ue.utils=Ln(Ln({},Ue.utils),o.utils)),_i.mount(o)})};Ue.create=function(e,t){return new Ue(e,t)};Ue.version=$I;var Ct=[],Uo,Ll,Fl=!1,al,ll,ca,No;function zI(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Qe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Qe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Qe(document,"touchmove",this._handleFallbackAutoScroll):Qe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Ge(document,"dragover",this._handleAutoScroll):(Ge(document,"pointermove",this._handleFallbackAutoScroll),Ge(document,"touchmove",this._handleFallbackAutoScroll),Ge(document,"mousemove",this._handleFallbackAutoScroll)),Ku(),Gi(),EI()},nulling:function(){ca=Ll=Uo=Fl=No=al=ll=null,Ct.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,l=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=document.elementFromPoint(l,i);if(ca=n,o||this.options.forceAutoScrollFallback||wi||es||Go){rl(n,this.options,r,o);var u=ds(r,!0);Fl&&(!No||l!==al||i!==ll)&&(No&&Ku(),No=setInterval(function(){var d=ds(document.elementFromPoint(l,i),!0);d!==u&&(u=d,Gi()),rl(n,a.options,d,o)},10),al=l,ll=i)}else{if(!this.options.bubbleScroll||ds(r,!0)===Mn()){Gi();return}rl(n,this.options,ds(r,!1),!1)}}},hn(e,{pluginName:"scroll",initializeByDefault:!0})}function Gi(){Ct.forEach(function(e){clearInterval(e.pid)}),Ct=[]}function Ku(){clearInterval(No)}var rl=Uf(function(e,t,n,o){if(!!t.scroll){var a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,r=t.scrollSpeed,u=Mn(),d=!1,c;Ll!==n&&(Ll=n,Gi(),Uo=t.scroll,c=t.scrollFn,Uo===!0&&(Uo=ds(n,!0)));var f=0,h=Uo;do{var m=h,p=mt(m),y=p.top,w=p.bottom,$=p.left,b=p.right,S=p.width,_=p.height,I=void 0,E=void 0,U=m.scrollWidth,R=m.scrollHeight,O=Ee(m),z=m.scrollLeft,K=m.scrollTop;m===u?(I=S<U&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),E=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(I=S<U&&(O.overflowX==="auto"||O.overflowX==="scroll"),E=_<R&&(O.overflowY==="auto"||O.overflowY==="scroll"));var J=I&&(Math.abs(b-a)<=i&&z+S<U)-(Math.abs($-a)<=i&&!!z),W=E&&(Math.abs(w-l)<=i&&K+_<R)-(Math.abs(y-l)<=i&&!!K);if(!Ct[f])for(var F=0;F<=f;F++)Ct[F]||(Ct[F]={});(Ct[f].vx!=J||Ct[f].vy!=W||Ct[f].el!==m)&&(Ct[f].el=m,Ct[f].vx=J,Ct[f].vy=W,clearInterval(Ct[f].pid),(J!=0||W!=0)&&(d=!0,Ct[f].pid=setInterval(function(){o&&this.layer===0&&Ue.active._onTouchMove(ca);var be=Ct[this.layer].vy?Ct[this.layer].vy*r:0,Q=Ct[this.layer].vx?Ct[this.layer].vx*r:0;typeof c=="function"&&c.call(Ue.dragged.parentNode[Pt],Q,be,e,ca,Ct[this.layer].el)!=="continue"||Nf(Ct[this.layer].el,Q,be)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&h!==u&&(h=ds(h,!1)));Fl=d}},30),jf=function(t){var n=t.originalEvent,o=t.putSortable,a=t.dragEl,l=t.activeSortable,i=t.dispatchSortableEvent,r=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(!!n){var d=o||l;r();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);u(),d&&!d.el.contains(f)&&(i("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Sr(){}Sr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=vo(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:jf};hn(Sr,{pluginName:"revertOnSpill"});function Er(){}Er.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:jf};hn(Er,{pluginName:"removeOnSpill"});var un;function jI(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var o=n.dragEl;un=o},dragOverValid:function(n){var o=n.completed,a=n.target,l=n.onMove,i=n.activeSortable,r=n.changed,u=n.cancel;if(!!i.options.swap){var d=this.sortable.el,c=this.options;if(a&&a!==d){var f=un;l(a)!==!1?(gt(a,c.swapClass,!0),un=a):un=null,f&&f!==un&&gt(f,c.swapClass,!1)}r(),o(!0),u()}},drop:function(n){var o=n.activeSortable,a=n.putSortable,l=n.dragEl,i=a||this.sortable,r=this.options;un&&gt(un,r.swapClass,!1),un&&(r.swap||a&&a.options.swap)&&l!==un&&(i.captureAnimationState(),i!==o&&o.captureAnimationState(),WI(l,un),i.animateAll(),i!==o&&o.animateAll())},nulling:function(){un=null}},hn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:un}}})}function WI(e,t){var n=e.parentNode,o=t.parentNode,a,l;!n||!o||n.isEqualNode(t)||o.isEqualNode(e)||(a=$t(e),l=$t(t),n.isEqualNode(o)&&a<l&&l++,n.insertBefore(t,n.children[a]),o.insertBefore(e,o.children[l]))}var He=[],Zt=[],Io,gn,Vo=!1,jt=!1,Qs=!1,ct,Ao,Li;function xI(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?Qe(document,"pointerup",this._deselectMultiDrag):(Qe(document,"mouseup",this._deselectMultiDrag),Qe(document,"touchend",this._deselectMultiDrag)),Qe(document,"keydown",this._checkKeyDown),Qe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,l){var i="";He.length&&gn===t?He.forEach(function(r,u){i+=(u?", ":"")+r.textContent}):i=l.textContent,a.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var o=n.dragEl;ct=o},delayEnded:function(){this.isMultiDrag=~He.indexOf(ct)},setupClone:function(n){var o=n.sortable,a=n.cancel;if(!!this.isMultiDrag){for(var l=0;l<He.length;l++)Zt.push(Cr(He[l])),Zt[l].sortableIndex=He[l].sortableIndex,Zt[l].draggable=!1,Zt[l].style["will-change"]="",gt(Zt[l],this.options.selectedClass,!1),He[l]===ct&&gt(Zt[l],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(n){var o=n.sortable,a=n.rootEl,l=n.dispatchSortableEvent,i=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||He.length&&gn===o&&(Ju(!0,a),l("clone"),i())},showClone:function(n){var o=n.cloneNowShown,a=n.rootEl,l=n.cancel;!this.isMultiDrag||(Ju(!1,a),Zt.forEach(function(i){Ee(i,"display","")}),o(),Li=!1,l())},hideClone:function(n){var o=this;n.sortable;var a=n.cloneNowHidden,l=n.cancel;!this.isMultiDrag||(Zt.forEach(function(i){Ee(i,"display","none"),o.options.removeCloneOnHide&&i.parentNode&&i.parentNode.removeChild(i)}),a(),Li=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&gn&&gn.multiDrag._deselectMultiDrag(),He.forEach(function(o){o.sortableIndex=$t(o)}),He=He.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),Qs=!0},dragStarted:function(n){var o=this,a=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){He.forEach(function(i){i!==ct&&Ee(i,"position","absolute")});var l=mt(ct,!1,!0,!0);He.forEach(function(i){i!==ct&&zu(i,l)}),jt=!0,Vo=!0}a.animateAll(function(){jt=!1,Vo=!1,o.options.animation&&He.forEach(function(i){el(i)}),o.options.sort&&Fi()})}},dragOver:function(n){var o=n.target,a=n.completed,l=n.cancel;jt&&~He.indexOf(o)&&(a(!1),l())},revert:function(n){var o=n.fromSortable,a=n.rootEl,l=n.sortable,i=n.dragRect;He.length>1&&(He.forEach(function(r){l.addAnimationState({target:r,rect:jt?mt(r):i}),el(r),r.fromRect=i,o.removeAnimationState(r)}),jt=!1,KI(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(n){var o=n.sortable,a=n.isOwner,l=n.insertion,i=n.activeSortable,r=n.parentEl,u=n.putSortable,d=this.options;if(l){if(a&&i._hideClone(),Vo=!1,d.animation&&He.length>1&&(jt||!a&&!i.options.sort&&!u)){var c=mt(ct,!1,!0,!0);He.forEach(function(h){h!==ct&&(zu(h,c),r.appendChild(h))}),jt=!0}if(!a)if(jt||Fi(),He.length>1){var f=Li;i._showClone(o),i.options.animation&&!Li&&f&&Zt.forEach(function(h){i.addAnimationState({target:h,rect:Ao}),h.fromRect=Ao,h.thisAnimationDuration=null})}else i._showClone(o)}},dragOverAnimationCapture:function(n){var o=n.dragRect,a=n.isOwner,l=n.activeSortable;if(He.forEach(function(r){r.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){Ao=hn({},o);var i=Ms(ct,!0);Ao.top-=i.f,Ao.left-=i.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,Fi())},drop:function(n){var o=n.originalEvent,a=n.rootEl,l=n.parentEl,i=n.sortable,r=n.dispatchSortableEvent,u=n.oldIndex,d=n.putSortable,c=d||this.sortable;if(!!o){var f=this.options,h=l.children;if(!Qs)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),gt(ct,f.selectedClass,!~He.indexOf(ct)),~He.indexOf(ct))He.splice(He.indexOf(ct),1),Io=null,Po({sortable:i,rootEl:a,name:"deselect",targetEl:ct,originalEvt:o});else{if(He.push(ct),Po({sortable:i,rootEl:a,name:"select",targetEl:ct,originalEvt:o}),o.shiftKey&&Io&&i.el.contains(Io)){var m=$t(Io),p=$t(ct);if(~m&&~p&&m!==p){var y,w;for(p>m?(w=m,y=p):(w=p,y=m+1);w<y;w++)~He.indexOf(h[w])||(gt(h[w],f.selectedClass,!0),He.push(h[w]),Po({sortable:i,rootEl:a,name:"select",targetEl:h[w],originalEvt:o}))}}else Io=ct;gn=c}if(Qs&&this.isMultiDrag){if(jt=!1,(l[Pt].options.sort||l!==a)&&He.length>1){var $=mt(ct),b=$t(ct,":not(."+this.options.selectedClass+")");if(!Vo&&f.animation&&(ct.thisAnimationDuration=null),c.captureAnimationState(),!Vo&&(f.animation&&(ct.fromRect=$,He.forEach(function(_){if(_.thisAnimationDuration=null,_!==ct){var I=jt?mt(_):$;_.fromRect=I,c.addAnimationState({target:_,rect:I})}})),Fi(),He.forEach(function(_){h[b]?l.insertBefore(_,h[b]):l.appendChild(_),b++}),u===$t(ct))){var S=!1;He.forEach(function(_){if(_.sortableIndex!==$t(_)){S=!0;return}}),S&&r("update")}He.forEach(function(_){el(_)}),c.animateAll()}gn=c}(a===l||d&&d.lastPutMode!=="clone")&&Zt.forEach(function(_){_.parentNode&&_.parentNode.removeChild(_)})}},nullingGlobal:function(){this.isMultiDrag=Qs=!1,Zt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ge(document,"pointerup",this._deselectMultiDrag),Ge(document,"mouseup",this._deselectMultiDrag),Ge(document,"touchend",this._deselectMultiDrag),Ge(document,"keydown",this._checkKeyDown),Ge(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Qs!="undefined"&&Qs)&&gn===this.sortable&&!(n&&yn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;He.length;){var o=He[0];gt(o,this.options.selectedClass,!1),He.shift(),Po({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},hn(e,{pluginName:"multiDrag",utils:{select:function(n){var o=n.parentNode[Pt];!o||!o.options.multiDrag||~He.indexOf(n)||(gn&&gn!==o&&(gn.multiDrag._deselectMultiDrag(),gn=o),gt(n,o.options.selectedClass,!0),He.push(n))},deselect:function(n){var o=n.parentNode[Pt],a=He.indexOf(n);!o||!o.options.multiDrag||!~a||(gt(n,o.options.selectedClass,!1),He.splice(a,1))}},eventProperties:function(){var n=this,o=[],a=[];return He.forEach(function(l){o.push({multiDragElement:l,index:l.sortableIndex});var i;jt&&l!==ct?i=-1:jt?i=$t(l,":not(."+n.options.selectedClass+")"):i=$t(l),a.push({multiDragElement:l,index:i})}),{items:pI(He),clones:[].concat(Zt),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function KI(e,t){He.forEach(function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function Ju(e,t){Zt.forEach(function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function Fi(){He.forEach(function(e){e!==ct&&e.parentNode&&e.parentNode.removeChild(e)})}Ue.mount(new zI);Ue.mount(Er,Sr);var JI=Object.freeze(Object.defineProperty({__proto__:null,default:Ue,MultiDrag:xI,Sortable:Ue,Swap:jI},Symbol.toStringTag,{value:"Module"})),GI=Df(JI);(function(e,t){(function(o,a){e.exports=a(cI,GI)})(typeof self!="undefined"?self:uI,function(n,o){return function(a){var l={};function i(r){if(l[r])return l[r].exports;var u=l[r]={i:r,l:!1,exports:{}};return a[r].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=a,i.c=l,i.d=function(r,u,d){i.o(r,u)||Object.defineProperty(r,u,{enumerable:!0,get:d})},i.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,u){if(u&1&&(r=i(r)),u&8||u&4&&typeof r=="object"&&r&&r.__esModule)return r;var d=Object.create(null);if(i.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:r}),u&2&&typeof r!="string")for(var c in r)i.d(d,c,function(f){return r[f]}.bind(null,c));return d},i.n=function(r){var u=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(u,"a",u),u},i.o=function(r,u){return Object.prototype.hasOwnProperty.call(r,u)},i.p="",i(i.s="fb15")}({"00ee":function(a,l,i){var r=i("b622"),u=r("toStringTag"),d={};d[u]="z",a.exports=String(d)==="[object z]"},"0366":function(a,l,i){var r=i("1c0b");a.exports=function(u,d,c){if(r(u),d===void 0)return u;switch(c){case 0:return function(){return u.call(d)};case 1:return function(f){return u.call(d,f)};case 2:return function(f,h){return u.call(d,f,h)};case 3:return function(f,h,m){return u.call(d,f,h,m)}}return function(){return u.apply(d,arguments)}}},"057f":function(a,l,i){var r=i("fc6a"),u=i("241c").f,d={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(h){try{return u(h)}catch{return c.slice()}};a.exports.f=function(m){return c&&d.call(m)=="[object Window]"?f(m):u(r(m))}},"06cf":function(a,l,i){var r=i("83ab"),u=i("d1e7"),d=i("5c6c"),c=i("fc6a"),f=i("c04e"),h=i("5135"),m=i("0cfb"),p=Object.getOwnPropertyDescriptor;l.f=r?p:function(w,$){if(w=c(w),$=f($,!0),m)try{return p(w,$)}catch{}if(h(w,$))return d(!u.f.call(w,$),w[$])}},"0cfb":function(a,l,i){var r=i("83ab"),u=i("d039"),d=i("cc12");a.exports=!r&&!u(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,l,i){var r=i("23e7"),u=i("d58f").left,d=i("a640"),c=i("ae40"),f=d("reduce"),h=c("reduce",{1:0});r({target:"Array",proto:!0,forced:!f||!h},{reduce:function(p){return u(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,l,i){var r=i("c6b6"),u=i("9263");a.exports=function(d,c){var f=d.exec;if(typeof f=="function"){var h=f.call(d,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(r(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(d,c)}},"159b":function(a,l,i){var r=i("da84"),u=i("fdbc"),d=i("17c2"),c=i("9112");for(var f in u){var h=r[f],m=h&&h.prototype;if(m&&m.forEach!==d)try{c(m,"forEach",d)}catch{m.forEach=d}}},"17c2":function(a,l,i){var r=i("b727").forEach,u=i("a640"),d=i("ae40"),c=u("forEach"),f=d("forEach");a.exports=!c||!f?function(m){return r(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,l,i){var r=i("d066");a.exports=r("document","documentElement")},"1c0b":function(a,l){a.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},"1c7e":function(a,l,i){var r=i("b622"),u=r("iterator"),d=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){d=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}a.exports=function(h,m){if(!m&&!d)return!1;var p=!1;try{var y={};y[u]=function(){return{next:function(){return{done:p=!0}}}},h(y)}catch{}return p}},"1d80":function(a,l){a.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},"1dde":function(a,l,i){var r=i("d039"),u=i("b622"),d=i("2d00"),c=u("species");a.exports=function(f){return d>=51||!r(function(){var h=[],m=h.constructor={};return m[c]=function(){return{foo:1}},h[f](Boolean).foo!==1})}},"23cb":function(a,l,i){var r=i("a691"),u=Math.max,d=Math.min;a.exports=function(c,f){var h=r(c);return h<0?u(h+f,0):d(h,f)}},"23e7":function(a,l,i){var r=i("da84"),u=i("06cf").f,d=i("9112"),c=i("6eeb"),f=i("ce4e"),h=i("e893"),m=i("94ca");a.exports=function(p,y){var w=p.target,$=p.global,b=p.stat,S,_,I,E,U,R;if($?_=r:b?_=r[w]||f(w,{}):_=(r[w]||{}).prototype,_)for(I in y){if(U=y[I],p.noTargetGet?(R=u(_,I),E=R&&R.value):E=_[I],S=m($?I:w+(b?".":"#")+I,p.forced),!S&&E!==void 0){if(typeof U==typeof E)continue;h(U,E)}(p.sham||E&&E.sham)&&d(U,"sham",!0),c(_,I,U,p)}}},"241c":function(a,l,i){var r=i("ca84"),u=i("7839"),d=u.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(f){return r(f,d)}},"25f0":function(a,l,i){var r=i("6eeb"),u=i("825a"),d=i("d039"),c=i("ad6d"),f="toString",h=RegExp.prototype,m=h[f],p=d(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),y=m.name!=f;(p||y)&&r(RegExp.prototype,f,function(){var $=u(this),b=String($.source),S=$.flags,_=String(S===void 0&&$ instanceof RegExp&&!("flags"in h)?c.call($):S);return"/"+b+"/"+_},{unsafe:!0})},"2ca0":function(a,l,i){var r=i("23e7"),u=i("06cf").f,d=i("50c4"),c=i("5a34"),f=i("1d80"),h=i("ab13"),m=i("c430"),p="".startsWith,y=Math.min,w=h("startsWith"),$=!m&&!w&&!!function(){var b=u(String.prototype,"startsWith");return b&&!b.writable}();r({target:"String",proto:!0,forced:!$&&!w},{startsWith:function(S){var _=String(f(this));c(S);var I=d(y(arguments.length>1?arguments[1]:void 0,_.length)),E=String(S);return p?p.call(_,E,I):_.slice(I,I+E.length)===E}})},"2d00":function(a,l,i){var r=i("da84"),u=i("342f"),d=r.process,c=d&&d.versions,f=c&&c.v8,h,m;f?(h=f.split("."),m=h[0]+h[1]):u&&(h=u.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=u.match(/Chrome\/(\d+)/),h&&(m=h[1]))),a.exports=m&&+m},"342f":function(a,l,i){var r=i("d066");a.exports=r("navigator","userAgent")||""},"35a1":function(a,l,i){var r=i("f5df"),u=i("3f8c"),d=i("b622"),c=d("iterator");a.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||u[r(f)]}},"37e8":function(a,l,i){var r=i("83ab"),u=i("9bf2"),d=i("825a"),c=i("df75");a.exports=r?Object.defineProperties:function(h,m){d(h);for(var p=c(m),y=p.length,w=0,$;y>w;)u.f(h,$=p[w++],m[$]);return h}},"3bbe":function(a,l,i){var r=i("861d");a.exports=function(u){if(!r(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(a,l,i){var r=i("6547").charAt,u=i("69f3"),d=i("7dd0"),c="String Iterator",f=u.set,h=u.getterFor(c);d(String,"String",function(m){f(this,{type:c,string:String(m),index:0})},function(){var p=h(this),y=p.string,w=p.index,$;return w>=y.length?{value:void 0,done:!0}:($=r(y,w),p.index+=$.length,{value:$,done:!1})})},"3f8c":function(a,l){a.exports={}},4160:function(a,l,i){var r=i("23e7"),u=i("17c2");r({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(a,l,i){var r=i("da84");a.exports=r},"44ad":function(a,l,i){var r=i("d039"),u=i("c6b6"),d="".split;a.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?d.call(c,""):Object(c)}:Object},"44d2":function(a,l,i){var r=i("b622"),u=i("7c73"),d=i("9bf2"),c=r("unscopables"),f=Array.prototype;f[c]==null&&d.f(f,c,{configurable:!0,value:u(null)}),a.exports=function(h){f[c][h]=!0}},"44e7":function(a,l,i){var r=i("861d"),u=i("c6b6"),d=i("b622"),c=d("match");a.exports=function(f){var h;return r(f)&&((h=f[c])!==void 0?!!h:u(f)=="RegExp")}},4930:function(a,l,i){var r=i("d039");a.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"4d64":function(a,l,i){var r=i("fc6a"),u=i("50c4"),d=i("23cb"),c=function(f){return function(h,m,p){var y=r(h),w=u(y.length),$=d(p,w),b;if(f&&m!=m){for(;w>$;)if(b=y[$++],b!=b)return!0}else for(;w>$;$++)if((f||$ in y)&&y[$]===m)return f||$||0;return!f&&-1}};a.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(a,l,i){var r=i("23e7"),u=i("b727").filter,d=i("1dde"),c=i("ae40"),f=d("filter"),h=c("filter");r({target:"Array",proto:!0,forced:!f||!h},{filter:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,l,i){var r=i("0366"),u=i("7b0b"),d=i("9bdd"),c=i("e95a"),f=i("50c4"),h=i("8418"),m=i("35a1");a.exports=function(y){var w=u(y),$=typeof this=="function"?this:Array,b=arguments.length,S=b>1?arguments[1]:void 0,_=S!==void 0,I=m(w),E=0,U,R,O,z,K,J;if(_&&(S=r(S,b>2?arguments[2]:void 0,2)),I!=null&&!($==Array&&c(I)))for(z=I.call(w),K=z.next,R=new $;!(O=K.call(z)).done;E++)J=_?d(z,S,[O.value,E],!0):O.value,h(R,E,J);else for(U=f(w.length),R=new $(U);U>E;E++)J=_?S(w[E],E):w[E],h(R,E,J);return R.length=E,R}},"4fad":function(a,l,i){var r=i("23e7"),u=i("6f53").entries;r({target:"Object",stat:!0},{entries:function(c){return u(c)}})},"50c4":function(a,l,i){var r=i("a691"),u=Math.min;a.exports=function(d){return d>0?u(r(d),9007199254740991):0}},5135:function(a,l){var i={}.hasOwnProperty;a.exports=function(r,u){return i.call(r,u)}},5319:function(a,l,i){var r=i("d784"),u=i("825a"),d=i("7b0b"),c=i("50c4"),f=i("a691"),h=i("1d80"),m=i("8aa5"),p=i("14c3"),y=Math.max,w=Math.min,$=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,_=function(I){return I===void 0?I:String(I)};r("replace",2,function(I,E,U,R){var O=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,z=R.REPLACE_KEEPS_$0,K=O?"$":"$0";return[function(F,be){var Q=h(this),ce=F==null?void 0:F[I];return ce!==void 0?ce.call(F,Q,be):E.call(String(Q),F,be)},function(W,F){if(!O&&z||typeof F=="string"&&F.indexOf(K)===-1){var be=U(E,W,this,F);if(be.done)return be.value}var Q=u(W),ce=String(this),Ce=typeof F=="function";Ce||(F=String(F));var ze=Q.global;if(ze){var at=Q.unicode;Q.lastIndex=0}for(var We=[];;){var q=p(Q,ce);if(q===null||(We.push(q),!ze))break;var ge=String(q[0]);ge===""&&(Q.lastIndex=m(ce,c(Q.lastIndex),at))}for(var me="",P=0,X=0;X<We.length;X++){q=We[X];for(var x=String(q[0]),se=y(w(f(q.index),ce.length),0),H=[],re=1;re<q.length;re++)H.push(_(q[re]));var ye=q.groups;if(Ce){var Se=[x].concat(H,se,ce);ye!==void 0&&Se.push(ye);var C=String(F.apply(void 0,Se))}else C=J(x,ce,se,H,ye,F);se>=P&&(me+=ce.slice(P,se)+C,P=se+x.length)}return me+ce.slice(P)}];function J(W,F,be,Q,ce,Ce){var ze=be+W.length,at=Q.length,We=S;return ce!==void 0&&(ce=d(ce),We=b),E.call(Ce,We,function(q,ge){var me;switch(ge.charAt(0)){case"$":return"$";case"&":return W;case"`":return F.slice(0,be);case"'":return F.slice(ze);case"<":me=ce[ge.slice(1,-1)];break;default:var P=+ge;if(P===0)return q;if(P>at){var X=$(P/10);return X===0?q:X<=at?Q[X-1]===void 0?ge.charAt(1):Q[X-1]+ge.charAt(1):q}me=Q[P-1]}return me===void 0?"":me})}})},5692:function(a,l,i){var r=i("c430"),u=i("c6cd");(a.exports=function(d,c){return u[d]||(u[d]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,l,i){var r=i("d066"),u=i("241c"),d=i("7418"),c=i("825a");a.exports=r("Reflect","ownKeys")||function(h){var m=u.f(c(h)),p=d.f;return p?m.concat(p(h)):m}},"5a34":function(a,l,i){var r=i("44e7");a.exports=function(u){if(r(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(a,l){a.exports=function(i,r){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:r}}},"5db7":function(a,l,i){var r=i("23e7"),u=i("a2bf"),d=i("7b0b"),c=i("50c4"),f=i("1c0b"),h=i("65f0");r({target:"Array",proto:!0},{flatMap:function(p){var y=d(this),w=c(y.length),$;return f(p),$=h(y,0),$.length=u($,y,y,w,0,1,p,arguments.length>1?arguments[1]:void 0),$}})},6547:function(a,l,i){var r=i("a691"),u=i("1d80"),d=function(c){return function(f,h){var m=String(u(f)),p=r(h),y=m.length,w,$;return p<0||p>=y?c?"":void 0:(w=m.charCodeAt(p),w<55296||w>56319||p+1===y||($=m.charCodeAt(p+1))<56320||$>57343?c?m.charAt(p):w:c?m.slice(p,p+2):(w-55296<<10)+($-56320)+65536)}};a.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(a,l,i){var r=i("861d"),u=i("e8b5"),d=i("b622"),c=d("species");a.exports=function(f,h){var m;return u(f)&&(m=f.constructor,typeof m=="function"&&(m===Array||u(m.prototype))?m=void 0:r(m)&&(m=m[c],m===null&&(m=void 0))),new(m===void 0?Array:m)(h===0?0:h)}},"69f3":function(a,l,i){var r=i("7f9a"),u=i("da84"),d=i("861d"),c=i("9112"),f=i("5135"),h=i("f772"),m=i("d012"),p=u.WeakMap,y,w,$,b=function(O){return $(O)?w(O):y(O,{})},S=function(O){return function(z){var K;if(!d(z)||(K=w(z)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return K}};if(r){var _=new p,I=_.get,E=_.has,U=_.set;y=function(O,z){return U.call(_,O,z),z},w=function(O){return I.call(_,O)||{}},$=function(O){return E.call(_,O)}}else{var R=h("state");m[R]=!0,y=function(O,z){return c(O,R,z),z},w=function(O){return f(O,R)?O[R]:{}},$=function(O){return f(O,R)}}a.exports={set:y,get:w,has:$,enforce:b,getterFor:S}},"6eeb":function(a,l,i){var r=i("da84"),u=i("9112"),d=i("5135"),c=i("ce4e"),f=i("8925"),h=i("69f3"),m=h.get,p=h.enforce,y=String(String).split("String");(a.exports=function(w,$,b,S){var _=S?!!S.unsafe:!1,I=S?!!S.enumerable:!1,E=S?!!S.noTargetGet:!1;if(typeof b=="function"&&(typeof $=="string"&&!d(b,"name")&&u(b,"name",$),p(b).source=y.join(typeof $=="string"?$:"")),w===r){I?w[$]=b:c($,b);return}else _?!E&&w[$]&&(I=!0):delete w[$];I?w[$]=b:u(w,$,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||f(this)})},"6f53":function(a,l,i){var r=i("83ab"),u=i("df75"),d=i("fc6a"),c=i("d1e7").f,f=function(h){return function(m){for(var p=d(m),y=u(p),w=y.length,$=0,b=[],S;w>$;)S=y[$++],(!r||c.call(p,S))&&b.push(h?[S,p[S]]:p[S]);return b}};a.exports={entries:f(!0),values:f(!1)}},"73d9":function(a,l,i){var r=i("44d2");r("flatMap")},7418:function(a,l){l.f=Object.getOwnPropertySymbols},"746f":function(a,l,i){var r=i("428f"),u=i("5135"),d=i("e538"),c=i("9bf2").f;a.exports=function(f){var h=r.Symbol||(r.Symbol={});u(h,f)||c(h,f,{value:d.f(f)})}},7839:function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,l,i){var r=i("1d80");a.exports=function(u){return Object(r(u))}},"7c73":function(a,l,i){var r=i("825a"),u=i("37e8"),d=i("7839"),c=i("d012"),f=i("1be4"),h=i("cc12"),m=i("f772"),p=">",y="<",w="prototype",$="script",b=m("IE_PROTO"),S=function(){},_=function(O){return y+$+p+O+y+"/"+$+p},I=function(O){O.write(_("")),O.close();var z=O.parentWindow.Object;return O=null,z},E=function(){var O=h("iframe"),z="java"+$+":",K;return O.style.display="none",f.appendChild(O),O.src=String(z),K=O.contentWindow.document,K.open(),K.write(_("document.F=Object")),K.close(),K.F},U,R=function(){try{U=document.domain&&new ActiveXObject("htmlfile")}catch{}R=U?I(U):E();for(var O=d.length;O--;)delete R[w][d[O]];return R()};c[b]=!0,a.exports=Object.create||function(z,K){var J;return z!==null?(S[w]=r(z),J=new S,S[w]=null,J[b]=z):J=R(),K===void 0?J:u(J,K)}},"7dd0":function(a,l,i){var r=i("23e7"),u=i("9ed3"),d=i("e163"),c=i("d2bb"),f=i("d44e"),h=i("9112"),m=i("6eeb"),p=i("b622"),y=i("c430"),w=i("3f8c"),$=i("ae93"),b=$.IteratorPrototype,S=$.BUGGY_SAFARI_ITERATORS,_=p("iterator"),I="keys",E="values",U="entries",R=function(){return this};a.exports=function(O,z,K,J,W,F,be){u(K,z,J);var Q=function(X){if(X===W&&We)return We;if(!S&&X in ze)return ze[X];switch(X){case I:return function(){return new K(this,X)};case E:return function(){return new K(this,X)};case U:return function(){return new K(this,X)}}return function(){return new K(this)}},ce=z+" Iterator",Ce=!1,ze=O.prototype,at=ze[_]||ze["@@iterator"]||W&&ze[W],We=!S&&at||Q(W),q=z=="Array"&&ze.entries||at,ge,me,P;if(q&&(ge=d(q.call(new O)),b!==Object.prototype&&ge.next&&(!y&&d(ge)!==b&&(c?c(ge,b):typeof ge[_]!="function"&&h(ge,_,R)),f(ge,ce,!0,!0),y&&(w[ce]=R))),W==E&&at&&at.name!==E&&(Ce=!0,We=function(){return at.call(this)}),(!y||be)&&ze[_]!==We&&h(ze,_,We),w[z]=We,W)if(me={values:Q(E),keys:F?We:Q(I),entries:Q(U)},be)for(P in me)(S||Ce||!(P in ze))&&m(ze,P,me[P]);else r({target:z,proto:!0,forced:S||Ce},me);return me}},"7f9a":function(a,l,i){var r=i("da84"),u=i("8925"),d=r.WeakMap;a.exports=typeof d=="function"&&/native code/.test(u(d))},"825a":function(a,l,i){var r=i("861d");a.exports=function(u){if(!r(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(a,l,i){var r=i("d039");a.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,l,i){var r=i("c04e"),u=i("9bf2"),d=i("5c6c");a.exports=function(c,f,h){var m=r(f);m in c?u.f(c,m,d(0,h)):c[m]=h}},"861d":function(a,l){a.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},8875:function(a,l,i){var r,u,d;(function(c,f){u=[],r=f,d=typeof r=="function"?r.apply(l,u):r,d!==void 0&&(a.exports=d)})(typeof self!="undefined"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(U){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,p=h.exec(U.stack)||m.exec(U.stack),y=p&&p[1]||!1,w=p&&p[2]||!1,$=document.location.href.replace(document.location.hash,""),b,S,_,I=document.getElementsByTagName("script");y===$&&(b=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),_=b.replace(S,"$1").trim());for(var E=0;E<I.length;E++)if(I[E].readyState==="interactive"||I[E].src===y||y===$&&I[E].innerHTML&&I[E].innerHTML.trim()===_)return I[E];return null}}return c})},8925:function(a,l,i){var r=i("c6cd"),u=Function.toString;typeof r.inspectSource!="function"&&(r.inspectSource=function(d){return u.call(d)}),a.exports=r.inspectSource},"8aa5":function(a,l,i){var r=i("6547").charAt;a.exports=function(u,d,c){return d+(c?r(u,d).length:1)}},"8bbf":function(a,l){a.exports=n},"90e3":function(a,l){var i=0,r=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++i+r).toString(36)}},9112:function(a,l,i){var r=i("83ab"),u=i("9bf2"),d=i("5c6c");a.exports=r?function(c,f,h){return u.f(c,f,d(1,h))}:function(c,f,h){return c[f]=h,c}},9263:function(a,l,i){var r=i("ad6d"),u=i("9f7f"),d=RegExp.prototype.exec,c=String.prototype.replace,f=d,h=function(){var w=/a/,$=/b*/g;return d.call(w,"a"),d.call($,"a"),w.lastIndex!==0||$.lastIndex!==0}(),m=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,y=h||p||m;y&&(f=function($){var b=this,S,_,I,E,U=m&&b.sticky,R=r.call(b),O=b.source,z=0,K=$;return U&&(R=R.replace("y",""),R.indexOf("g")===-1&&(R+="g"),K=String($).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&$[b.lastIndex-1]!==`
`)&&(O="(?: "+O+")",K=" "+K,z++),_=new RegExp("^(?:"+O+")",R)),p&&(_=new RegExp("^"+O+"$(?!\\s)",R)),h&&(S=b.lastIndex),I=d.call(U?_:b,K),U?I?(I.input=I.input.slice(z),I[0]=I[0].slice(z),I.index=b.lastIndex,b.lastIndex+=I[0].length):b.lastIndex=0:h&&I&&(b.lastIndex=b.global?I.index+I[0].length:S),p&&I&&I.length>1&&c.call(I[0],_,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(I[E]=void 0)}),I}),a.exports=f},"94ca":function(a,l,i){var r=i("d039"),u=/#|\.prototype\./,d=function(p,y){var w=f[c(p)];return w==m?!0:w==h?!1:typeof y=="function"?r(y):!!y},c=d.normalize=function(p){return String(p).replace(u,".").toLowerCase()},f=d.data={},h=d.NATIVE="N",m=d.POLYFILL="P";a.exports=d},"99af":function(a,l,i){var r=i("23e7"),u=i("d039"),d=i("e8b5"),c=i("861d"),f=i("7b0b"),h=i("50c4"),m=i("8418"),p=i("65f0"),y=i("1dde"),w=i("b622"),$=i("2d00"),b=w("isConcatSpreadable"),S=9007199254740991,_="Maximum allowed index exceeded",I=$>=51||!u(function(){var O=[];return O[b]=!1,O.concat()[0]!==O}),E=y("concat"),U=function(O){if(!c(O))return!1;var z=O[b];return z!==void 0?!!z:d(O)},R=!I||!E;r({target:"Array",proto:!0,forced:R},{concat:function(z){var K=f(this),J=p(K,0),W=0,F,be,Q,ce,Ce;for(F=-1,Q=arguments.length;F<Q;F++)if(Ce=F===-1?K:arguments[F],U(Ce)){if(ce=h(Ce.length),W+ce>S)throw TypeError(_);for(be=0;be<ce;be++,W++)be in Ce&&m(J,W,Ce[be])}else{if(W>=S)throw TypeError(_);m(J,W++,Ce)}return J.length=W,J}})},"9bdd":function(a,l,i){var r=i("825a");a.exports=function(u,d,c,f){try{return f?d(r(c)[0],c[1]):d(c)}catch(m){var h=u.return;throw h!==void 0&&r(h.call(u)),m}}},"9bf2":function(a,l,i){var r=i("83ab"),u=i("0cfb"),d=i("825a"),c=i("c04e"),f=Object.defineProperty;l.f=r?f:function(m,p,y){if(d(m),p=c(p,!0),d(y),u)try{return f(m,p,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(m[p]=y.value),m}},"9ed3":function(a,l,i){var r=i("ae93").IteratorPrototype,u=i("7c73"),d=i("5c6c"),c=i("d44e"),f=i("3f8c"),h=function(){return this};a.exports=function(m,p,y){var w=p+" Iterator";return m.prototype=u(r,{next:d(1,y)}),c(m,w,!1,!0),f[w]=h,m}},"9f7f":function(a,l,i){var r=i("d039");function u(d,c){return RegExp(d,c)}l.UNSUPPORTED_Y=r(function(){var d=u("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),l.BROKEN_CARET=r(function(){var d=u("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(a,l,i){var r=i("e8b5"),u=i("50c4"),d=i("0366"),c=function(f,h,m,p,y,w,$,b){for(var S=y,_=0,I=$?d($,b,3):!1,E;_<p;){if(_ in m){if(E=I?I(m[_],_,h):m[_],w>0&&r(E))S=c(f,h,E,u(E.length),S,w-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[S]=E}S++}_++}return S};a.exports=c},a352:function(a,l){a.exports=o},a434:function(a,l,i){var r=i("23e7"),u=i("23cb"),d=i("a691"),c=i("50c4"),f=i("7b0b"),h=i("65f0"),m=i("8418"),p=i("1dde"),y=i("ae40"),w=p("splice"),$=y("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,S=Math.min,_=9007199254740991,I="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!w||!$},{splice:function(U,R){var O=f(this),z=c(O.length),K=u(U,z),J=arguments.length,W,F,be,Q,ce,Ce;if(J===0?W=F=0:J===1?(W=0,F=z-K):(W=J-2,F=S(b(d(R),0),z-K)),z+W-F>_)throw TypeError(I);for(be=h(O,F),Q=0;Q<F;Q++)ce=K+Q,ce in O&&m(be,Q,O[ce]);if(be.length=F,W<F){for(Q=K;Q<z-F;Q++)ce=Q+F,Ce=Q+W,ce in O?O[Ce]=O[ce]:delete O[Ce];for(Q=z;Q>z-F+W;Q--)delete O[Q-1]}else if(W>F)for(Q=z-F;Q>K;Q--)ce=Q+F-1,Ce=Q+W-1,ce in O?O[Ce]=O[ce]:delete O[Ce];for(Q=0;Q<W;Q++)O[Q+K]=arguments[Q+2];return O.length=z-F+W,be}})},a4d3:function(a,l,i){var r=i("23e7"),u=i("da84"),d=i("d066"),c=i("c430"),f=i("83ab"),h=i("4930"),m=i("fdbf"),p=i("d039"),y=i("5135"),w=i("e8b5"),$=i("861d"),b=i("825a"),S=i("7b0b"),_=i("fc6a"),I=i("c04e"),E=i("5c6c"),U=i("7c73"),R=i("df75"),O=i("241c"),z=i("057f"),K=i("7418"),J=i("06cf"),W=i("9bf2"),F=i("d1e7"),be=i("9112"),Q=i("6eeb"),ce=i("5692"),Ce=i("f772"),ze=i("d012"),at=i("90e3"),We=i("b622"),q=i("e538"),ge=i("746f"),me=i("d44e"),P=i("69f3"),X=i("b727").forEach,x=Ce("hidden"),se="Symbol",H="prototype",re=We("toPrimitive"),ye=P.set,Se=P.getterFor(se),C=Object[H],k=u.Symbol,L=d("JSON","stringify"),j=J.f,G=W.f,ae=z.f,pe=F.f,ne=ce("symbols"),le=ce("op-symbols"),ee=ce("string-to-symbol-registry"),Te=ce("symbol-to-string-registry"),we=ce("wks"),Ie=u.QObject,Re=!Ie||!Ie[H]||!Ie[H].findChild,Je=f&&p(function(){return U(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a!=7})?function(Me,Ve,Pe){var qe=j(C,Ve);qe&&delete C[Ve],G(Me,Ve,Pe),qe&&Me!==C&&G(C,Ve,qe)}:G,tt=function(Me,Ve){var Pe=ne[Me]=U(k[H]);return ye(Pe,{type:se,tag:Me,description:Ve}),f||(Pe.description=Ve),Pe},A=m?function(Me){return typeof Me=="symbol"}:function(Me){return Object(Me)instanceof k},D=function(Ve,Pe,qe){Ve===C&&D(le,Pe,qe),b(Ve);var nt=I(Pe,!0);return b(qe),y(ne,nt)?(qe.enumerable?(y(Ve,x)&&Ve[x][nt]&&(Ve[x][nt]=!1),qe=U(qe,{enumerable:E(0,!1)})):(y(Ve,x)||G(Ve,x,E(1,{})),Ve[x][nt]=!0),Je(Ve,nt,qe)):G(Ve,nt,qe)},B=function(Ve,Pe){b(Ve);var qe=_(Pe),nt=R(qe).concat(Fe(qe));return X(nt,function(Ht){(!f||_e.call(qe,Ht))&&D(Ve,Ht,qe[Ht])}),Ve},te=function(Ve,Pe){return Pe===void 0?U(Ve):B(U(Ve),Pe)},_e=function(Ve){var Pe=I(Ve,!0),qe=pe.call(this,Pe);return this===C&&y(ne,Pe)&&!y(le,Pe)?!1:qe||!y(this,Pe)||!y(ne,Pe)||y(this,x)&&this[x][Pe]?qe:!0},Oe=function(Ve,Pe){var qe=_(Ve),nt=I(Pe,!0);if(!(qe===C&&y(ne,nt)&&!y(le,nt))){var Ht=j(qe,nt);return Ht&&y(ne,nt)&&!(y(qe,x)&&qe[x][nt])&&(Ht.enumerable=!0),Ht}},Be=function(Ve){var Pe=ae(_(Ve)),qe=[];return X(Pe,function(nt){!y(ne,nt)&&!y(ze,nt)&&qe.push(nt)}),qe},Fe=function(Ve){var Pe=Ve===C,qe=ae(Pe?le:_(Ve)),nt=[];return X(qe,function(Ht){y(ne,Ht)&&(!Pe||y(C,Ht))&&nt.push(ne[Ht])}),nt};if(h||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor");var Ve=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Pe=at(Ve),qe=function(nt){this===C&&qe.call(le,nt),y(this,x)&&y(this[x],Pe)&&(this[x][Pe]=!1),Je(this,Pe,E(1,nt))};return f&&Re&&Je(C,Pe,{configurable:!0,set:qe}),tt(Pe,Ve)},Q(k[H],"toString",function(){return Se(this).tag}),Q(k,"withoutSetter",function(Me){return tt(at(Me),Me)}),F.f=_e,W.f=D,J.f=Oe,O.f=z.f=Be,K.f=Fe,q.f=function(Me){return tt(We(Me),Me)},f&&(G(k[H],"description",{configurable:!0,get:function(){return Se(this).description}}),c||Q(C,"propertyIsEnumerable",_e,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:k}),X(R(we),function(Me){ge(Me)}),r({target:se,stat:!0,forced:!h},{for:function(Me){var Ve=String(Me);if(y(ee,Ve))return ee[Ve];var Pe=k(Ve);return ee[Ve]=Pe,Te[Pe]=Ve,Pe},keyFor:function(Ve){if(!A(Ve))throw TypeError(Ve+" is not a symbol");if(y(Te,Ve))return Te[Ve]},useSetter:function(){Re=!0},useSimple:function(){Re=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!f},{create:te,defineProperty:D,defineProperties:B,getOwnPropertyDescriptor:Oe}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Be,getOwnPropertySymbols:Fe}),r({target:"Object",stat:!0,forced:p(function(){K.f(1)})},{getOwnPropertySymbols:function(Ve){return K.f(S(Ve))}}),L){var st=!h||p(function(){var Me=k();return L([Me])!="[null]"||L({a:Me})!="{}"||L(Object(Me))!="{}"});r({target:"JSON",stat:!0,forced:st},{stringify:function(Ve,Pe,qe){for(var nt=[Ve],Ht=1,za;arguments.length>Ht;)nt.push(arguments[Ht++]);if(za=Pe,!(!$(Pe)&&Ve===void 0||A(Ve)))return w(Pe)||(Pe=function(Gf,Ci){if(typeof za=="function"&&(Ci=za.call(this,Gf,Ci)),!A(Ci))return Ci}),nt[1]=Pe,L.apply(null,nt)}})}k[H][re]||be(k[H],re,k[H].valueOf),me(k,se),ze[x]=!0},a630:function(a,l,i){var r=i("23e7"),u=i("4df4"),d=i("1c7e"),c=!d(function(f){Array.from(f)});r({target:"Array",stat:!0,forced:c},{from:u})},a640:function(a,l,i){var r=i("d039");a.exports=function(u,d){var c=[][u];return!!c&&r(function(){c.call(null,d||function(){throw 1},1)})}},a691:function(a,l){var i=Math.ceil,r=Math.floor;a.exports=function(u){return isNaN(u=+u)?0:(u>0?r:i)(u)}},ab13:function(a,l,i){var r=i("b622"),u=r("match");a.exports=function(d){var c=/./;try{"/./"[d](c)}catch{try{return c[u]=!1,"/./"[d](c)}catch{}}return!1}},ac1f:function(a,l,i){var r=i("23e7"),u=i("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(a,l,i){var r=i("825a");a.exports=function(){var u=r(this),d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),u.dotAll&&(d+="s"),u.unicode&&(d+="u"),u.sticky&&(d+="y"),d}},ae40:function(a,l,i){var r=i("83ab"),u=i("d039"),d=i("5135"),c=Object.defineProperty,f={},h=function(m){throw m};a.exports=function(m,p){if(d(f,m))return f[m];p||(p={});var y=[][m],w=d(p,"ACCESSORS")?p.ACCESSORS:!1,$=d(p,0)?p[0]:h,b=d(p,1)?p[1]:void 0;return f[m]=!!y&&!u(function(){if(w&&!r)return!0;var S={length:-1};w?c(S,1,{enumerable:!0,get:h}):S[1]=1,y.call(S,$,b)})}},ae93:function(a,l,i){var r=i("e163"),u=i("9112"),d=i("5135"),c=i("b622"),f=i("c430"),h=c("iterator"),m=!1,p=function(){return this},y,w,$;[].keys&&($=[].keys(),"next"in $?(w=r(r($)),w!==Object.prototype&&(y=w)):m=!0),y==null&&(y={}),!f&&!d(y,h)&&u(y,h,p),a.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:m}},b041:function(a,l,i){var r=i("00ee"),u=i("f5df");a.exports=r?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(a,l,i){var r=i("83ab"),u=i("9bf2").f,d=Function.prototype,c=d.toString,f=/^\s*function ([^ (]*)/,h="name";r&&!(h in d)&&u(d,h,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},b622:function(a,l,i){var r=i("da84"),u=i("5692"),d=i("5135"),c=i("90e3"),f=i("4930"),h=i("fdbf"),m=u("wks"),p=r.Symbol,y=h?p:p&&p.withoutSetter||c;a.exports=function(w){return d(m,w)||(f&&d(p,w)?m[w]=p[w]:m[w]=y("Symbol."+w)),m[w]}},b64b:function(a,l,i){var r=i("23e7"),u=i("7b0b"),d=i("df75"),c=i("d039"),f=c(function(){d(1)});r({target:"Object",stat:!0,forced:f},{keys:function(m){return d(u(m))}})},b727:function(a,l,i){var r=i("0366"),u=i("44ad"),d=i("7b0b"),c=i("50c4"),f=i("65f0"),h=[].push,m=function(p){var y=p==1,w=p==2,$=p==3,b=p==4,S=p==6,_=p==5||S;return function(I,E,U,R){for(var O=d(I),z=u(O),K=r(E,U,3),J=c(z.length),W=0,F=R||f,be=y?F(I,J):w?F(I,0):void 0,Q,ce;J>W;W++)if((_||W in z)&&(Q=z[W],ce=K(Q,W,O),p)){if(y)be[W]=ce;else if(ce)switch(p){case 3:return!0;case 5:return Q;case 6:return W;case 2:h.call(be,Q)}else if(b)return!1}return S?-1:$||b?b:be}};a.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},c04e:function(a,l,i){var r=i("861d");a.exports=function(u,d){if(!r(u))return u;var c,f;if(d&&typeof(c=u.toString)=="function"&&!r(f=c.call(u))||typeof(c=u.valueOf)=="function"&&!r(f=c.call(u))||!d&&typeof(c=u.toString)=="function"&&!r(f=c.call(u)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(a,l){a.exports=!1},c6b6:function(a,l){var i={}.toString;a.exports=function(r){return i.call(r).slice(8,-1)}},c6cd:function(a,l,i){var r=i("da84"),u=i("ce4e"),d="__core-js_shared__",c=r[d]||u(d,{});a.exports=c},c740:function(a,l,i){var r=i("23e7"),u=i("b727").findIndex,d=i("44d2"),c=i("ae40"),f="findIndex",h=!0,m=c(f);f in[]&&Array(1)[f](function(){h=!1}),r({target:"Array",proto:!0,forced:h||!m},{findIndex:function(y){return u(this,y,arguments.length>1?arguments[1]:void 0)}}),d(f)},c8ba:function(a,l){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}a.exports=i},c975:function(a,l,i){var r=i("23e7"),u=i("4d64").indexOf,d=i("a640"),c=i("ae40"),f=[].indexOf,h=!!f&&1/[1].indexOf(1,-0)<0,m=d("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:h||!m||!p},{indexOf:function(w){return h?f.apply(this,arguments)||0:u(this,w,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,l,i){var r=i("5135"),u=i("fc6a"),d=i("4d64").indexOf,c=i("d012");a.exports=function(f,h){var m=u(f),p=0,y=[],w;for(w in m)!r(c,w)&&r(m,w)&&y.push(w);for(;h.length>p;)r(m,w=h[p++])&&(~d(y,w)||y.push(w));return y}},caad:function(a,l,i){var r=i("23e7"),u=i("4d64").includes,d=i("44d2"),c=i("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!f},{includes:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(a,l,i){var r=i("da84"),u=i("861d"),d=r.document,c=u(d)&&u(d.createElement);a.exports=function(f){return c?d.createElement(f):{}}},ce4e:function(a,l,i){var r=i("da84"),u=i("9112");a.exports=function(d,c){try{u(r,d,c)}catch{r[d]=c}return c}},d012:function(a,l){a.exports={}},d039:function(a,l){a.exports=function(i){try{return!!i()}catch{return!0}}},d066:function(a,l,i){var r=i("428f"),u=i("da84"),d=function(c){return typeof c=="function"?c:void 0};a.exports=function(c,f){return arguments.length<2?d(r[c])||d(u[c]):r[c]&&r[c][f]||u[c]&&u[c][f]}},d1e7:function(a,l,i){var r={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!r.call({1:2},1);l.f=d?function(f){var h=u(this,f);return!!h&&h.enumerable}:r},d28b:function(a,l,i){var r=i("746f");r("iterator")},d2bb:function(a,l,i){var r=i("825a"),u=i("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),d=c instanceof Array}catch{}return function(m,p){return r(m),u(p),d?f.call(m,p):m.__proto__=p,m}}():void 0)},d3b7:function(a,l,i){var r=i("00ee"),u=i("6eeb"),d=i("b041");r||u(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(a,l,i){var r=i("9bf2").f,u=i("5135"),d=i("b622"),c=d("toStringTag");a.exports=function(f,h,m){f&&!u(f=m?f:f.prototype,c)&&r(f,c,{configurable:!0,value:h})}},d58f:function(a,l,i){var r=i("1c0b"),u=i("7b0b"),d=i("44ad"),c=i("50c4"),f=function(h){return function(m,p,y,w){r(p);var $=u(m),b=d($),S=c($.length),_=h?S-1:0,I=h?-1:1;if(y<2)for(;;){if(_ in b){w=b[_],_+=I;break}if(_+=I,h?_<0:S<=_)throw TypeError("Reduce of empty array with no initial value")}for(;h?_>=0:S>_;_+=I)_ in b&&(w=p(w,b[_],_,$));return w}};a.exports={left:f(!1),right:f(!0)}},d784:function(a,l,i){i("ac1f");var r=i("6eeb"),u=i("d039"),d=i("b622"),c=i("9263"),f=i("9112"),h=d("species"),m=!u(function(){var b=/./;return b.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(b,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),y=d("replace"),w=function(){return/./[y]?/./[y]("a","$0")==="":!1}(),$=!u(function(){var b=/(?:)/,S=b.exec;b.exec=function(){return S.apply(this,arguments)};var _="ab".split(b);return _.length!==2||_[0]!=="a"||_[1]!=="b"});a.exports=function(b,S,_,I){var E=d(b),U=!u(function(){var W={};return W[E]=function(){return 7},""[b](W)!=7}),R=U&&!u(function(){var W=!1,F=/a/;return b==="split"&&(F={},F.constructor={},F.constructor[h]=function(){return F},F.flags="",F[E]=/./[E]),F.exec=function(){return W=!0,null},F[E](""),!W});if(!U||!R||b==="replace"&&!(m&&p&&!w)||b==="split"&&!$){var O=/./[E],z=_(E,""[b],function(W,F,be,Q,ce){return F.exec===c?U&&!ce?{done:!0,value:O.call(F,be,Q)}:{done:!0,value:W.call(be,F,Q)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:w}),K=z[0],J=z[1];r(String.prototype,b,K),r(RegExp.prototype,E,S==2?function(W,F){return J.call(W,this,F)}:function(W){return J.call(W,this)})}I&&f(RegExp.prototype[E],"sham",!0)}},d81d:function(a,l,i){var r=i("23e7"),u=i("b727").map,d=i("1dde"),c=i("ae40"),f=d("map"),h=c("map");r({target:"Array",proto:!0,forced:!f||!h},{map:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,l,i){(function(r){var u=function(d){return d&&d.Math==Math&&d};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof r=="object"&&r)||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(a,l,i){var r=i("23e7"),u=i("83ab"),d=i("56ef"),c=i("fc6a"),f=i("06cf"),h=i("8418");r({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(p){for(var y=c(p),w=f.f,$=d(y),b={},S=0,_,I;$.length>S;)I=w(y,_=$[S++]),I!==void 0&&h(b,_,I);return b}})},dbf1:function(a,l,i){(function(r){i.d(l,"a",function(){return d});function u(){return typeof window!="undefined"?window.console:r.console}var d=u()}).call(this,i("c8ba"))},ddb0:function(a,l,i){var r=i("da84"),u=i("fdbc"),d=i("e260"),c=i("9112"),f=i("b622"),h=f("iterator"),m=f("toStringTag"),p=d.values;for(var y in u){var w=r[y],$=w&&w.prototype;if($){if($[h]!==p)try{c($,h,p)}catch{$[h]=p}if($[m]||c($,m,y),u[y]){for(var b in d)if($[b]!==d[b])try{c($,b,d[b])}catch{$[b]=d[b]}}}}},df75:function(a,l,i){var r=i("ca84"),u=i("7839");a.exports=Object.keys||function(c){return r(c,u)}},e01a:function(a,l,i){var r=i("23e7"),u=i("83ab"),d=i("da84"),c=i("5135"),f=i("861d"),h=i("9bf2").f,m=i("e893"),p=d.Symbol;if(u&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var y={},w=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),U=this instanceof w?new p(E):E===void 0?p():p(E);return E===""&&(y[U]=!0),U};m(w,p);var $=w.prototype=p.prototype;$.constructor=w;var b=$.toString,S=String(p("test"))=="Symbol(test)",_=/^Symbol\((.*)\)[^)]+$/;h($,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,U=b.call(E);if(c(y,E))return"";var R=S?U.slice(7,-1):U.replace(_,"$1");return R===""?void 0:R}}),r({global:!0,forced:!0},{Symbol:w})}},e163:function(a,l,i){var r=i("5135"),u=i("7b0b"),d=i("f772"),c=i("e177"),f=d("IE_PROTO"),h=Object.prototype;a.exports=c?Object.getPrototypeOf:function(m){return m=u(m),r(m,f)?m[f]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?h:null}},e177:function(a,l,i){var r=i("d039");a.exports=!r(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(a,l,i){var r=i("fc6a"),u=i("44d2"),d=i("3f8c"),c=i("69f3"),f=i("7dd0"),h="Array Iterator",m=c.set,p=c.getterFor(h);a.exports=f(Array,"Array",function(y,w){m(this,{type:h,target:r(y),index:0,kind:w})},function(){var y=p(this),w=y.target,$=y.kind,b=y.index++;return!w||b>=w.length?(y.target=void 0,{value:void 0,done:!0}):$=="keys"?{value:b,done:!1}:$=="values"?{value:w[b],done:!1}:{value:[b,w[b]],done:!1}},"values"),d.Arguments=d.Array,u("keys"),u("values"),u("entries")},e439:function(a,l,i){var r=i("23e7"),u=i("d039"),d=i("fc6a"),c=i("06cf").f,f=i("83ab"),h=u(function(){c(1)}),m=!f||h;r({target:"Object",stat:!0,forced:m,sham:!f},{getOwnPropertyDescriptor:function(y,w){return c(d(y),w)}})},e538:function(a,l,i){var r=i("b622");l.f=r},e893:function(a,l,i){var r=i("5135"),u=i("56ef"),d=i("06cf"),c=i("9bf2");a.exports=function(f,h){for(var m=u(h),p=c.f,y=d.f,w=0;w<m.length;w++){var $=m[w];r(f,$)||p(f,$,y(h,$))}}},e8b5:function(a,l,i){var r=i("c6b6");a.exports=Array.isArray||function(d){return r(d)=="Array"}},e95a:function(a,l,i){var r=i("b622"),u=i("3f8c"),d=r("iterator"),c=Array.prototype;a.exports=function(f){return f!==void 0&&(u.Array===f||c[d]===f)}},f5df:function(a,l,i){var r=i("00ee"),u=i("c6b6"),d=i("b622"),c=d("toStringTag"),f=u(function(){return arguments}())=="Arguments",h=function(m,p){try{return m[p]}catch{}};a.exports=r?u:function(m){var p,y,w;return m===void 0?"Undefined":m===null?"Null":typeof(y=h(p=Object(m),c))=="string"?y:f?u(p):(w=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":w}},f772:function(a,l,i){var r=i("5692"),u=i("90e3"),d=r("keys");a.exports=function(c){return d[c]||(d[c]=u(c))}},fb15:function(a,l,i){if(i.r(l),typeof window!="undefined"){var r=window.document.currentScript;{var u=i("8875");r=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var d=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(i.p=d[1])}i("99af"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("a434"),i("159b"),i("a4d3"),i("e439"),i("dbb4"),i("b64b");function c(A,D,B){return D in A?Object.defineProperty(A,D,{value:B,enumerable:!0,configurable:!0,writable:!0}):A[D]=B,A}function f(A,D){var B=Object.keys(A);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(A);D&&(te=te.filter(function(_e){return Object.getOwnPropertyDescriptor(A,_e).enumerable})),B.push.apply(B,te)}return B}function h(A){for(var D=1;D<arguments.length;D++){var B=arguments[D]!=null?arguments[D]:{};D%2?f(Object(B),!0).forEach(function(te){c(A,te,B[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):f(Object(B)).forEach(function(te){Object.defineProperty(A,te,Object.getOwnPropertyDescriptor(B,te))})}return A}function m(A){if(Array.isArray(A))return A}i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function p(A,D){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(A)))){var B=[],te=!0,_e=!1,Oe=void 0;try{for(var Be=A[Symbol.iterator](),Fe;!(te=(Fe=Be.next()).done)&&(B.push(Fe.value),!(D&&B.length===D));te=!0);}catch(st){_e=!0,Oe=st}finally{try{!te&&Be.return!=null&&Be.return()}finally{if(_e)throw Oe}}return B}}i("a630"),i("fb6a"),i("b0c0"),i("25f0");function y(A,D){(D==null||D>A.length)&&(D=A.length);for(var B=0,te=new Array(D);B<D;B++)te[B]=A[B];return te}function w(A,D){if(!!A){if(typeof A=="string")return y(A,D);var B=Object.prototype.toString.call(A).slice(8,-1);if(B==="Object"&&A.constructor&&(B=A.constructor.name),B==="Map"||B==="Set")return Array.from(A);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return y(A,D)}}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(A,D){return m(A)||p(A,D)||w(A,D)||$()}function S(A){if(Array.isArray(A))return y(A)}function _(A){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(A))return Array.from(A)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(A){return S(A)||_(A)||w(A)||I()}var U=i("a352"),R=i.n(U);function O(A){A.parentElement!==null&&A.parentElement.removeChild(A)}function z(A,D,B){var te=B===0?A.children[0]:A.children[B-1].nextSibling;A.insertBefore(D,te)}var K=i("dbf1");i("13d5"),i("4fad"),i("ac1f"),i("5319");function J(A){var D=Object.create(null);return function(te){var _e=D[te];return _e||(D[te]=A(te))}}var W=/-(\w)/g,F=J(function(A){return A.replace(W,function(D,B){return B.toUpperCase()})});i("5db7"),i("73d9");var be=["Start","Add","Remove","Update","End"],Q=["Choose","Unchoose","Sort","Filter","Clone"],ce=["Move"],Ce=[ce,be,Q].flatMap(function(A){return A}).map(function(A){return"on".concat(A)}),ze={manage:ce,manageAndEmit:be,emit:Q};function at(A){return Ce.indexOf(A)!==-1}i("caad"),i("2ca0");var We=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function q(A){return We.includes(A)}function ge(A){return["transition-group","TransitionGroup"].includes(A)}function me(A){return["id","class","role","style"].includes(A)||A.startsWith("data-")||A.startsWith("aria-")||A.startsWith("on")}function P(A){return A.reduce(function(D,B){var te=b(B,2),_e=te[0],Oe=te[1];return D[_e]=Oe,D},{})}function X(A){var D=A.$attrs,B=A.componentData,te=B===void 0?{}:B,_e=P(Object.entries(D).filter(function(Oe){var Be=b(Oe,2),Fe=Be[0];return Be[1],me(Fe)}));return h(h({},_e),te)}function x(A){var D=A.$attrs,B=A.callBackBuilder,te=P(se(D));Object.entries(B).forEach(function(Oe){var Be=b(Oe,2),Fe=Be[0],st=Be[1];ze[Fe].forEach(function(Me){te["on".concat(Me)]=st(Me)})});var _e="[data-draggable]".concat(te.draggable||"");return h(h({},te),{},{draggable:_e})}function se(A){return Object.entries(A).filter(function(D){var B=b(D,2),te=B[0];return B[1],!me(te)}).map(function(D){var B=b(D,2),te=B[0],_e=B[1];return[F(te),_e]}).filter(function(D){var B=b(D,2),te=B[0];return B[1],!at(te)})}i("c740");function H(A,D){if(!(A instanceof D))throw new TypeError("Cannot call a class as a function")}function re(A,D){for(var B=0;B<D.length;B++){var te=D[B];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(A,te.key,te)}}function ye(A,D,B){return D&&re(A.prototype,D),B&&re(A,B),A}var Se=function(D){var B=D.el;return B},C=function(D,B){return D.__draggable_context=B},k=function(D){return D.__draggable_context},L=function(){function A(D){var B=D.nodes,te=B.header,_e=B.default,Oe=B.footer,Be=D.root,Fe=D.realList;H(this,A),this.defaultNodes=_e,this.children=[].concat(E(te),E(_e),E(Oe)),this.externalComponent=Be.externalComponent,this.rootTransition=Be.transition,this.tag=Be.tag,this.realList=Fe}return ye(A,[{key:"render",value:function(B,te){var _e=this.tag,Oe=this.children,Be=this._isRootComponent,Fe=Be?{default:function(){return Oe}}:Oe;return B(_e,te,Fe)}},{key:"updated",value:function(){var B=this.defaultNodes,te=this.realList;B.forEach(function(_e,Oe){C(Se(_e),{element:te[Oe],index:Oe})})}},{key:"getUnderlyingVm",value:function(B){return k(B)}},{key:"getVmIndexFromDomIndex",value:function(B,te){var _e=this.defaultNodes,Oe=_e.length,Be=te.children,Fe=Be.item(B);if(Fe===null)return Oe;var st=k(Fe);if(st)return st.index;if(Oe===0)return 0;var Me=Se(_e[0]),Ve=E(Be).findIndex(function(Pe){return Pe===Me});return B<Ve?0:Oe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),A}(),j=i("8bbf");function G(A,D){var B=A[D];return B?B():[]}function ae(A){var D=A.$slots,B=A.realList,te=A.getKey,_e=B||[],Oe=["header","footer"].map(function(Pe){return G(D,Pe)}),Be=b(Oe,2),Fe=Be[0],st=Be[1],Me=D.item;if(!Me)throw new Error("draggable element must have an item slot");var Ve=_e.flatMap(function(Pe,qe){return Me({element:Pe,index:qe}).map(function(nt){return nt.key=te(Pe),nt.props=h(h({},nt.props||{}),{},{"data-draggable":!0}),nt})});if(Ve.length!==_e.length)throw new Error("Item slot must have only one child");return{header:Fe,footer:st,default:Ve}}function pe(A){var D=ge(A),B=!q(A)&&!D;return{transition:D,externalComponent:B,tag:B?Object(j.resolveComponent)(A):D?j.TransitionGroup:A}}function ne(A){var D=A.$slots,B=A.tag,te=A.realList,_e=A.getKey,Oe=ae({$slots:D,realList:te,getKey:_e}),Be=pe(B);return new L({nodes:Oe,root:Be,realList:te})}function le(A,D){var B=this;Object(j.nextTick)(function(){return B.$emit(A.toLowerCase(),D)})}function ee(A){var D=this;return function(B,te){if(D.realList!==null)return D["onDrag".concat(A)](B,te)}}function Te(A){var D=this,B=ee.call(this,A);return function(te,_e){B.call(D,te,_e),le.call(D,A,te)}}var we=null,Ie={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(D){return D}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Re=["update:modelValue","change"].concat(E([].concat(E(ze.manageAndEmit),E(ze.emit)).map(function(A){return A.toLowerCase()}))),Je=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ie,emits:Re,data:function(){return{error:!1}},render:function(){try{this.error=!1;var D=this.$slots,B=this.$attrs,te=this.tag,_e=this.componentData,Oe=this.realList,Be=this.getKey,Fe=ne({$slots:D,tag:te,realList:Oe,getKey:Be});this.componentStructure=Fe;var st=X({$attrs:B,componentData:_e});return Fe.render(j.h,st)}catch(Me){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},Me.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&K.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var D=this;if(!this.error){var B=this.$attrs,te=this.$el,_e=this.componentStructure;_e.updated();var Oe=x({$attrs:B,callBackBuilder:{manageAndEmit:function(st){return Te.call(D,st)},emit:function(st){return le.bind(D,st)},manage:function(st){return ee.call(D,st)}}}),Be=te.nodeType===1?te:te.parentElement;this._sortable=new R.a(Be,Oe),this.targetDomElement=Be,Be.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var D=this.list;return D||this.modelValue},getKey:function(){var D=this.itemKey;return typeof D=="function"?D:function(B){return B[D]}}},watch:{$attrs:{handler:function(D){var B=this._sortable;!B||se(D).forEach(function(te){var _e=b(te,2),Oe=_e[0],Be=_e[1];B.option(Oe,Be)})},deep:!0}},methods:{getUnderlyingVm:function(D){return this.componentStructure.getUnderlyingVm(D)||null},getUnderlyingPotencialDraggableComponent:function(D){return D.__draggable_component__},emitChanges:function(D){var B=this;Object(j.nextTick)(function(){return B.$emit("change",D)})},alterList:function(D){if(this.list){D(this.list);return}var B=E(this.modelValue);D(B),this.$emit("update:modelValue",B)},spliceList:function(){var D=arguments,B=function(_e){return _e.splice.apply(_e,E(D))};this.alterList(B)},updatePosition:function(D,B){var te=function(Oe){return Oe.splice(B,0,Oe.splice(D,1)[0])};this.alterList(te)},getRelatedContextFromMoveEvent:function(D){var B=D.to,te=D.related,_e=this.getUnderlyingPotencialDraggableComponent(B);if(!_e)return{component:_e};var Oe=_e.realList,Be={list:Oe,component:_e};if(B!==te&&Oe){var Fe=_e.getUnderlyingVm(te)||{};return h(h({},Fe),Be)}return Be},getVmIndexFromDomIndex:function(D){return this.componentStructure.getVmIndexFromDomIndex(D,this.targetDomElement)},onDragStart:function(D){this.context=this.getUnderlyingVm(D.item),D.item._underlying_vm_=this.clone(this.context.element),we=D.item},onDragAdd:function(D){var B=D.item._underlying_vm_;if(B!==void 0){O(D.item);var te=this.getVmIndexFromDomIndex(D.newIndex);this.spliceList(te,0,B);var _e={element:B,newIndex:te};this.emitChanges({added:_e})}},onDragRemove:function(D){if(z(this.$el,D.item,D.oldIndex),D.pullMode==="clone"){O(D.clone);return}var B=this.context,te=B.index,_e=B.element;this.spliceList(te,1);var Oe={element:_e,oldIndex:te};this.emitChanges({removed:Oe})},onDragUpdate:function(D){O(D.item),z(D.from,D.item,D.oldIndex);var B=this.context.index,te=this.getVmIndexFromDomIndex(D.newIndex);this.updatePosition(B,te);var _e={element:this.context.element,oldIndex:B,newIndex:te};this.emitChanges({moved:_e})},computeFutureIndex:function(D,B){if(!D.element)return 0;var te=E(B.to.children).filter(function(Fe){return Fe.style.display!=="none"}),_e=te.indexOf(B.related),Oe=D.component.getVmIndexFromDomIndex(_e),Be=te.indexOf(we)!==-1;return Be||!B.willInsertAfter?Oe:Oe+1},onDragMove:function(D,B){var te=this.move,_e=this.realList;if(!te||!_e)return!0;var Oe=this.getRelatedContextFromMoveEvent(D),Be=this.computeFutureIndex(Oe,D),Fe=h(h({},this.context),{},{futureIndex:Be}),st=h(h({},D),{},{relatedContext:Oe,draggedContext:Fe});return te(st,B)},onDragEnd:function(){we=null}}}),tt=Je;l.default=tt},fb6a:function(a,l,i){var r=i("23e7"),u=i("861d"),d=i("e8b5"),c=i("23cb"),f=i("50c4"),h=i("fc6a"),m=i("8418"),p=i("b622"),y=i("1dde"),w=i("ae40"),$=y("slice"),b=w("slice",{ACCESSORS:!0,0:0,1:2}),S=p("species"),_=[].slice,I=Math.max;r({target:"Array",proto:!0,forced:!$||!b},{slice:function(U,R){var O=h(this),z=f(O.length),K=c(U,z),J=c(R===void 0?z:R,z),W,F,be;if(d(O)&&(W=O.constructor,typeof W=="function"&&(W===Array||d(W.prototype))?W=void 0:u(W)&&(W=W[S],W===null&&(W=void 0)),W===Array||W===void 0))return _.call(O,K,J);for(F=new(W===void 0?Array:W)(I(J-K,0)),be=0;K<J;K++,be++)K in O&&m(F,be,O[K]);return F.length=be,F}})},fc6a:function(a,l,i){var r=i("44ad"),u=i("1d80");a.exports=function(d){return r(u(d))}},fdbc:function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,l,i){var r=i("4930");a.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Of);var YI=dI(Of.exports);const XI=e=>(En("data-v-2b18867c"),e=e(),kn(),e),QI={class:"dropdown-trigger"},ZI=XI(()=>s("span",{class:"icon is-small"},[s("i",{class:"fa fa-angle-down","aria-hidden":"true"})],-1)),qI={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},e4={class:"dropdown-content"},t4=["title","onClick"],n4=de({__name:"DropdownButton",props:{label:{type:String,required:!0},actions:{type:Array,required:!0}},emits:["click"],setup(e,{emit:t}){const n=ve(!1),o=ve(),a=()=>{n.value=!0},l=()=>{n.value=!1},i=u=>{l(),t("click",u)},r=u=>{!o.value||o.value.contains(u.target)||l()};return Nt(()=>{window.addEventListener("click",r)}),Bn(()=>{window.removeEventListener("click",r)}),(u,d)=>(g(),v("div",{ref_key:"dropdown",ref:o,class:De(["dropdown mr-1",{"is-active":n.value}])},[s("div",QI,[s("button",{class:"button is-small mr-1","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:a},[s("span",null,Y(e.label),1),ZI])]),s("div",qI,[s("div",e4,[(g(!0),v(Z,null,ue(e.actions,(c,f)=>(g(),v("span",{key:f,class:"dropdown-item is-clickable",title:c.title,onClick:h=>i(c)},Y(c.label),9,t4))),128))])])],2))}});var s4=Ne(n4,[["__scopeId","data-v-2b18867c"]]);const o4={class:"dropdown-trigger"},i4={key:0,class:"icon is-small is-left"},a4={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},l4={class:"dropdown-content"},r4=["onClick","innerHTML"],u4=de({__name:"DropdownInput",props:{modelValue:{type:String,required:!0},values:{type:Array,required:!0},icon:{type:String,default:""}},emits:["update:modelValue","focus"],setup(e,{emit:t}){const n=e,o=ve(n.modelValue),a=f=>n.values.filter(h=>h.value.includes(f)),l=ve(!1),i=ve(),r=f=>{o.value=f.value,d()},u=()=>{l.value=!0},d=()=>{l.value=!1},c=f=>{!i.value||i.value.contains(f.target)||d()};return Nt(()=>{window.addEventListener("click",c),Tt(o,f=>{t("update:modelValue",f)}),Tt(()=>n.modelValue,f=>{o.value=f})}),Bn(()=>{window.removeEventListener("click",c)}),(f,h)=>(g(),v("div",{ref_key:"dropdown",ref:i,class:De(["dropdown",{"is-active":l.value}])},[s("div",o4,[oe(s("input",{"onUpdate:modelValue":h[0]||(h[0]=m=>o.value=m),type:"text",class:De(["input is-small",f.$attrs.class]),onFocus:u},null,34),[[$e,o.value]]),e.icon?(g(),v("span",i4,[s("i",{class:De(["fa",[`fa-${e.icon}`]])},null,2)])):M("",!0)]),s("div",a4,[s("div",l4,[(g(!0),v(Z,null,ue(a(o.value),(m,p)=>(g(),v("a",{key:p,class:"dropdown-item",onClick:y=>r(m),innerHTML:m.label},null,8,r4))),128))])])],2))}}),d4={key:0},c4={key:1},f4=de({__name:"DurationDisplay",props:{value:{required:!0}},setup(e){const t=e,n=Ye(()=>{try{return Yt.mustParseHumanDuration(`${t.value}`),"span"}catch{return"code"}}),o=Ye(()=>{try{return Yt.humanDuration(Yt.mustParseHumanDuration(`${t.value}`))}catch{return t.value}});return(a,l)=>Xe(n)==="span"?(g(),v("span",d4,Y(Xe(o)),1)):(g(),v("code",c4,Y(Xe(o)),1))}}),h4=de({__name:"DurationInput",props:{modelValue:{required:!0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ve(""),a=ve(!0),l=Ye(()=>a.value?[]:["has-background-danger-light","has-text-danger-dark"]);return Nt(()=>{o.value=`${n.modelValue}`,Tt(o,i=>{try{const r=Yt.doDummyReplacements(i,"0");Yt.mustParseHumanDuration(r,n.allowNegative),a.value=!0}catch{a.value=!1}t("update:modelValue",i)}),Tt(()=>n.modelValue,i=>{o.value=`${i}`})}),(i,r)=>oe((g(),v("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>o.value=u),class:De(["input is-small spaceinput",Xe(l)])},null,2)),[[$e,o.value]])}}),Bl={data:{registeredUserCount:0,streamingUserCount:0}},m4=async()=>{try{const t=await(await ft.getDataGlobal()).json();Bl.data.registeredUserCount=t.registeredUserCount,Bl.data.streamingUserCount=t.streamingUserCount}catch(e){console.error(e)}};var Wf={getData:()=>Bl.data,init:m4};const p4={key:0,class:"field has-text-grey-light"},g4={key:1,class:"field has-text-grey-light"},v4=de({__name:"GlobalUserInfo",setup(e){const t=Wf.getData();return(n,o)=>(g(),v(Z,null,[Xe(t).registeredUserCount?(g(),v("div",p4," There are currently "+Y(Xe(t).registeredUserCount)+" streamer"+Y(Xe(t).registeredUserCount>1?"s":"")+" registered \u2728. ",1)):M("",!0),Xe(t).streamingUserCount?(g(),v("div",g4,Y(Xe(t).streamingUserCount)+" streamer "+Y(Xe(t).streamingUserCount>1?"are":"is")+" live right now. ",1)):M("",!0)],64))}});const y4=de({props:{modelValue:{required:!0},width:{type:String,required:!1,default:"100%"},height:{type:String,required:!1,default:"90px"}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:""},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:""},this.emitUpdate()},onUploaded(e){this.value=vf(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=bi(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),b4=e=>(En("data-v-4bd85636"),e=e(),kn(),e),$4=b4(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),w4=V(" Remove "),_4=[$4,w4],C4={key:2};function S4(e,t,n,o,a,l){const i=N("responsive-image"),r=N("upload-input");return g(),v("div",{class:De(["image-upload",{"dragging-over":e.draggingOver}]),onDrop:t[1]||(t[1]=(...u)=>e.onDrop&&e.onDrop(...u)),onDragover:t[2]||(t[2]=(...u)=>e.onDragover&&e.onDragover(...u)),onDragleave:t[3]||(t[3]=(...u)=>e.onDragleave&&e.onDragleave(...u))},[e.value.file?(g(),Ae(i,{key:0,src:e.value.urlpath,title:e.value.filename,width:e.width,height:e.height,style:{display:"block"}},null,8,["src","title","width","height"])):M("",!0),e.value.file?(g(),v("button",{key:1,class:"button is-small",onClick:t[0]||(t[0]=(...u)=>e.onRemove&&e.onRemove(...u))},_4)):M("",!0),e.value.file?(g(),v("br",C4)):M("",!0),T(r,{ref:"uploadComponent",accept:"image/*",label:"Upload Image",class:De({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var E4=Ne(y4,[["render",S4],["__scopeId","data-v-4bd85636"]]);const k4=de({emits:["selected"],data:()=>({show:!1,macros:[{value:"$args",title:"All args, joined with spaces"},{value:"$args(1:)",title:"Args starting from the second one, joined with spaces"},{value:"$args(1:4)",title:"Second to fifth args, joined with spaces"},{value:"$args(:4)",title:"All args up to and including the fifth, joined with spaces"},{value:"$var(VARNAME)",title:"Value of variable VARNAME"},{value:"$bot.version",title:"Bot version"},{value:"$bot.date",title:"Bot build date"},{value:"$bot.website",title:"Bot website"},{value:"$bot.github",title:"Bot github link"},{value:"$bot.features",title:"Bot feature description"},{value:"$rand(1,100)",title:"Random number between (inclusive) 1 and 100"},{value:'$daysuntil("2023-12-24")',title:"Days until a specified date in the format YYYY-MM-DD."},{value:'$daysuntil("2023-12-24", "{days} days left", "One day left", "It is today")',title:"Days until a specified date in the format YYYY-MM-DD, with more control over output."},{value:"$user.name",title:"Name of user who executed the command"},{value:"$user.profile_image_url",title:"Profile image url of user who executed the command"},{value:"$user.username",title:"Username of user who executed the command"},{value:"$user.twitch_url",title:"Twitch url of user who executed the command"},{value:"$user.recent_clip_url",title:"Recent clip url of user who executed the command"},{value:"$user.last_stream_category",title:"Last stream category of user who executed the command"},{value:"$user(NAME).name",title:"Name of user identified by username NAME"},{value:"$user(NAME).username",title:"Username of user identified by username NAME"},{value:"$user(NAME).twitch_url",title:"Twitch url of user identified by username NAME"},{value:"$user(NAME).profile_image_url",title:"Profile image url of user identified by username NAME"},{value:"$user(NAME).recent_clip_url",title:"Recent clip url of user identified by username NAME"},{value:"$user(NAME).last_stream_category",title:"Last stream category of user identified by username NAME"},{value:"$customapi(URL)",title:"Text response of a GET request to URL."},{value:"$customapi(URL)['FIELD']",title:"Field FIELD of a json returned from GET request to URL."},{value:"$calc(NUM_1+NUM_2)",title:"The result of addition of NUM_1 and NUM_2"},{value:"$calc(NUM_1-NUM_2)",title:"The result of substraction of NUM_1 and NUM_2"},{value:"$calc(NUM_1*NUM_2)",title:"The result of multiplication of NUM_1 and NUM_2"},{value:"$calc(NUM_1/NUM_2)",title:"The result of division of NUM_1 and NUM_2"}]}),methods:{onMacroClicked(e){this.$emit("selected",e)}}}),T4={class:"macro-select"},I4={key:0,class:"table-holder"},V4=["title"],A4=["onClick"];function D4(e,t,n,o,a,l){return g(),v("div",T4,[s("a",{onClick:t[0]||(t[0]=i=>e.show=!e.show)},"Select macro"),e.show?(g(),v("div",I4,[s("table",null,[(g(!0),v(Z,null,ue(e.macros,(i,r)=>(g(),v("tr",{key:r},[s("td",{title:i.title},[s("code",{class:"is-clickable",onClick:u=>e.onMacroClicked(i)},Y(i.value),9,A4)],8,V4),s("td",null,Y(i.title),1)]))),128))])])):M("",!0)])}var O4=Ne(k4,[["render",D4]]);const fa=Sf();let lo,ul={problems:[]};function R4(){lo=qn.wsClient("core"),lo.onMessage(["status"],e=>{JSON.stringify(ul)!==JSON.stringify(e)&&(ul=e,fa.emit("status",ul))}),lo.connect()}function P4(){lo&&(lo.disconnect(),lo=null)}var Gu={init:R4,stop:P4,eventBus:fa},M4="/assets/hyottoko.30d2bcb9.png";const U4=de({components:{CheckboxInput:$i},data:()=>({me:null,showProblems:!1,linksStart:[{to:{name:"index"},text:"Widgets"},{to:{name:"commands"},text:"Commands"},{to:{name:"variables"},text:"Variables"},{to:{name:"sr"},text:"Song Request"},{to:{name:"speech-to-text"},text:"Speech-To-Text"},{to:{name:"avatar"},text:"Avatar"},{to:{name:"drawcast"},text:"Drawcast"},{to:{name:"pomo"},text:"Pomo"},{to:{name:"settings"},text:"Settings"}],problems:[],burgerActive:!1,darkmode:!1}),computed:{user(){var e,t;return((t=(e=this.me)==null?void 0:e.user)==null?void 0:t.name)||""}},created(){this.me=cn.getMe(),this.darkmode=cn.isDarkmode(),fa.on("status",this.statusChanged)},beforeUnmount(){fa.off("status",this.statusChanged)},methods:{onDarkmodeSwitch(){cn.setDarkmode(this.darkmode)},statusChanged(e){this.problems=e.problems},toggleBurgerMenu(){this.burgerActive=!this.burgerActive},async onLogoutClick(){const e=await cn.logout();if(e.error)throw new Error(e.error);this.$router.push({name:"login"})}}}),N4={class:"navbar",role:"navigation","aria-label":"main navigation"},L4={class:"navbar-brand"},F4=s("img",{src:M4,width:"32",height:"32",alt:"hyottoko.club",class:"flip-horizontal mr-1"},null,-1),B4={class:"greeting"},H4=s("span",{"aria-hidden":"true"},null,-1),z4=s("span",{"aria-hidden":"true"},null,-1),j4=s("span",{"aria-hidden":"true"},null,-1),W4=[H4,z4,j4],x4={class:"navbar-start"},K4={class:"navbar-end"},J4=s("i",{class:"fa fa-warning mr-1"},null,-1),G4={class:"navbar-item"},Y4=s("label",{for:"darkmode-switch"},"Switch dark/light mode",-1);function X4(e,t,n,o,a,l){const i=N("router-link"),r=N("checkbox-input"),u=N("problems-dialog");return g(),v(Z,null,[s("nav",N4,[s("div",L4,[T(i,{class:"navbar-item",to:{name:"index"}},{default:ut(()=>[F4,s("span",B4,"Welcome back, "+Y(e.user),1)]),_:1}),s("a",{role:"button",class:De(["navbar-burger",{"is-active":e.burgerActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[0]||(t[0]=(...d)=>e.toggleBurgerMenu&&e.toggleBurgerMenu(...d))},W4,2)]),s("div",{id:"navbarBasicExample",class:De(["navbar-menu",{"is-active":e.burgerActive}])},[s("div",x4,[(g(!0),v(Z,null,ue(e.linksStart,(d,c)=>(g(),Ae(i,{key:c,class:"navbar-item",to:d.to},{default:ut(()=>[V(Y(d.text),1)]),_:2},1032,["to"]))),128))]),s("div",K4,[e.problems.length?(g(),v("a",{key:0,class:"navbar-item has-text-danger",onClick:t[1]||(t[1]=d=>e.showProblems=!0)},[J4,V(" "+Y(e.problems.length)+" Problem"+Y(e.problems.length>1?"s":""),1)])):M("",!0),s("span",G4,[T(r,{id:"darkmode-switch",modelValue:e.darkmode,"onUpdate:modelValue":[t[2]||(t[2]=d=>e.darkmode=d),e.onDarkmodeSwitch],class:"mr-1"},null,8,["modelValue","onUpdate:modelValue"]),Y4]),s("a",{class:"navbar-item",onClick:t[3]||(t[3]=(...d)=>e.onLogoutClick&&e.onLogoutClick(...d))},"Logout")])],2)]),e.showProblems?(g(),Ae(u,{key:0,problems:e.problems,onClose:t[4]||(t[4]=d=>e.showProblems=!1)},null,8,["problems"])):M("",!0)],64)}var Q4=Ne(U4,[["render",X4]]);const Z4=de({__name:"AudioPlayer",props:{src:String,name:String,volume:{required:!0},baseVolume:{default:100}},setup(e){const t=e,n=ve(null),o=ve(!1),a=Ye(()=>o.value?"fa-stop":"fa-play"),l=()=>{if(!!n.value){if(o.value)n.value.pause(),n.value.currentTime=0;else{const r=parseInt(`${t.baseVolume}`,10)/100,u=parseInt(`${t.volume}`,10)/100;n.value.volume=r*u,n.value.play()}o.value=!o.value}},i=()=>{n.value&&(n.value.pause(),n.value=null),n.value=new Audio(t.src),n.value.addEventListener("ended",()=>{o.value=!1}),o.value=!1};return Nt(()=>{i(),Tt(()=>t.src,()=>{i()})}),(r,u)=>e.src?(g(),v("span",{key:0,class:"player",onClick:l},[V(Y(e.name)+" ",1),s("i",{class:De(["fa ml-1",Xe(a)])},null,2)])):M("",!0)}}),q4={class:"modal is-active"},e3={class:"modal-card"},t3=s("header",{class:"modal-card-head"},[s("p",{class:"modal-card-title"}," Problems ")],-1),n3={class:"modal-card-body"},s3={class:"pl-4"},o3={key:0},i3=V(" The Access Token for channel "),a3=V(" is invalid. Please go to "),l3=V(" Settings "),r3=V(" and update the token. "),u3={key:1},d3=de({__name:"ProblemsDialog",props:{problems:{type:Array,required:!0}},emits:["close"],setup(e,{emit:t}){const n=()=>{t("close")};return(o,a)=>{const l=N("router-link");return g(),v("div",q4,[s("div",{class:"modal-background",onClick:n}),s("div",e3,[t3,s("section",n3,[s("ol",s3,[(g(!0),v(Z,null,ue(e.problems,(i,r)=>(g(),v("li",{key:r},[i.message==="access_token_invalid"?(g(),v("div",o3,[i3,s("b",null,Y(i.details.channel_name),1),a3,T(l,{to:{name:"settings"}},{default:ut(()=>[l3]),_:1}),r3])):(g(),v("div",u3,Y(i),1))]))),128))])]),s("footer",{class:"modal-card-foot"},[s("button",{class:"button is-small",onClick:n}," Close ")])])])}}}),c3=["title"],xf=de({__name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,n=Ye(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(o,a)=>(g(),v("div",{class:"responsive-image",style:rt(Xe(n)),title:e.title},null,12,c3))}});const f3={class:"columns"},h3={class:"column is-four-fifth"},m3={class:"control has-icons-left has-icons-right range slider"},p3=["min","max"],g3={class:"icon is-small is-left"},v3={class:"icon is-small is-right"},y3={class:"column is-one-fifth"},b3=de({__name:"SliderInput",props:{modelValue:{type:Number,required:!0},iconLeft:String,iconRight:String,min:{type:Number,default:0},max:{type:Number,default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const o=ve(e.modelValue),a=()=>{t("update:modelValue",parseInt(`${o.value}`,10))};return(l,i)=>(g(),v("div",f3,[s("div",h3,[s("div",m3,[oe(s("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r),type:"range",class:"input is-small",min:e.min,max:e.max,onInput:a},null,40,p3),[[$e,o.value]]),s("span",g3,[s("i",{class:De(["fa",e.iconLeft])},null,2)]),s("span",v3,[s("i",{class:De(["fa",e.iconRight])},null,2)])])]),s("div",y3,[oe(s("input",{"onUpdate:modelValue":i[1]||(i[1]=r=>o.value=r),type:"number",class:"input is-small",onInput:a},null,544),[[$e,o.value]])])]))}});var $3=Ne(b3,[["__scopeId","data-v-05c67b31"]]);const w3=de({props:{modelValue:{required:!0},baseVolume:{default:100}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:"",volume:100},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:"",volume:100},this.emitUpdate()},onUploaded(e){this.value=yf(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=bi(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),_3=e=>(En("data-v-e59ef742"),e=e(),kn(),e),C3=_3(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),S3=V(" Remove "),E3=[C3,S3],k3={key:3};function T3(e,t,n,o,a,l){const i=N("audio-player"),r=N("volume-slider"),u=N("upload-input");return g(),v("div",{class:De(["sound-upload",{"dragging-over":e.draggingOver}]),onDrop:t[2]||(t[2]=(...d)=>e.onDrop&&e.onDrop(...d)),onDragover:t[3]||(t[3]=(...d)=>e.onDragover&&e.onDragover(...d)),onDragleave:t[4]||(t[4]=(...d)=>e.onDragleave&&e.onDragleave(...d))},[e.value.file?(g(),Ae(i,{key:0,src:e.value.urlpath,name:e.value.filename,volume:e.value.volume,"base-volume":e.baseVolume,class:"button is-small"},null,8,["src","name","volume","base-volume"])):M("",!0),e.value.file?(g(),Ae(r,{key:1,"model-value":e.value.volume,"onUpdate:modelValue":t[0]||(t[0]=d=>{e.value.volume=d,e.emitUpdate()})},null,8,["model-value"])):M("",!0),e.value.file?(g(),v("button",{key:2,class:"button is-small",onClick:t[1]||(t[1]=(...d)=>e.onRemove&&e.onRemove(...d))},E3)):M("",!0),e.value.file?(g(),v("br",k3)):M("",!0),T(u,{ref:"uploadComponent",accept:"audio/*",label:"Upload Sound",class:De({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var I3=Ne(w3,[["render",T3],["__scopeId","data-v-e59ef742"]]);const V3=de({props:{accept:String,label:{type:String,default:"Upload File"}},data:()=>({uploading:!1,progress:0}),computed:{uploadPercent(){return Math.round(this.progress*100)},buttonText(){return this.uploading?` Uploading (${this.uploadPercent}%)`:this.label?` ${this.label}`:""},progressStyle(){if(!this.uploading)return{};const e=this.uploadPercent,t="rgba(0,255,0, .5)";return{background:`linear-gradient(90deg, ${t} 0%, ${t} ${e}%, transparent ${e}%)`}}},methods:{async uploadFile(e){this.uploading=!0;const t=await ft.upload(e,o=>{this.progress=o.loaded/o.total});this.uploading=!1;const n=await t.json();this.$emit("uploaded",n)},async upload(e){const t=e.target;!t.files||t.files.length===0||this.uploadFile(t.files[0])}}}),A3=V3,D3={class:"upload"},O3=["disabled","accept"],R3={class:"button is-small"};function P3(e,t,n,o,a,l){return g(),v("label",D3,[s("input",{type:"file",disabled:e.uploading,style:{display:"none"},accept:e.accept,onChange:t[0]||(t[0]=(...i)=>e.upload&&e.upload(...i))},null,40,O3),s("span",R3,[s("i",{class:De(["fa fa-upload",{"mr-1":e.buttonText}])},null,2),V(Y(e.buttonText),1)]),s("span",{class:"progress",style:rt(e.progressStyle)},null,4)])}var M3=Ne(A3,[["render",P3],["__scopeId","data-v-5541627f"]]);const U3=de({__name:"VolumeSlider",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=ve(parseInt(`${e.modelValue}`,10)),a=()=>{t("update:modelValue",parseInt(`${o.value}`,10))};return(l,i)=>{const r=N("slider-input");return g(),Ae(r,{modelValue:o.value,"onUpdate:modelValue":[i[0]||(i[0]=u=>o.value=u),a],class:"volume-slider","icon-left":"fa-volume-down","icon-right":"fa-volume-up",min:0,max:100},null,8,["modelValue"])}}}),Us=(...e)=>console.log("[youtube.js]",...e);let Yu=!1;function N3(){return Yu?(Us("ytapi ALREADY ready"),Promise.resolve()):new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=()=>{Yu=!0,Us("ytapi ready"),e()}})}function L3(e){return new Promise(t=>{Us("create player on "+e);const n=new YT.Player(e,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{Us("player ready"),t(n)}}})})}async function F3(e){return await N3(),await L3(e)}const B3=de({props:{visible:{type:Boolean,default:!0}},data:()=>({id:"",yt:null,loop:!1,toplay:null,tovolume:null,tryPlayInterval:null}),created(){this.id=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`},async mounted(){this.yt=await F3(this.id),this.tovolume!==null&&this.yt.setVolume(this.tovolume),this.toplay!==null&&(Us("trying to play.."),this.play(this.toplay)),this.yt.addEventListener("onStateChange",e=>{e.data===YT.PlayerState.CUED?this.tryPlay():e.data===YT.PlayerState.ENDED&&(this.loop?this.tryPlay():this.$emit("ended"))})},methods:{getDuration(){return this.yt?this.yt.getDuration():0},getCurrentTime(){return this.yt?this.yt.getCurrentTime():0},getProgress(){const e=this.getDuration(),t=this.getCurrentTime();return e?t/e:0},stop(){this.yt&&this.yt.stopVideo()},stopTryPlayInterval(){this.tryPlayInterval&&(clearInterval(this.tryPlayInterval),this.tryPlayInterval=null)},tryPlay(){if(this.stopTryPlayInterval(),!this.visible)return;this.yt&&this.yt.playVideo();let e=20;this.tryPlayInterval=setInterval(()=>{if(Us("playing",this.playing(),"triesRemaining",e),--e,this.playing()||e<0){Us("stopping interval"),this.stopTryPlayInterval();return}this.yt&&this.yt.playVideo()},250)},play(e){this.yt?(this.yt.cueVideoById(e),this.tryPlay()):this.toplay=e},pause(){this.yt&&this.yt.pauseVideo()},unpause(){this.yt&&this.tryPlay()},setVolume(e){this.yt?this.yt.setVolume(e):this.tovolume=e},setLoop(e){this.loop=e},playing(){return this.yt?this.yt.getPlayerState()===1:!1}}}),H3=B3,z3=["id"];function j3(e,t,n,o,a,l){return g(),v("div",{id:e.id},null,8,z3)}var Kf=Ne(H3,[["render",j3]]);const W3=de({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","cancel"],data:()=>({item:null,type:"",variableChangeFocusIdx:-1,possiblePermissions:Ks}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.item&&(this.item.data.video.url?this.type="video":this.item.data.sound.file?this.item.data.image.file||this.item.data.image_url?this.type="image,sound":this.type="sound":this.type="image"),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addWidgetId(){if(!this.item){console.warn("addWidgetId: this.item not initialized");return}this.item.data.widgetIds.push("")},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},mediaSndChanged(e){if(!this.item){console.warn("mediaSndChanged: this.item not initialized");return}this.item.data.sound=e},mediaImgChanged(e){if(!this.item){console.warn("mediaImgUploaded: this.item not initialized");return}this.item.data.image=e},rmWidgetId(e){if(!this.item){console.warn("rmWidgetId: this.item not initialized");return}this.item.data.widgetIds=this.item.data.widgetIds.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Xt}}),x3={key:0,class:"modal is-active"},K3={class:"modal-card"},J3={class:"modal-card-head"},G3={class:"modal-card-title"},Y3={class:"modal-card-body"},X3={class:"table is-striped"},Q3=s("td",null,"Triggers:",-1),Z3={key:0},q3=s("td",null,"Description:",-1),e8=["innerHTML"],t8={key:1},n8=s("td",null,"Attention:",-1),s8=s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1),o8=[n8,s8],i8=s("td",null,"Widgets:",-1),a8={key:0,class:"field has-addons"},l8=V(" This media will show in the\xA0 "),r8=["href"],u8=V(". "),d8={class:"control mr-1"},c8=["href"],f8=["onClick"],h8=s("i",{class:"fa fa-remove"},null,-1),m8=[h8],p8={class:"field"},g8=s("i",{class:"fa fa-plus mr-1"},null,-1),v8=V(" Add widget "),y8=[g8,v8],b8=s("div",null,[s("p",{class:"help"}," Define in which widgets this media should show up in. Leave the list empty to only show in the default widget. ")],-1),$8=s("td",null,"Type:",-1),w8={class:"mr-1"},_8=V(" Image"),C8={class:"mr-1"},S8=V(" Image + Sound"),E8={class:"mr-1"},k8=V(" Sound"),T8={class:"mr-1"},I8=V(" Video"),V8={key:2},A8=s("td",null,"Display-Duration:",-1),D8={class:"control has-icons-left"},O8=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),R8=s("div",{class:"help"}," The minimum duration that images will be displayed. Sound will always play for their full length regardless of this setting. ",-1),P8={key:3},M8=s("td",null,"Image:",-1),U8={key:4},N8=s("td",null,"Image (by URL):",-1),L8={key:5},F8=s("td",null,"Sound:",-1),B8={key:6},H8=s("td",null,"Video:",-1),z8=s("td",null,"Url:",-1),j8=s("td",null,"Volume:",-1),W8=s("div",{class:"help"},[V(" The video url has to be a twitch clip url ("),s("code",null,"https://clips.twitch.tv/..."),V(") or a URL to a video file (a URL usually ending in "),s("code",null,".mp4"),V(" or similar). Currently Youtube or other Video Hosters are not supported. ")],-1),x8=s("td",null,"Variables:",-1),K8={key:0},J8=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),G8=["onClick"],Y8=s("i",{class:"fa fa-remove"},null,-1),X8=[Y8],Q8=s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1),Z8=s("td",null,"Variable changes:",-1),q8={key:0},eV=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),tV={class:"select is-small"},nV=["onUpdate:modelValue"],sV=s("option",{value:"set"}," set ",-1),oV=s("option",{value:"increase_by"}," increase by ",-1),iV=s("option",{value:"decrease_by"}," decrease by ",-1),aV=[sV,oV,iV],lV=["onClick"],rV=s("i",{class:"fa fa-remove"},null,-1),uV=[rV],dV=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),cV=s("td",null,"Permissions:",-1),fV=["value"],hV={class:"modal-card-foot"},mV=["disabled"];function pV(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("StringInput"),d=N("duration-input"),c=N("image-upload"),f=N("sound-upload"),h=N("volume-slider"),m=N("dropdown-input");return e.item?(g(),v("div",x3,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...p)=>e.onOverlayClick&&e.onOverlayClick(...p))}),s("div",K3,[s("header",J3,[s("p",G3,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...p)=>e.onCloseClick&&e.onCloseClick(...p))})]),s("section",Y3,[s("table",X3,[s("tbody",null,[s("tr",null,[Q3,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(p,y)=>(g(),Ae(i,{key:y,class:"spacerow","model-value":p,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":w=>e.item.triggers[y]=w,onRemove:w=>e.rmtrigger(y)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",Z3,[q3,s("td",{innerHTML:e.actionDescription},null,8,e8)])):M("",!0),e.requiresAccessToken?(g(),v("tr",t8,o8)):M("",!0),s("tr",null,[i8,s("td",null,[e.item.data.widgetIds.length===0?(g(),v("div",a8,[l8,s("a",{href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,r8),u8])):M("",!0),(g(!0),v(Z,null,ue(e.item.data.widgetIds,(p,y)=>(g(),v("div",{key:y,class:"field has-addons"},[s("div",d8,[T(u,{modelValue:e.item.data.widgetIds[y],"onUpdate:modelValue":w=>e.item.data.widgetIds[y]=w},null,8,["modelValue","onUpdate:modelValue"])]),s("a",{class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(p)}`,target:"_blank"},"Open widget",8,c8),s("button",{class:"button is-small",onClick:w=>e.rmWidgetId(y)},m8,8,f8)]))),128)),s("div",p8,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...p)=>e.addWidgetId&&e.addWidgetId(...p))},y8)]),b8])]),s("tr",null,[$8,s("td",null,[s("label",w8,[oe(s("input",{"onUpdate:modelValue":t[3]||(t[3]=p=>e.type=p),type:"radio",value:"image"},null,512),[[Gt,e.type]]),_8]),s("label",C8,[oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=p=>e.type=p),type:"radio",value:"image,sound"},null,512),[[Gt,e.type]]),S8]),s("label",E8,[oe(s("input",{"onUpdate:modelValue":t[5]||(t[5]=p=>e.type=p),type:"radio",value:"sound"},null,512),[[Gt,e.type]]),k8]),s("label",T8,[oe(s("input",{"onUpdate:modelValue":t[6]||(t[6]=p=>e.type=p),type:"radio",value:"video"},null,512),[[Gt,e.type]]),I8])])]),e.type==="image"||e.type==="image,sound"?(g(),v("tr",V8,[A8,s("td",null,[s("div",D8,[T(d,{"model-value":e.item.data.minDurationMs,"onUpdate:modelValue":t[7]||(t[7]=p=>e.item.data.minDurationMs=p)},null,8,["model-value"]),O8]),R8])])):M("",!0),e.type==="image"||e.type==="image,sound"?(g(),v("tr",P8,[M8,s("td",null,[T(c,{modelValue:e.item.data.image,"onUpdate:modelValue":[t[8]||(t[8]=p=>e.item.data.image=p),e.mediaImgChanged]},null,8,["modelValue","onUpdate:modelValue"])])])):M("",!0),e.type==="image"||e.type==="image,sound"?(g(),v("tr",U8,[N8,s("td",null,[T(u,{modelValue:e.item.data.image_url,"onUpdate:modelValue":t[9]||(t[9]=p=>e.item.data.image_url=p)},null,8,["modelValue"]),s("div",null,[s("span",{class:"button is-small",onClick:t[10]||(t[10]=p=>e.item.data.image_url="$user($args).profile_image_url")},"Twitch profile image of user given by args"),s("span",{class:"button is-small",onClick:t[11]||(t[11]=p=>e.item.data.image_url="$user.profile_image_url")},"Twitch profile image of user who executes the command")])])])):M("",!0),e.type==="sound"||e.type==="image,sound"?(g(),v("tr",L8,[F8,s("td",null,[T(f,{modelValue:e.item.data.sound,"onUpdate:modelValue":[t[12]||(t[12]=p=>e.item.data.sound=p),e.mediaSndChanged],"base-volume":e.baseVolume},null,8,["modelValue","base-volume","onUpdate:modelValue"])])])):M("",!0),e.type==="video"?(g(),v("tr",B8,[H8,s("td",null,[s("table",null,[s("tr",null,[z8,s("td",null,[T(u,{modelValue:e.item.data.video.url,"onUpdate:modelValue":t[13]||(t[13]=p=>e.item.data.video.url=p)},null,8,["modelValue"])])]),s("tr",null,[j8,s("td",null,[T(h,{modelValue:e.item.data.video.volume,"onUpdate:modelValue":t[14]||(t[14]=p=>e.item.data.video.volume=p)},null,8,["modelValue"])])])]),W8,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=p=>e.item.data.video.url="$user($args).recent_clip_url")},"A recent twitch clip of user given by args"),s("span",{class:"button is-small",onClick:t[16]||(t[16]=p=>e.item.data.video.url="$user.recent_clip_url")},"A recent twitch clip of user who executes the command")])])])):M("",!0),s("tr",null,[x8,s("td",null,[e.item.variables.length>0?(g(),v("table",K8,[J8,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(p,y)=>(g(),v("tr",{key:y},[s("td",null,[T(u,{modelValue:p.name,"onUpdate:modelValue":w=>p.name=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(u,{modelValue:p.value,"onUpdate:modelValue":w=>p.value=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:w=>e.rmVariable(y)},X8,8,G8)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[17]||(t[17]=(...p)=>e.onAddVariable&&e.onAddVariable(...p))},"Add Variable"),Q8])]),s("tr",null,[Z8,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",q8,[eV,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(p,y)=>(g(),v("tr",{key:y},[s("td",null,[T(m,{modelValue:p.name,"onUpdate:modelValue":w=>p.name=w,values:e.autocompletableVariables().map(w=>({value:w.var.name,label:`${w.var.name} (${w.type}), <code>${w.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",tV,[oe(s("select",{"onUpdate:modelValue":w=>p.change=w},aV,8,nV),[[Nn,p.change]])])]),s("td",null,[T(u,{modelValue:p.value,"onUpdate:modelValue":w=>p.value=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:w=>e.rmVariableChange(y)},uV,8,lV)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[18]||(t[18]=(...p)=>e.onAddVariableChange&&e.onAddVariableChange(...p))},"Add Variable Change"),dV])]),s("tr",null,[cV,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(p,y)=>(g(),v("label",{key:y,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[19]||(t[19]=w=>e.item.restrict_to=w),type:"checkbox",value:p.value},null,8,fV),[[Tn,e.item.restrict_to]]),V(" "+Y(p.label),1)]))),128))])])])])]),s("footer",hV,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[20]||(t[20]=(...p)=>e.onSaveClick&&e.onSaveClick(...p))}," Save changes ",8,mV),s("button",{class:"button is-small",onClick:t[21]||(t[21]=(...p)=>e.onCancelClick&&e.onCancelClick(...p))}," Cancel ")])])])):M("",!0)}var gV=Ne(W3,[["render",pV]]);const vV=de({components:{StringInput:Xt},props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:Ks}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;for(const e of this.item.data.text)if(e==="")return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtxt(){if(!this.item){console.warn("addtxt: this.item not initialized");return}this.item.data.text.push(br())},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtxt(e){if(!this.item){console.warn("rmtxt: this.item not initialized");return}this.item.data.text=this.item.data.text.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},insertMacro(e,t){if(!this.item){console.warn("insertMacro: this.item not initialized");return}this.item.data.text[e]+=t.value},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),St=e=>(En("data-v-4cddf1e6"),e=e(),kn(),e),yV={key:0,class:"modal is-active"},bV={class:"modal-card"},$V={class:"modal-card-head"},wV={class:"modal-card-title"},_V={class:"modal-card-body"},CV={class:"table is-striped"},SV=St(()=>s("td",null,"Triggers:",-1)),EV={key:0},kV=St(()=>s("td",null,"Description:",-1)),TV=["innerHTML"],IV={key:1},VV=St(()=>s("td",null,"Attention:",-1)),AV=St(()=>s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1)),DV=[VV,AV],OV=St(()=>s("td",null,"Response:",-1)),RV=["onUpdate:modelValue"],PV={class:"help"},MV=["disabled","onClick"],UV=St(()=>s("i",{class:"fa fa-remove"},null,-1)),NV=[UV],LV={class:"field"},FV=St(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),BV=V(" Add response "),HV=[FV,BV],zV=St(()=>s("div",null,[s("p",{class:"help"}," If multiple responses exist, a random one will be used when the command is triggered. ")],-1)),jV=St(()=>s("td",null,"Variables:",-1)),WV={key:0},xV=St(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1)),KV=["onClick"],JV=St(()=>s("i",{class:"fa fa-remove"},null,-1)),GV=[JV],YV=St(()=>s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1)),XV=St(()=>s("td",null,"Variable changes:",-1)),QV={key:0},ZV=St(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1)),qV={class:"select is-small"},eA=["onUpdate:modelValue"],tA=St(()=>s("option",{value:"set"}," set ",-1)),nA=St(()=>s("option",{value:"increase_by"}," increase by ",-1)),sA=St(()=>s("option",{value:"decrease_by"}," decrease by ",-1)),oA=[tA,nA,sA],iA=["onClick"],aA=St(()=>s("i",{class:"fa fa-remove"},null,-1)),lA=[aA],rA=St(()=>s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1)),uA=St(()=>s("td",null,"Permissions:",-1)),dA=["value"],cA={class:"modal-card-foot"},fA=["disabled"];function hA(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("macro-select"),d=N("StringInput"),c=N("dropdown-input");return e.item?(g(),v("div",yV,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...f)=>e.onOverlayClick&&e.onOverlayClick(...f))}),s("div",bV,[s("header",$V,[s("p",wV,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...f)=>e.onCloseClick&&e.onCloseClick(...f))})]),s("section",_V,[s("table",CV,[s("tbody",null,[s("tr",null,[SV,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(f,h)=>(g(),Ae(i,{key:h,class:"spacerow","model-value":f,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":m=>e.item.triggers[h]=m,onRemove:m=>e.rmtrigger(h)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",EV,[kV,s("td",{innerHTML:e.actionDescription},null,8,TV)])):M("",!0),e.requiresAccessToken?(g(),v("tr",IV,DV)):M("",!0),s("tr",null,[OV,s("td",null,[(g(!0),v(Z,null,ue(e.item.data.text,(f,h)=>(g(),v("div",{key:h,class:"field textarea-holder"},[oe(s("textarea",{"onUpdate:modelValue":m=>e.item.data.text[h]=m,class:De(["textarea",{"has-background-danger-light":!e.item.data.text[h],"has-text-danger-dark":!e.item.data.text[h]}])},null,10,RV),[[$e,e.item.data.text[h]]]),s("div",PV,[T(u,{onSelected:m=>e.insertMacro(h,m)},null,8,["onSelected"])]),s("button",{class:"button is-small",disabled:e.item.data.text.length<=1,onClick:m=>e.rmtxt(h)},NV,8,MV)]))),128)),s("div",LV,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...f)=>e.addtxt&&e.addtxt(...f))},HV)]),zV])]),s("tr",null,[jV,s("td",null,[e.item.variables.length>0?(g(),v("table",WV,[xV,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(f,h)=>(g(),v("tr",{key:h},[s("td",null,[T(d,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(d,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariable(h)},GV,8,KV)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[3]||(t[3]=(...f)=>e.onAddVariable&&e.onAddVariable(...f))},"Add Variable"),YV])]),s("tr",null,[XV,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",QV,[ZV,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(f,h)=>(g(),v("tr",{key:h},[s("td",null,[T(c,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m,values:e.autocompletableVariables().map(m=>({value:m.var.name,label:`${m.var.name} (${m.type}), <code>${m.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",qV,[oe(s("select",{"onUpdate:modelValue":m=>f.change=m},oA,8,eA),[[Nn,f.change]])])]),s("td",null,[T(d,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariableChange(h)},lA,8,iA)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...f)=>e.onAddVariableChange&&e.onAddVariableChange(...f))},"Add Variable Change"),rA])]),s("tr",null,[uA,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(f,h)=>(g(),v("label",{key:h,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[5]||(t[5]=m=>e.item.restrict_to=m),type:"checkbox",value:f.value},null,8,dA),[[Tn,e.item.restrict_to]]),V(" "+Y(f.label),1)]))),128))])])])])]),s("footer",cA,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[6]||(t[6]=(...f)=>e.onSaveClick&&e.onSaveClick(...f))}," Save changes ",8,fA),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...f)=>e.onCancelClick&&e.onCancelClick(...f))}," Cancel ")])])])):M("",!0)}var mA=Ne(vV,[["render",hA],["__scopeId","data-v-4cddf1e6"]]);const pA=de({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,dictLangs:[{value:"ja",flag:"\u{1F1EF}\u{1F1F5}",title:"Japanese"},{value:"ru",flag:"\u{1F1F7}\u{1F1FA}",title:"Russian"},{value:"de",flag:"\u{1F1E9}\u{1F1EA}",title:"German"},{value:"es",flag:"\u{1F1EA}\u{1F1F8}",title:"Spanish"},{value:"fr",flag:"\u{1F1EB}\u{1F1F7}",title:"French"},{value:"it",flag:"\u{1F1EE}\u{1F1F9}",title:"Italian"},{value:"pt",flag:"\u{1F1F5}\u{1F1F9}/\u{1F1E7}\u{1F1F7}",title:"Portuguese"}],possiblePermissions:Ks}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Xt}}),gA={key:0,class:"modal is-active"},vA={class:"modal-card"},yA={class:"modal-card-head"},bA={class:"modal-card-title"},$A={class:"modal-card-body"},wA={class:"table is-striped"},_A=s("td",null,"Triggers:",-1),CA={key:0},SA=s("td",null,"Description:",-1),EA=["innerHTML"],kA={key:1},TA=s("td",null,"Attention:",-1),IA=s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1),VA=[TA,IA],AA=s("td",null,"Language:",-1),DA=["title","onClick"],OA=s("code",null,"$args(0)",-1),RA=[OA],PA=s("td",null,"Phrase:",-1),MA=s("code",null,"$args(1:)",-1),UA=[MA],NA=s("tr",null,[s("td",null,"Response:"),s("td",null,[s("div",{class:"help"},[V(" Outputs the translation for the input phrase. The translation is always from/to english. "),s("br"),V(" To let the user decide on the language use "),s("code",null,"$args(0)"),V(" as language, and "),s("code",null,"$args(1:)"),V(" as phrase. "),s("br"),V(" If phrase is left empty, all arguments to the command will be used as the phrase. ")])])],-1),LA=s("td",null,"Variables:",-1),FA={key:0},BA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),HA=["onClick"],zA=s("i",{class:"fa fa-remove"},null,-1),jA=[zA],WA=s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1),xA=s("td",null,"Variable changes:",-1),KA={key:0},JA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),GA={class:"select is-small"},YA=["onUpdate:modelValue"],XA=s("option",{value:"set"}," set ",-1),QA=s("option",{value:"increase_by"}," increase by ",-1),ZA=s("option",{value:"decrease_by"}," decrease by ",-1),qA=[XA,QA,ZA],eD=["onClick"],tD=s("i",{class:"fa fa-remove"},null,-1),nD=[tD],sD=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),oD=s("td",null,"Permissions:",-1),iD=["value"],aD={class:"modal-card-foot"},lD=["disabled"];function rD(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("StringInput"),d=N("dropdown-input");return e.item?(g(),v("div",gA,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",vA,[s("header",yA,[s("p",bA,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",$A,[s("table",wA,[s("tbody",null,[s("tr",null,[_A,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(c,f)=>(g(),Ae(i,{key:f,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[f]=h,onRemove:h=>e.rmtrigger(f)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",CA,[SA,s("td",{innerHTML:e.actionDescription},null,8,EA)])):M("",!0),e.requiresAccessToken?(g(),v("tr",kA,VA)):M("",!0),s("tr",null,[AA,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.item.data.lang=c),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.lang]]),(g(!0),v(Z,null,ue(e.dictLangs,(c,f)=>(g(),v("span",{key:f,class:"button is-small mr-1",title:c.title,onClick:h=>e.item.data.lang=c.value},Y(c.flag),9,DA))),128)),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=c=>e.item.data.lang="$args(0)")},RA)])]),s("tr",null,[PA,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.item.data.phrase=c),class:"input is-small spaceinput mb-1"},null,512),[[$e,e.item.data.phrase]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=c=>e.item.data.phrase="")},"All args"),s("span",{class:"button is-small mr-1",onClick:t[6]||(t[6]=c=>e.item.data.phrase="$args(1:)")},UA)])]),NA,s("tr",null,[LA,s("td",null,[e.item.variables.length>0?(g(),v("table",FA,[BA,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(u,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(f)},jA,8,HA)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),WA])]),s("tr",null,[xA,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",KA,[JA,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(d,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",GA,[oe(s("select",{"onUpdate:modelValue":h=>c.change=h},qA,8,YA),[[Nn,c.change]])])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(f)},nD,8,eD)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),sD])]),s("tr",null,[oD,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(c,f)=>(g(),v("label",{key:f,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.item.restrict_to=h),type:"checkbox",value:c.value},null,8,iD),[[Tn,e.item.restrict_to]]),V(" "+Y(c.label),1)]))),128))])])])])]),s("footer",aD,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[10]||(t[10]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,lD),s("button",{class:"button is-small",onClick:t[11]||(t[11]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):M("",!0)}var uD=Ne(pA,[["render",rD]]);const dD=de({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:Ks}),computed:{requiresAccessToken(){return this.item?_t[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!wo(e))return!1;return!0},actionDescription(){return this.item?_t[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${_t[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Js(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Xt}}),cD={key:0,class:"modal is-active"},fD={class:"modal-card"},hD={class:"modal-card-head"},mD={class:"modal-card-title"},pD={class:"modal-card-body"},gD={class:"table is-striped"},vD=s("td",null,"Triggers:",-1),yD={key:0},bD=s("td",null,"Description:",-1),$D=["innerHTML"],wD={key:1},_D=s("td",null,"Attention:",-1),CD=s("td",null,[s("div",{class:"help"},[V(" This requires "),s("code",null,"Access Token"),V(" to be set in the user settings. ")])],-1),SD=[_D,CD],ED=s("td",null,"Model:",-1),kD={class:"control"},TD=s("div",{class:"help"},[V(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),ID=s("td",null,"Weirdness:",-1),VD={class:"control"},AD=s("div",{class:"help"},[V(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),DD=s("td",null,"Variables:",-1),OD={key:0},RD=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),PD=["onClick"],MD=s("i",{class:"fa fa-remove"},null,-1),UD=[MD],ND=s("div",{class:"help"},[V(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),V(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),V(" are used. ")],-1),LD=s("td",null,"Variable changes:",-1),FD={key:0},BD=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),HD={class:"select is-small"},zD=["onUpdate:modelValue"],jD=s("option",{value:"set"}," set ",-1),WD=s("option",{value:"increase_by"}," increase by ",-1),xD=s("option",{value:"decrease_by"}," decrease by ",-1),KD=[jD,WD,xD],JD=["onClick"],GD=s("i",{class:"fa fa-remove"},null,-1),YD=[GD],XD=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),QD=s("td",null,"Permissions:",-1),ZD=["value"],qD={class:"modal-card-foot"},eO=["disabled"];function tO(e,t,n,o,a,l){const i=N("trigger-editor"),r=N("dropdown-button"),u=N("StringInput"),d=N("dropdown-input");return e.item?(g(),v("div",cD,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",fD,[s("header",hD,[s("p",mD,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",pD,[s("table",gD,[s("tbody",null,[s("tr",null,[vD,s("td",null,[(g(!0),v(Z,null,ue(e.item.triggers,(c,f)=>(g(),Ae(i,{key:f,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[f]=h,onRemove:h=>e.rmtrigger(f)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),T(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(g(),v("tr",yD,[bD,s("td",{innerHTML:e.actionDescription},null,8,$D)])):M("",!0),e.requiresAccessToken?(g(),v("tr",wD,SD)):M("",!0),s("tr",null,[ED,s("td",null,[s("div",kD,[oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.item.data.model=c),class:"input is-small spaceinput"},null,512),[[$e,e.item.data.model]])]),TD])]),s("tr",null,[ID,s("td",null,[s("div",VD,[oe(s("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>e.item.data.weirdness=c),class:"input is-small spaceinput"},null,512),[[$e,e.item.data.weirdness]])]),AD])]),s("tr",null,[DD,s("td",null,[e.item.variables.length>0?(g(),v("table",OD,[RD,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variables,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(u,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(f)},UD,8,PD)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),ND])]),s("tr",null,[LD,s("td",null,[e.item.variableChanges.length>0?(g(),v("table",FD,[BD,s("tbody",null,[(g(!0),v(Z,null,ue(e.item.variableChanges,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[T(d,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",HD,[oe(s("select",{"onUpdate:modelValue":h=>c.change=h},KD,8,zD),[[Nn,c.change]])])]),s("td",null,[T(u,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(f)},YD,8,JD)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[5]||(t[5]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),XD])]),s("tr",null,[QD,s("td",null,[(g(!0),v(Z,null,ue(e.possiblePermissions,(c,f)=>(g(),v("label",{key:f,class:"mr-1"},[oe(s("input",{"onUpdate:modelValue":t[6]||(t[6]=h=>e.item.restrict_to=h),type:"checkbox",value:c.value},null,8,ZD),[[Tn,e.item.restrict_to]]),V(" "+Y(c.label),1)]))),128))])])])])]),s("footer",qD,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[7]||(t[7]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,eO),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):M("",!0)}var nO=Ne(dD,[["render",tO]]);const sO=de({props:{baseVolume:{default:100},modelValue:{type:Object,required:!0}},data:()=>({countdown:{type:"manual",actions:[],steps:3,interval:1e3,intro:"",outro:""}}),created(){this.countdown.type=this.modelValue.type||"auto",this.countdown.actions=this.modelValue.actions||[],this.countdown.steps=this.modelValue.steps,this.countdown.interval=this.modelValue.interval,this.countdown.intro=this.modelValue.intro,this.countdown.outro=this.modelValue.outro,this.$watch("countdown",()=>{this.$emit("update:modelValue",{type:this.countdown.type,actions:this.countdown.actions,steps:this.countdown.steps,interval:this.countdown.interval,intro:this.countdown.intro,outro:this.countdown.outro})},{deep:!0})},methods:{dragEnd(e){this.countdown.actions=Yt.arrayMove(this.countdown.actions,e.oldIndex,e.newIndex)},onAddDelay(){this.countdown.actions.push(_b())},onAddText(){this.countdown.actions.push(Cb())},onAddMedia(){this.countdown.actions.push(Sb())},rmaction(e){this.countdown.actions=this.countdown.actions.filter((t,n)=>n!==e)},mediaSndChanged(e,t){this.countdown.actions[e].value.sound=t},mediaImgChanged(e,t){this.countdown.actions[e].value.image=t}},components:{StringInput:Xt}}),oO={class:"control"},iO={class:"radio"},aO=V(" Manual "),lO={class:"radio"},rO=V(" Auto "),uO={key:0},dO={class:"spacerow"},cO=s("label",{class:"spacelabel"},"Steps ",-1),fO={class:"spacerow"},hO=s("label",{class:"spacelabel"},"Interval ",-1),mO={class:"spacerow"},pO=s("label",{class:"spacelabel"},"Intro ",-1),gO={class:"spacerow"},vO=s("label",{class:"spacelabel"},"Outro ",-1),yO={key:1},bO={class:"field has-addons mr-1"},$O=s("span",{class:"handle p-2"},[s("i",{class:"fa fa-arrows"})],-1),wO={key:0,class:"control has-icons-left"},_O=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),CO={key:1,class:"control has-icons-left"},SO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1),EO={key:2,class:"control has-icons-left"},kO=s("td",null,"Image:",-1),TO=s("td",null,"Sound:",-1),IO=s("td",null,"Duration:",-1),VO={class:"control has-icons-left"},AO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),DO={class:"control"},OO=["onClick"],RO=s("i",{class:"fa fa-remove"},null,-1),PO=[RO],MO=s("i",{class:"fa fa-hourglass mr-1"},null,-1),UO=V(" Add Delay "),NO=[MO,UO],LO=s("i",{class:"fa fa-comments-o mr-1"},null,-1),FO=V(" Add Chat "),BO=[LO,FO],HO=s("i",{class:"fa fa-picture-o mr-1"},null,-1),zO=V(" Add Media "),jO=[HO,zO];function WO(e,t,n,o,a,l){const i=N("duration-input"),r=N("StringInput"),u=N("image-upload"),d=N("sound-upload"),c=N("vue-draggable");return g(),v("div",null,[s("div",oO,[s("label",iO,[oe(s("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>e.countdown.type=f),type:"radio",value:"manual"},null,512),[[Gt,e.countdown.type]]),aO]),s("label",lO,[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=f=>e.countdown.type=f),type:"radio",value:"auto"},null,512),[[Gt,e.countdown.type]]),rO])]),e.countdown.type==="auto"?(g(),v("div",uO,[s("div",dO,[cO,oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=f=>e.countdown.steps=f),class:"input is-small spaceinput"},null,512),[[$e,e.countdown.steps]])]),s("div",fO,[hO,T(i,{"model-value":e.countdown.interval,"onUpdate:modelValue":t[3]||(t[3]=f=>e.countdown.interval=f)},null,8,["model-value"])]),s("div",mO,[pO,oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=f=>e.countdown.intro=f),class:"input is-small spaceinput"},null,512),[[$e,e.countdown.intro]])]),s("div",gO,[vO,oe(s("input",{"onUpdate:modelValue":t[5]||(t[5]=f=>e.countdown.outro=f),class:"input is-small spaceinput"},null,512),[[$e,e.countdown.outro]])])])):(g(),v("div",yO,[T(c,{"model-value":e.countdown.actions,handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:ut(({element:f,index:h})=>[s("div",bO,[$O,f.type==="delay"?(g(),v("div",wO,[T(i,{"model-value":f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["model-value","onUpdate:modelValue"]),_O])):f.type==="text"?(g(),v("div",CO,[T(r,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m},null,8,["modelValue","onUpdate:modelValue"]),SO])):f.type==="media"?(g(),v("div",EO,[s("table",null,[s("tr",null,[kO,s("td",null,[T(u,{modelValue:f.value.image,"onUpdate:modelValue":[m=>f.value.image=m,m=>e.mediaImgChanged(h,m)]},null,8,["modelValue","onUpdate:modelValue"])])]),s("tr",null,[TO,s("td",null,[T(d,{modelValue:f.value.sound,"onUpdate:modelValue":[m=>f.value.sound=m,m=>e.mediaSndChanged(h,m)],"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])])]),s("tr",null,[IO,s("td",null,[s("div",VO,[T(i,{"model-value":f.value.minDurationMs,"onUpdate:modelValue":m=>f.value.minDurationMs=m},null,8,["model-value","onUpdate:modelValue"]),AO])])])])])):M("",!0),s("div",DO,[s("button",{class:"button is-small",onClick:m=>e.rmaction(h)},PO,8,OO)])])]),_:1},8,["model-value","onEnd"]),s("button",{class:"button is-small",onClick:t[6]||(t[6]=(...f)=>e.onAddDelay&&e.onAddDelay(...f))},NO),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...f)=>e.onAddText&&e.onAddText(...f))},BO),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...f)=>e.onAddMedia&&e.onAddMedia(...f))},jO)]))])}var xO=Ne(sO,[["render",WO]]);const At=e=>(En("data-v-3a6504c0"),e=e(),kn(),e),KO={class:"trigger-editor"},JO={key:0,class:"field has-addons"},GO=At(()=>s("span",{class:"mr-1"},"First chat by user",-1)),YO={class:"control"},XO={class:"mr-1"},QO=V(" Alltime "),ZO={class:"mr-1"},qO=V(" Current Stream "),e5={class:"control"},t5=["disabled"],n5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),s5=[n5],o5={key:1,class:"field has-addons"},i5={class:"control has-icons-left mr-1"},a5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),l5={class:"control mr-1",title:"Check if command should only be executed if it matches exactly (= no arguments come after it)."},r5=At(()=>s("span",{class:"is-small is-left"},"exact",-1)),u5={class:"control"},d5=["disabled"],c5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),f5=[c5],h5={key:2,class:"field has-addons"},m5={class:"control has-icons-left"},p5={class:"control"},g5=["disabled"],v5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),y5=[v5],b5={key:3,class:"timer-trigger"},$5={class:"control remove-control"},w5=["disabled"],_5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),C5=[_5],S5={class:"timer-trigger-inner"},E5=At(()=>s("label",{class:"mr-1"},"Messages \u2265",-1)),k5={class:"control has-icons-left mr-1"},T5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),I5=At(()=>s("label",{class:"mr-1"},"Interval \u2265",-1)),V5={class:"control has-icons-left has-icons-right mr-1"},A5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1)),D5=At(()=>s("p",{class:"help"},[V(" Command will be triggered when at least "),s("code",null,"Messages"),V(" chat messages arrived AND "),s("code",null,"Interval"),V(" have passed. ")],-1)),O5={key:4,class:"field has-addons"},R5=V(" Sub "),P5={class:"control"},M5=["disabled"],U5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),N5=[U5],L5={key:5,class:"field has-addons"},F5=V(" Bits "),B5={class:"control"},H5=["disabled"],z5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),j5=[z5],W5={key:6,class:"field has-addons"},x5=V(" Follow "),K5={class:"control"},J5=["disabled"],G5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),Y5=[G5],X5={key:7,class:"field has-addons"},Q5=V(" Raid "),Z5={class:"control"},q5=["disabled"],eR=At(()=>s("i",{class:"fa fa-remove"},null,-1)),tR=[eR],nR={key:8},sR={class:"control"},oR=["disabled"],iR=At(()=>s("i",{class:"fa fa-remove"},null,-1)),aR=[iR],lR=de({__name:"TriggerEditor",props:{modelValue:null,removable:{type:Boolean},channelPointsCustomRewards:null},emits:["update:modelValue","remove"],setup(e,{emit:t}){const n=e,o=ve({type:"",data:{since:"",command:"",commandExact:!1,minInterval:0,minLines:0}}),a=Ye(()=>{const u=[];for(let d in n.channelPointsCustomRewards)u.push(...n.channelPointsCustomRewards[d].map(c=>({type:c,title:c,label:c})));return u.sort((d,c)=>d.title===c.title?0:d.title<c.title?-1:1),u}),l=()=>{t("remove")},i=()=>{console.log("update"),t("update:modelValue",o.value)};return(u=>{o.value=JSON.parse(JSON.stringify(u))})(n.modelValue),Tt(()=>n.modelValue,u=>{o.value=u}),(u,d)=>{const c=N("CheckboxInput"),f=N("dropdown-input"),h=N("duration-input");return g(),v("div",KO,[o.value.type==="first_chat"?(g(),v("div",JO,[GO,s("div",YO,[s("label",XO,[oe(s("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>o.value.data.since=m),type:"radio",class:"checkbox mr-1",value:"alltime",onChange:i},null,544),[[Gt,o.value.data.since]]),QO]),s("label",ZO,[oe(s("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>o.value.data.since=m),type:"radio",class:"checkbox mr-1",value:"stream",onChange:i},null,544),[[Gt,o.value.data.since]]),qO])]),s("div",e5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},s5,8,t5)])])):o.value.type==="command"?(g(),v("div",o5,[s("div",i5,[oe(s("input",{"onUpdate:modelValue":d[2]||(d[2]=m=>o.value.data.command=m),class:De(["input is-small",{"has-background-danger-light":!o.value.data.command,"has-text-danger-dark":!o.value.data.command}]),type:"text",onInput:i},null,34),[[$e,o.value.data.command]]),a5]),s("div",l5,[s("label",null,[T(c,{modelValue:o.value.data.commandExact,"onUpdate:modelValue":[d[3]||(d[3]=m=>o.value.data.commandExact=m),i],class:"mr-1"},null,8,["modelValue"]),r5])]),s("div",u5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},f5,8,d5)])])):o.value.type==="reward_redemption"?(g(),v("div",h5,[s("div",m5,[T(f,{modelValue:o.value.data.command,"onUpdate:modelValue":[d[4]||(d[4]=m=>o.value.data.command=m),i],values:Xe(a).map(m=>({value:m.type,label:m.label})),class:De({"has-background-danger-light":!o.value.data.command,"has-text-danger-dark":!o.value.data.command}),icon:"bullseye"},null,8,["modelValue","values","class"])]),s("div",p5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},y5,8,g5)])])):o.value.type==="timer"?(g(),v("div",b5,[s("div",$5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},C5,8,w5)]),s("div",S5,[E5,s("div",k5,[T($r,{modelValue:o.value.data.minLines,"onUpdate:modelValue":[d[5]||(d[5]=m=>o.value.data.minLines=m),i]},null,8,["modelValue"]),T5]),I5,s("div",V5,[T(h,{"model-value":o.value.data.minInterval,"onUpdate:modelValue":d[6]||(d[6]=m=>{o.value.data.minInterval=m,i()})},null,8,["model-value"]),A5])]),D5])):o.value.type==="sub"?(g(),v("div",O5,[R5,s("div",P5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},N5,8,M5)])])):o.value.type==="bits"?(g(),v("div",L5,[F5,s("div",B5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},j5,8,H5)])])):o.value.type==="follow"?(g(),v("div",W5,[x5,s("div",K5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},Y5,8,J5)])])):o.value.type==="raid"?(g(),v("div",X5,[Q5,s("div",Z5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},tR,8,q5)])])):(g(),v("div",nR,[V(" Unknown trigger: "+Y(o.value)+" ",1),s("div",sR,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},aR,8,oR)])]))])}}});var rR=Ne(lR,[["__scopeId","data-v-3a6504c0"]]);const uR={key:0},dR=V(" First chat: "),cR={key:0},fR={key:1},hR={key:1},mR={key:2},pR=s("span",{class:"is-small",title:"Channel Point Reward"},[s("i",{class:"fa fa-bullseye"}),V(": ")],-1),gR={key:3},vR=s("span",{class:"is-small"},"Timer: ",-1),yR={key:4},bR=s("span",{class:"is-small"},"Sub",-1),$R=[bR],wR={key:5},_R=s("span",{class:"is-small"},"Follow",-1),CR=[_R],SR={key:6},ER=s("span",{class:"is-small"},"Bits",-1),kR=[ER],TR={key:7},IR=s("span",{class:"is-small"},"Raid",-1),VR=[IR],AR=de({__name:"TriggerInfo",props:{trigger:null},setup(e){return(t,n)=>{const o=N("duration-display");return e.trigger.type==="first_chat"?(g(),v("div",uR,[dR,e.trigger.data.since==="alltime"?(g(),v("code",cR,"alltime")):M("",!0),e.trigger.data.since==="stream"?(g(),v("code",fR,"current stream")):M("",!0)])):e.trigger.type==="command"?(g(),v("div",hR,[s("code",null,Y(e.trigger.data.command),1)])):e.trigger.type==="reward_redemption"?(g(),v("div",mR,[pR,s("code",null,Y(e.trigger.data.command),1)])):e.trigger.type==="timer"?(g(),v("div",gR,[vR,s("code",null,[V(Y(e.trigger.data.minLines)+" lines, ",1),T(o,{value:e.trigger.data.minInterval},null,8,["value"])])])):e.trigger.type==="sub"?(g(),v("div",yR,$R)):e.trigger.type==="follow"?(g(),v("div",wR,CR)):e.trigger.type==="bits"?(g(),v("div",SR,kR)):e.trigger.type==="raid"?(g(),v("div",TR,VR)):M("",!0)}}});const DR=de({props:{playlist:{type:Array,required:!0},filter:{type:Object,required:!0}},data:()=>({hideFilteredOut:!0,filterTagInput:"",tagInput:"",tagInputIdx:-1,itemsDisplayed:20}),computed:{enhancedPlaylist(){return this.playlist.map(e=>({id:e.id,tags:e.tags,yt:e.yt,title:e.title,timestamp:e.timestamp,hidevideo:!!e.hidevideo,last_play:e.last_play,plays:e.plays,goods:e.goods,bads:e.bads,user:e.user,filteredOut:this.isFilteredOut(e)})).slice(0,this.itemsDisplayed)},firstIndex(){return this.filter.tag===""?0:this.playlist.findIndex(e=>e.tags.includes(this.filter.tag))}},watch:{playlist:function(e,t){e.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")},filter:function(e,t){this.playlist.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")}},methods:{toggleVisibility(e,t){const n=!!e.hidevideo;this.sendCtrl("videoVisibility",[n,t])},dragEnd(e){this.sendCtrl("move",[e.oldIndex,e.newIndex])},applyFilter(e){this.$emit("filterChange",e)},sendCtrl(e,t){this.$emit("ctrl",[e,t])},isFilteredOut(e){return this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},startAddTag(e){this.tagInputIdx=e,this.$nextTick(()=>{this.$el.querySelector("table .filter-tag-input").focus()})}}}),Qt=e=>(En("data-v-cf11040e"),e=e(),kn(),e),OR={class:"filters"},RR={class:"currentfilter"},PR=Qt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),MR=Qt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),UR={key:1,class:"field has-addons mr-1 mb-0"},NR={class:"control"},LR={class:"control"},FR={class:"pt-1"},BR=V(" Hide filtered out"),HR={key:0},zR={class:"table is-striped"},jR=Qt(()=>s("thead",null,[s("tr",null,[s("th"),s("th"),s("th"),s("th",null,"Title"),s("th",null,"User"),s("th",null,"Plays"),s("th"),s("th"),s("th"),s("th")])],-1)),WR=Qt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),xR=["disabled","onClick"],KR=Qt(()=>s("i",{class:"fa fa-play"},null,-1)),JR=[KR],GR=["href"],YR=Qt(()=>s("i",{class:"fa fa-external-link"},null,-1)),XR=["onClick"],QR=Qt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),ZR=["onClick"],qR=Qt(()=>s("i",{class:"fa fa-plus"},null,-1)),eP=[qR],tP={key:0,class:"field has-addons"},nP={class:"control"},sP=["onKeyup"],oP={class:"control"},iP=["disabled","onClick"],aP=["onClick"],lP=Qt(()=>s("i",{class:"fa fa-eraser"},null,-1)),rP=[lP],uP=["title","onClick"],dP=["onClick"],cP=Qt(()=>s("i",{class:"fa fa-thumbs-up mr-1"},null,-1)),fP=["onClick"],hP=Qt(()=>s("i",{class:"fa fa-eraser"},null,-1)),mP=[hP],pP=["onClick"],gP=Qt(()=>s("i",{class:"fa fa-thumbs-down mr-1"},null,-1)),vP=["onClick"],yP=Qt(()=>s("i",{class:"fa fa-eraser"},null,-1)),bP=[yP],$P=Qt(()=>s("i",{class:"fa fa-trash"},null,-1)),wP={key:1};function _P(e,t,n,o,a,l){const i=N("CheckboxInput"),r=N("doubleclick-button"),u=N("vue-draggable");return g(),v("div",null,[s("div",OR,[s("div",RR,[PR,e.filter.tag?(g(),v("span",{key:0,class:"tag mr-1",onClick:t[0]||(t[0]=d=>e.applyFilter(""))},[V(Y(e.filter.tag)+" ",1),MR])):(g(),v("div",UR,[s("div",NR,[oe(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.filterTagInput=d),class:"input is-small filter-tag-input",type:"text",onKeyup:t[2]||(t[2]=Xn(d=>e.applyFilter(e.filterTagInput),["enter"]))},null,544),[[$e,e.filterTagInput]])]),s("div",LR,[s("span",{class:"button is-small",onClick:t[3]||(t[3]=d=>e.applyFilter(e.filterTagInput))},"Apply filter")])])),s("label",FR,[T(i,{modelValue:e.hideFilteredOut,"onUpdate:modelValue":t[4]||(t[4]=d=>e.hideFilteredOut=d)},null,8,["modelValue"]),BR])])]),e.playlist.length>0?(g(),v("div",HR,[s("table",zR,[jR,T(u,{"model-value":e.enhancedPlaylist,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:ut(({element:d,index:c})=>[oe(s("tr",null,[WR,s("td",null,Y(c+1),1),s("td",null,[c!==e.firstIndex?(g(),v("button",{key:0,class:"button is-small",disabled:d.filteredOut?!0:void 0,title:"Play",onClick:f=>e.sendCtrl("playIdx",[c])},JR,8,xR)):M("",!0)]),s("td",null,[s("a",{href:"https://www.youtube.com/watch?v="+d.yt,target:"_blank"},[V(Y(d.title||d.yt)+" ",1),YR],8,GR),s("div",null,[(g(!0),v(Z,null,ue(d.tags,(f,h)=>(g(),v("span",{key:h,class:"tag",onClick:m=>e.sendCtrl("rmtag",[f,c])},[V(Y(f)+" ",1),QR],8,XR))),128)),s("span",{class:"button is-small",onClick:f=>e.startAddTag(c)},eP,8,ZR)]),e.tagInputIdx===c?(g(),v("div",tP,[s("div",nP,[oe(s("input",{"onUpdate:modelValue":t[5]||(t[5]=f=>e.tagInput=f),class:"input is-small filter-tag-input",type:"text",onKeyup:Xn(f=>{e.sendCtrl("addtag",[e.tagInput,c]),e.tagInput=""},["enter"])},null,40,sP),[[$e,e.tagInput]])]),s("div",oP,[s("span",{class:"button is-small",disabled:e.tagInput?void 0:!0,onClick:f=>{e.sendCtrl("addtag",[e.tagInput,c]),e.tagInput=""}},"Add tag",8,iP)])])):M("",!0)]),s("td",null,Y(d.user),1),s("td",null,[V(Y(d.plays)+"x ",1),s("button",{class:"button is-small ml-1",title:"Reset plays",onClick:f=>e.sendCtrl("resetStatIdx",["plays",c])},rP,8,aP)]),s("td",null,[s("button",{class:"button is-small",title:d.hidevideo?"Video hidden":"Video visible",onClick:f=>e.toggleVisibility(d,c)},[s("i",{class:De(["fa mr-1",{"fa-eye":!d.hidevideo,"fa-eye-slash":d.hidevideo}])},null,2)],8,uP)]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.sendCtrl("goodIdx",[c])},[cP,V(" "+Y(d.goods),1)],8,dP),s("button",{class:"button is-small ml-1",title:"Reset upvotes",onClick:f=>e.sendCtrl("resetStatIdx",["goods",c])},mP,8,fP)]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.sendCtrl("badIdx",[c])},[gP,V(" "+Y(d.bads),1)],8,pP),s("button",{class:"button is-small ml-1",title:"Reset downvotes",onClick:f=>e.sendCtrl("resetStatIdx",["bads",c])},bP,8,vP)]),s("td",null,[T(r,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,title:"Remove",onDoubleclick:f=>e.sendCtrl("rmIdx",[c])},{default:ut(()=>[$P]),_:2},1032,["onDoubleclick"])])],512),[[$o,!e.hideFilteredOut||!d.filteredOut]])]),_:1},8,["model-value","onEnd"])]),s("div",null,[e.itemsDisplayed<e.playlist.length?(g(),v("span",{key:0,class:"button is-small mr-1",onClick:t[6]||(t[6]=d=>e.itemsDisplayed+=20)},"Show more (+20)")):M("",!0),e.itemsDisplayed<e.playlist.length?(g(),v("span",{key:1,class:"button is-small",onClick:t[7]||(t[7]=d=>e.itemsDisplayed=e.playlist.length)},"Show all ("+Y(e.playlist.length)+")",1)):M("",!0)])])):(g(),v("div",wP," Playlist is empty "))])}var CP=Ne(DR,[["render",_P],["__scopeId","data-v-cf11040e"]]);const SP=de({components:{CheckboxInput:$i},props:{modelValue:{type:Object,required:!0}},emits:{"update:modelValue":null},data:()=>({cssPresetName:"",cssPresetDropdownActive:!1,settings:wr(),css:{classExamples:[{class:".wrapper",desc:"Wrapper for everything"},{class:".player",desc:"The player"},{class:".list",desc:"The playlist"},{class:".item",desc:"A playlist item"},{class:".playing",desc:"Currently playing item"},{class:".not-playing",desc:"Queued items"},{class:".title",desc:"Wrapper for the title of a playlist item"},{class:".title-content",desc:"Title texts"},{class:".title-orig",desc:"Title text displayed by default"},{class:".title-dupl",desc:"Title text duplicated, useful for marquee effect"},{class:".vote",desc:"Vote elements"},{class:".vote-up",desc:"Up vote element"},{class:".vote-down",desc:"Down vote element"},{class:".meta",desc:"Meta info about an item"},{class:".meta-user",desc:"User who requested the song"},{class:".meta-plays",desc:"How many times the song was played"}],codeExamples:[{desc:"Hide Player:",code:".player { position: absolute; }"},{desc:"Change font to external font:",code:`@import url('https://fonts.googleapis.com/css2?family=Shadows+Into+Light');
body { font-family: 'Shadows into Light'; font-size: 30px; }`},{desc:"Change colors of items:",code:`.playing { background: #222; color: #bbb; }
.not-playing { background: #eee; color: #444; }`},{desc:"Display something in front of the currently playing item title:",code:".playing .title:before { content: '\u{1F3B6} Now Playing \u{1F3B6} ' }"},{desc:"Add a margin between the items:",code:".item { margin-bottom: 20px; }"},{desc:"Hide votes and meta:",code:".vote, .meta { display: none; }"},{desc:"Hide down votes:",code:".vote-down { display: none; }"},{desc:"Hite all items starting from the 6th:",code:".item:nth-child(n+6) { display: none; }"},{desc:"Show only titles and marquee the current song:",code:`.playing .title { overflow: hidden; white-space: nowrap; height: 20px; line-height: 20px; }
.playing .title-content { position: absolute; padding: 0 10px; min-width: 100%; animation: init 5s linear, back 10s linear 5s infinite; }
.playing .title-content.title-dupl { display: block; animation: back 10s linear 0s infinite; }
.title { margin-bottom: 0; }
.meta-left, .meta-right, .thumbnail { display: none; }
@keyframes back {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
}
@keyframes init {
    to { transform: translateX(-100%); }
}`},{desc:"Replace icon for thumbs-up with an image",code:`.meta-right .vote-up { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }
.meta-right .vote-up .fa { display: none; }`},{desc:"Remove text before/after username",code:`.meta-user-text-before,
.meta-user-text-after {display: none}`},{desc:"Add a fontawesome icon before username (\\f075 is the icon unicode, refer to https://fontawesome.com/v4.7/icons/)",code:'.meta-user-name::before { content: "\\f075"; display: inline-block; font: normal normal normal 14px/1 FontAwesome; font-size: inherit; margin-right: .5em; }'},{desc:"Add an image icon before username",code:".meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }"},{desc:"Add an image icon before username for specific user only",code:`[data-user="nc_para_" i] .meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }`},{desc:"Change item display depending on username (this one changes background and makes thumbnails black boxes)",code:`[data-user="nc_para_" i] { background: #dd0066; }
[data-user="nc_para_" i] .thumbnail img { display: none; }
[data-user="nc_para_" i] .thumbnail { background: black; }`},{desc:"Show player left of the playlist (and limit its height to 320px)",code:`.wrapper { display: grid; grid-template-areas: "player playlist"; grid-template-columns: 50% auto; grid-template-rows: 320px; }
.player iframe { height: 320px; }`},{desc:"Show thumbnails only, and display meta info above them",code:`.item { display: block; position: relative; padding: 0; color: white; }
.title, .meta-left, .meta-right { position: absolute; padding: .2em; background: rgba(244,0,90,.9); }
.meta-left { top: 0; left: 0; font-size: 1em; }
.meta-right { top: 0; right: 0; font-size: 1em; }
.title { bottom: 0; left: 0; right: 0; margin-bottom: 0; }
.thumbnail { width: auto; }`},{desc:"Align thumbnails to the bottom",code:".thumbnail { align-self: end; }"},{desc:"Align thumbnails to the center",code:".thumbnail { align-self: center; }"},{desc:"Add a margin/padding to the thumbnails",code:".thumbnail { padding: 20px; }"},{desc:"Show number of plays not at player, but in icon form on the right near votes",code:`.meta-left .meta-user:after,
.meta-left .meta-plays { display: none; }
.meta-right .meta-plays { display: inline-block; }`},{desc:"Show the progress bar only, and no video (progress bar above list)",code:`
.player { height: 5px; padding-bottom: 0; }
.progress { height: 5px; }`},{desc:"Show the progress bar only, and no video (progress bar below list)",code:`
.wrapper { display: grid; grid-template-areas: "list" "player"; }
.player { height: 5px; padding-bottom: 0; grid-area: player }
.list { grid-area: list }
.progress { height: 5px; }`}]}}),created(){this.settings=this.modelValue},methods:{loadPreset(e){const t=this.settings.customCssPresets.find(n=>n.name===e);t?(this.settings.customCss=t.css,this.settings.showProgressBar=t.showProgressBar,this.settings.showThumbnails=t.showThumbnails,this.settings.maxItemsShown=t.maxItemsShown):console.warn(`preset not found: ${e}`),this.sendSettings()},removePreset(e){this.settings.customCssPresets=this.settings.customCssPresets.filter(t=>t.name!==e),this.sendSettings()},savePreset(){const e=this.settings.customCssPresets.findIndex(t=>t.name===this.cssPresetName);e>=0?(this.settings.customCssPresets[e].css=this.settings.customCss,this.settings.customCssPresets[e].showProgressBar=this.settings.showProgressBar,this.settings.customCssPresets[e].showThumbnails=this.settings.showThumbnails,this.settings.customCssPresets[e].maxItemsShown=this.settings.maxItemsShown):this.settings.customCssPresets.push({name:this.cssPresetName,css:this.settings.customCss,showProgressBar:this.settings.showProgressBar,showThumbnails:this.settings.showThumbnails,maxItemsShown:this.settings.maxItemsShown}),this.sendSettings()},hideVideoImageChanged(e){this.settings.hideVideoImage=e,this.sendSettings()},sendSettings(){this.$emit("update:modelValue",this.settings)}}}),ot=e=>(En("data-v-28031899"),e=e(),kn(),e),EP={key:0,ref:"table",class:"table is-striped"},kP=ot(()=>s("tr",null,[s("td",{colspan:"3"}," General ")],-1)),TP=ot(()=>s("td",null,[s("code",null,"settings.volume")],-1)),IP=ot(()=>s("td",null,"Base volume for all songs played.",-1)),VP=ot(()=>s("td",null,[s("code",null,"settings.initAutoplay")],-1)),AP=ot(()=>s("td",null,"If checked, the widget will autoplay when first opened.",-1)),DP=ot(()=>s("td",null,[s("code",null,"settings.hideVideoImage")],-1)),OP=ot(()=>s("td",null,"Image to display when a video is hidden.",-1)),RP=ot(()=>s("td",null,[s("code",null,"settings.maxSongLength.viewer")],-1)),PP=ot(()=>s("td",null,[V(" Limits the maximum duration of songs that viewers can add/request. ("),s("code",null,"0"),V(" = unlimited, for example: "),s("code",null,"5m"),V(", "),s("code",null,"1h"),V(", ...) ")],-1)),MP=ot(()=>s("td",null,[s("code",null,"settings.maxSongLength.mod")],-1)),UP=ot(()=>s("td",null,[V(" Limits the maximum duration of songs that mods can add/request. ("),s("code",null,"0"),V(" = unlimited, for example: "),s("code",null,"5m"),V(", "),s("code",null,"1h"),V(", ...) ")],-1)),NP=ot(()=>s("td",null,[s("code",null,"settings.maxSongLength.sub")],-1)),LP=ot(()=>s("td",null,[V(" Limits the maximum duration of songs that subscribers can add/request. ("),s("code",null,"0"),V(" = unlimited, for example: "),s("code",null,"5m"),V(", "),s("code",null,"1h"),V(", ...) ")],-1)),FP=ot(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.viewer")],-1)),BP=ot(()=>s("td",null,"Number of new songs that viewers can request. (0 = unlimited)",-1)),HP=ot(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.mod")],-1)),zP=ot(()=>s("td",null,"Number of new songs that mods can request. (0 = unlimited)",-1)),jP=ot(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.sub")],-1)),WP=ot(()=>s("td",null,"Number of new songs that subscribers can request. (0 = unlimited)",-1)),xP=ot(()=>s("tr",null,[s("td",{colspan:"3"}," Visuals ")],-1)),KP=ot(()=>s("td",null,[s("code",null,"settings.showProgressBar")],-1)),JP=ot(()=>s("td",null,"Render a progress bar in the bottom part of the video in the widget.",-1)),GP=ot(()=>s("td",null,[s("code",null,"settings.showThumbnails")],-1)),YP={class:"mr-1"},XP=V("Off"),QP={class:"mr-1"},ZP=V("Left"),qP={class:"mr-1"},e6=V("Right"),t6=ot(()=>s("td",null,"Render video thumbnails in the widget.",-1)),n6=ot(()=>s("td",null,[s("code",null,"settings.maxItemsShown")],-1)),s6=ot(()=>s("td",null,"Max. number of items displayed in the playlist. Set to -1 for no limit.",-1)),o6=ot(()=>s("code",null,"settings.customCss",-1)),i6={class:"field has-addons mr-1"},a6={class:"control is-expanded"},l6={class:"control"},r6=["onClick"],u6=["onClick"],d6=ot(()=>s("i",{class:"fa fa-remove"},null,-1)),c6=[d6],f6=ot(()=>s("p",null,"Classes that can be used for styling:",-1)),h6={class:"table"},m6=ot(()=>s("thead",null,[s("tr",null,[s("th",null,"Class"),s("th",null,"Description")])],-1)),p6=ot(()=>s("p",null,[s("b",null,"Examples:")],-1));function g6(e,t,n,o,a,l){const i=N("volume-slider"),r=N("CheckboxInput"),u=N("image-upload"),d=N("duration-input");return g(),v("div",null,[e.settings?(g(),v("table",EP,[s("tbody",null,[kP,s("tr",null,[TP,s("td",null,[T(i,{modelValue:e.settings.volume,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.settings.volume=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),IP]),s("tr",null,[VP,s("td",null,[T(r,{modelValue:e.settings.initAutoplay,"onUpdate:modelValue":[t[1]||(t[1]=c=>e.settings.initAutoplay=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),AP]),s("tr",null,[DP,s("td",null,[T(u,{modelValue:e.settings.hideVideoImage,"onUpdate:modelValue":[t[2]||(t[2]=c=>e.settings.hideVideoImage=c),e.hideVideoImageChanged],width:"100px",height:"50px",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])]),OP]),s("tr",null,[RP,s("td",null,[T(d,{modelValue:e.settings.maxSongLength.viewer,"onUpdate:modelValue":[t[3]||(t[3]=c=>e.settings.maxSongLength.viewer=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),PP]),s("tr",null,[MP,s("td",null,[T(d,{modelValue:e.settings.maxSongLength.mod,"onUpdate:modelValue":[t[4]||(t[4]=c=>e.settings.maxSongLength.mod=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),UP]),s("tr",null,[NP,s("td",null,[T(d,{modelValue:e.settings.maxSongLength.sub,"onUpdate:modelValue":[t[5]||(t[5]=c=>e.settings.maxSongLength.sub=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),LP]),s("tr",null,[FP,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.settings.maxSongsQueued.viewer=c),class:"input is-small",type:"number","on:update:modelValue":t[7]||(t[7]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[$e,e.settings.maxSongsQueued.viewer]])]),BP]),s("tr",null,[HP,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[8]||(t[8]=c=>e.settings.maxSongsQueued.mod=c),class:"input is-small",type:"number","on:update:modelValue":t[9]||(t[9]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[$e,e.settings.maxSongsQueued.mod]])]),zP]),s("tr",null,[jP,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[10]||(t[10]=c=>e.settings.maxSongsQueued.sub=c),class:"input is-small",type:"number","on:update:modelValue":t[11]||(t[11]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[$e,e.settings.maxSongsQueued.sub]])]),WP]),xP,s("tr",null,[KP,s("td",null,[T(r,{modelValue:e.settings.showProgressBar,"onUpdate:modelValue":[t[12]||(t[12]=c=>e.settings.showProgressBar=c),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),JP]),s("tr",null,[GP,s("td",null,[s("label",YP,[oe(s("input",{"onUpdate:modelValue":t[13]||(t[13]=c=>e.settings.showThumbnails=c),class:"mr-1",type:"radio",value:!1,onChange:t[14]||(t[14]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[Gt,e.settings.showThumbnails]]),XP]),s("label",QP,[oe(s("input",{"onUpdate:modelValue":t[15]||(t[15]=c=>e.settings.showThumbnails=c),class:"mr-1",type:"radio",value:"left",onChange:t[16]||(t[16]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[Gt,e.settings.showThumbnails]]),ZP]),s("label",qP,[oe(s("input",{"onUpdate:modelValue":t[17]||(t[17]=c=>e.settings.showThumbnails=c),class:"mr-1",type:"radio",value:"right",onChange:t[18]||(t[18]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[Gt,e.settings.showThumbnails]]),e6])]),t6]),s("tr",null,[n6,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[19]||(t[19]=c=>e.settings.maxItemsShown=c),type:"number",min:"-1","on:update:modelValue":t[20]||(t[20]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[$e,e.settings.maxItemsShown]])]),s6]),s("tr",null,[s("td",null,[o6,s("div",i6,[s("div",a6,[oe(s("input",{"onUpdate:modelValue":t[21]||(t[21]=c=>e.cssPresetName=c),class:"input is-small",onFocus:t[22]||(t[22]=c=>e.cssPresetDropdownActive=!0),onBlur:t[23]||(t[23]=c=>e.cssPresetDropdownActive=!1)},null,544),[[$e,e.cssPresetName]])]),s("div",l6,[s("span",{class:"button is-small",onClick:t[24]||(t[24]=(...c)=>e.savePreset&&e.savePreset(...c))},"Save preset")])]),(g(!0),v(Z,null,ue(e.settings.customCssPresets,(c,f)=>(g(),v("div",{key:f,class:"mb-1"},[s("span",{class:"button is-small",onClick:h=>e.loadPreset(c.name)},Y(c.name),9,r6),s("span",{class:"button is-small ml-1",onClick:h=>e.removePreset(c.name)},c6,8,u6)]))),128))]),s("td",null,[oe(s("textarea",{"onUpdate:modelValue":t[25]||(t[25]=c=>e.settings.customCss=c),class:"textarea","on:update:modelValue":t[26]||(t[26]=(...c)=>e.sendSettings&&e.sendSettings(...c))},null,544),[[$e,e.settings.customCss]])]),s("td",null,[f6,s("table",h6,[m6,s("tbody",null,[(g(!0),v(Z,null,ue(e.css.classExamples,(c,f)=>(g(),v("tr",{key:f},[s("td",null,[s("code",null,Y(c.class),1)]),s("td",null,Y(c.desc),1)]))),128))])]),p6,(g(!0),v(Z,null,ue(e.css.codeExamples,(c,f)=>(g(),v("p",{key:f},[V(Y(c.desc)+" ",1),s("pre",null,[s("code",null,Y(c.code),1)])]))),128))])])])],512)):M("",!0)])}var v6=Ne(SP,[["render",g6],["__scopeId","data-v-28031899"]]);const y6=de({props:{tags:Array},data:()=>({editTag:"",tagEditIdx:-1}),methods:{onInputFocus(e,t){this.editTag=e.value,this.tagEditIdx=t},updateTag(e,t){this.$emit("updateTag",[e,t])}}}),b6={class:"table is-striped"},$6=s("tr",null,[s("th",null,"Tag"),s("th"),s("th")],-1),w6=["onKeyup"],_6=["value","onFocus"],C6=["disabled","onClick"];function S6(e,t,n,o,a,l){return g(),v("table",b6,[$6,(g(!0),v(Z,null,ue(e.tags,(i,r)=>(g(),v("tr",{key:r},[s("td",null,[e.tagEditIdx===r?oe((g(),v("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=u=>e.editTag=u),type:"text",class:"input is-small",onKeyup:Xn(u=>e.updateTag(i.value,e.editTag),["enter"])},null,40,w6)),[[$e,e.editTag]]):(g(),v("input",{key:1,type:"text",class:"input is-small",value:i.value,onFocus:u=>e.onInputFocus(i,r)},null,40,_6))]),s("td",null,[e.tagEditIdx===r?(g(),v("span",{key:0,class:"button is-small",disabled:i.value===e.editTag?!0:void 0,onClick:u=>e.updateTag(i.value,e.editTag)},"Save",8,C6)):M("",!0)]),s("td",null,Y(i.count)+"x",1)]))),128))])}var E6=Ne(y6,[["render",S6]]);const k6=de({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,itemStr:"null",newState:"",newSlotDefinitionName:""}),computed:{cardBody(){return this.$refs.cardBody?this.$refs.cardBody:null},allImagesDiv(){return this.$refs.allImagesDiv?this.$refs.allImagesDiv:null},allImages(){var t;const e=[];return(t=this.item)==null||t.slotDefinitions.forEach(n=>{n.items.forEach(o=>{o.states.forEach(a=>{a.frames.forEach(l=>{l.url&&!e.includes(l.url)&&e.push(l.url)})})})}),e},isStateAddable(){return!(!this.item||this.newState===""||this.item.stateDefinitions.find(({value:e})=>e===this.newState))}},watch:{modelValue:{handler(e){this.item=JSON.parse(this.itemStr)}},item:{handler(e){this.itemStr=JSON.stringify(e)},deep:!0},itemStr:{handler(e){const t=JSON.stringify(this.item);try{const n=JSON.parse(e);t!==n&&(this.item=n)}catch(n){console.warn(n)}}}},mounted(){this.itemStr=JSON.stringify(this.modelValue),this.item=JSON.parse(this.itemStr),this.adjustAllImagesDivSize(),window.addEventListener("resize",this.adjustAllImagesDivSize)},unmounted(){window.removeEventListener("resize",this.adjustAllImagesDivSize)},methods:{autoDetectDimensions(){if(this.allImages.length===0)return;const e=new Image;e.onload=()=>{!this.item||(this.item.width=e.width,this.item.height=e.height)},e.src=this.allImages[0]},adjustAllImagesDivSize(){this.$nextTick(()=>{if(!this.cardBody||!this.allImagesDiv)return;const e=this.cardBody.clientHeight;this.allImagesDiv.style.maxHeight=`${e}px`})},imageDragStart(e){if(!e.dataTransfer)return;const n=e.target.getAttribute("data-src");!n||e.dataTransfer.setData("avatar-image-url",n)},emitUpdate(){if(!this.item){console.warn("emitUpdate: this.item not initialized");return}this.$emit("update:modelValue",$f({name:this.item.name,width:parseInt(`${this.item.width}`,10),height:parseInt(`${this.item.height}`,10),stateDefinitions:this.item.stateDefinitions,slotDefinitions:this.item.slotDefinitions,state:this.item.state}))},onSaveClick(){this.emitUpdate()},onSaveAndCloseClick(){this.emitUpdate(),this.$emit("cancel")},onCancelClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},addStateDefinition(){if(!this.item){console.warn("addStateDefinition: this.item not initialized");return}const e={value:this.newState,deletable:!0};this.item.stateDefinitions.push(e);for(let t of this.item.slotDefinitions)for(let n of t.items)n.states.push({state:e.value,frames:[]})},removeStateDefinition(e){if(!this.item){console.warn("removeStateDefinition: this.item not initialized");return}const t=[];for(let o in this.item.stateDefinitions)parseInt(o,10)!==parseInt(`${e}`,10)&&t.push(this.item.stateDefinitions[o]);this.item.stateDefinitions=t;const n=t.map(o=>o.value);for(let o of this.item.slotDefinitions)for(let a of o.items)a.states=a.states.filter(l=>n.includes(l.state))},removeSlotDefinition(e){if(!this.item){console.warn("removeSlotDefinition: this.item not initialized");return}const t=[];for(let n in this.item.slotDefinitions)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.item.slotDefinitions[n]);this.item.slotDefinitions=t},updateSlotDefinition(e,t){if(!this.item){console.warn("updateSlotDefinition: this.item not initialized");return}this.item.slotDefinitions[parseInt(`${e}`,10)]=t},addSlotDefinition(){if(!this.item){console.warn("addSlotDefinition: this.item not initialized");return}const e={slot:"Unnamed slot",defaultItemIndex:-1,items:[]};this.item.slotDefinitions.push(e)},moveSlotUp(e){this.swapItems(e-1,e)},moveSlotDown(e){this.swapItems(e+1,e)},swapItems(e,t){if(!this.item){console.warn("swapItems: this.item not initialized");return}Na(this.item.slotDefinitions,e,t)}},components:{StringInput:Xt}}),T6={key:0,class:"avatar-editor modal is-active"},I6={class:"modal-card"},V6={class:"modal-card-head"},A6=s("p",{class:"modal-card-title"}," Edit Avatar ",-1),D6={ref:"cardBody",class:"modal-card-body"},O6={class:"columns"},R6={class:"column is-three-quarters"},P6={class:"table is-striped"},M6=s("td",null,"Name:",-1),U6=s("td",null,"Dimensions:",-1),N6=V("\u2716"),L6=V(" Pixels "),F6=s("td",null,"States:",-1),B6=["onClick"],H6=s("i",{class:"fa fa-trash"},null,-1),z6=[H6],j6=["disabled"],W6=s("td",null,"Slots",-1),x6={class:"column"},K6=s("div",null,"JSON:",-1),J6=s("div",null,"All images in use:",-1),G6={ref:"allImagesDiv",class:"avatar-all-images"},Y6=["src","data-src"],X6={class:"modal-card-foot"};function Q6(e,t,n,o,a,l){const i=N("StringInput"),r=N("avatar-slot-definition-editor");return e.item?(g(),v("div",T6,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...u)=>e.onOverlayClick&&e.onOverlayClick(...u))}),s("div",I6,[s("header",V6,[A6,s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...u)=>e.onCloseClick&&e.onCloseClick(...u))})]),s("section",D6,[s("div",O6,[s("div",R6,[s("table",P6,[s("tbody",null,[s("tr",null,[M6,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.item.name=u),class:"input is-small"},null,512),[[$e,e.item.name]])])]),s("tr",null,[U6,s("td",null,[oe(s("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>e.item.width=u),class:"input is-small number-input"},null,512),[[$e,e.item.width]]),N6,oe(s("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.item.height=u),class:"input is-small number-input"},null,512),[[$e,e.item.height]]),L6,e.allImages.length?(g(),v("span",{key:0,class:"button is-small",onClick:t[5]||(t[5]=(...u)=>e.autoDetectDimensions&&e.autoDetectDimensions(...u))},"Auto-detect")):M("",!0)])]),s("tr",null,[F6,s("td",null,[(g(!0),v(Z,null,ue(e.item.stateDefinitions,(u,d)=>(g(),v("span",{key:d,class:"tag"},[s("span",null,Y(u.value),1),u.deletable?(g(),v("span",{key:0,class:"ml-1 is-clickable",onClick:c=>e.removeStateDefinition(d)},z6,8,B6)):M("",!0)]))),128)),T(i,{modelValue:e.newState,"onUpdate:modelValue":t[6]||(t[6]=u=>e.newState=u),placeholder:"State"},null,8,["modelValue"]),s("span",{class:"button is-small",disabled:e.isStateAddable?void 0:!0,onClick:t[7]||(t[7]=(...u)=>e.addStateDefinition&&e.addStateDefinition(...u))},"Add custom state",8,j6)])]),s("tr",null,[W6,s("td",null,[(g(!0),v(Z,null,ue(e.item.slotDefinitions,(u,d)=>(g(),Ae(r,{key:d,class:"card mb-2","model-value":u,"avatar-def":e.item,"onUpdate:modelValue":c=>e.updateSlotDefinition(d,c),onMoveUp:c=>e.moveSlotUp(d),onMoveDown:c=>e.moveSlotDown(d),onRemove:c=>e.removeSlotDefinition(d)},null,8,["model-value","avatar-def","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"]))),128))])])])]),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...u)=>e.addSlotDefinition&&e.addSlotDefinition(...u))},"Add slot")]),s("div",x6,[K6,oe(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=u=>e.itemStr=u),class:"textarea mb-2"},null,512),[[$e,e.itemStr]]),J6,s("div",G6,[(g(!0),v(Z,null,ue(e.allImages,(u,d)=>(g(),v("img",{key:d,src:u,draggable:"true",class:"mr-1 mb-1","data-src":u,onDragstart:t[10]||(t[10]=(...c)=>e.imageDragStart&&e.imageDragStart(...c))},null,40,Y6))),128))],512)])])],512),s("footer",X6,[s("button",{class:"button is-small is-primary",onClick:t[11]||(t[11]=(...u)=>e.onSaveClick&&e.onSaveClick(...u))}," Save "),s("button",{class:"button is-small is-primary",onClick:t[12]||(t[12]=(...u)=>e.onSaveAndCloseClick&&e.onSaveAndCloseClick(...u))}," Save and close "),s("button",{class:"button is-small",onClick:t[13]||(t[13]=(...u)=>e.onCancelClick&&e.onCancelClick(...u))}," Cancel ")])])])):M("",!0)}var Z6=Ne(k6,[["render",Q6]]);const q6={class:"avatar-slot-definition-editor"},eM={class:"level avatar-slot-definition-editor-title p-1"},tM={class:"level-left"},nM={class:"level-item"},sM={class:"level-item"},oM={class:"level-right"},iM={class:"level-item"},aM={class:"level-item"},lM={class:"level-item"},rM=s("i",{class:"fa fa-trash"},null,-1),uM=[rM],dM={class:"p-1"},cM=de({__name:"AvatarSlotDefinitionEditor",props:{modelValue:{type:Object,required:!0},avatarDef:{type:Object,required:!0}},emits:["update:modelValue","remove","moveUp","moveDown"],setup(e,{emit:t}){const n=e,o=ve(!1),a=Ye(()=>n.modelValue.defaultItemIndex>=0&&n.modelValue.items.length>n.modelValue.defaultItemIndex?n.modelValue.items[n.modelValue.defaultItemIndex]:null),l=Ye(()=>{if(!a.value)return[];const p=a.value.states.find(({state:y})=>y==="default");return p?p.frames:[]}),i=()=>{t("update:modelValue",n.modelValue)},r=(p,y)=>{n.modelValue.items[p]=y,i()},u=(p,y)=>{n.modelValue.items=n.modelValue.items.filter((w,$)=>$!==p),p<=n.modelValue.defaultItemIndex&&(n.modelValue.defaultItemIndex=n.modelValue.defaultItemIndex-1),n.modelValue.items.length>0&&n.modelValue.defaultItemIndex<0&&(n.modelValue.defaultItemIndex=0),i()},d=(p,y)=>{n.modelValue.defaultItemIndex=p,i()},c=()=>{const p={title:`${n.modelValue.slot} item ${n.modelValue.items.length+1}`,states:n.avatarDef.stateDefinitions.map(y=>({state:y.value,frames:[]}))};n.modelValue.items.push(p),n.modelValue.defaultItemIndex===-1&&(n.modelValue.defaultItemIndex=0),i()},f=p=>{m(p-1,p)},h=p=>{m(p+1,p)},m=(p,y)=>{Na(n.modelValue.items,p,y)&&(n.modelValue.defaultItemIndex===p?n.modelValue.defaultItemIndex=y:n.modelValue.defaultItemIndex===y&&(n.modelValue.defaultItemIndex=p))};return(p,y)=>{const w=N("avatar-animation"),$=N("avatar-slot-item-editor");return g(),v("div",q6,[s("div",eM,[s("div",tM,[s("div",nM,[T(w,{frames:Xe(l),width:32,height:32},null,8,["frames"])]),s("div",sM,[oe(s("input",{"onUpdate:modelValue":y[0]||(y[0]=b=>e.modelValue.slot=b),class:De(["input is-small avatar-slot-definition-editor-title-input",{"is-static":!o.value}]),onFocus:y[1]||(y[1]=b=>o.value=!0),onBlur:y[2]||(y[2]=b=>o.value=!1)},null,34),[[$e,e.modelValue.slot]])])]),s("div",oM,[s("div",iM,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:y[3]||(y[3]=b=>p.$emit("moveUp"))})]),s("div",aM,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:y[4]||(y[4]=b=>p.$emit("moveDown"))})]),s("div",lM,[s("span",{class:"button is-small",onClick:y[5]||(y[5]=b=>p.$emit("remove"))},uM)])])]),s("div",dM,[(g(!0),v(Z,null,ue(e.modelValue.items,(b,S)=>(g(),Ae($,{key:S,class:De(["card mb-1",{"is-default":S===e.modelValue.defaultItemIndex}]),"model-value":b,"is-default":S===e.modelValue.defaultItemIndex,onMoveUp:_=>f(S),onMoveDown:_=>h(S),"onUpdate:modelValue":_=>r(S,_),onRemove:_=>u(S),onMakeDefault:_=>d(S)},null,8,["class","model-value","is-default","onMoveUp","onMoveDown","onUpdate:modelValue","onRemove","onMakeDefault"]))),128))]),s("span",{class:"button is-small",onClick:c},"Add item")])}}});const fM={class:"avatar-slot-item-editor p-1"},hM={class:"level"},mM={class:"level-left"},pM={class:"level-item"},gM={class:"level-item"},vM={key:0,class:"has-text-success mr-1"},yM=s("i",{class:"fa fa-check"},null,-1),bM=V(" Default"),$M=[yM,bM],wM={class:"level-right"},_M={class:"level-item"},CM={class:"level-item"},SM={class:"level-item"},EM=s("i",{class:"fa fa-trash"},null,-1),kM=[EM],TM=de({__name:"AvatarSlotItemEditor",props:{modelValue:{type:Object,required:!0},isDefault:{type:Boolean,required:!0}},emits:["update:modelValue","makeDefault","moveUp","moveDown","remove"],setup(e,{emit:t}){const n=e,o=ve(!1),a=Ye(()=>n.modelValue.states.find(({state:i})=>i==="default")),l=()=>{t("makeDefault",n.modelValue)};return(i,r)=>{const u=N("avatar-slot-item-state-editor");return g(),v("div",fM,[s("div",hM,[s("div",mM,[s("div",pM,[oe(s("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>e.modelValue.title=d),type:"text",class:De(["input is-small avatar-slot-item-editor-title",{"is-static":!o.value}]),onFocus:r[1]||(r[1]=d=>o.value=!0),onBlur:r[2]||(r[2]=d=>o.value=!1)},null,34),[[$e,e.modelValue.title]])]),s("div",gM,[e.isDefault?(g(),v("span",vM,$M)):(g(),v("span",{key:1,class:"button is-small",onClick:l},"Make default"))])]),s("div",wM,[s("div",_M,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:r[3]||(r[3]=d=>i.$emit("moveUp"))})]),s("div",CM,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:r[4]||(r[4]=d=>i.$emit("moveDown"))})]),s("div",SM,[s("span",{class:"button is-small",onClick:r[5]||(r[5]=d=>i.$emit("remove"))},kM)])])]),(g(!0),v(Z,null,ue(e.modelValue.states,(d,c)=>(g(),Ae(u,{key:c,class:"mr-1","model-value":d,"default-state":Xe(a)},null,8,["model-value","default-state"]))),128))])}}});const IM=de({__name:"AvatarPreview",props:{avatar:{type:Object,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=Ye(()=>t.avatar.slotDefinitions.map(o=>{const a=o.items[o.defaultItemIndex];if(!a)return{state:"",frames:[]};const l=a.states.find(({state:i})=>i==="default");return l||{state:"",frames:[]}}));return(o,a)=>{const l=N("avatar-animation");return g(),v("div",{class:"avatar-preview",style:rt({width:`${e.width}px`,height:`${e.height}px`})},[(g(!0),v(Z,null,ue(Xe(n),(i,r)=>(g(),Ae(l,{key:r,frames:i.frames,width:e.width,height:e.height},null,8,["frames","width","height"]))),128))],4)}}});const VM=de({props:{modelValue:{type:Object,required:!0},defaultState:{type:Object,required:!0}},data(){return{draggingOver:!1,editing:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},methods:{onDragOver(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragLeave(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation()},onDragEnter(e){!e.dataTransfer||e.dataTransfer.getData("avatar-image-url")&&e.preventDefault()},onDrop(e){if(!!e.dataTransfer)if(this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("avatar-image-url")){const t={url:e.dataTransfer.getData("avatar-image-url"),duration:100};this.modelValue.frames.push(t)}else{const t=bi(e);t&&this.uploadComponent.uploadFile(t)}},onUploaded(e){this.modelValue.frames.push({url:e.urlpath,duration:100})},onOverlayClick(){this.editing=!1},frameChanged(e,t){t.url===""?this.modelValue.frames=this.modelValue.frames.filter((n,o)=>o!==e):this.modelValue.frames[e]=t},addFrame(){const e={url:"",duration:100};this.modelValue.frames.push(e)}}}),AM={class:"avatar-slot-item-state-editor-title"},DM={class:"avatar-animation-card mr-1"},OM={class:"avatar-animation-frame"},RM=s("i",{class:"fa fa-plus"},null,-1),PM=[RM];function MM(e,t,n,o,a,l){const i=N("avatar-animation"),r=N("avatar-frame-upload"),u=N("upload-input");return g(),v("div",{class:De(["avatar-slot-item-state-editor card",{"dragging-over":e.draggingOver}]),onDragover:t[1]||(t[1]=(...d)=>e.onDragOver&&e.onDragOver(...d)),onDragenter:t[2]||(t[2]=(...d)=>e.onDragEnter&&e.onDragEnter(...d)),onDragleave:t[3]||(t[3]=(...d)=>e.onDragLeave&&e.onDragLeave(...d)),onDrop:t[4]||(t[4]=(...d)=>e.onDrop&&e.onDrop(...d))},[s("div",AM,Y(e.modelValue.state),1),e.modelValue.frames.length?(g(),Ae(i,{key:0,frames:e.modelValue.frames},null,8,["frames"])):(g(),Ae(i,{key:1,frames:e.defaultState.frames,class:"avatar-fallback-animation"},null,8,["frames"])),s("div",null,[(g(!0),v(Z,null,ue(e.modelValue.frames,(d,c)=>(g(),v("div",{key:c,class:"avatar-animation-card mr-1"},[T(r,{"model-value":d,"onUpdate:modelValue":f=>e.frameChanged(c,f)},null,8,["model-value","onUpdate:modelValue"])]))),128)),s("div",DM,[s("span",OM,[s("span",{class:"button is-small",onClick:t[0]||(t[0]=(...d)=>e.addFrame&&e.addFrame(...d))},PM)])])]),oe(T(u,{ref:"uploadComponent",accept:"image/*",label:"",onUploaded:e.onUploaded},null,8,["onUploaded"]),[[$o,!1]])],34)}var UM=Ne(VM,[["render",MM]]);const NM=e=>(En("data-v-864f7452"),e=e(),kn(),e),LM=NM(()=>s("i",{class:"fa fa-trash"},null,-1)),FM=[LM],BM=["src"],HM=de({__name:"AvatarFrameUpload",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=ve({url:"",duration:100}),a=ve(!1),l=ve(),i=()=>{o.value=n.modelValue!==null?JSON.parse(JSON.stringify(n.modelValue)):{url:"",duration:100}},r=()=>{t("update:modelValue",JSON.parse(JSON.stringify(o.value)))},u=()=>{t("update:modelValue",JSON.parse(JSON.stringify(o.value)))},d=()=>{o.value={url:"",duration:100},r()},c=p=>{o.value={url:p.urlpath,duration:100},r()},f=p=>{a.value=!1,p.preventDefault(),p.stopPropagation();const y=bi(p);return y&&(o.value.url="",l.value.uploadFile(y)),!1},h=p=>(a.value=!0,p.preventDefault(),p.stopPropagation(),!1),m=p=>(a.value=!1,p.preventDefault(),p.stopPropagation(),!1);return Nt(()=>{Tt(()=>n.modelValue,()=>{i()}),i()}),(p,y)=>{const w=N("upload-input");return g(),v("span",{class:De(["avatar-animation-frame",{"dragging-over":a.value}]),onDrop:f,onDragover:h,onDragleave:m},[s("div",{class:"avatar-animation-frame-remove"},[s("span",{class:"button is-small",onClick:d},FM)]),o.value.url?(g(),v("img",{key:0,src:o.value.url,width:"64",height:"64"},null,8,BM)):M("",!0),oe(T(w,{ref_key:"uploadComponent",ref:l,accept:"image/*",label:"",class:"avatar-animation-frame-upload",onUploaded:c},null,512),[[$o,!o.value.url]]),T($r,{modelValue:o.value.duration,"onUpdate:modelValue":[y[0]||(y[0]=$=>o.value.duration=$),u]},null,8,["modelValue"])],34)}}});var zM=Ne(HM,[["__scopeId","data-v-864f7452"]]);const jM=["src","width","height"],Jf=de({__name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=ve(null),o=ve(-1),a=Ye(()=>o.value>=0&&o.value<t.frames.length?t.frames[o.value].url:""),l=()=>{if(t.frames.length===0){o.value=-1;return}n.value&&(clearTimeout(n.value),n.value=null),o.value++,o.value>=t.frames.length&&(o.value=0),n.value=setTimeout(()=>{l()},t.frames[o.value].duration)};return Nt(()=>{l(),Tt(()=>t.frames,()=>{o.value=-1,l()},{deep:!0})}),Bn(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(i,r)=>(g(),v("span",{class:"avatar-animation",style:rt({width:`${e.width}px`,height:`${e.width}px`})},[Xe(a)?(g(),v("img",{key:0,src:Xe(a),width:e.width,height:e.height},null,8,jM)):(g(),v("span",{key:1,style:rt({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}});class WM{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const o=n.inputBuffer.getChannelData(0);let a,l=0,i=0;for(a=0;a<o.length;++a)l+=o[a]*o[a],Math.abs(o[a])>.99&&(i+=1);this.instant=Math.sqrt(l/o.length),this.slow=.95*this.slow+.05*this.instant,this.clip=i/o.length}}connectToSource(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof n!="undefined"&&n(null)}catch(o){console.error(o),typeof n!="undefined"&&n(o)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const xM=e=>new URLSearchParams(window.location.search).get(e)||"";var Sn={wsClient:e=>new Tf(`${e.wsUrl}/widget_${e.widget}`,e.widgetToken),getParam:xM};const Ss=xs("Page.vue"),Lo="default",KM="speaking",Xu={state:Lo,frames:[]},Qu=.05,JM=de({components:{AvatarAnimation:Jf},props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data(){return{ws:null,speaking:!1,initialized:!1,audioInitialized:!1,tuberIdx:-1,avatarFixed:"",settings:Pl(),showControls:!0}},computed:{tuberDef(){return this.tuberIdx<0||this.tuberIdx>=this.settings.avatarDefinitions.length?null:this.settings.avatarDefinitions[this.tuberIdx]},slots(){const e=this.tuberDef;return e?e.state.slots:{}},lockedState(){var e;return((e=this.tuberDef)==null?void 0:e.state.lockedState)||Lo},animationName(){return this.lockedState!==Lo?this.lockedState:this.speaking?KM:Lo},animations(){return this.tuberDef?this.tuberDef.slotDefinitions.map(this.getSlotStateDefinition):[]}},created(){Fn(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]),this.avatarFixed=Sn.getParam("avatar")},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles()});let t=e.state.tuberIdx;this.avatarFixed&&(t=this.settings.avatarDefinitions.findIndex(n=>n.name===this.avatarFixed)),this.setTuber(t===-1?0:t),this.initialized=!0}),this.ws.onMessage("ctrl",({data:e})=>{if(e.ctrl==="setSlot"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1],o=e.args[2];this.setSlot(n,o)}}else if(e.ctrl==="setSpeaking"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.setSpeaking(n)}}else if(e.ctrl==="lockState"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.lockState(n)}}else if(e.ctrl==="setTuber"){const t=e.args[0];this.setTuber(t)}}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{getSlotStateDefinition(e){const t=this.getItem(e);if(!t)return Xu;const n=t.states.find(({state:o})=>o===this.animationName);return n&&n.frames.length>0?n:t.states.find(({state:o})=>o===Lo)||Xu},getItem(e){if(e.items.length===0)return null;let t=this.slots[e.slot];return typeof t=="undefined"&&(t=e.defaultItemIndex),(t<0||t>=e.items.length)&&(t=0),e.items[t]},ctrl(e,t){if(!this.ws){Ss.error("ctrl: this.ws not initialized");return}this.ws.send(JSON.stringify({event:"ctrl",data:{ctrl:e,args:t}}))},setSlot(e,t,n=!1){this.slots[e]!==t&&(this.settings.avatarDefinitions[this.tuberIdx].state.slots[e]=t,n&&this.ctrl("setSlot",[this.tuberIdx,e,t]))},setSpeaking(e,t=!1){this.speaking!==e&&(this.speaking=e,t&&this.ctrl("setSpeaking",[this.tuberIdx,e]))},lockState(e,t=!1){this.lockedState!==e&&(this.settings.avatarDefinitions[this.tuberIdx].state.lockedState=e,t&&this.ctrl("lockState",[this.tuberIdx,e]))},setTuber(e,t=!1){if(!this.settings){Ss.error("setTuber: this.settings not initialized");return}if(this.avatarFixed&&(e=this.settings.avatarDefinitions.findIndex(l=>l.name===this.avatarFixed)),e>=this.settings.avatarDefinitions.length&&(Ss.info("setTuber: index out of bounds. using index 0"),e=0),e<0||e>=this.settings.avatarDefinitions.length){Ss.error("setTuber: index out of bounds");return}const n=this.settings.avatarDefinitions[e],o=JSON.stringify(n),a=JSON.stringify(this.tuberDef);o!==a&&(this.tuberIdx=e,t&&this.ctrl("setTuber",[this.tuberIdx]))},startMic(){if(this.audioInitialized)return;if(this.audioInitialized=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const e=window.AudioContext||window.webkitAudioContext,t=new e;navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{const o=new WM(t);o.connectToSource(n,a=>{if(a){Ss.error({e:a});return}setInterval(()=>{const l=this.speaking?Qu/2:Qu;this.setSpeaking(o.instant>l,!0)},100)})}).catch(n=>{Ss.error({e:n}),alert("Error capturing audio.")})},applyStyles(){if(!this.settings){Ss.error("applyStyles: this.settings not initialized");return}const e=this.settings.styles;e.bgColorEnabled&&e.bgColor!=null?document.body.style.backgroundColor=e.bgColor:document.body.style.backgroundColor=""}}}),GM={key:0,class:"base"},YM={key:0},XM={key:0},QM=s("td",null,"Tubers:",-1),ZM=["onClick"],qM={key:1},eU=s("td",{colspan:"2"},[s("hr")],-1),tU=[eU],nU=s("td",null,"Start Mic",-1),sU=s("tr",null,[s("td",{colspan:"2"},[s("hr")])],-1),oU=["onClick"],iU=s("td",null,"State:",-1),aU=["onClick"],lU={key:1,class:"toggle-controls"};function rU(e,t,n,o,a,l){const i=N("avatar-animation");return e.initialized?(g(),v("div",GM,[s("div",{class:"avatar",style:rt({width:`${e.tuberDef.width}px`,height:`${e.tuberDef.height}px`})},[(g(!0),v(Z,null,ue(e.animations,(r,u)=>(g(),Ae(i,{key:u,frames:r.frames,width:e.tuberDef.width,height:e.tuberDef.height},null,8,["frames","width","height"]))),128))],4),e.controls&&e.showControls?(g(),v("table",YM,[e.avatarFixed?M("",!0):(g(),v("tr",XM,[QM,s("td",null,[(g(!0),v(Z,null,ue(e.settings.avatarDefinitions,(r,u)=>(g(),v("button",{key:u,class:De({active:e.tuberIdx===u}),onClick:d=>e.setTuber(u,!0)},Y(r.name),11,ZM))),128))])])),e.avatarFixed?M("",!0):(g(),v("tr",qM,tU)),s("tr",null,[nU,s("td",null,[s("button",{onClick:t[0]||(t[0]=(...r)=>e.startMic&&e.startMic(...r))}," Start ")])]),sU,(g(!0),v(Z,null,ue(e.tuberDef.slotDefinitions,(r,u)=>(g(),v("tr",{key:u},[s("td",null,Y(r.slot)+":",1),s("td",null,[(g(!0),v(Z,null,ue(r.items,(d,c)=>(g(),v("button",{key:c,class:De({active:e.slots[r.slot]===c}),onClick:f=>e.setSlot(r.slot,c,!0)},Y(d.title),11,oU))),128))])]))),128)),s("tr",null,[iU,s("td",null,[(g(!0),v(Z,null,ue(e.tuberDef.stateDefinitions,(r,u)=>(g(),v("button",{key:u,class:De({active:e.lockedState===r.value}),onClick:d=>e.lockState(r.value,!0)},Y(r.value),11,aU))),128))])])])):M("",!0),e.controls?(g(),v("div",lU,[s("button",{onClick:t[1]||(t[1]=r=>e.showControls=!e.showControls)}," Toggle controls ")])):M("",!0)])):M("",!0)}var uU=Ne(JM,[["render",rU]]);const dU=de({}),cU={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fU=s("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),hU=[fU];function mU(e,t,n,o,a,l){return g(),v("svg",cU,hU)}var pU=Ne(dU,[["render",mU]]);const gU=de({}),vU={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yU=s("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),bU=[yU];function $U(e,t,n,o,a,l){return g(),v("svg",vU,bU)}var wU=Ne(gU,[["render",$U]]);const _U=de({}),CU={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},SU=s("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),EU=[SU];function kU(e,t,n,o,a,l){return g(),v("svg",CU,EU)}var TU=Ne(_U,[["render",kU]]);const IU=de({}),VU={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},AU=s("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),DU=[AU];function OU(e,t,n,o,a,l){return g(),v("svg",VU,DU)}var RU=Ne(IU,[["render",OU]]);const PU=de({}),MU={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},UU=s("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),NU=[UU];function LU(e,t,n,o,a,l){return g(),v("svg",MU,NU)}var FU=Ne(PU,[["render",LU]]);const BU=de({}),HU={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zU=s("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),jU=[zU];function WU(e,t,n,o,a,l){return g(),v("svg",HU,jU)}var xU=Ne(BU,[["render",WU]]);const Zu=xs("Page.vue"),qu=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-n.x,y:t.targetTouches[0].clientY-n.y}},ed=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.x,y:t.clientY-n.y}},KU=e=>{const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),o=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(n*299+o*587+a*114)/1e3>69},JU=(e,t,n)=>{if(e==="color-sampler")return"crosshair";const o=document.createElement("canvas"),a=o.getContext("2d"),l=10,i=3,r=t+l+i+l+i,u=Math.round(r/2);return o.width=r+1,o.height=r+1,a.fillStyle="#AAA",a.fillRect(0,u-1,l,3),a.fillRect(o.width-l,u-1,l,3),a.fillRect(u-1,0,3,l),a.fillRect(u-1,o.height-l,3,l),a.fillStyle="#666",a.fillRect(1,u,l-2,1),a.fillRect(o.width-l+1,u,l-2,1),a.fillRect(u,1,1,l-2),a.fillRect(u,o.height-l+1,1,l-2),a.beginPath(),a.translate(.5,.5),a.fillStyle=n,a.strokeStyle=KU(String(a.fillStyle))?"#000":"#fff",a.arc(u,u,t/2,0,2*Math.PI),a.translate(-.5,-.5),a.closePath(),e!=="eraser"&&a.fill(),a.stroke(),`url(${o.toDataURL()}) ${u} ${u}, default`},td=(e,t,n,o)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=n,e.arc(t[0].x,t[0].y,o/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=n,e.lineWidth=o,e.moveTo(t[0].x,t[0].y);for(let a=1;a<t.length;a++)e.lineTo(t[a].x,t[a].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},GU=de({components:{IconPen:pU,IconEyedropper:wU,IconSend:TU,IconUndo:RU,IconEraser:FU,IconClear:xU},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},canvasHolderStyle(){return{width:`${this.canvasWidth+4}px`,height:`${this.canvasHeight+4}px`}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},draftstyles(){return{cursor:this.cursor,opacity:`${this.transparency/100}`}},styles(){return{cursor:this.cursor}},cursor(){return JU(this.tool,this.size,this.color)}},created(){Fn(()=>Promise.resolve({}),["assets/main.2e35d04c.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=Sn.wsClient(this.wdata);const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{console.log("inited",t),this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(n=>n.path),this.images.length>0&&t.settings.autofillLatest&&this.stack.length===0&&!this.drawing&&this.modify(this.images[0])}),this.ws.onMessage("image_deleted",t=>{this.favoriteLists=this.favoriteLists.map(n=>(n.list=n.list.filter(o=>o!==t.img),n)),this.images=this.images.filter(n=>n!==t.img)}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const o=new Date,a=this.sending.date.getTime()+500-o.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,a))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const o=new Date,a=this.sending.date.getTime()+500-o.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,a))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)},methods:{opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(n=>{t.src=e,t.onload=()=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData()),n()}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",td(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",td(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(qu(this.draftcanvas,e))},mousedown(e){this.startDraw(ed(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(qu(this.draftcanvas,e))},mousemove(e){this.continueDraw(ed(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){Zu.error("submitImage: this.ws not set");return}if(this.sending.nonce){Zu.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=Ke(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,n,o,a]=this.finalctx.getImageData(e.x,e.y,1,1).data,l=i=>hs(i.toString(16),"00");return a?`#${l(t)}${l(n)}${l(o)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}}}),YU={id:"drawcast"},XU={class:"streamer_message"},QU={class:"streamer_message_inner"},ZU={class:"draw_panel"},qU={class:"draw_panel_inner"},eN={class:"draw_panel_top"},tN={class:"draw_canvas_holder"},nN=["width","height"],sN=["width","height"],oN={class:"v355_1274"},iN={class:"card draw_tools_panel"},aN={class:"draw_tools_tool_buttons"},lN={class:"slider"},rN=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-small bubble-dark"})],-1),uN={class:"slider-input-holder"},dN=["max"],cN=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),fN={class:"slider"},hN=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-big bubble-light"})],-1),mN={class:"slider-input-holder"},pN=["max"],gN=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),vN={class:"visual_background"},yN=s("div",{class:"visual_background_title"}," Visual Background: ",-1),bN={class:"visual_background_colors"},$N=["onClick"],wN={class:"hotkey-help"},_N=s("div",{class:"hotkey-help-title"}," Hotkeys ",-1),CN={class:"draw_panel_bottom"},SN={class:"draw_colors"},EN={class:"draw_colors_current"},kN={class:"draw_colors_current_label clickable"},TN={class:"draw_colors_current_icon"},IN={class:"draw_colors_palette"},VN=["onClick"],AN=s("div",null,null,-1),DN={class:"drawing_panel_bottom_right"},ON=s("span",{class:"send_button_text"},"\u23F3 Sending...",-1),RN=[ON],PN={class:"send_button_text"},MN={class:"drawings_panel_title"},UN={class:"drawings_panel_title_inner"},NN={class:"drawing_panel_drawings"},LN=["src","onClick"],FN={class:"drawings-panel recent-drawings-panel"},BN={class:"drawings_panel_title"},HN={class:"drawings_panel_title_inner"},zN={class:"drawing_panel_drawings"},jN=["src","onClick"],WN=s("div",{class:"dotdotdot"},null,-1),xN=dc('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),KN=[xN],JN={key:0,class:"dialog success-dialog"},GN={class:"dialog-container"},YN={class:"dialog-image"},XN=s("div",{class:"dialog-title"}," Success! ",-1),QN=["innerHTML"],ZN={class:"dialog-footer"},qN={key:1,class:"dialog confirm-dialog"},e7={class:"dialog-container"},t7=["innerHTML"],n7={class:"dialog-footer"},s7={key:2,class:"dialog confirm-dialog"},o7={class:"dialog-container"},i7=["innerHTML"],a7={class:"dialog-footer"},l7={key:3,class:"dialog clear-dialog"},r7={class:"dialog-container"},u7={class:"dialog-image"},d7=["innerHTML"],c7={class:"dialog-footer"};function f7(e,t,n,o,a,l){const i=N("icon-pen"),r=N("icon-eraser"),u=N("icon-eyedropper"),d=N("icon-undo"),c=N("icon-clear"),f=N("icon-send");return g(),v("div",YU,[s("div",{class:De(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(g(),v("div",{key:0,class:De(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(g(),v("div",{key:0,class:"streamer_avatar",style:rt({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):M("",!0),s("div",XU,[s("span",QU,Y(e.customDescription),1)])],2)):M("",!0),s("div",ZU,[s("div",qU,[s("div",eN,[s("div",tN,[s("div",{class:De(["draw_canvas_holder_inner",e.canvasClasses]),style:rt(e.canvasHolderStyle)},[s("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:rt(e.styles)},null,12,nN),s("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:rt(e.draftstyles),onTouchstart:t[0]||(t[0]=na((...h)=>e.touchstart&&e.touchstart(...h),["prevent"])),onTouchmove:t[1]||(t[1]=na((...h)=>e.touchmove&&e.touchmove(...h),["prevent"])),onMousedown:t[2]||(t[2]=(...h)=>e.mousedown&&e.mousedown(...h))},null,44,sN)],6)]),s("div",oN,[s("div",iN,[s("div",aN,[s("div",{class:De(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=h=>e.tool="pen")},[T(i)],2),s("div",{class:De(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=h=>e.tool="eraser")},[T(r)],2),s("div",{class:De(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=h=>e.tool="color-sampler")},[T(u)],2),s("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...h)=>e.undo&&e.undo(...h))},[T(d)]),s("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...h)=>e.showClearDialog&&e.showClearDialog(...h))},[T(c)])]),s("div",lN,[rN,s("div",uN,[oe(s("input",{"onUpdate:modelValue":t[8]||(t[8]=h=>e.sizeIdx=h),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,dN),[[$e,e.sizeIdx]])]),cN]),s("div",fN,[hN,s("div",mN,[oe(s("input",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.transparencyIdx=h),type:"range",min:"0",max:e.transparencies.length-1,step:"1"},null,8,pN),[[$e,e.transparencyIdx]])]),gN]),s("div",vN,[yN,s("div",bN,[(g(),v(Z,null,ue(["transparent-light","transparent-dark"],(h,m)=>s("div",{key:m,class:De(["visual_background_button clickable",{"is-current":e.canvasBg===h,[`bg-${h}`]:!0}]),onClick:p=>e.opt("canvasBg",h)},null,10,$N)),64))])])]),s("div",wN,[_N,(g(!0),v(Z,null,ue(e.hotkeys,(h,m)=>(g(),v("div",{key:m,class:"hotkey-help-item"},Y(h),1))),128))])])]),s("div",CN,[s("div",SN,[s("div",EN,[s("label",kN,[oe(s("input",{"onUpdate:modelValue":t[10]||(t[10]=h=>e.color=h),type:"color"},null,512),[[$e,e.color]]),s("span",{class:De(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:rt(e.currentColorStyle)},null,6),s("div",TN,[T(u)])])]),s("div",IN,[(g(!0),v(Z,null,ue(e.palette,(h,m)=>(g(),v("div",{key:m,class:"palette_color clickable",style:rt({backgroundColor:h}),onClick:p=>{e.color=h,e.tool="pen"}},null,12,VN))),128))])]),AN,s("div",DN,[e.sending.nonce?(g(),v("div",{key:0,class:"button button-primary send_button",onClick:t[11]||(t[11]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},RN)):(g(),v("div",{key:1,class:"button button-primary send_button clickable",onClick:t[12]||(t[12]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},[T(f),s("span",PN,Y(e.submitButtonText),1)]))])])])]),(g(!0),v(Z,null,ue(e.favoriteListsFiltered,(h,m)=>(g(),v("div",{key:m,class:"drawings-panel favorite-drawings-panel"},[s("div",MN,[s("span",UN,Y(h.title||"Streamer's favorites:"),1)]),s("div",NN,[(g(!0),v(Z,null,ue(h.list,(p,y)=>(g(),v("img",{key:y,class:"image favorite clickable",src:p,height:"190",onClick:w=>e.prepareModify(p)},null,8,LN))),128))])]))),128)),s("div",FN,[s("div",BN,[s("span",HN,Y(e.recentImagesTitle),1)]),s("div",zN,[(g(!0),v(Z,null,ue(e.nonfavorites,(h,m)=>(g(),v("img",{key:m,class:"image clickable",src:h,height:"190",onClick:p=>e.prepareModify(h)},null,8,jN))),128)),WN])])],2),s("div",{class:De(["drawcast_footer",{blurred:e.dialog}])},KN,2),e.dialog==="success"?(g(),v("div",JN,[s("div",{class:"dialog-bg",onClick:t[13]||(t[13]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",GN,[s("div",YN,[s("div",{class:"responsive-image",style:rt(e.successImageUrlStyle)},null,4)]),XN,s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,QN),s("div",ZN,[s("div",{class:"button button-ok clickable",onClick:t[14]||(t[14]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Draw another one ")])])])):M("",!0),e.dialog==="replace"?(g(),v("div",qN,[s("div",{class:"dialog-bg",onClick:t[15]||(t[15]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",e7,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,t7),s("div",n7,[s("div",{class:"button button-no-button clickable",onClick:t[16]||(t[16]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[17]||(t[17]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Replace image ")])])])):M("",!0),e.dialog==="confirm-submit"?(g(),v("div",s7,[s("div",{class:"dialog-bg",onClick:t[18]||(t[18]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",o7,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,i7),s("div",a7,[s("div",{class:"button button-no-button clickable",onClick:t[19]||(t[19]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-ok clickable",onClick:t[20]||(t[20]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Send ")])])])):M("",!0),e.dialog==="clear"?(g(),v("div",l7,[s("div",{class:"dialog-bg",onClick:t[21]||(t[21]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",r7,[s("div",u7,[s("div",{class:"responsive-image",style:rt(e.clearImageUrlStyle)},null,4)]),s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,d7),s("div",c7,[s("div",{class:"button button-no-button clickable",onClick:t[22]||(t[22]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[23]||(t[23]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Clear ")])])])):M("",!0)])}var h7=Ne(GU,[["render",f7]]);const m7=xs("MediaQueueElement.vue"),p7=(e,t)=>new Promise(n=>{const o=new Audio(e);o.addEventListener("ended",()=>{n()}),o.volume=Yt.clamp(0,t,1),o.play()}),nd=e=>new Promise(t=>{setTimeout(t,e)}),g7=de({props:{timeBetweenMediaMs:{type:Number,default:400},baseVolume:{type:Number,default:100},displayLatestForever:{type:Boolean,default:!1}},data(){return{queue:[],worker:null,showimage:!1,imgstyle:void 0,videosrc:"",latestResolved:!0}},methods:{async _playone(e){return new Promise(async t=>{this.latestResolved=!1;const n=[];e.video.url&&(this.videosrc=e.video.url,n.push(new Promise(a=>{this.$nextTick(()=>{const l=this.$refs.video,i=e.video.volume/100;l.addEventListener("error",r=>{m7.error({e:r},"error when playing video"),a()}),l.volume=Yt.clamp(0,i,1),l.addEventListener("ended",()=>{a()})})})));let o="";if(e.image_url?o=e.image_url:e.image&&e.image.file&&(o=e.image.urlpath),o&&(await this._prepareImage(o),this.showimage=!0,this.imgstyle={backgroundImage:`url(${o})`}),e.minDurationMs&&n.push(nd(Yt.parseHumanDuration(e.minDurationMs))),e.sound&&e.sound.file){const a=e.sound.urlpath,l=this.baseVolume/100,i=e.sound.volume/100,r=l*i;n.push(p7(a,r))}n.length===0&&n.push(nd(1e3)),Promise.all(n).then(a=>{this.displayLatestForever||(this.showimage=!1),this.latestResolved=!0,this.videosrc="",t()})})},_addQueue(e){if(this.queue.push(e),this.worker)return;const t=async()=>{if(this.queue.length===0){clearInterval(this.worker),this.worker=null;return}const n=this.queue.shift();if(!n){clearInterval(this.worker),this.worker=null;return}await this._playone(n),this.worker=setTimeout(t,this.timeBetweenMediaMs)};this.worker=setTimeout(t,this.timeBetweenMediaMs)},async _prepareImage(e){return new Promise(t=>{const n=new Image;n.src=e,this.$nextTick(()=>{n.complete?t():n.onload=()=>{t()}})})},playmedia(e){!this.displayLatestForever&&this.latestResolved&&(this.showimage=!1),this._addQueue(e)}}}),v7=g7,y7={key:0,class:"video-container"},b7={class:"video-16-9"},$7=["src"];function w7(e,t,n,o,a,l){return g(),v(Z,null,[s("div",{style:rt(e.imgstyle),class:De(["image-container",{"m-fadeIn":e.showimage,"m-fadeOut":!e.showimage}])},null,6),e.videosrc?(g(),v("div",y7,[s("div",b7,[s("video",{ref:"video",src:e.videosrc,autoplay:""},null,8,$7)])])):M("",!0)],64)}var Ha=Ne(v7,[["render",w7],["__scopeId","data-v-1fdc604f"]]);const _7=de({components:{MediaQueueElement:Ha},props:{wdata:{type:Object,required:!0}},data(){return{inited:!1,ws:null,notificationSoundAudio:null,manualApproval:{items:[]}}},created(){Fn(()=>Promise.resolve({}),["assets/main.6b6e9440.css"])},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("init",async e=>{const n=await(await ft.getDrawcastAllImages()).json();e.settings.notificationSound&&(this.notificationSoundAudio=new Audio(e.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=e.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(o=>!o.approved).map(o=>o.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),C7={class:"p-2"},S7=s("h1",{class:"title"}," Drawings awaiting approval ",-1),E7={key:0},k7={class:"card-body"},T7=["src"],I7={class:"card-footer"},V7=["onClick"],A7=["onClick"],D7={key:1};function O7(e,t,n,o,a,l){return g(),v("div",C7,[S7,e.manualApproval.items.length?(g(),v("div",E7,[(g(!0),v(Z,null,ue(e.manualApproval.items,(i,r)=>(g(),v("div",{key:r,class:"image-to-approve card mr-1"},[s("div",k7,[s("img",{src:i,class:"thumbnail mr-1"},null,8,T7)]),s("div",I7,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:u=>e.approveImage(i)}," Approve! ",8,V7),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:u=>e.denyImage(i)}," Deny! ",8,A7)])]))),128))])):(g(),v("div",D7," Currently there are no drawings awaiting approval. "))])}var R7=Ne(_7,[["render",O7]]);const P7=de({components:{MediaQueueElement:Ha},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,displayDuration:5e3,displayLatestForever:!1,notificationSound:null,images:[]}},computed:{q(){return this.$refs.q}},created(){Fn(()=>Promise.resolve({}),["assets/main.b31286b1.css"])},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.displayLatestForever=e.settings.displayLatestForever,this.notificationSound=e.settings.notificationSound,this.images=e.images.map(t=>t.path),e.settings.displayLatestAutomatically&&this.images.length>0&&this.q.playmedia(go({image_url:this.images[0],minDurationMs:this.displayDuration}))}),this.ws.onMessage("approved_image_received",e=>{this.images.unshift(e.img),this.images=this.images.slice(0,20),this.q.playmedia(go({sound:e.mayNotify?this.notificationSound:null,image_url:e.img,minDurationMs:this.displayDuration}))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function M7(e,t,n,o,a,l){const i=N("media-queue-element");return g(),Ae(i,{ref:"q","time-between-media-ms":500,"display-latest-forever":e.displayLatestForever},null,8,["display-latest-forever"])}var U7=Ne(P7,[["render",M7]]);const N7=de({components:{MediaQueueElement:Ha},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,settings:yr(),widgetId:""}},computed:{q(){return this.$refs.q}},created(){Fn(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),this.widgetId=Sn.getParam("id")},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings}),this.ws.onMessage("playmedia",e=>{!this.widgetId&&e.widgetIds.length>0&&!e.widgetIds.includes("")||this.widgetId&&!e.widgetIds.includes(this.widgetId)||this.q.playmedia(go(e))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function L7(e,t,n,o,a,l){const i=N("media-queue-element");return g(),Ae(i,{ref:"q","base-volume":e.settings.volume},null,8,["base-volume"])}var F7=Ne(N7,[["render",L7]]);const B7={class:"emote-wall"},H7=["src"],z7=de({__name:"Page",props:{wdata:null},setup(e){const t=e;Fn(()=>Promise.resolve({}),["assets/main.d3550ad8.css"]);let n=null;const o=ve(yr()),a=ve([]),l=Ye(()=>a.value.filter(q=>q.active)),i=64,r=window.requestAnimationFrame,u=()=>{for(const q of a.value)q.update();a.value=a.value.filter(q=>!q.dead),r(u)};r(u);const d=(q,ge,me,P,X)=>{const x=3*(me.x-ge.x),se=3*(P.x-me.x)-x,H=X.x-ge.x-x-se,re=3*(me.y-ge.y),ye=3*(P.y-me.y)-re,Se=X.y-ge.y-re-ye,C=H*Math.pow(q,3)+se*Math.pow(q,2)+x*q+ge.x,k=Se*Math.pow(q,3)+ye*Math.pow(q,2)+re*q+ge.y;return{x:C,y:k}},c=q=>-(Math.cos(Math.PI*q)-1)/2,f=-1,h=1,m=-1,p=1,y=-1,w=1,$=()=>Wt(0,window.innerWidth),b=()=>window.innerWidth/2,S=()=>window.innerHeight/2,_=()=>Wt(0,window.innerHeight),I=()=>window.innerHeight,E=()=>window.innerWidth,U=q=>q.x+q.w<=0,R=q=>q.x>window.innerWidth,O=q=>q.y+q.h<=0,z=q=>q.y>window.innerHeight,K=q=>U(q)||R(q)||O(q)||z(q),J=q=>q.y<=0,W=q=>q.y+q.h>=I(),F=q=>{const ge={x:$(),y:_()},me={x:$(),y:_()},P={x:$(),y:_()},X={x:$(),y:_()},x=Wt(0,50);let se=0,H=0;const re=i,ye=q.height*re/q.width;return{url:q.src,x:-re,y:-ye,w:re,h:ye,rot:0,active:!0,dead:!1,update:function(){if(se++,se<x)return;this.active=!0,H+=.005;const Se=d(c(H),ge,me,P,X);this.x=Se.x,this.y=Se.y,this.w=c(H)*re,this.h=c(H)*ye,H>=2&&(this.dead=!0,console.log("bezier dead"))}}},be=q=>{const ge=Wn(["right","left"]),me=vn(2,4)*(ge==="right"?f:h);let P=-10;const X=.1,x=.7,se=Wt(0,50);let H=0;const re=i,ye=q.height*re/q.width;return{url:q.src,x:(ge==="right"?E():0)-re/2,y:_()-ye/2,w:re,h:ye,rot:0,active:!1,dead:!1,update:function(){H++,!(H<se)&&(this.active=!0,this.x+=me,this.y+=P,P+=X,(U(this)||R(this))&&(this.dead=!0,console.log("bouncy dead")),J(this)&&(this.y=0,P=5),W(this)&&(this.y=I()-this.h,P*=-x))}}},Q=q=>{let ge=vn(4,8);const me=ge,P=Wt(-20,20),X=.1+P/50,x=Wt(0,50);let se=0;const H=i+P,re=q.height*H/q.width;return{url:q.src,x:$()-H/2,y:0-re/2,w:H,h:re,rot:0,active:!1,dead:!1,update:function(){se++,!(se<x)&&(this.active=!0,this.y+=ge,ge+=X,ge=Math.max(me,ge),z(this)&&(this.dead=!0,console.log("rain dead")))}}},ce=q=>{const ge=Wt(-10,10),me=-5+ge/5,P=me/2;let X=0,x=me;const se=Wt(0,50);let H=0;const re=i+ge,ye=q.height*re/q.width;return{url:q.src,x:$()-re/2,y:I()-ye/2,w:re,h:ye,rot:0,active:!1,dead:!1,update:function(){H++,!(H<se)&&(this.active=!0,this.y+=x,this.x+=X,H%20===0&&vn(0,1)<.4&&(X===0?(X=Wt(-1,1),x=Math.min(P,x)):(X=0,x+=.1)),O(this)&&(this.dead=!0,console.log("balloon dead")))}}},Ce=q=>{const ge=vn(.5,2)*Wn([f,h]),me=vn(.5,2)*Wn([m,p]),P=vn(1,3)*Wn([y,w]),X=Wt(0,50);let x=0;const se=i,H=q.height*se/q.width;return{url:q.src,x:b()-se/2,y:S()-H/2,w:se,h:H,rot:0,active:!1,dead:!1,update:function(){x++,!(x<X)&&(this.active=!0,this.rot+=P,this.x+=ge,this.y+=me,K(this)&&(this.dead=!0,console.log("floating space dead")))}}},ze=q=>{const ge=vn(.5,4)*Wn([f,h]),me=vn(.5,4)*Wn([m,p]),P=Wt(0,50);let X=0;const x=i,se=q.height*x/q.width;return{url:q.src,x:b()-x/2,y:S()-se/2,w:x,h:se,rot:0,active:!1,dead:!1,update:function(){X++,!(X<P)&&(this.active=!0,this.x+=ge,this.y+=me,K(this)&&(this.dead=!0,console.log("explode dead")))}}},at=q=>{const ge=vn(.5,4)*Wn([f,h]);let me=vn(-15,-10);const P=.1,X=.7,x=Wt(0,50);let se=0;const H=i,re=q.height*H/q.width;return{url:q.src,x:b()-H/2,y:I()-re,w:H,h:re,rot:0,active:!1,dead:!1,update:function(){se++,!(se<x)&&(this.active=!0,this.x+=ge,this.y+=me,me+=P,(U(this)||R(this))&&(this.dead=!0,console.log("fountain dead")),J(this)&&(this.y=0,me=-me),W(this)&&(this.y=I()-this.h,me*=-X))}}},We=async q=>new Promise(ge=>{const me=new Image;me.onload=()=>{ge(me)},me.src=q});return Nt(()=>{n=Sn.wsClient(t.wdata),n.onMessage("init",q=>{o.value=q.settings}),n.onMessage("emotes",async q=>{const ge=Wn(q.displayFn);let me;switch(ge.fn){case Ot.BALLOON:me=ce;break;case Ot.BOUNCY:me=be;break;case Ot.EXPLODE:me=ze;break;case Ot.FLOATING_SPACE:me=Ce;break;case Ot.FOUNTAIN:me=at;break;case Ot.RAIN:me=Q;break;case Ot.RANDOM_BEZIER:me=F;break;default:return}for(const P of q.emotes){const X=await We(P.url);a.value.push(me(X,ge.args))}}),n.connect()}),Bn(()=>{n&&n.disconnect()}),(q,ge)=>(g(),v("div",B7,[(g(!0),v(Z,null,ue(Xe(l),(me,P)=>(g(),v("img",{key:P,src:me.url,class:"emote",style:rt({top:`${me.y}px`,left:`${me.x}px`,width:me.w+"px",height:me.h+"px",transform:`rotate(${me.rot}deg)`})},null,12,H7))),128))]))}}),j7=de({components:{MediaQueueElement:Ha},props:{wdata:{type:Object,required:!0}},data:()=>({ws:null,data:null,timeout:null,now:null}),computed:{showTimerWhenFinished(){return this.data?!!this.data.settings.showTimerWhenFinished:!1},finishedText(){return this.data?this.data.settings.finishedText:""},finishined(){return this.timeLeft<=0},running(){return this.data?!!this.data.state.running:!1},timeLeftHumanReadable(){if(!this.data)return"";const e=Math.max(this.timeLeft,0),n=1e3*1,o=60*n,a=60*o,l=Yt.pad(Math.floor(e/a),"00"),i=Yt.pad(Math.floor(e%a/o),"00"),r=Yt.pad(Math.floor(e%a%o/n),"00");let u=this.data.settings.timerFormat;return u=u.replace("{hh}",l),u=u.replace("{mm}",i),u=u.replace("{ss}",r),u},timeLeft(){return!this.dateEnd||!this.now?0:this.dateEnd.getTime()-this.now.getTime()},dateEnd(){return!this.dateStarted||!this.data?null:new Date(this.dateStarted.getTime()+this.data.state.durationMs)},dateStarted(){return this.data?new Date(JSON.parse(this.data.state.startTs)):null},widgetStyles(){return this.data?{fontFamily:this.data.settings.fontFamily,fontSize:this.data.settings.fontSize,color:this.data.settings.color}:null},q(){return this.$refs.q}},created(){Fn(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"])},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.data=e,this.tick()}),this.ws.onMessage("effect",e=>{this.q.playmedia(go({sound:e.sound,minDurationMs:0}))}),this.ws.connect()},unmounted(){this.timeout&&clearTimeout(this.timeout),this.ws&&this.ws.disconnect()},methods:{tick(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.now=new Date,this.data&&this.data.state.running&&this.tick()},1e3)}}}),W7={key:0},x7={key:1},K7={key:0},J7={key:1};function G7(e,t,n,o,a,l){const i=N("media-queue-element");return g(),v(Z,null,[e.running?(g(),v("div",{key:0,style:rt(e.widgetStyles)},[e.finishined?(g(),v("div",x7,[e.showTimerWhenFinished?(g(),v("span",K7,Y(e.timeLeftHumanReadable),1)):M("",!0),e.finishedText?(g(),v("span",J7,Y(e.finishedText),1)):M("",!0)])):(g(),v("div",W7,Y(e.timeLeftHumanReadable),1))],4)):M("",!0),T(i,{ref:"q","time-between-media-ms":100},null,512)],64)}var Y7=Ne(j7,[["render",G7]]);const dn=xs("speech-to-text/Page.vue"),X7=de({props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data:()=>({ws:null,status:"",errors:[],initedSpeech:!1,lastUtterance:"",recognition:{interimResults:!1,continuous:!0},texts:[],timeout:null,settings:null,srObj:null}),computed:{recognizedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].recognized},translatedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].translated},lastRecognizedText(){return this.texts.length===0?"":this.texts[this.texts.length-1].recognized},wantsSpeech(){return this.settings?this.settings.recognition.synthesize||this.settings.translation.synthesize:!1},textTable(){return this.$refs.text_table}},created(){Fn(()=>Promise.resolve({}),["assets/main.789973a0.css"])},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage("text",e=>{this.texts.push({recognized:e.recognized,translated:e.translated,ready:!0}),this._next()}),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles(),this.initVoiceRecognition()})}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{initSpeech(){dn.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),this.initedSpeech=!0},_next(){if(this.timeout){dn.info("_next(): timeout still active");return}if(!this.recognizedText&&!this.translatedText){dn.info("_next(): recognizedText and translatedText empty");return}if(!this.settings){dn.info("_next(): settings empty");return}this.recognizedText&&this.settings.recognition.synthesize&&(dn.info("synthesizing recognized text"),this.synthesize(this.recognizedText,this.settings.recognition.synthesizeLang)),this.translatedText&&this.settings.translation.synthesize&&(dn.info("synthesizing translated text"),this.synthesize(this.translatedText,this.settings.translation.synthesizeLang)),this.timeout=setTimeout(()=>{this.texts.shift(),this.timeout=null,this._next()},this.calculateSubtitleDisplayTime(`${this.recognizedText} ${this.translatedText}`))},calculateSubtitleDisplayTime(e){const t=_y(e);return bf(2*Bs,t,10*Bs)},synthesize(e,t){if(dn.info({lastUtterance:this.lastUtterance,text:e,lang:t},"synthesize"),this.lastUtterance!==e){dn.info({speechSynthesis},"speechSynthesis"),this.lastUtterance=e;let n=new SpeechSynthesisUtterance(`${this.lastUtterance}`);t&&(n.lang=t),speechSynthesis.cancel(),speechSynthesis.speak(n)}},applyStyles(){if(!this.settings){dn.info("applyStyles(): settings empty");return}const e=this.settings.styles,t=e.bgColorEnabled&&e.bgColor!=null?e.bgColor:"";document.body.style.backgroundColor=t,e.vAlign==="top"?this.textTable.style.bottom=null:e.vAlign==="bottom"&&(this.textTable.style.bottom="0px");const n=(o,a,l,i,r)=>{if(i.color!=null&&(a.style.color=i.color),o.style.webkitTextStrokeColor=r,i.strokeWidth!=null){const u=Rl(i.strokeWidth);o.style.webkitTextStrokeWidth=u,l.style.webkitTextStrokeWidth=u}if(i.strokeColor!=null&&(l.style.webkitTextStrokeColor=i.strokeColor),i.fontFamily!=null&&(o.style.fontFamily=i.fontFamily,a.style.fontFamily=i.fontFamily,l.style.fontFamily=i.fontFamily),i.fontSize!=null){const u=Rl(i.fontSize);o.style.fontSize=u,a.style.fontSize=u,l.style.fontSize=u}i.fontWeight!=null&&(o.style.fontWeight=i.fontWeight,a.style.fontWeight=i.fontWeight,l.style.fontWeight=i.fontWeight)};this.settings.recognition.display&&n(this.$refs["speech_text-imb"],this.$refs["speech_text-fg"],this.$refs["speech_text-bg"],e.recognition,t),this.settings.translation.enabled&&n(this.$refs["trans_text-imb"],this.$refs["trans_text-fg"],this.$refs["trans_text-bg"],e.translation,t)},initVoiceRecognition(){if(!this.controls)return;if(!this.settings){dn.info("initVoiceRecognition(): settings empty");return}const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){alert("This widget does not work in this browser. Try a chrome based browser.");return}this.srObj&&(this.srObj.abort(),this.srObj.stop()),this.srObj=new e,this.srObj.lang=this.settings.recognition.lang,this.srObj.interimResults=this.recognition.interimResults,this.srObj.continuous=this.recognition.continuous,this.srObj.onsoundstart=()=>{this.status="Sound started"},this.srObj.onnomatch=()=>{this.status="No match"},this.srObj.onerror=t=>{this.status="Error",this.errors.unshift(t.error),this.errors=this.errors.slice(0,10),this.initVoiceRecognition()},this.srObj.onsoundend=()=>{this.status="Sound ended",this.initVoiceRecognition()},this.srObj.onspeechend=()=>{this.status="Speech ended",this.initVoiceRecognition()},this.srObj.onresult=async t=>{this.onVoiceResult(t),this.initVoiceRecognition()},this.srObj.start()},onVoiceResult(e){if(!this.ws){dn.error("onVoiceResult: this.ws not set");return}let t=e.results;dn.info({evt:e},"onVoiceResult()");for(var n=e.resultIndex;n<t.length;n++){if(!t[n].isFinal)continue;const o=t[n][0].transcript;if(this.lastRecognizedText!==o){this.ws.send(JSON.stringify({event:"onVoiceResult",text:o}));break}}}}}),Q7={key:0,ref:"result_text",class:"big"},Z7={key:0},q7={key:0},e9=s("div",null,"Latest errors:",-1),t9={ref:"text_table",class:"btm_table"},n9={align:"center",valign:"bottom"};function s9(e,t,n,o,a,l){return e.settings?(g(),v("div",Q7,[e.settings.status.enabled?(g(),v("div",Z7,[V(Y(e.status)+" ",1),e.errors.length>0?(g(),v("div",q7,[e9,s("ul",null,[(g(!0),v(Z,null,ue(e.errors,(i,r)=>(g(),v("li",{key:r},Y(i),1))),128))])])):M("",!0)])):M("",!0),e.controls&&e.wantsSpeech&&!e.initedSpeech?(g(),v("button",{key:1,onClick:t[0]||(t[0]=(...i)=>e.initSpeech&&e.initSpeech(...i))}," Enable Speech Synthesis ")):M("",!0),s("table",t9,[s("tr",null,[s("td",n9,[e.settings.recognition.display?(g(),v("div",{key:0,ref:"speech_text-bg",class:"stroke-single-bg"},Y(e.recognizedText),513)):M("",!0),e.settings.recognition.display?(g(),v("div",{key:1,ref:"speech_text-fg",class:"stroke-single-fg"},Y(e.recognizedText),513)):M("",!0),e.settings.recognition.display?(g(),v("div",{key:2,ref:"speech_text-imb",class:"stroke-single-imb"},Y(e.recognizedText),513)):M("",!0),e.settings.translation.enabled?(g(),v("div",{key:3,ref:"trans_text-bg",class:"stroke-single-bg"},Y(e.translatedText),513)):M("",!0),e.settings.translation.enabled?(g(),v("div",{key:4,ref:"trans_text-fg",class:"stroke-single-fg"},Y(e.translatedText),513)):M("",!0),e.settings.translation.enabled?(g(),v("div",{key:5,ref:"trans_text-imb",class:"stroke-single-imb"},Y(e.translatedText),513)):M("",!0)])])],512)],512)):M("",!0)}var o9=Ne(X7,[["render",s9]]);const i9=de({props:{item:{type:Object,required:!0},showThumbnails:{required:!0}},computed:{thumbnail(){return`https://i.ytimg.com/vi/${this.item.yt}/mqdefault.jpg`}}}),a9=["data-user","data-yt"],l9={key:0,class:"thumbnail"},r9={class:"media-16-9"},u9=["src"],d9={class:"title"},c9={class:"title-content title-orig"},f9={class:"title-content title-dupl"},h9={class:"meta meta-left"},m9={class:"meta-user"},p9=s("span",{class:"meta-user-text-before"},"requested by ",-1),g9={class:"meta-user-name"},v9=s("span",{class:"meta-user-text-after"},null,-1),y9={class:"meta-plays"},b9=s("span",{class:"meta-plays-text-before"},"played ",-1),$9={class:"meta-plays-count"},w9={class:"meta-plays-text-after"},_9={class:"meta meta-right vote"},C9={class:"meta-plays"},S9=s("i",{class:"fa fa-repeat"},null,-1),E9={class:"vote-up"},k9=s("i",{class:"fa fa-thumbs-up"},null,-1),T9={class:"vote-down"},I9=s("i",{class:"fa fa-thumbs-down"},null,-1);function V9(e,t,n,o,a,l){return g(),v("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(g(),v("div",l9,[s("div",r9,[s("img",{src:e.thumbnail},null,8,u9)])])):M("",!0),s("div",d9,[s("span",c9,Y(e.item.title||e.item.yt),1),s("span",f9,Y(e.item.title||e.item.yt),1)]),s("div",h9,[s("span",m9,[p9,s("span",g9,Y(e.item.user),1),v9]),s("span",y9,[b9,s("span",$9,Y(e.item.plays),1),s("span",w9," time"+Y(e.item.plays===1?"":"s"),1)])]),s("div",_9,[s("span",C9,[S9,V(" "+Y(e.item.plays),1)]),s("span",E9,[k9,V(" "+Y(e.item.goods),1)]),s("span",T9,[I9,V(" "+Y(e.item.bads),1)])])],8,a9)}var A9=Ne(i9,[["render",V9]]);const D9=xs("Page.vue"),O9=de({components:{ResponsiveImage:xf,Youtube:Kf,ListItem:A9},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,filter:{tag:""},hasPlayed:!1,playlist:[],settings:wr(),progress:0,progressInterval:null,inited:!1}},computed:{thumbnailClass(){return this.settings.showThumbnails==="left"?"with-thumbnails-left":this.settings.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"},progressBarClass(){return this.settings.showProgressBar?"with-progress-bar":"without-progress-bar"},classes(){return[this.thumbnailClass,this.progressBarClass]},player(){return this.$refs.youtube},progressValueStyle(){return{width:`${this.progress*100}%`}},playlistItems(){const e=[];for(let t=0;t<this.playlist.length;t++){const n=this.playlist[t];this.isFilteredOut(n,t)||(e[t]=n)}return e},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},hidevideo(){return this.item?!!this.item.hidevideo:!1},item(){return this.filteredPlaylist.length===0?null:this.filteredPlaylist[0]}},watch:{playlist:function(e,t){e.find((n,o)=>!this.isFilteredOut(n,o))||this.player.stop()},filter:function(e,t){this.playlist.find((n,o)=>!this.isFilteredOut(n,o))||this.player.stop()}},created(){Fn(()=>Promise.resolve({}),["assets/main.ab84735b.css"])},mounted(){this.ws=Sn.wsClient(this.wdata),this.ws.onMessage(["save","settings"],e=>{this.applySettings(e.settings)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const n=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==n&&this.play()}),this.ws.onMessage(["filter"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(n=>n.id===t)||this.play()}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||(this.hasPlayed?this.unpause():this.play())}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["stats","video","playIdx","shuffle"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.settings.initAutoplay&&this.play(),this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{isFilteredOut(e,t){return this.settings.maxItemsShown>=0&&this.settings.maxItemsShown-1<t?!0:this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},ended(){this.sendMsg({event:"ended"})},sendMsg(e){if(!this.ws){D9.error("sendMsg, ws not defined");return}this.ws.send(JSON.stringify(e))},play(){this.hasPlayed=!0,this.adjustVolume(),this.item&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.item&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.item&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(){this.player&&this.player.setVolume(this.settings.volume)},applySettings(e){if(this.settings.customCss!==e.customCss){let t=document.getElementById("customCss");t&&t.parentElement&&t.parentElement.removeChild(t),t=document.createElement("style"),t.id="customCss",t.textContent=e.customCss,document.head.appendChild(t)}this.settings.showProgressBar!==e.showProgressBar&&(this.progressInterval&&window.clearInterval(this.progressInterval),e.showProgressBar&&(this.progressInterval=window.setInterval(()=>{this.player&&(this.progress=this.player.getProgress())},500))),this.settings=e,this.adjustVolume()}}}),R9={class:"player video-16-9"},P9={key:1,class:"hide-video"},M9={key:2,class:"progress"},U9={class:"list"};function N9(e,t,n,o,a,l){const i=N("responsive-image"),r=N("youtube-player"),u=N("list-item");return g(),v("div",{class:De(["wrapper",e.classes])},[s("div",R9,[e.hidevideo&&e.settings.hideVideoImage.file?(g(),Ae(i,{key:0,class:"hide-video",src:e.settings.hideVideoImage.urlpath},null,8,["src"])):e.hidevideo?(g(),v("div",P9)):M("",!0),e.settings.showProgressBar?(g(),v("div",M9,[s("div",{class:"progress-value",style:rt(e.progressValueStyle)},null,4)])):M("",!0),T(r,{ref:"youtube",onEnded:e.ended},null,8,["onEnded"])]),s("ol",U9,[(g(!0),v(Z,null,ue(e.playlistItems,(d,c)=>(g(),Ae(u,{key:c,class:De(c===0?"playing":"not-playing"),item:d,"show-thumbnails":e.settings.showThumbnails},null,8,["class","item","show-thumbnails"]))),128))])],2)}var L9=Ne(O9,[["render",N9]]);const F9=de({components:{AvatarPage:uU,DrawcastDrawPage:h7,DrawcastControlPage:R7,DrawcastReceivePage:U7,MediaPage:F7,EmoteWallPage:z7,PomoPage:Y7,SpeechToTextPage:o9,SrPage:L9},data:()=>({data:null,error:""}),computed:{widget(){return this.data?this.data.widget:null}},async created(){this.error="";const e=this.$route.name==="pub"?await ft.getPubData(`${this.$route.params.pub_id}`):await ft.getWidgetData(`${this.$route.params.widget_type}`,`${this.$route.params.widget_token}`);if(e.status!==200){this.error="Widget not found...";return}const t=await e.json();document.title=t.title,this.data=t}}),B9={key:11},H9={key:12};function z9(e,t,n,o,a,l){const i=N("avatar-page"),r=N("drawcast-draw-page"),u=N("drawcast-control-page"),d=N("drawcast-receive-page"),c=N("media-page"),f=N("emote-wall-page"),h=N("pomo-page"),m=N("speech-to-text-page"),p=N("sr-page");return e.widget==="avatar"?(g(),Ae(i,{key:0,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="avatar_receive"?(g(),Ae(i,{key:1,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="drawcast_draw"?(g(),Ae(r,{key:2,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_control"?(g(),Ae(u,{key:3,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_receive"?(g(),Ae(d,{key:4,wdata:e.data},null,8,["wdata"])):e.widget==="media"?(g(),Ae(c,{key:5,wdata:e.data},null,8,["wdata"])):e.widget==="emote_wall"?(g(),Ae(f,{key:6,wdata:e.data},null,8,["wdata"])):e.widget==="pomo"?(g(),Ae(h,{key:7,wdata:e.data},null,8,["wdata"])):e.widget==="speech-to-text"?(g(),Ae(m,{key:8,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="speech-to-text_receive"?(g(),Ae(m,{key:9,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="sr"?(g(),Ae(p,{key:10,wdata:e.data},null,8,["wdata"])):e.error?(g(),v("div",H9,Y(e.error),1)):(g(),v("div",B9," Loading... "))}var sd=Ne(F9,[["render",z9]]);const j9=async()=>{const e=cv({history:Tg(),routes:[{name:"index",path:"/",component:aC,meta:{title:"Hyottoko.club",protected:!0}},{name:"login",path:"/login",component:_C,meta:{title:"Login",protected:!1}},{name:"register",path:"/register",component:l2,meta:{title:"Register",protected:!1}},{name:"password-reset",path:"/password-reset",component:NC,meta:{title:"Password Reset",protected:!1}},{name:"forgot-password",path:"/forgot-password",component:X_,meta:{title:"Forgot Password",protected:!1}},{name:"commands",path:"/commands/",component:sw,meta:{title:"Commands",protected:!0}},{name:"variables",path:"/variables/",component:rI,meta:{title:"Variables",protected:!0}},{name:"sr",path:"/sr/",component:HE,meta:{title:"Song Request",protected:!0}},{name:"speech-to-text",path:"/speech-to-text/",component:XT,meta:{title:"Speech to text",protected:!0}},{name:"avatar",path:"/avatar/",component:gb,meta:{title:"Avatar",protected:!0}},{name:"pomo",path:"/pomo/",component:TS,meta:{title:"Pomo",protected:!0}},{name:"drawcast",path:"/drawcast/",component:P_,meta:{title:"Drawcast",protected:!0}},{name:"settings",path:"/settings/",component:X2,meta:{title:"Settings",protected:!0}},{name:"widget",path:"/widget/:widget_type/:widget_token/",component:sd,meta:{title:"Widget",protected:!1}},{name:"pub",path:"/pub/:pub_id/",component:sd,meta:{title:"Pub",protected:!1}}]});let t=!1;e.beforeEach(async(o,a,l)=>{if(o.name==="widget"||o.name==="pub"){l();return}if(t||(Fn(()=>Promise.resolve({}),["assets/style.5660b429.css"]),cn.eventBus.on("login",()=>{Gu.init()}),cn.eventBus.on("logout",()=>{Gu.stop()}),cn.eventBus.on("darkmode",i=>{i?document.documentElement.classList.add("darkmode"):document.documentElement.classList.remove("darkmode")}),await Wf.init(),await Cf.init(),await cn.init(),t=!0),o.meta.protected&&!cn.getMe()){l({name:"login"});return}if(!o.meta.protected&&cn.getMe()){l({name:"index"});return}a.name&&document.documentElement.classList.remove(`view-${String(a.name)}`),document.documentElement.classList.add(`view-${String(o.name)}`),document.title=`${o.meta.title}`,l()});const n=mr(cy);n.use(e),n.use(ry,{}),n.component("GlobalUserInfo",v4),n.component("DoubleclickButton",Vf),n.component("DropdownButton",s4),n.component("DropdownInput",u4),n.component("CheckboxInput",$i),n.component("VueDraggable",YI),n.component("DurationInput",h4),n.component("DurationDisplay",f4),n.component("MacroSelect",O4),n.component("NavbarElement",Q4),n.component("AudioPlayer",Z4),n.component("ProblemsDialog",d3),n.component("ResponsiveImage",xf),n.component("SliderInput",$3),n.component("UploadInput",M3),n.component("ImageUpload",E4),n.component("SoundUpload",I3),n.component("VolumeSlider",U3),n.component("YoutubePlayer",Kf),n.component("MediaCommandEditor",gV),n.component("TextCommandEditor",mA),n.component("DictLookupCommandEditor",uD),n.component("MadochanCreatewordCommandEditor",nO),n.component("CountdownEditor",xO),n.component("TriggerEditor",rR),n.component("TriggerInfo",AR),n.component("PlaylistEditor",CP),n.component("TagsEditor",E6),n.component("SongRequestSettings",v6),n.component("AvatarEditor",Z6),n.component("AvatarSlotDefinitionEditor",cM),n.component("AvatarSlotItemEditor",TM),n.component("AvatarPreview",IM),n.component("AvatarSlotItemStateEditor",UM),n.component("AvatarFrameUpload",zM),n.component("AvatarAnimation",Jf),n.mount("#app")};j9();
