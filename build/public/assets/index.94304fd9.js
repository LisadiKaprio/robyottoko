const Wf=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}};Wf();const xf="modulepreload",Cr={},Kf="/",Vn=function(t,n){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=`${Kf}${i}`,i in Cr)return;Cr[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${l}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":xf,a||(o.as="script",o.crossOrigin=""),o.href=i,document.head.appendChild(o),a)return new Promise((r,u)=>{o.addEventListener("load",r),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};function ca(e,t){const n=Object.create(null),i=e.split(",");for(let a=0;a<i.length;a++)n[i[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const Jf="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Gf=ca(Jf),Yf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xf=ca(Yf);function td(e){return!!e||e===""}function at(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],a=yt(i)?qf(i):at(i);if(a)for(const l in a)t[l]=a[l]}return t}else{if(yt(e))return e;if(ut(e))return e}}const Qf=/;(?![^(]*\))/g,Zf=/:(.+)/;function qf(e){const t={};return e.split(Qf).forEach(n=>{if(n){const i=n.split(Zf);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Se(e){let t="";if(yt(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const i=Se(e[n]);i&&(t+=i+" ")}else if(ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function eh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!yt(t)&&(e.class=Se(t)),n&&(e.style=at(n)),e}function th(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=ds(e[i],t[i]);return n}function ds(e,t){if(e===t)return!0;let n=_r(e),i=_r(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Gi(e),i=Gi(t),n||i)return e===t;if(n=ye(e),i=ye(t),n||i)return n&&i?th(e,t):!1;if(n=ut(e),i=ut(t),n||i){if(!n||!i)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const o in e){const r=e.hasOwnProperty(o),u=t.hasOwnProperty(o);if(r&&!u||!r&&u||!ds(e[o],t[o]))return!1}}return String(e)===String(t)}function fa(e,t){return e.findIndex(n=>ds(n,t))}const Y=e=>yt(e)?e:e==null?"":ye(e)||ut(e)&&(e.toString===sd||!Re(e.toString))?JSON.stringify(e,nd,2):String(e),nd=(e,t)=>t&&t.__v_isRef?nd(e,t.value):ei(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,a])=>(n[`${i} =>`]=a,n),{})}:Fs(t)?{[`Set(${t.size})`]:[...t.values()]}:ut(t)&&!ye(t)&&!id(t)?String(t):t,st={},qs=[],bn=()=>{},nh=()=>!1,sh=/^on[^a-z]/,ao=e=>sh.test(e),Fl=e=>e.startsWith("onUpdate:"),St=Object.assign,Bl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ih=Object.prototype.hasOwnProperty,Ge=(e,t)=>ih.call(e,t),ye=Array.isArray,ei=e=>lo(e)==="[object Map]",Fs=e=>lo(e)==="[object Set]",_r=e=>lo(e)==="[object Date]",Re=e=>typeof e=="function",yt=e=>typeof e=="string",Gi=e=>typeof e=="symbol",ut=e=>e!==null&&typeof e=="object",Hl=e=>ut(e)&&Re(e.then)&&Re(e.catch),sd=Object.prototype.toString,lo=e=>sd.call(e),oh=e=>lo(e).slice(8,-1),id=e=>lo(e)==="[object Object]",zl=e=>yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vi=ca(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ha=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ah=/-(\w)/g,on=ha(e=>e.replace(ah,(t,n)=>n?n.toUpperCase():"")),lh=/\B([A-Z])/g,In=ha(e=>e.replace(lh,"-$1").toLowerCase()),ro=ha(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mi=ha(e=>e?`on${ro(e)}`:""),oi=(e,t)=>!Object.is(e,t),ti=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Jo=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Er;const rh=()=>Er||(Er=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let qt;class jl{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&qt&&(this.parent=qt,this.index=(qt.scopes||(qt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=qt;try{return qt=this,t()}finally{qt=n}}}on(){qt=this}off(){qt=this.parent}stop(t){if(this.active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function uh(e){return new jl(e)}function od(e,t=qt){t&&t.active&&t.effects.push(e)}function dh(){return qt}function ch(e){qt&&qt.cleanups.push(e)}const Wl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ad=e=>(e.w&fs)>0,ld=e=>(e.n&fs)>0,fh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fs},hh=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const a=t[i];ad(a)&&!ld(a)?a.delete(e):t[n++]=a,a.w&=~fs,a.n&=~fs}t.length=n}},rl=new WeakMap;let ki=0,fs=1;const ul=30;let vn;const Ds=Symbol(""),dl=Symbol("");class uo{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,od(this,i)}run(){if(!this.active)return this.fn();let t=vn,n=ls;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=vn,vn=this,ls=!0,fs=1<<++ki,ki<=ul?fh(this):kr(this),this.fn()}finally{ki<=ul&&hh(this),fs=1<<--ki,vn=this.parent,ls=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){vn===this?this.deferStop=!0:this.active&&(kr(this),this.onStop&&this.onStop(),this.active=!1)}}function kr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function mh(e,t){e.effect&&(e=e.effect.fn);const n=new uo(e);t&&(St(n,t),t.scope&&od(n,t.scope)),(!t||!t.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function ph(e){e.effect.stop()}let ls=!0;const rd=[];function Bs(){rd.push(ls),ls=!1}function Hs(){const e=rd.pop();ls=e===void 0?!0:e}function an(e,t,n){if(ls&&vn){let i=rl.get(e);i||rl.set(e,i=new Map);let a=i.get(n);a||i.set(n,a=Wl()),ud(a)}}function ud(e,t){let n=!1;ki<=ul?ld(e)||(e.n|=fs,n=!ad(e)):n=!e.has(vn),n&&(e.add(vn),vn.deps.push(e))}function jn(e,t,n,i,a,l){const o=rl.get(e);if(!o)return;let r=[];if(t==="clear")r=[...o.values()];else if(n==="length"&&ye(e))o.forEach((u,d)=>{(d==="length"||d>=i)&&r.push(u)});else switch(n!==void 0&&r.push(o.get(n)),t){case"add":ye(e)?zl(n)&&r.push(o.get("length")):(r.push(o.get(Ds)),ei(e)&&r.push(o.get(dl)));break;case"delete":ye(e)||(r.push(o.get(Ds)),ei(e)&&r.push(o.get(dl)));break;case"set":ei(e)&&r.push(o.get(Ds));break}if(r.length===1)r[0]&&cl(r[0]);else{const u=[];for(const d of r)d&&u.push(...d);cl(Wl(u))}}function cl(e,t){const n=ye(e)?e:[...e];for(const i of n)i.computed&&Tr(i);for(const i of n)i.computed||Tr(i)}function Tr(e,t){(e!==vn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const gh=ca("__proto__,__v_isRef,__isVue"),dd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gi)),vh=ma(),yh=ma(!1,!0),bh=ma(!0),wh=ma(!0,!0),Ir=$h();function $h(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Ke(this);for(let l=0,o=this.length;l<o;l++)an(i,"get",l+"");const a=i[t](...n);return a===-1||a===!1?i[t](...n.map(Ke)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Bs();const i=Ke(this)[t].apply(this,n);return Hs(),i}}),e}function ma(e=!1,t=!1){return function(i,a,l){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&l===(e?t?vd:gd:t?pd:md).get(i))return i;const o=ye(i);if(!e&&o&&Ge(Ir,a))return Reflect.get(Ir,a,l);const r=Reflect.get(i,a,l);return(Gi(a)?dd.has(a):gh(a))||(e||an(i,"get",a),t)?r:kt(r)?o&&zl(a)?r:r.value:ut(r)?e?Kl(r):mi(r):r}}const Sh=cd(),Ch=cd(!0);function cd(e=!1){return function(n,i,a,l){let o=n[i];if(Ms(o)&&kt(o)&&!kt(a))return!1;if(!e&&(!Yi(a)&&!Ms(a)&&(o=Ke(o),a=Ke(a)),!ye(n)&&kt(o)&&!kt(a)))return o.value=a,!0;const r=ye(n)&&zl(i)?Number(i)<n.length:Ge(n,i),u=Reflect.set(n,i,a,l);return n===Ke(l)&&(r?oi(a,o)&&jn(n,"set",i,a):jn(n,"add",i,a)),u}}function _h(e,t){const n=Ge(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&jn(e,"delete",t,void 0),i}function Eh(e,t){const n=Reflect.has(e,t);return(!Gi(t)||!dd.has(t))&&an(e,"has",t),n}function kh(e){return an(e,"iterate",ye(e)?"length":Ds),Reflect.ownKeys(e)}const fd={get:vh,set:Sh,deleteProperty:_h,has:Eh,ownKeys:kh},hd={get:bh,set(e,t){return!0},deleteProperty(e,t){return!0}},Th=St({},fd,{get:yh,set:Ch}),Ih=St({},hd,{get:wh}),xl=e=>e,pa=e=>Reflect.getPrototypeOf(e);function So(e,t,n=!1,i=!1){e=e.__v_raw;const a=Ke(e),l=Ke(t);n||(t!==l&&an(a,"get",t),an(a,"get",l));const{has:o}=pa(a),r=i?xl:n?Yl:Xi;if(o.call(a,t))return r(e.get(t));if(o.call(a,l))return r(e.get(l));e!==a&&e.get(t)}function Co(e,t=!1){const n=this.__v_raw,i=Ke(n),a=Ke(e);return t||(e!==a&&an(i,"has",e),an(i,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function _o(e,t=!1){return e=e.__v_raw,!t&&an(Ke(e),"iterate",Ds),Reflect.get(e,"size",e)}function Dr(e){e=Ke(e);const t=Ke(this);return pa(t).has.call(t,e)||(t.add(e),jn(t,"add",e,e)),this}function Ar(e,t){t=Ke(t);const n=Ke(this),{has:i,get:a}=pa(n);let l=i.call(n,e);l||(e=Ke(e),l=i.call(n,e));const o=a.call(n,e);return n.set(e,t),l?oi(t,o)&&jn(n,"set",e,t):jn(n,"add",e,t),this}function Or(e){const t=Ke(this),{has:n,get:i}=pa(t);let a=n.call(t,e);a||(e=Ke(e),a=n.call(t,e)),i&&i.call(t,e);const l=t.delete(e);return a&&jn(t,"delete",e,void 0),l}function Pr(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&jn(e,"clear",void 0,void 0),n}function Eo(e,t){return function(i,a){const l=this,o=l.__v_raw,r=Ke(o),u=t?xl:e?Yl:Xi;return!e&&an(r,"iterate",Ds),o.forEach((d,c)=>i.call(a,u(d),u(c),l))}}function ko(e,t,n){return function(...i){const a=this.__v_raw,l=Ke(a),o=ei(l),r=e==="entries"||e===Symbol.iterator&&o,u=e==="keys"&&o,d=a[e](...i),c=n?xl:t?Yl:Xi;return!t&&an(l,"iterate",u?dl:Ds),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:r?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Xn(e){return function(...t){return e==="delete"?!1:this}}function Dh(){const e={get(l){return So(this,l)},get size(){return _o(this)},has:Co,add:Dr,set:Ar,delete:Or,clear:Pr,forEach:Eo(!1,!1)},t={get(l){return So(this,l,!1,!0)},get size(){return _o(this)},has:Co,add:Dr,set:Ar,delete:Or,clear:Pr,forEach:Eo(!1,!0)},n={get(l){return So(this,l,!0)},get size(){return _o(this,!0)},has(l){return Co.call(this,l,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:Eo(!0,!1)},i={get(l){return So(this,l,!0,!0)},get size(){return _o(this,!0)},has(l){return Co.call(this,l,!0)},add:Xn("add"),set:Xn("set"),delete:Xn("delete"),clear:Xn("clear"),forEach:Eo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=ko(l,!1,!1),n[l]=ko(l,!0,!1),t[l]=ko(l,!1,!0),i[l]=ko(l,!0,!0)}),[e,n,t,i]}const[Ah,Oh,Ph,Rh]=Dh();function ga(e,t){const n=t?e?Rh:Ph:e?Oh:Ah;return(i,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?i:Reflect.get(Ge(n,a)&&a in i?n:i,a,l)}const Vh={get:ga(!1,!1)},Mh={get:ga(!1,!0)},Uh={get:ga(!0,!1)},Nh={get:ga(!0,!0)},md=new WeakMap,pd=new WeakMap,gd=new WeakMap,vd=new WeakMap;function Lh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fh(e){return e.__v_skip||!Object.isExtensible(e)?0:Lh(oh(e))}function mi(e){return Ms(e)?e:va(e,!1,fd,Vh,md)}function yd(e){return va(e,!1,Th,Mh,pd)}function Kl(e){return va(e,!0,hd,Uh,gd)}function Bh(e){return va(e,!0,Ih,Nh,vd)}function va(e,t,n,i,a){if(!ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const o=Fh(e);if(o===0)return e;const r=new Proxy(e,o===2?i:n);return a.set(e,r),r}function As(e){return Ms(e)?As(e.__v_raw):!!(e&&e.__v_isReactive)}function Ms(e){return!!(e&&e.__v_isReadonly)}function Yi(e){return!!(e&&e.__v_isShallow)}function Jl(e){return As(e)||Ms(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Gl(e){return Jo(e,"__v_skip",!0),e}const Xi=e=>ut(e)?mi(e):e,Yl=e=>ut(e)?Kl(e):e;function Xl(e){ls&&vn&&(e=Ke(e),ud(e.dep||(e.dep=Wl())))}function ya(e,t){e=Ke(e),e.dep&&cl(e.dep)}function kt(e){return!!(e&&e.__v_isRef===!0)}function _e(e){return wd(e,!1)}function bd(e){return wd(e,!0)}function wd(e,t){return kt(e)?e:new Hh(e,t)}class Hh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:Xi(t)}get value(){return Xl(this),this._value}set value(t){const n=this.__v_isShallow||Yi(t)||Ms(t);t=n?t:Ke(t),oi(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Xi(t),ya(this))}}function zh(e){ya(e)}function tt(e){return kt(e)?e.value:e}const jh={get:(e,t,n)=>tt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const a=e[t];return kt(a)&&!kt(n)?(a.value=n,!0):Reflect.set(e,t,n,i)}};function Ql(e){return As(e)?e:new Proxy(e,jh)}class Wh{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=t(()=>Xl(this),()=>ya(this));this._get=n,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function xh(e){return new Wh(e)}function Kh(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=$d(e,n);return t}class Jh{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function $d(e,t,n){const i=e[t];return kt(i)?i:new Jh(e,t,n)}var Sd;class Gh{constructor(t,n,i,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Sd]=!1,this._dirty=!0,this.effect=new uo(t,()=>{this._dirty||(this._dirty=!0,ya(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=i}get value(){const t=Ke(this);return Xl(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Sd="__v_isReadonly";function Yh(e,t,n=!1){let i,a;const l=Re(e);return l?(i=e,a=bn):(i=e.get,a=e.set),new Gh(i,a,l||!a,n)}const Ui=[];function Cd(e,...t){Bs();const n=Ui.length?Ui[Ui.length-1].component:null,i=n&&n.appContext.config.warnHandler,a=Xh();if(i)Dn(i,n,11,[e+t.join(""),n&&n.proxy,a.map(({vnode:l})=>`at <${hc(n,l.type)}>`).join(`
`),a]);else{const l=[`[Vue warn]: ${e}`,...t];a.length&&l.push(`
`,...Qh(a)),console.warn(...l)}Hs()}function Xh(){let e=Ui[Ui.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function Qh(e){const t=[];return e.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...Zh(n))}),t}function Zh({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,a=` at <${hc(e.component,e.type,i)}`,l=">"+n;return e.props?[a,...qh(e.props),l]:[a+l]}function qh(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(i=>{t.push(..._d(i,e[i]))}),n.length>3&&t.push(" ..."),t}function _d(e,t,n){return yt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:kt(t)?(t=_d(e,Ke(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Re(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ke(t),n?t:[`${e}=`,t])}function Dn(e,t,n,i){let a;try{a=i?e(...i):e()}catch(l){zs(l,t,n)}return a}function sn(e,t,n,i){if(Re(e)){const l=Dn(e,t,n,i);return l&&Hl(l)&&l.catch(o=>{zs(o,t,n)}),l}const a=[];for(let l=0;l<e.length;l++)a.push(sn(e[l],t,n,i));return a}function zs(e,t,n,i=!0){const a=t?t.vnode:null;if(t){let l=t.parent;const o=t.proxy,r=n;for(;l;){const d=l.ec;if(d){for(let c=0;c<d.length;c++)if(d[c](e,o,r)===!1)return}l=l.parent}const u=t.appContext.config.errorHandler;if(u){Dn(u,null,10,[e,o,r]);return}}em(e,n,a,i)}function em(e,t,n,i=!0){console.error(e)}let Qi=!1,fl=!1;const Pt=[];let kn=0;const ni=[];let Fn=null,Es=0;const Ed=Promise.resolve();let Zl=null;function co(e){const t=Zl||Ed;return e?t.then(this?e.bind(this):e):t}function tm(e){let t=kn+1,n=Pt.length;for(;t<n;){const i=t+n>>>1;Zi(Pt[i])<e?t=i+1:n=i}return t}function ba(e){(!Pt.length||!Pt.includes(e,Qi&&e.allowRecurse?kn+1:kn))&&(e.id==null?Pt.push(e):Pt.splice(tm(e.id),0,e),kd())}function kd(){!Qi&&!fl&&(fl=!0,Zl=Ed.then(Td))}function nm(e){const t=Pt.indexOf(e);t>kn&&Pt.splice(t,1)}function ql(e){ye(e)?ni.push(...e):(!Fn||!Fn.includes(e,e.allowRecurse?Es+1:Es))&&ni.push(e),kd()}function Rr(e,t=Qi?kn+1:0){for(;t<Pt.length;t++){const n=Pt[t];n&&n.pre&&(Pt.splice(t,1),t--,n())}}function Go(e){if(ni.length){const t=[...new Set(ni)];if(ni.length=0,Fn){Fn.push(...t);return}for(Fn=t,Fn.sort((n,i)=>Zi(n)-Zi(i)),Es=0;Es<Fn.length;Es++)Fn[Es]();Fn=null,Es=0}}const Zi=e=>e.id==null?1/0:e.id,sm=(e,t)=>{const n=Zi(e)-Zi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Td(e){fl=!1,Qi=!0,Pt.sort(sm);const t=bn;try{for(kn=0;kn<Pt.length;kn++){const n=Pt[kn];n&&n.active!==!1&&Dn(n,null,14)}}finally{kn=0,Pt.length=0,Go(),Qi=!1,Zl=null,(Pt.length||ni.length)&&Td()}}let Gs,To=[];function Id(e,t){var n,i;Gs=e,Gs?(Gs.enabled=!0,To.forEach(({event:a,args:l})=>Gs.emit(a,...l)),To=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((i=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Id(l,t)}),setTimeout(()=>{Gs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,To=[])},3e3)):To=[]}function im(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||st;let a=n;const l=t.startsWith("update:"),o=l&&t.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=i[c]||st;h&&(a=n.map(m=>m.trim())),f&&(a=n.map(cs))}let r,u=i[r=Mi(t)]||i[r=Mi(on(t))];!u&&l&&(u=i[r=Mi(In(t))]),u&&sn(u,e,6,a);const d=i[r+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,sn(d,e,6,a)}}function Dd(e,t,n=!1){const i=t.emitsCache,a=i.get(e);if(a!==void 0)return a;const l=e.emits;let o={},r=!1;if(!Re(e)){const u=d=>{const c=Dd(d,t,!0);c&&(r=!0,St(o,c))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!l&&!r?(ut(e)&&i.set(e,null),null):(ye(l)?l.forEach(u=>o[u]=null):St(o,l),ut(e)&&i.set(e,o),o)}function wa(e,t){return!e||!ao(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,In(t))||Ge(e,t))}let Vt=null,$a=null;function qi(e){const t=Vt;return Vt=e,$a=e&&e.type.__scopeId||null,t}function Sn(e){$a=e}function Cn(){$a=null}const om=e=>rt;function rt(e,t=Vt,n){if(!t||e._n)return e;const i=(...a)=>{i._d&&bl(-1);const l=qi(t),o=e(...a);return qi(l),i._d&&bl(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function Lo(e){const{type:t,vnode:n,proxy:i,withProxy:a,props:l,propsOptions:[o],slots:r,attrs:u,emit:d,render:c,renderCache:f,data:h,setupState:m,ctx:v,inheritAttrs:b}=e;let S,w;const g=qi(e);try{if(n.shapeFlag&4){const $=a||i;S=en(c.call($,$,f,l,m,h,v)),w=u}else{const $=t;S=en($.length>1?$(l,{attrs:u,slots:r,emit:d}):$(l,null)),w=t.props?u:lm(u)}}catch($){Fi.length=0,zs($,e,1),S=K(Mt)}let C=S;if(w&&b!==!1){const $=Object.keys(w),{shapeFlag:E}=C;$.length&&E&7&&(o&&$.some(Fl)&&(w=rm(w,o)),C=Pn(C,w))}return n.dirs&&(C=Pn(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),S=C,qi(g),S}function am(e){let t;for(let n=0;n<e.length;n++){const i=e[n];if(hs(i)){if(i.type!==Mt||i.children==="v-if"){if(t)return;t=i}}else return}return t}const lm=e=>{let t;for(const n in e)(n==="class"||n==="style"||ao(n))&&((t||(t={}))[n]=e[n]);return t},rm=(e,t)=>{const n={};for(const i in e)(!Fl(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function um(e,t,n){const{props:i,children:a,component:l}=e,{props:o,children:r,patchFlag:u}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?Vr(i,o,d):!!o;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==i[h]&&!wa(d,h))return!0}}}else return(a||r)&&(!r||!r.$stable)?!0:i===o?!1:i?o?Vr(i,o,d):!0:!!o;return!1}function Vr(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let a=0;a<i.length;a++){const l=i[a];if(t[l]!==e[l]&&!wa(n,l))return!0}return!1}function er({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Ad=e=>e.__isSuspense,dm={name:"Suspense",__isSuspense:!0,process(e,t,n,i,a,l,o,r,u,d){e==null?fm(t,n,i,a,l,o,r,u,d):hm(e,t,n,i,a,o,r,u,d)},hydrate:mm,create:tr,normalize:pm},cm=dm;function eo(e,t){const n=e.props&&e.props[t];Re(n)&&n()}function fm(e,t,n,i,a,l,o,r,u){const{p:d,o:{createElement:c}}=u,f=c("div"),h=e.suspense=tr(e,a,i,t,f,n,l,o,r,u);d(null,h.pendingBranch=e.ssContent,f,null,i,h,l,o),h.deps>0?(eo(e,"onPending"),eo(e,"onFallback"),d(null,e.ssFallback,t,n,i,null,l,o),si(h,e.ssFallback)):h.resolve()}function hm(e,t,n,i,a,l,o,r,{p:u,um:d,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,m=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:S,isHydrating:w}=f;if(b)f.pendingBranch=h,Tn(h,b)?(u(b,h,f.hiddenContainer,null,a,f,l,o,r),f.deps<=0?f.resolve():S&&(u(v,m,n,i,a,null,l,o,r),si(f,m))):(f.pendingId++,w?(f.isHydrating=!1,f.activeBranch=b):d(b,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),S?(u(null,h,f.hiddenContainer,null,a,f,l,o,r),f.deps<=0?f.resolve():(u(v,m,n,i,a,null,l,o,r),si(f,m))):v&&Tn(h,v)?(u(v,h,n,i,a,f,l,o,r),f.resolve(!0)):(u(null,h,f.hiddenContainer,null,a,f,l,o,r),f.deps<=0&&f.resolve()));else if(v&&Tn(h,v))u(v,h,n,i,a,f,l,o,r),si(f,h);else if(eo(t,"onPending"),f.pendingBranch=h,f.pendingId++,u(null,h,f.hiddenContainer,null,a,f,l,o,r),f.deps<=0)f.resolve();else{const{timeout:g,pendingId:C}=f;g>0?setTimeout(()=>{f.pendingId===C&&f.fallback(m)},g):g===0&&f.fallback(m)}}function tr(e,t,n,i,a,l,o,r,u,d,c=!1){const{p:f,m:h,um:m,n:v,o:{parentNode:b,remove:S}}=d,w=cs(e.props&&e.props.timeout),g={vnode:e,parent:t,parentComponent:n,isSVG:o,container:i,hiddenContainer:a,anchor:l,deps:0,pendingId:0,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(C=!1){const{vnode:$,activeBranch:E,pendingBranch:T,pendingId:V,effects:P,parentComponent:I,container:U}=g;if(g.isHydrating)g.isHydrating=!1;else if(!C){const H=E&&T.transition&&T.transition.mode==="out-in";H&&(E.transition.afterLeave=()=>{V===g.pendingId&&h(T,U,F,0)});let{anchor:F}=g;E&&(F=v(E),m(E,I,g,!0)),H||h(T,U,F,0)}si(g,T),g.pendingBranch=null,g.isInFallback=!1;let B=g.parent,W=!1;for(;B;){if(B.pendingBranch){B.effects.push(...P),W=!0;break}B=B.parent}W||ql(P),g.effects=[],eo($,"onResolve")},fallback(C){if(!g.pendingBranch)return;const{vnode:$,activeBranch:E,parentComponent:T,container:V,isSVG:P}=g;eo($,"onFallback");const I=v(E),U=()=>{!g.isInFallback||(f(null,C,V,I,T,null,P,r,u),si(g,C))},B=C.transition&&C.transition.mode==="out-in";B&&(E.transition.afterLeave=U),g.isInFallback=!0,m(E,T,null,!0),B||U()},move(C,$,E){g.activeBranch&&h(g.activeBranch,C,$,E),g.container=C},next(){return g.activeBranch&&v(g.activeBranch)},registerDep(C,$){const E=!!g.pendingBranch;E&&g.deps++;const T=C.vnode.el;C.asyncDep.catch(V=>{zs(V,C,0)}).then(V=>{if(C.isUnmounted||g.isUnmounted||g.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:P}=C;wl(C,V,!1),T&&(P.el=T);const I=!T&&C.subTree.el;$(C,P,b(T||C.subTree.el),T?null:v(C.subTree),g,o,u),I&&S(I),er(C,P.el),E&&--g.deps===0&&g.resolve()})},unmount(C,$){g.isUnmounted=!0,g.activeBranch&&m(g.activeBranch,n,C,$),g.pendingBranch&&m(g.pendingBranch,n,C,$)}};return g}function mm(e,t,n,i,a,l,o,r,u){const d=t.suspense=tr(t,i,n,e.parentNode,document.createElement("div"),null,a,l,o,r,!0),c=u(e,d.pendingBranch=t.ssContent,n,d,l,o);return d.deps===0&&d.resolve(),c}function pm(e){const{shapeFlag:t,children:n}=e,i=t&32;e.ssContent=Mr(i?n.default:n),e.ssFallback=i?Mr(n.fallback):K(Mt)}function Mr(e){let t;if(Re(e)){const n=Ns&&e._c;n&&(e._d=!1,p()),e=e(),n&&(e._d=!0,t=Kt,sc())}return ye(e)&&(e=am(e)),e=en(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Od(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):ql(e)}function si(e,t){e.activeBranch=t;const{vnode:n,parentComponent:i}=e,a=n.el=t.el;i&&i.subTree===n&&(i.vnode.el=a,er(i,a))}function Ni(e,t){if(Et){let n=Et.provides;const i=Et.parent&&Et.parent.provides;i===n&&(n=Et.provides=Object.create(i)),n[e]=t}}function cn(e,t,n=!1){const i=Et||Vt;if(i){const a=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Re(t)?t.call(i.proxy):t}}function gm(e,t){return fo(e,null,t)}function Pd(e,t){return fo(e,null,{flush:"post"})}function vm(e,t){return fo(e,null,{flush:"sync"})}const Ur={};function Gt(e,t,n){return fo(e,t,n)}function fo(e,t,{immediate:n,deep:i,flush:a,onTrack:l,onTrigger:o}=st){const r=Et;let u,d=!1,c=!1;if(kt(e)?(u=()=>e.value,d=Yi(e)):As(e)?(u=()=>e,i=!0):ye(e)?(c=!0,d=e.some(w=>As(w)||Yi(w)),u=()=>e.map(w=>{if(kt(w))return w.value;if(As(w))return Ts(w);if(Re(w))return Dn(w,r,2)})):Re(e)?t?u=()=>Dn(e,r,2):u=()=>{if(!(r&&r.isUnmounted))return f&&f(),sn(e,r,3,[h])}:u=bn,t&&i){const w=u;u=()=>Ts(w())}let f,h=w=>{f=S.onStop=()=>{Dn(w,r,4)}};if(ri)return h=bn,t?n&&sn(t,r,3,[u(),c?[]:void 0,h]):u(),bn;let m=c?[]:Ur;const v=()=>{if(!!S.active)if(t){const w=S.run();(i||d||(c?w.some((g,C)=>oi(g,m[C])):oi(w,m)))&&(f&&f(),sn(t,r,3,[w,m===Ur?void 0:m,h]),m=w)}else S.run()};v.allowRecurse=!!t;let b;a==="sync"?b=v:a==="post"?b=()=>Dt(v,r&&r.suspense):(v.pre=!0,r&&(v.id=r.uid),b=()=>ba(v));const S=new uo(u,b);return t?n?v():m=S.run():a==="post"?Dt(S.run.bind(S),r&&r.suspense):S.run(),()=>{S.stop(),r&&r.scope&&Bl(r.scope.effects,S)}}function ym(e,t,n){const i=this.proxy,a=yt(e)?e.includes(".")?Rd(i,e):()=>i[e]:e.bind(i,i);let l;Re(t)?l=t:(l=t.handler,n=t);const o=Et;ms(this);const r=fo(a,l.bind(i),n);return o?ms(o):rs(),r}function Rd(e,t){const n=t.split(".");return()=>{let i=e;for(let a=0;a<n.length&&i;a++)i=i[n[a]];return i}}function Ts(e,t){if(!ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),kt(e))Ts(e.value,t);else if(ye(e))for(let n=0;n<e.length;n++)Ts(e[n],t);else if(Fs(e)||ei(e))e.forEach(n=>{Ts(n,t)});else if(id(e))for(const n in e)Ts(e[n],t);return e}function nr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ft(()=>{e.isMounted=!0}),Ea(()=>{e.isUnmounting=!0}),e}const ln=[Function,Array],bm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ln,onEnter:ln,onAfterEnter:ln,onEnterCancelled:ln,onBeforeLeave:ln,onLeave:ln,onAfterLeave:ln,onLeaveCancelled:ln,onBeforeAppear:ln,onAppear:ln,onAfterAppear:ln,onAppearCancelled:ln},setup(e,{slots:t}){const n=Jn(),i=nr();let a;return()=>{const l=t.default&&Sa(t.default(),!0);if(!l||!l.length)return;let o=l[0];if(l.length>1){for(const b of l)if(b.type!==Mt){o=b;break}}const r=Ke(e),{mode:u}=r;if(i.isLeaving)return Ha(o);const d=Nr(o);if(!d)return Ha(o);const c=ai(d,r,i,n);Us(d,c);const f=n.subTree,h=f&&Nr(f);let m=!1;const{getTransitionKey:v}=d.type;if(v){const b=v();a===void 0?a=b:b!==a&&(a=b,m=!0)}if(h&&h.type!==Mt&&(!Tn(d,h)||m)){const b=ai(h,r,i,n);if(Us(h,b),u==="out-in")return i.isLeaving=!0,b.afterLeave=()=>{i.isLeaving=!1,n.update()},Ha(o);u==="in-out"&&d.type!==Mt&&(b.delayLeave=(S,w,g)=>{const C=Vd(i,h);C[String(h.key)]=h,S._leaveCb=()=>{w(),S._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=g})}return o}}},sr=bm;function Vd(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function ai(e,t,n,i){const{appear:a,mode:l,persisted:o=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:d,onEnterCancelled:c,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:b,onAppear:S,onAfterAppear:w,onAppearCancelled:g}=t,C=String(e.key),$=Vd(n,e),E=(P,I)=>{P&&sn(P,i,9,I)},T=(P,I)=>{const U=I[1];E(P,I),ye(P)?P.every(B=>B.length<=1)&&U():P.length<=1&&U()},V={mode:l,persisted:o,beforeEnter(P){let I=r;if(!n.isMounted)if(a)I=b||r;else return;P._leaveCb&&P._leaveCb(!0);const U=$[C];U&&Tn(e,U)&&U.el._leaveCb&&U.el._leaveCb(),E(I,[P])},enter(P){let I=u,U=d,B=c;if(!n.isMounted)if(a)I=S||u,U=w||d,B=g||c;else return;let W=!1;const H=P._enterCb=F=>{W||(W=!0,F?E(B,[P]):E(U,[P]),V.delayedLeave&&V.delayedLeave(),P._enterCb=void 0)};I?T(I,[P,H]):H()},leave(P,I){const U=String(e.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return I();E(f,[P]);let B=!1;const W=P._leaveCb=H=>{B||(B=!0,I(),H?E(v,[P]):E(m,[P]),P._leaveCb=void 0,$[U]===e&&delete $[U])};$[U]=e,h?T(h,[P,W]):W()},clone(P){return ai(P,t,n,i)}};return V}function Ha(e){if(ho(e))return e=Pn(e),e.children=null,e}function Nr(e){return ho(e)?e.children?e.children[0]:void 0:e}function Us(e,t){e.shapeFlag&6&&e.component?Us(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sa(e,t=!1,n){let i=[],a=0;for(let l=0;l<e.length;l++){let o=e[l];const r=n==null?o.key:String(n)+String(o.key!=null?o.key:l);o.type===ee?(o.patchFlag&128&&a++,i=i.concat(Sa(o.children,t,r))):(t||o.type!==Mt)&&i.push(r!=null?Pn(o,{key:r}):o)}if(a>1)for(let l=0;l<i.length;l++)i[l].patchFlag=-2;return i}function le(e){return Re(e)?{setup:e,name:e.name}:e}const Os=e=>!!e.type.__asyncLoader;function wm(e){Re(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:a=200,timeout:l,suspensible:o=!0,onError:r}=e;let u=null,d,c=0;const f=()=>(c++,u=null,h()),h=()=>{let m;return u||(m=u=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),r)return new Promise((b,S)=>{r(v,()=>b(f()),()=>S(v),c+1)});throw v}).then(v=>m!==u&&u?u:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),d=v,v)))};return le({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return d},setup(){const m=Et;if(d)return()=>za(d,m);const v=g=>{u=null,zs(g,m,13,!i)};if(o&&m.suspense||ri)return h().then(g=>()=>za(g,m)).catch(g=>(v(g),()=>i?K(i,{error:g}):null));const b=_e(!1),S=_e(),w=_e(!!a);return a&&setTimeout(()=>{w.value=!1},a),l!=null&&setTimeout(()=>{if(!b.value&&!S.value){const g=new Error(`Async component timed out after ${l}ms.`);v(g),S.value=g}},l),h().then(()=>{b.value=!0,m.parent&&ho(m.parent.vnode)&&ba(m.parent.update)}).catch(g=>{v(g),S.value=g}),()=>{if(b.value&&d)return za(d,m);if(S.value&&i)return K(i,{error:S.value});if(n&&!w.value)return K(n)}}})}function za(e,{vnode:{ref:t,props:n,children:i,shapeFlag:a},parent:l}){const o=K(e,n,i);return o.ref=t,o}const ho=e=>e.type.__isKeepAlive,$m={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Jn(),i=n.ctx;if(!i.renderer)return()=>{const g=t.default&&t.default();return g&&g.length===1?g[0]:g};const a=new Map,l=new Set;let o=null;const r=n.suspense,{renderer:{p:u,m:d,um:c,o:{createElement:f}}}=i,h=f("div");i.activate=(g,C,$,E,T)=>{const V=g.component;d(g,C,$,0,r),u(V.vnode,g,C,$,V,r,E,g.slotScopeIds,T),Dt(()=>{V.isDeactivated=!1,V.a&&ti(V.a);const P=g.props&&g.props.onVnodeMounted;P&&Wt(P,V.parent,g)},r)},i.deactivate=g=>{const C=g.component;d(g,h,null,1,r),Dt(()=>{C.da&&ti(C.da);const $=g.props&&g.props.onVnodeUnmounted;$&&Wt($,C.parent,g),C.isDeactivated=!0},r)};function m(g){ja(g),c(g,n,r,!0)}function v(g){a.forEach((C,$)=>{const E=qo(C.type);E&&(!g||!g(E))&&b($)})}function b(g){const C=a.get(g);!o||C.type!==o.type?m(C):o&&ja(o),a.delete(g),l.delete(g)}Gt(()=>[e.include,e.exclude],([g,C])=>{g&&v($=>Ti(g,$)),C&&v($=>!Ti(C,$))},{flush:"post",deep:!0});let S=null;const w=()=>{S!=null&&a.set(S,Wa(n.subTree))};return Ft(w),_a(w),Ea(()=>{a.forEach(g=>{const{subTree:C,suspense:$}=n,E=Wa(C);if(g.type===E.type){ja(E);const T=E.component.da;T&&Dt(T,$);return}m(g)})}),()=>{if(S=null,!t.default)return null;const g=t.default(),C=g[0];if(g.length>1)return o=null,g;if(!hs(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let $=Wa(C);const E=$.type,T=qo(Os($)?$.type.__asyncResolved||{}:E),{include:V,exclude:P,max:I}=e;if(V&&(!T||!Ti(V,T))||P&&T&&Ti(P,T))return o=$,C;const U=$.key==null?E:$.key,B=a.get(U);return $.el&&($=Pn($),C.shapeFlag&128&&(C.ssContent=$)),S=U,B?($.el=B.el,$.component=B.component,$.transition&&Us($,$.transition),$.shapeFlag|=512,l.delete(U),l.add(U)):(l.add(U),I&&l.size>parseInt(I,10)&&b(l.values().next().value)),$.shapeFlag|=256,o=$,Ad(C.type)?C:$}}},Sm=$m;function Ti(e,t){return ye(e)?e.some(n=>Ti(n,t)):yt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Md(e,t){Nd(e,"a",t)}function Ud(e,t){Nd(e,"da",t)}function Nd(e,t,n=Et){const i=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Ca(t,i,n),n){let a=n.parent;for(;a&&a.parent;)ho(a.parent.vnode)&&Cm(i,t,n,a),a=a.parent}}function Cm(e,t,n,i){const a=Ca(t,e,i,!0);Kn(()=>{Bl(i[t],a)},n)}function ja(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function Wa(e){return e.shapeFlag&128?e.ssContent:e}function Ca(e,t,n=Et,i=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Bs(),ms(n);const r=sn(t,n,e,o);return rs(),Hs(),r});return i?a.unshift(l):a.push(l),l}}const xn=e=>(t,n=Et)=>(!ri||e==="sp")&&Ca(e,t,n),Ld=xn("bm"),Ft=xn("m"),Fd=xn("bu"),_a=xn("u"),Ea=xn("bum"),Kn=xn("um"),Bd=xn("sp"),Hd=xn("rtg"),zd=xn("rtc");function jd(e,t=Et){Ca("ec",e,t)}function R(e,t){const n=Vt;if(n===null)return e;const i=Ia(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[o,r,u,d=st]=t[l];Re(o)&&(o={mounted:o,updated:o}),o.deep&&Ts(r),a.push({dir:o,instance:i,value:r,oldValue:void 0,arg:u,modifiers:d})}return e}function En(e,t,n,i){const a=e.dirs,l=t&&t.dirs;for(let o=0;o<a.length;o++){const r=a[o];l&&(r.oldValue=l[o].value);let u=r.dir[i];u&&(Bs(),sn(u,n,8,[e.el,r,e,t]),Hs())}}const ir="components",_m="directives";function j(e,t){return or(ir,e,!0,t)||e}const Wd=Symbol();function ka(e){return yt(e)?or(ir,e,!1)||e:e||Wd}function Em(e){return or(_m,e)}function or(e,t,n=!0,i=!1){const a=Vt||Et;if(a){const l=a.type;if(e===ir){const r=qo(l,!1);if(r&&(r===t||r===on(t)||r===ro(on(t))))return l}const o=Lr(a[e]||l[e],t)||Lr(a.appContext[e],t);return!o&&i?l:o}}function Lr(e,t){return e&&(e[t]||e[on(t)]||e[ro(on(t))])}function de(e,t,n,i){let a;const l=n&&n[i];if(ye(e)||yt(e)){a=new Array(e.length);for(let o=0,r=e.length;o<r;o++)a[o]=t(e[o],o,void 0,l&&l[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,l&&l[o])}else if(ut(e))if(e[Symbol.iterator])a=Array.from(e,(o,r)=>t(o,r,void 0,l&&l[r]));else{const o=Object.keys(e);a=new Array(o.length);for(let r=0,u=o.length;r<u;r++){const d=o[r];a[r]=t(e[d],d,r,l&&l[r])}}else a=[];return n&&(n[i]=a),a}function km(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(ye(i))for(let a=0;a<i.length;a++)e[i[a].name]=i[a].fn;else i&&(e[i.name]=i.key?(...a)=>{const l=i.fn(...a);return l.key=i.key,l}:i.fn)}return e}function ar(e,t,n={},i,a){if(Vt.isCE||Vt.parent&&Os(Vt.parent)&&Vt.parent.isCE)return K("slot",t==="default"?null:{name:t},i&&i());let l=e[t];l&&l._c&&(l._d=!1),p();const o=l&&xd(l(n)),r=Ce(ee,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!a&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),l&&l._c&&(l._d=!0),r}function xd(e){return e.some(t=>hs(t)?!(t.type===Mt||t.type===ee&&!xd(t.children)):!0)?e:null}function Kd(e,t){const n={};for(const i in e)n[t&&/[A-Z]/.test(i)?`on:${i}`:Mi(i)]=e[i];return n}const hl=e=>e?uc(e)?Ia(e)||e.proxy:hl(e.parent):null,Yo=St(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hl(e.parent),$root:e=>hl(e.root),$emit:e=>e.emit,$options:e=>lr(e),$forceUpdate:e=>e.f||(e.f=()=>ba(e.update)),$nextTick:e=>e.n||(e.n=co.bind(e.proxy)),$watch:e=>ym.bind(e)}),ml={get({_:e},t){const{ctx:n,setupState:i,data:a,props:l,accessCache:o,type:r,appContext:u}=e;let d;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(i!==st&&Ge(i,t))return o[t]=1,i[t];if(a!==st&&Ge(a,t))return o[t]=2,a[t];if((d=e.propsOptions[0])&&Ge(d,t))return o[t]=3,l[t];if(n!==st&&Ge(n,t))return o[t]=4,n[t];pl&&(o[t]=0)}}const c=Yo[t];let f,h;if(c)return t==="$attrs"&&an(e,"get",t),c(e);if((f=r.__cssModules)&&(f=f[t]))return f;if(n!==st&&Ge(n,t))return o[t]=4,n[t];if(h=u.config.globalProperties,Ge(h,t))return h[t]},set({_:e},t,n){const{data:i,setupState:a,ctx:l}=e;return a!==st&&Ge(a,t)?(a[t]=n,!0):i!==st&&Ge(i,t)?(i[t]=n,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:a,propsOptions:l}},o){let r;return!!n[o]||e!==st&&Ge(e,o)||t!==st&&Ge(t,o)||(r=l[0])&&Ge(r,o)||Ge(i,o)||Ge(Yo,o)||Ge(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Tm=St({},ml,{get(e,t){if(t!==Symbol.unscopables)return ml.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Gf(t)}});let pl=!0;function Im(e){const t=lr(e),n=e.proxy,i=e.ctx;pl=!1,t.beforeCreate&&Fr(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:o,watch:r,provide:u,inject:d,created:c,beforeMount:f,mounted:h,beforeUpdate:m,updated:v,activated:b,deactivated:S,beforeDestroy:w,beforeUnmount:g,destroyed:C,unmounted:$,render:E,renderTracked:T,renderTriggered:V,errorCaptured:P,serverPrefetch:I,expose:U,inheritAttrs:B,components:W,directives:H,filters:F}=t;if(d&&Dm(d,i,null,e.appContext.config.unwrapInjectedRef),o)for(const re in o){const ve=o[re];Re(ve)&&(i[re]=ve.bind(n))}if(a){const re=a.call(n,n);ut(re)&&(e.data=mi(re))}if(pl=!0,l)for(const re in l){const ve=l[re],ze=Re(ve)?ve.bind(n,n):Re(ve.get)?ve.get.bind(n,n):bn,ct=!Re(ve)&&Re(ve.set)?ve.set.bind(n):bn,Ze=ot({get:ze,set:ct});Object.defineProperty(i,re,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Ye=>Ze.value=Ye})}if(r)for(const re in r)Jd(r[re],i,n,re);if(u){const re=Re(u)?u.call(n):u;Reflect.ownKeys(re).forEach(ve=>{Ni(ve,re[ve])})}c&&Fr(c,e,"c");function X(re,ve){ye(ve)?ve.forEach(ze=>re(ze.bind(n))):ve&&re(ve.bind(n))}if(X(Ld,f),X(Ft,h),X(Fd,m),X(_a,v),X(Md,b),X(Ud,S),X(jd,P),X(zd,T),X(Hd,V),X(Ea,g),X(Kn,$),X(Bd,I),ye(U))if(U.length){const re=e.exposed||(e.exposed={});U.forEach(ve=>{Object.defineProperty(re,ve,{get:()=>n[ve],set:ze=>n[ve]=ze})})}else e.exposed||(e.exposed={});E&&e.render===bn&&(e.render=E),B!=null&&(e.inheritAttrs=B),W&&(e.components=W),H&&(e.directives=H)}function Dm(e,t,n=bn,i=!1){ye(e)&&(e=gl(e));for(const a in e){const l=e[a];let o;ut(l)?"default"in l?o=cn(l.from||a,l.default,!0):o=cn(l.from||a):o=cn(l),kt(o)&&i?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[a]=o}}function Fr(e,t,n){sn(ye(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Jd(e,t,n,i){const a=i.includes(".")?Rd(n,i):()=>n[i];if(yt(e)){const l=t[e];Re(l)&&Gt(a,l)}else if(Re(e))Gt(a,e.bind(n));else if(ut(e))if(ye(e))e.forEach(l=>Jd(l,t,n,i));else{const l=Re(e.handler)?e.handler.bind(n):t[e.handler];Re(l)&&Gt(a,l,e)}}function lr(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:o}}=e.appContext,r=l.get(t);let u;return r?u=r:!a.length&&!n&&!i?u=t:(u={},a.length&&a.forEach(d=>Xo(u,d,o,!0)),Xo(u,t,o)),ut(t)&&l.set(t,u),u}function Xo(e,t,n,i=!1){const{mixins:a,extends:l}=t;l&&Xo(e,l,n,!0),a&&a.forEach(o=>Xo(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const r=Am[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Am={data:Br,props:Cs,emits:Cs,methods:Cs,computed:Cs,beforeCreate:Ut,created:Ut,beforeMount:Ut,mounted:Ut,beforeUpdate:Ut,updated:Ut,beforeDestroy:Ut,beforeUnmount:Ut,destroyed:Ut,unmounted:Ut,activated:Ut,deactivated:Ut,errorCaptured:Ut,serverPrefetch:Ut,components:Cs,directives:Cs,watch:Pm,provide:Br,inject:Om};function Br(e,t){return t?e?function(){return St(Re(e)?e.call(this,this):e,Re(t)?t.call(this,this):t)}:t:e}function Om(e,t){return Cs(gl(e),gl(t))}function gl(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ut(e,t){return e?[...new Set([].concat(e,t))]:t}function Cs(e,t){return e?St(St(Object.create(null),e),t):t}function Pm(e,t){if(!e)return t;if(!t)return e;const n=St(Object.create(null),e);for(const i in t)n[i]=Ut(e[i],t[i]);return n}function Rm(e,t,n,i=!1){const a={},l={};Jo(l,Ta,1),e.propsDefaults=Object.create(null),Gd(e,t,a,l);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=i?a:yd(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function Vm(e,t,n,i){const{props:a,attrs:l,vnode:{patchFlag:o}}=e,r=Ke(a),[u]=e.propsOptions;let d=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(wa(e.emitsOptions,h))continue;const m=t[h];if(u)if(Ge(l,h))m!==l[h]&&(l[h]=m,d=!0);else{const v=on(h);a[v]=vl(u,r,v,m,e,!1)}else m!==l[h]&&(l[h]=m,d=!0)}}}else{Gd(e,t,a,l)&&(d=!0);let c;for(const f in r)(!t||!Ge(t,f)&&((c=In(f))===f||!Ge(t,c)))&&(u?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=vl(u,r,f,void 0,e,!0)):delete a[f]);if(l!==r)for(const f in l)(!t||!Ge(t,f)&&!0)&&(delete l[f],d=!0)}d&&jn(e,"set","$attrs")}function Gd(e,t,n,i){const[a,l]=e.propsOptions;let o=!1,r;if(t)for(let u in t){if(Vi(u))continue;const d=t[u];let c;a&&Ge(a,c=on(u))?!l||!l.includes(c)?n[c]=d:(r||(r={}))[c]=d:wa(e.emitsOptions,u)||(!(u in i)||d!==i[u])&&(i[u]=d,o=!0)}if(l){const u=Ke(n),d=r||st;for(let c=0;c<l.length;c++){const f=l[c];n[f]=vl(a,u,f,d[f],e,!Ge(d,f))}}return o}function vl(e,t,n,i,a,l){const o=e[n];if(o!=null){const r=Ge(o,"default");if(r&&i===void 0){const u=o.default;if(o.type!==Function&&Re(u)){const{propsDefaults:d}=a;n in d?i=d[n]:(ms(a),i=d[n]=u.call(null,t),rs())}else i=u}o[0]&&(l&&!r?i=!1:o[1]&&(i===""||i===In(n))&&(i=!0))}return i}function Yd(e,t,n=!1){const i=t.propsCache,a=i.get(e);if(a)return a;const l=e.props,o={},r=[];let u=!1;if(!Re(e)){const c=f=>{u=!0;const[h,m]=Yd(f,t,!0);St(o,h),m&&r.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!l&&!u)return ut(e)&&i.set(e,qs),qs;if(ye(l))for(let c=0;c<l.length;c++){const f=on(l[c]);Hr(f)&&(o[f]=st)}else if(l)for(const c in l){const f=on(c);if(Hr(f)){const h=l[c],m=o[f]=ye(h)||Re(h)?{type:h}:h;if(m){const v=Wr(Boolean,m.type),b=Wr(String,m.type);m[0]=v>-1,m[1]=b<0||v<b,(v>-1||Ge(m,"default"))&&r.push(f)}}}const d=[o,r];return ut(e)&&i.set(e,d),d}function Hr(e){return e[0]!=="$"}function zr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function jr(e,t){return zr(e)===zr(t)}function Wr(e,t){return ye(t)?t.findIndex(n=>jr(n,e)):Re(t)&&jr(t,e)?0:-1}const Xd=e=>e[0]==="_"||e==="$stable",rr=e=>ye(e)?e.map(en):[en(e)],Mm=(e,t,n)=>{if(t._n)return t;const i=rt((...a)=>rr(t(...a)),n);return i._c=!1,i},Qd=(e,t,n)=>{const i=e._ctx;for(const a in e){if(Xd(a))continue;const l=e[a];if(Re(l))t[a]=Mm(a,l,i);else if(l!=null){const o=rr(l);t[a]=()=>o}}},Zd=(e,t)=>{const n=rr(t);e.slots.default=()=>n},Um=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),Jo(t,"_",n)):Qd(t,e.slots={})}else e.slots={},t&&Zd(e,t);Jo(e.slots,Ta,1)},Nm=(e,t,n)=>{const{vnode:i,slots:a}=e;let l=!0,o=st;if(i.shapeFlag&32){const r=t._;r?n&&r===1?l=!1:(St(a,t),!n&&r===1&&delete a._):(l=!t.$stable,Qd(t,a)),o=t}else t&&(Zd(e,t),o={default:1});if(l)for(const r in a)!Xd(r)&&!(r in o)&&delete a[r]};function qd(){return{app:null,config:{isNativeTag:nh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lm=0;function Fm(e,t){return function(i,a=null){Re(i)||(i=Object.assign({},i)),a!=null&&!ut(a)&&(a=null);const l=qd(),o=new Set;let r=!1;const u=l.app={_uid:Lm++,_component:i,_props:a,_container:null,_context:l,_instance:null,version:vc,get config(){return l.config},set config(d){},use(d,...c){return o.has(d)||(d&&Re(d.install)?(o.add(d),d.install(u,...c)):Re(d)&&(o.add(d),d(u,...c))),u},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),u},component(d,c){return c?(l.components[d]=c,u):l.components[d]},directive(d,c){return c?(l.directives[d]=c,u):l.directives[d]},mount(d,c,f){if(!r){const h=K(i,a);return h.appContext=l,c&&t?t(h,d):e(h,d,f),r=!0,u._container=d,d.__vue_app__=u,Ia(h.component)||h.component.proxy}},unmount(){r&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,c){return l.provides[d]=c,u}};return u}}function Qo(e,t,n,i,a=!1){if(ye(e)){e.forEach((h,m)=>Qo(h,t&&(ye(t)?t[m]:t),n,i,a));return}if(Os(i)&&!a)return;const l=i.shapeFlag&4?Ia(i.component)||i.component.proxy:i.el,o=a?null:l,{i:r,r:u}=e,d=t&&t.r,c=r.refs===st?r.refs={}:r.refs,f=r.setupState;if(d!=null&&d!==u&&(yt(d)?(c[d]=null,Ge(f,d)&&(f[d]=null)):kt(d)&&(d.value=null)),Re(u))Dn(u,r,12,[o,c]);else{const h=yt(u),m=kt(u);if(h||m){const v=()=>{if(e.f){const b=h?c[u]:u.value;a?ye(b)&&Bl(b,l):ye(b)?b.includes(l)||b.push(l):h?(c[u]=[l],Ge(f,u)&&(f[u]=c[u])):(u.value=[l],e.k&&(c[e.k]=u.value))}else h?(c[u]=o,Ge(f,u)&&(f[u]=o)):m&&(u.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,Dt(v,n)):v()}}}let Qn=!1;const Io=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Do=e=>e.nodeType===8;function Bm(e){const{mt:t,p:n,o:{patchProp:i,createText:a,nextSibling:l,parentNode:o,remove:r,insert:u,createComment:d}}=e,c=(w,g)=>{if(!g.hasChildNodes()){n(null,w,g),Go(),g._vnode=w;return}Qn=!1,f(g.firstChild,w,null,null,null),Go(),g._vnode=w,Qn&&console.error("Hydration completed but contains mismatches.")},f=(w,g,C,$,E,T=!1)=>{const V=Do(w)&&w.data==="[",P=()=>b(w,g,C,$,E,V),{type:I,ref:U,shapeFlag:B,patchFlag:W}=g,H=w.nodeType;g.el=w,W===-2&&(T=!1,g.dynamicChildren=null);let F=null;switch(I){case li:H!==3?g.children===""?(u(g.el=a(""),o(w),w),F=w):F=P():(w.data!==g.children&&(Qn=!0,w.data=g.children),F=l(w));break;case Mt:H!==8||V?F=P():F=l(w);break;case Ps:if(H!==1&&H!==3)F=P();else{F=w;const pe=!g.children.length;for(let X=0;X<g.staticCount;X++)pe&&(g.children+=F.nodeType===1?F.outerHTML:F.data),X===g.staticCount-1&&(g.anchor=F),F=l(F);return F}break;case ee:V?F=v(w,g,C,$,E,T):F=P();break;default:if(B&1)H!==1||g.type.toLowerCase()!==w.tagName.toLowerCase()?F=P():F=h(w,g,C,$,E,T);else if(B&6){g.slotScopeIds=E;const pe=o(w);if(t(g,pe,null,C,$,Io(pe),T),F=V?S(w):l(w),F&&Do(F)&&F.data==="teleport end"&&(F=l(F)),Os(g)){let X;V?(X=K(ee),X.anchor=F?F.previousSibling:pe.lastChild):X=w.nodeType===3?O(""):K("div"),X.el=w,g.component.subTree=X}}else B&64?H!==8?F=P():F=g.type.hydrate(w,g,C,$,E,T,e,m):B&128&&(F=g.type.hydrate(w,g,C,$,Io(o(w)),E,T,e,f))}return U!=null&&Qo(U,null,$,g),F},h=(w,g,C,$,E,T)=>{T=T||!!g.dynamicChildren;const{type:V,props:P,patchFlag:I,shapeFlag:U,dirs:B}=g,W=V==="input"&&B||V==="option";if(W||I!==-1){if(B&&En(g,null,C,"created"),P)if(W||!T||I&48)for(const F in P)(W&&F.endsWith("value")||ao(F)&&!Vi(F))&&i(w,F,null,P[F],!1,void 0,C);else P.onClick&&i(w,"onClick",null,P.onClick,!1,void 0,C);let H;if((H=P&&P.onVnodeBeforeMount)&&Wt(H,C,g),B&&En(g,null,C,"beforeMount"),((H=P&&P.onVnodeMounted)||B)&&Od(()=>{H&&Wt(H,C,g),B&&En(g,null,C,"mounted")},$),U&16&&!(P&&(P.innerHTML||P.textContent))){let F=m(w.firstChild,g,w,C,$,E,T);for(;F;){Qn=!0;const pe=F;F=F.nextSibling,r(pe)}}else U&8&&w.textContent!==g.children&&(Qn=!0,w.textContent=g.children)}return w.nextSibling},m=(w,g,C,$,E,T,V)=>{V=V||!!g.dynamicChildren;const P=g.children,I=P.length;for(let U=0;U<I;U++){const B=V?P[U]:P[U]=en(P[U]);if(w)w=f(w,B,$,E,T,V);else{if(B.type===li&&!B.children)continue;Qn=!0,n(null,B,C,null,$,E,Io(C),T)}}return w},v=(w,g,C,$,E,T)=>{const{slotScopeIds:V}=g;V&&(E=E?E.concat(V):V);const P=o(w),I=m(l(w),g,P,C,$,E,T);return I&&Do(I)&&I.data==="]"?l(g.anchor=I):(Qn=!0,u(g.anchor=d("]"),P,I),I)},b=(w,g,C,$,E,T)=>{if(Qn=!0,g.el=null,T){const I=S(w);for(;;){const U=l(w);if(U&&U!==I)r(U);else break}}const V=l(w),P=o(w);return r(w),n(null,g,P,V,C,$,Io(P),E),V},S=w=>{let g=0;for(;w;)if(w=l(w),w&&Do(w)&&(w.data==="["&&g++,w.data==="]")){if(g===0)return l(w);g--}return w};return[c,f]}const Dt=Od;function ec(e){return nc(e)}function tc(e){return nc(e,Bm)}function nc(e,t){const n=rh();n.__VUE__=!0;const{insert:i,remove:a,patchProp:l,createElement:o,createText:r,createComment:u,setText:d,setElementText:c,parentNode:f,nextSibling:h,setScopeId:m=bn,cloneNode:v,insertStaticContent:b}=e,S=(_,k,N,G=null,J=null,se=null,ce=!1,te=null,ie=!!k.dynamicChildren)=>{if(_===k)return;_&&!Tn(_,k)&&(G=fe(_),qe(_,J,se,!0),_=null),k.patchFlag===-2&&(ie=!1,k.dynamicChildren=null);const{type:Z,ref:be,shapeFlag:he}=k;switch(Z){case li:w(_,k,N,G);break;case Mt:g(_,k,N,G);break;case Ps:_==null&&C(k,N,G,ce);break;case ee:H(_,k,N,G,J,se,ce,te,ie);break;default:he&1?T(_,k,N,G,J,se,ce,te,ie):he&6?F(_,k,N,G,J,se,ce,te,ie):(he&64||he&128)&&Z.process(_,k,N,G,J,se,ce,te,ie,We)}be!=null&&J&&Qo(be,_&&_.ref,se,k||_,!k)},w=(_,k,N,G)=>{if(_==null)i(k.el=r(k.children),N,G);else{const J=k.el=_.el;k.children!==_.children&&d(J,k.children)}},g=(_,k,N,G)=>{_==null?i(k.el=u(k.children||""),N,G):k.el=_.el},C=(_,k,N,G)=>{[_.el,_.anchor]=b(_.children,k,N,G,_.el,_.anchor)},$=({el:_,anchor:k},N,G)=>{let J;for(;_&&_!==k;)J=h(_),i(_,N,G),_=J;i(k,N,G)},E=({el:_,anchor:k})=>{let N;for(;_&&_!==k;)N=h(_),a(_),_=N;a(k)},T=(_,k,N,G,J,se,ce,te,ie)=>{ce=ce||k.type==="svg",_==null?V(k,N,G,J,se,ce,te,ie):U(_,k,J,se,ce,te,ie)},V=(_,k,N,G,J,se,ce,te)=>{let ie,Z;const{type:be,props:he,shapeFlag:we,transition:Te,patchFlag:Be,dirs:Xe}=_;if(_.el&&v!==void 0&&Be===-1)ie=_.el=v(_.el);else{if(ie=_.el=o(_.type,se,he&&he.is,he),we&8?c(ie,_.children):we&16&&I(_.children,ie,null,G,J,se&&be!=="foreignObject",ce,te),Xe&&En(_,null,G,"created"),he){for(const A in he)A!=="value"&&!Vi(A)&&l(ie,A,null,he[A],se,_.children,G,J,Q);"value"in he&&l(ie,"value",null,he.value),(Z=he.onVnodeBeforeMount)&&Wt(Z,G,_)}P(ie,_,_.scopeId,ce,G)}Xe&&En(_,null,G,"beforeMount");const D=(!J||J&&!J.pendingBranch)&&Te&&!Te.persisted;D&&Te.beforeEnter(ie),i(ie,k,N),((Z=he&&he.onVnodeMounted)||D||Xe)&&Dt(()=>{Z&&Wt(Z,G,_),D&&Te.enter(ie),Xe&&En(_,null,G,"mounted")},J)},P=(_,k,N,G,J)=>{if(N&&m(_,N),G)for(let se=0;se<G.length;se++)m(_,G[se]);if(J){let se=J.subTree;if(k===se){const ce=J.vnode;P(_,ce,ce.scopeId,ce.slotScopeIds,J.parent)}}},I=(_,k,N,G,J,se,ce,te,ie=0)=>{for(let Z=ie;Z<_.length;Z++){const be=_[Z]=te?ns(_[Z]):en(_[Z]);S(null,be,k,N,G,J,se,ce,te)}},U=(_,k,N,G,J,se,ce)=>{const te=k.el=_.el;let{patchFlag:ie,dynamicChildren:Z,dirs:be}=k;ie|=_.patchFlag&16;const he=_.props||st,we=k.props||st;let Te;N&&vs(N,!1),(Te=we.onVnodeBeforeUpdate)&&Wt(Te,N,k,_),be&&En(k,_,N,"beforeUpdate"),N&&vs(N,!0);const Be=J&&k.type!=="foreignObject";if(Z?B(_.dynamicChildren,Z,te,N,G,Be,se):ce||ze(_,k,te,null,N,G,Be,se,!1),ie>0){if(ie&16)W(te,k,he,we,N,G,J);else if(ie&2&&he.class!==we.class&&l(te,"class",null,we.class,J),ie&4&&l(te,"style",he.style,we.style,J),ie&8){const Xe=k.dynamicProps;for(let D=0;D<Xe.length;D++){const A=Xe[D],L=he[A],q=we[A];(q!==L||A==="value")&&l(te,A,L,q,J,_.children,N,G,Q)}}ie&1&&_.children!==k.children&&c(te,k.children)}else!ce&&Z==null&&W(te,k,he,we,N,G,J);((Te=we.onVnodeUpdated)||be)&&Dt(()=>{Te&&Wt(Te,N,k,_),be&&En(k,_,N,"updated")},G)},B=(_,k,N,G,J,se,ce)=>{for(let te=0;te<k.length;te++){const ie=_[te],Z=k[te],be=ie.el&&(ie.type===ee||!Tn(ie,Z)||ie.shapeFlag&70)?f(ie.el):N;S(ie,Z,be,null,G,J,se,ce,!0)}},W=(_,k,N,G,J,se,ce)=>{if(N!==G){for(const te in G){if(Vi(te))continue;const ie=G[te],Z=N[te];ie!==Z&&te!=="value"&&l(_,te,Z,ie,ce,k.children,J,se,Q)}if(N!==st)for(const te in N)!Vi(te)&&!(te in G)&&l(_,te,N[te],null,ce,k.children,J,se,Q);"value"in G&&l(_,"value",N.value,G.value)}},H=(_,k,N,G,J,se,ce,te,ie)=>{const Z=k.el=_?_.el:r(""),be=k.anchor=_?_.anchor:r("");let{patchFlag:he,dynamicChildren:we,slotScopeIds:Te}=k;Te&&(te=te?te.concat(Te):Te),_==null?(i(Z,N,G),i(be,N,G),I(k.children,N,be,J,se,ce,te,ie)):he>0&&he&64&&we&&_.dynamicChildren?(B(_.dynamicChildren,we,N,J,se,ce,te),(k.key!=null||J&&k===J.subTree)&&ur(_,k,!0)):ze(_,k,N,be,J,se,ce,te,ie)},F=(_,k,N,G,J,se,ce,te,ie)=>{k.slotScopeIds=te,_==null?k.shapeFlag&512?J.ctx.activate(k,N,G,ce,ie):pe(k,N,G,J,se,ce,ie):X(_,k,ie)},pe=(_,k,N,G,J,se,ce)=>{const te=_.component=rc(_,G,J);if(ho(_)&&(te.ctx.renderer=We),dc(te),te.asyncDep){if(J&&J.registerDep(te,re),!_.el){const ie=te.subTree=K(Mt);g(null,ie,k,N)}return}re(te,_,k,N,J,se,ce)},X=(_,k,N)=>{const G=k.component=_.component;if(um(_,k,N))if(G.asyncDep&&!G.asyncResolved){ve(G,k,N);return}else G.next=k,nm(G.update),G.update();else k.el=_.el,G.vnode=k},re=(_,k,N,G,J,se,ce)=>{const te=()=>{if(_.isMounted){let{next:be,bu:he,u:we,parent:Te,vnode:Be}=_,Xe=be,D;vs(_,!1),be?(be.el=Be.el,ve(_,be,ce)):be=Be,he&&ti(he),(D=be.props&&be.props.onVnodeBeforeUpdate)&&Wt(D,Te,be,Be),vs(_,!0);const A=Lo(_),L=_.subTree;_.subTree=A,S(L,A,f(L.el),fe(L),_,J,se),be.el=A.el,Xe===null&&er(_,A.el),we&&Dt(we,J),(D=be.props&&be.props.onVnodeUpdated)&&Dt(()=>Wt(D,Te,be,Be),J)}else{let be;const{el:he,props:we}=k,{bm:Te,m:Be,parent:Xe}=_,D=Os(k);if(vs(_,!1),Te&&ti(Te),!D&&(be=we&&we.onVnodeBeforeMount)&&Wt(be,Xe,k),vs(_,!0),he&&ke){const A=()=>{_.subTree=Lo(_),ke(he,_.subTree,_,J,null)};D?k.type.__asyncLoader().then(()=>!_.isUnmounted&&A()):A()}else{const A=_.subTree=Lo(_);S(null,A,N,G,_,J,se),k.el=A.el}if(Be&&Dt(Be,J),!D&&(be=we&&we.onVnodeMounted)){const A=k;Dt(()=>Wt(be,Xe,A),J)}(k.shapeFlag&256||Xe&&Os(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&_.a&&Dt(_.a,J),_.isMounted=!0,k=N=G=null}},ie=_.effect=new uo(te,()=>ba(Z),_.scope),Z=_.update=()=>ie.run();Z.id=_.uid,vs(_,!0),Z()},ve=(_,k,N)=>{k.component=_;const G=_.vnode.props;_.vnode=k,_.next=null,Vm(_,k.props,G,N),Nm(_,k.children,N),Bs(),Rr(),Hs()},ze=(_,k,N,G,J,se,ce,te,ie=!1)=>{const Z=_&&_.children,be=_?_.shapeFlag:0,he=k.children,{patchFlag:we,shapeFlag:Te}=k;if(we>0){if(we&128){Ze(Z,he,N,G,J,se,ce,te,ie);return}else if(we&256){ct(Z,he,N,G,J,se,ce,te,ie);return}}Te&8?(be&16&&Q(Z,J,se),he!==Z&&c(N,he)):be&16?Te&16?Ze(Z,he,N,G,J,se,ce,te,ie):Q(Z,J,se,!0):(be&8&&c(N,""),Te&16&&I(he,N,G,J,se,ce,te,ie))},ct=(_,k,N,G,J,se,ce,te,ie)=>{_=_||qs,k=k||qs;const Z=_.length,be=k.length,he=Math.min(Z,be);let we;for(we=0;we<he;we++){const Te=k[we]=ie?ns(k[we]):en(k[we]);S(_[we],Te,N,null,J,se,ce,te,ie)}Z>be?Q(_,J,se,!0,!1,he):I(k,N,G,J,se,ce,te,ie,he)},Ze=(_,k,N,G,J,se,ce,te,ie)=>{let Z=0;const be=k.length;let he=_.length-1,we=be-1;for(;Z<=he&&Z<=we;){const Te=_[Z],Be=k[Z]=ie?ns(k[Z]):en(k[Z]);if(Tn(Te,Be))S(Te,Be,N,null,J,se,ce,te,ie);else break;Z++}for(;Z<=he&&Z<=we;){const Te=_[he],Be=k[we]=ie?ns(k[we]):en(k[we]);if(Tn(Te,Be))S(Te,Be,N,null,J,se,ce,te,ie);else break;he--,we--}if(Z>he){if(Z<=we){const Te=we+1,Be=Te<be?k[Te].el:G;for(;Z<=we;)S(null,k[Z]=ie?ns(k[Z]):en(k[Z]),N,Be,J,se,ce,te,ie),Z++}}else if(Z>we)for(;Z<=he;)qe(_[Z],J,se,!0),Z++;else{const Te=Z,Be=Z,Xe=new Map;for(Z=Be;Z<=we;Z++){const Me=k[Z]=ie?ns(k[Z]):en(k[Z]);Me.key!=null&&Xe.set(Me.key,Z)}let D,A=0;const L=we-Be+1;let q=!1,me=0;const Ee=new Array(L);for(Z=0;Z<L;Z++)Ee[Z]=0;for(Z=Te;Z<=he;Z++){const Me=_[Z];if(A>=L){qe(Me,J,se,!0);continue}let et;if(Me.key!=null)et=Xe.get(Me.key);else for(D=Be;D<=we;D++)if(Ee[D-Be]===0&&Tn(Me,k[D])){et=D;break}et===void 0?qe(Me,J,se,!0):(Ee[et-Be]=Z+1,et>=me?me=et:q=!0,S(Me,k[et],N,null,J,se,ce,te,ie),A++)}const Ue=q?Hm(Ee):qs;for(D=Ue.length-1,Z=L-1;Z>=0;Z--){const Me=Be+Z,et=k[Me],De=Me+1<be?k[Me+1].el:G;Ee[Z]===0?S(null,et,N,De,J,se,ce,te,ie):q&&(D<0||Z!==Ue[D]?Ye(et,N,De,2):D--)}}},Ye=(_,k,N,G,J=null)=>{const{el:se,type:ce,transition:te,children:ie,shapeFlag:Z}=_;if(Z&6){Ye(_.component.subTree,k,N,G);return}if(Z&128){_.suspense.move(k,N,G);return}if(Z&64){ce.move(_,k,N,We);return}if(ce===ee){i(se,k,N);for(let he=0;he<ie.length;he++)Ye(ie[he],k,N,G);i(_.anchor,k,N);return}if(ce===Ps){$(_,k,N);return}if(G!==2&&Z&1&&te)if(G===0)te.beforeEnter(se),i(se,k,N),Dt(()=>te.enter(se),J);else{const{leave:he,delayLeave:we,afterLeave:Te}=te,Be=()=>i(se,k,N),Xe=()=>{he(se,()=>{Be(),Te&&Te()})};we?we(se,Be,Xe):Xe()}else i(se,k,N)},qe=(_,k,N,G=!1,J=!1)=>{const{type:se,props:ce,ref:te,children:ie,dynamicChildren:Z,shapeFlag:be,patchFlag:he,dirs:we}=_;if(te!=null&&Qo(te,null,N,_,!0),be&256){k.ctx.deactivate(_);return}const Te=be&1&&we,Be=!Os(_);let Xe;if(Be&&(Xe=ce&&ce.onVnodeBeforeUnmount)&&Wt(Xe,k,_),be&6)oe(_.component,N,G);else{if(be&128){_.suspense.unmount(N,G);return}Te&&En(_,null,k,"beforeUnmount"),be&64?_.type.remove(_,k,N,J,We,G):Z&&(se!==ee||he>0&&he&64)?Q(Z,k,N,!1,!0):(se===ee&&he&384||!J&&be&16)&&Q(ie,k,N),G&&ft(_)}(Be&&(Xe=ce&&ce.onVnodeUnmounted)||Te)&&Dt(()=>{Xe&&Wt(Xe,k,_),Te&&En(_,null,k,"unmounted")},N)},ft=_=>{const{type:k,el:N,anchor:G,transition:J}=_;if(k===ee){z(N,G);return}if(k===Ps){E(_);return}const se=()=>{a(N),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(_.shapeFlag&1&&J&&!J.persisted){const{leave:ce,delayLeave:te}=J,ie=()=>ce(N,se);te?te(_.el,se,ie):ie()}else se()},z=(_,k)=>{let N;for(;_!==k;)N=h(_),a(_),_=N;a(k)},oe=(_,k,N)=>{const{bum:G,scope:J,update:se,subTree:ce,um:te}=_;G&&ti(G),J.stop(),se&&(se.active=!1,qe(ce,_,k,N)),te&&Dt(te,k),Dt(()=>{_.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},Q=(_,k,N,G=!1,J=!1,se=0)=>{for(let ce=se;ce<_.length;ce++)qe(_[ce],k,N,G,J)},fe=_=>_.shapeFlag&6?fe(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),Ve=(_,k,N)=>{_==null?k._vnode&&qe(k._vnode,null,null,!0):S(k._vnode||null,_,k,null,null,null,N),Rr(),Go(),k._vnode=_},We={p:S,um:qe,m:Ye,r:ft,mt:pe,mc:I,pc:ze,pbc:B,n:fe,o:e};let Pe,ke;return t&&([Pe,ke]=t(We)),{render:Ve,hydrate:Pe,createApp:Fm(Ve,Pe)}}function vs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ur(e,t,n=!1){const i=e.children,a=t.children;if(ye(i)&&ye(a))for(let l=0;l<i.length;l++){const o=i[l];let r=a[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=a[l]=ns(a[l]),r.el=o.el),n||ur(o,r))}}function Hm(e){const t=e.slice(),n=[0];let i,a,l,o,r;const u=e.length;for(i=0;i<u;i++){const d=e[i];if(d!==0){if(a=n[n.length-1],e[a]<d){t[i]=a,n.push(i);continue}for(l=0,o=n.length-1;l<o;)r=l+o>>1,e[n[r]]<d?l=r+1:o=r;d<e[n[l]]&&(l>0&&(t[i]=n[l-1]),n[l]=i)}}for(l=n.length,o=n[l-1];l-- >0;)n[l]=o,o=t[o];return n}const zm=e=>e.__isTeleport,Li=e=>e&&(e.disabled||e.disabled===""),xr=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,yl=(e,t)=>{const n=e&&e.to;return yt(n)?t?t(n):null:n},jm={__isTeleport:!0,process(e,t,n,i,a,l,o,r,u,d){const{mc:c,pc:f,pbc:h,o:{insert:m,querySelector:v,createText:b,createComment:S}}=d,w=Li(t.props);let{shapeFlag:g,children:C,dynamicChildren:$}=t;if(e==null){const E=t.el=b(""),T=t.anchor=b("");m(E,n,i),m(T,n,i);const V=t.target=yl(t.props,v),P=t.targetAnchor=b("");V&&(m(P,V),o=o||xr(V));const I=(U,B)=>{g&16&&c(C,U,B,a,l,o,r,u)};w?I(n,T):V&&I(V,P)}else{t.el=e.el;const E=t.anchor=e.anchor,T=t.target=e.target,V=t.targetAnchor=e.targetAnchor,P=Li(e.props),I=P?n:T,U=P?E:V;if(o=o||xr(T),$?(h(e.dynamicChildren,$,I,a,l,o,r),ur(e,t,!0)):u||f(e,t,I,U,a,l,o,r,!1),w)P||Ao(t,n,E,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=yl(t.props,v);B&&Ao(t,B,null,d,0)}else P&&Ao(t,T,V,d,1)}},remove(e,t,n,i,{um:a,o:{remove:l}},o){const{shapeFlag:r,children:u,anchor:d,targetAnchor:c,target:f,props:h}=e;if(f&&l(c),(o||!Li(h))&&(l(d),r&16))for(let m=0;m<u.length;m++){const v=u[m];a(v,t,n,!0,!!v.dynamicChildren)}},move:Ao,hydrate:Wm};function Ao(e,t,n,{o:{insert:i},m:a},l=2){l===0&&i(e.targetAnchor,t,n);const{el:o,anchor:r,shapeFlag:u,children:d,props:c}=e,f=l===2;if(f&&i(o,t,n),(!f||Li(c))&&u&16)for(let h=0;h<d.length;h++)a(d[h],t,n,2);f&&i(r,t,n)}function Wm(e,t,n,i,a,l,{o:{nextSibling:o,parentNode:r,querySelector:u}},d){const c=t.target=yl(t.props,u);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Li(t.props))t.anchor=d(o(e),t,r(e),n,i,a,l),t.targetAnchor=f;else{t.anchor=o(e);let h=f;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}d(f,t,c,n,i,a,l)}}return t.anchor&&o(t.anchor)}const xm=jm,ee=Symbol(void 0),li=Symbol(void 0),Mt=Symbol(void 0),Ps=Symbol(void 0),Fi=[];let Kt=null;function p(e=!1){Fi.push(Kt=e?null:[])}function sc(){Fi.pop(),Kt=Fi[Fi.length-1]||null}let Ns=1;function bl(e){Ns+=e}function ic(e){return e.dynamicChildren=Ns>0?Kt||qs:null,sc(),Ns>0&&Kt&&Kt.push(e),e}function y(e,t,n,i,a,l){return ic(s(e,t,n,i,a,l,!0))}function Ce(e,t,n,i,a){return ic(K(e,t,n,i,a,!0))}function hs(e){return e?e.__v_isVNode===!0:!1}function Tn(e,t){return e.type===t.type&&e.key===t.key}function Km(e){}const Ta="__vInternal",oc=({key:e})=>e!=null?e:null,Fo=({ref:e,ref_key:t,ref_for:n})=>e!=null?yt(e)||kt(e)||Re(e)?{i:Vt,r:e,k:t,f:!!n}:e:null;function s(e,t=null,n=null,i=0,a=null,l=e===ee?0:1,o=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oc(t),ref:t&&Fo(t),scopeId:$a,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:a,dynamicChildren:null,appContext:null};return r?(dr(u,n),l&128&&e.normalize(u)):n&&(u.shapeFlag|=yt(n)?8:16),Ns>0&&!o&&Kt&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&Kt.push(u),u}const K=Jm;function Jm(e,t=null,n=null,i=0,a=null,l=!1){if((!e||e===Wd)&&(e=Mt),hs(e)){const r=Pn(e,t,!0);return n&&dr(r,n),Ns>0&&!l&&Kt&&(r.shapeFlag&6?Kt[Kt.indexOf(e)]=r:Kt.push(r)),r.patchFlag|=-2,r}if(np(e)&&(e=e.__vccOpts),t){t=ac(t);let{class:r,style:u}=t;r&&!yt(r)&&(t.class=Se(r)),ut(u)&&(Jl(u)&&!ye(u)&&(u=St({},u)),t.style=at(u))}const o=yt(e)?1:Ad(e)?128:zm(e)?64:ut(e)?4:Re(e)?2:0;return s(e,t,n,i,a,o,l,!0)}function ac(e){return e?Jl(e)||Ta in e?St({},e):e:null}function Pn(e,t,n=!1){const{props:i,ref:a,patchFlag:l,children:o}=e,r=t?mo(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&oc(r),ref:t&&t.ref?n&&a?ye(a)?a.concat(Fo(t)):[a,Fo(t)]:Fo(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ee?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor}}function O(e=" ",t=0){return K(li,null,e,t)}function lc(e,t){const n=K(Ps,null,e);return n.staticCount=t,n}function M(e="",t=!1){return t?(p(),Ce(Mt,null,e)):K(Mt,null,e)}function en(e){return e==null||typeof e=="boolean"?K(Mt):ye(e)?K(ee,null,e.slice()):typeof e=="object"?ns(e):K(li,null,String(e))}function ns(e){return e.el===null||e.memo?e:Pn(e)}function dr(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(i&65){const a=t.default;a&&(a._c&&(a._d=!1),dr(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Ta in t)?t._ctx=Vt:a===3&&Vt&&(Vt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Re(t)?(t={default:t,_ctx:Vt},n=32):(t=String(t),i&64?(n=16,t=[O(t)]):n=8);e.children=t,e.shapeFlag|=n}function mo(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const a in i)if(a==="class")t.class!==i.class&&(t.class=Se([t.class,i.class]));else if(a==="style")t.style=at([t.style,i.style]);else if(ao(a)){const l=t[a],o=i[a];o&&l!==o&&!(ye(l)&&l.includes(o))&&(t[a]=l?[].concat(l,o):o)}else a!==""&&(t[a]=i[a])}return t}function Wt(e,t,n,i=null){sn(e,t,7,[n,i])}const Gm=qd();let Ym=0;function rc(e,t,n){const i=e.type,a=(t?t.appContext:e.appContext)||Gm,l={uid:Ym++,vnode:e,type:i,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yd(i,a),emitsOptions:Dd(i,a),emit:null,emitted:null,propsDefaults:st,inheritAttrs:i.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=im.bind(null,l),e.ce&&e.ce(l),l}let Et=null;const Jn=()=>Et||Vt,ms=e=>{Et=e,e.scope.on()},rs=()=>{Et&&Et.scope.off(),Et=null};function uc(e){return e.vnode.shapeFlag&4}let ri=!1;function dc(e,t=!1){ri=t;const{props:n,children:i}=e.vnode,a=uc(e);Rm(e,n,a,t),Um(e,i);const l=a?Xm(e,t):void 0;return ri=!1,l}function Xm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Gl(new Proxy(e.ctx,ml));const{setup:i}=n;if(i){const a=e.setupContext=i.length>1?fc(e):null;ms(e),Bs();const l=Dn(i,e,0,[e.props,a]);if(Hs(),rs(),Hl(l)){if(l.then(rs,rs),t)return l.then(o=>{wl(e,o,t)}).catch(o=>{zs(o,e,0)});e.asyncDep=l}else wl(e,l,t)}else cc(e,t)}function wl(e,t,n){Re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ut(t)&&(e.setupState=Ql(t)),cc(e,n)}let Zo,$l;function Qm(e){Zo=e,$l=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Tm))}}const Zm=()=>!Zo;function cc(e,t,n){const i=e.type;if(!e.render){if(!t&&Zo&&!i.render){const a=i.template||lr(e).template;if(a){const{isCustomElement:l,compilerOptions:o}=e.appContext.config,{delimiters:r,compilerOptions:u}=i,d=St(St({isCustomElement:l,delimiters:r},o),u);i.render=Zo(a,d)}}e.render=i.render||bn,$l&&$l(e)}ms(e),Bs(),Im(e),Hs(),rs()}function qm(e){return new Proxy(e.attrs,{get(t,n){return an(e,"get","$attrs"),t[n]}})}function fc(e){const t=i=>{e.exposed=i||{}};let n;return{get attrs(){return n||(n=qm(e))},slots:e.slots,emit:e.emit,expose:t}}function Ia(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ql(Gl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yo)return Yo[n](e)}}))}const ep=/(?:^|[-_])(\w)/g,tp=e=>e.replace(ep,t=>t.toUpperCase()).replace(/[-_]/g,"");function qo(e,t=!0){return Re(e)?e.displayName||e.name:e.name||t&&e.__name}function hc(e,t,n=!1){let i=qo(t);if(!i&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(i=a[1])}if(!i&&e&&e.parent){const a=l=>{for(const o in l)if(l[o]===t)return o};i=a(e.components||e.parent.type.components)||a(e.appContext.components)}return i?tp(i):n?"App":"Anonymous"}function np(e){return Re(e)&&"__vccOpts"in e}const ot=(e,t)=>Yh(e,t,ri);function sp(){return null}function ip(){return null}function op(e){}function ap(e,t){return null}function lp(){return mc().slots}function rp(){return mc().attrs}function mc(){const e=Jn();return e.setupContext||(e.setupContext=fc(e))}function up(e,t){const n=ye(e)?e.reduce((i,a)=>(i[a]={},i),{}):e;for(const i in t){const a=n[i];a?ye(a)||Re(a)?n[i]={type:a,default:t[i]}:a.default=t[i]:a===null&&(n[i]={default:t[i]})}return n}function dp(e,t){const n={};for(const i in e)t.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>e[i]});return n}function cp(e){const t=Jn();let n=e();return rs(),Hl(n)&&(n=n.catch(i=>{throw ms(t),i})),[n,()=>ms(t)]}function Da(e,t,n){const i=arguments.length;return i===2?ut(t)&&!ye(t)?hs(t)?K(e,null,[t]):K(e,t):K(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hs(n)&&(n=[n]),K(e,t,n))}const pc=Symbol(""),fp=()=>{{const e=cn(pc);return e||Cd("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function hp(){}function mp(e,t,n,i){const a=n[i];if(a&&gc(a,e))return a;const l=t();return l.memo=e.slice(),n[i]=l}function gc(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let i=0;i<n.length;i++)if(oi(n[i],t[i]))return!1;return Ns>0&&Kt&&Kt.push(e),!0}const vc="3.2.39",pp={createComponentInstance:rc,setupComponent:dc,renderComponentRoot:Lo,setCurrentRenderingInstance:qi,isVNode:hs,normalizeVNode:en},gp=pp,vp=null,yp=null,bp="http://www.w3.org/2000/svg",ks=typeof document!="undefined"?document:null,Kr=ks&&ks.createElement("template"),wp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const a=t?ks.createElementNS(bp,e):ks.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&a.setAttribute("multiple",i.multiple),a},createText:e=>ks.createTextNode(e),createComment:e=>ks.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ks.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,a,l){const o=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Kr.innerHTML=i?`<svg>${e}</svg>`:e;const r=Kr.content;if(i){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $p(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Sp(e,t,n){const i=e.style,a=yt(n);if(n&&!a){for(const l in n)Sl(i,l,n[l]);if(t&&!yt(t))for(const l in t)n[l]==null&&Sl(i,l,"")}else{const l=i.display;a?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=l)}}const Jr=/\s*!important$/;function Sl(e,t,n){if(ye(n))n.forEach(i=>Sl(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Cp(e,t);Jr.test(n)?e.setProperty(In(i),n.replace(Jr,""),"important"):e[i]=n}}const Gr=["Webkit","Moz","ms"],xa={};function Cp(e,t){const n=xa[t];if(n)return n;let i=on(t);if(i!=="filter"&&i in e)return xa[t]=i;i=ro(i);for(let a=0;a<Gr.length;a++){const l=Gr[a]+i;if(l in e)return xa[t]=l}return t}const Yr="http://www.w3.org/1999/xlink";function _p(e,t,n,i,a){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Yr,t.slice(6,t.length)):e.setAttributeNS(Yr,t,n);else{const l=Xf(t);n==null||l&&!td(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function Ep(e,t,n,i,a,l,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,a,l),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=td(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}const[yc,kp]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Cl=0;const Tp=Promise.resolve(),Ip=()=>{Cl=0},Dp=()=>Cl||(Tp.then(Ip),Cl=yc());function Bn(e,t,n,i){e.addEventListener(t,n,i)}function Ap(e,t,n,i){e.removeEventListener(t,n,i)}function Op(e,t,n,i,a=null){const l=e._vei||(e._vei={}),o=l[t];if(i&&o)o.value=i;else{const[r,u]=Pp(t);if(i){const d=l[t]=Rp(i,a);Bn(e,r,d,u)}else o&&(Ap(e,r,o,u),l[t]=void 0)}}const Xr=/(?:Once|Passive|Capture)$/;function Pp(e){let t;if(Xr.test(e)){t={};let i;for(;i=e.match(Xr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),t]}function Rp(e,t){const n=i=>{const a=i.timeStamp||yc();(kp||a>=n.attached-1)&&sn(Vp(i,n.value),t,5,[i])};return n.value=e,n.attached=Dp(),n}function Vp(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>a=>!a._stopped&&i&&i(a))}else return t}const Qr=/^on[a-z]/,Mp=(e,t,n,i,a=!1,l,o,r,u)=>{t==="class"?$p(e,i,a):t==="style"?Sp(e,n,i):ao(t)?Fl(t)||Op(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Up(e,t,i,a))?Ep(e,t,i,l,o,r,u):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),_p(e,t,i,a))};function Up(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Qr.test(t)&&Re(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qr.test(t)&&yt(n)?!1:t in e}function bc(e,t){const n=le(e);class i extends Aa{constructor(l){super(n,l,t)}}return i.def=n,i}const Np=e=>bc(e,Rc),Lp=typeof HTMLElement!="undefined"?HTMLElement:class{};class Aa extends Lp{constructor(t,n={},i){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,co(()=>{this._connected||(El(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const a of i)this._setAttr(a.attributeName)}).observe(this,{attributes:!0});const t=i=>{const{props:a,styles:l}=i,o=!ye(a),r=a?o?Object.keys(a):a:[];let u;if(o)for(const d in this._props){const c=a[d];(c===Number||c&&c.type===Number)&&(this._props[d]=cs(this._props[d]),(u||(u=Object.create(null)))[d]=!0)}this._numberProps=u;for(const d of Object.keys(this))d[0]!=="_"&&this._setProp(d,this[d],!0,!1);for(const d of r.map(on))Object.defineProperty(this,d,{get(){return this._getProp(d)},set(c){this._setProp(d,c)}});this._applyStyles(l),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=cs(n)),this._setProp(on(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,i=!0,a=!0){n!==this._props[t]&&(this._props[t]=n,a&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(In(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(In(t),n+""):n||this.removeAttribute(In(t))))}_update(){El(this._createVNode(),this.shadowRoot)}_createVNode(){const t=K(this._def,St({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(a,...l)=>{this.dispatchEvent(new CustomEvent(a,{detail:l}))};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Aa){n.parent=i._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const i=document.createElement("style");i.textContent=n,this.shadowRoot.appendChild(i)})}}function Fp(e="$style"){{const t=Jn();if(!t)return st;const n=t.type.__cssModules;if(!n)return st;const i=n[e];return i||st}}function Bp(e){const t=Jn();if(!t)return;const n=()=>_l(t.subTree,e(t.proxy));Pd(n),Ft(()=>{const i=new MutationObserver(n);i.observe(t.subTree.el.parentNode,{childList:!0}),Kn(()=>i.disconnect())})}function _l(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{_l(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Zr(e.el,t);else if(e.type===ee)e.children.forEach(n=>_l(n,t));else if(e.type===Ps){let{el:n,anchor:i}=e;for(;n&&(Zr(n,t),n!==i);)n=n.nextSibling}}function Zr(e,t){if(e.nodeType===1){const n=e.style;for(const i in t)n.setProperty(`--${i}`,t[i])}}const Zn="transition",bi="animation",cr=(e,{slots:t})=>Da(sr,$c(e),t);cr.displayName="Transition";const wc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Hp=cr.props=St({},sr.props,wc),ys=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},qr=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function $c(e){const t={};for(const W in e)W in wc||(t[W]=e[W]);if(e.css===!1)return t;const{name:n="v",type:i,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:r=`${n}-enter-to`,appearFromClass:u=l,appearActiveClass:d=o,appearToClass:c=r,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,v=zp(a),b=v&&v[0],S=v&&v[1],{onBeforeEnter:w,onEnter:g,onEnterCancelled:C,onLeave:$,onLeaveCancelled:E,onBeforeAppear:T=w,onAppear:V=g,onAppearCancelled:P=C}=t,I=(W,H,F)=>{es(W,H?c:r),es(W,H?d:o),F&&F()},U=(W,H)=>{W._isLeaving=!1,es(W,f),es(W,m),es(W,h),H&&H()},B=W=>(H,F)=>{const pe=W?V:g,X=()=>I(H,W,F);ys(pe,[H,X]),eu(()=>{es(H,W?u:l),Ln(H,W?c:r),qr(pe)||tu(H,i,b,X)})};return St(t,{onBeforeEnter(W){ys(w,[W]),Ln(W,l),Ln(W,o)},onBeforeAppear(W){ys(T,[W]),Ln(W,u),Ln(W,d)},onEnter:B(!1),onAppear:B(!0),onLeave(W,H){W._isLeaving=!0;const F=()=>U(W,H);Ln(W,f),Cc(),Ln(W,h),eu(()=>{!W._isLeaving||(es(W,f),Ln(W,m),qr($)||tu(W,i,S,F))}),ys($,[W,F])},onEnterCancelled(W){I(W,!1),ys(C,[W])},onAppearCancelled(W){I(W,!0),ys(P,[W])},onLeaveCancelled(W){U(W),ys(E,[W])}})}function zp(e){if(e==null)return null;if(ut(e))return[Ka(e.enter),Ka(e.leave)];{const t=Ka(e);return[t,t]}}function Ka(e){return cs(e)}function Ln(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function es(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function eu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let jp=0;function tu(e,t,n,i){const a=e._endId=++jp,l=()=>{a===e._endId&&i()};if(n)return setTimeout(l,n);const{type:o,timeout:r,propCount:u}=Sc(e,t);if(!o)return i();const d=o+"end";let c=0;const f=()=>{e.removeEventListener(d,h),l()},h=m=>{m.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},r+1),e.addEventListener(d,h)}function Sc(e,t){const n=window.getComputedStyle(e),i=v=>(n[v]||"").split(", "),a=i(Zn+"Delay"),l=i(Zn+"Duration"),o=nu(a,l),r=i(bi+"Delay"),u=i(bi+"Duration"),d=nu(r,u);let c=null,f=0,h=0;t===Zn?o>0&&(c=Zn,f=o,h=l.length):t===bi?d>0&&(c=bi,f=d,h=u.length):(f=Math.max(o,d),c=f>0?o>d?Zn:bi:null,h=c?c===Zn?l.length:u.length:0);const m=c===Zn&&/\b(transform|all)(,|$)/.test(n[Zn+"Property"]);return{type:c,timeout:f,propCount:h,hasTransform:m}}function nu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>su(n)+su(e[i])))}function su(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Cc(){return document.body.offsetHeight}const _c=new WeakMap,Ec=new WeakMap,Wp={name:"TransitionGroup",props:St({},Hp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Jn(),i=nr();let a,l;return _a(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Gp(a[0].el,n.vnode.el,o))return;a.forEach(xp),a.forEach(Kp);const r=a.filter(Jp);Cc(),r.forEach(u=>{const d=u.el,c=d.style;Ln(d,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=d._moveCb=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d._moveCb=null,es(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=Ke(e),r=$c(o);let u=o.tag||ee;a=l,l=t.default?Sa(t.default()):[];for(let d=0;d<l.length;d++){const c=l[d];c.key!=null&&Us(c,ai(c,r,i,n))}if(a)for(let d=0;d<a.length;d++){const c=a[d];Us(c,ai(c,r,i,n)),_c.set(c,c.el.getBoundingClientRect())}return K(u,null,l)}}},kc=Wp;function xp(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Kp(e){Ec.set(e,e.el.getBoundingClientRect())}function Jp(e){const t=_c.get(e),n=Ec.get(e),i=t.left-n.left,a=t.top-n.top;if(i||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${i}px,${a}px)`,l.transitionDuration="0s",e}}function Gp(e,t,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(r=>r&&i.classList.remove(r))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(i);const{hasTransform:l}=Sc(i);return a.removeChild(i),l}const ps=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>ti(t,n):t};function Yp(e){e.target.composing=!0}function iu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const x={created(e,{modifiers:{lazy:t,trim:n,number:i}},a){e._assign=ps(a);const l=i||a.props&&a.props.type==="number";Bn(e,t?"change":"input",o=>{if(o.target.composing)return;let r=e.value;n&&(r=r.trim()),l&&(r=cs(r)),e._assign(r)}),n&&Bn(e,"change",()=>{e.value=e.value.trim()}),t||(Bn(e,"compositionstart",Yp),Bn(e,"compositionend",iu),Bn(e,"change",iu))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:a}},l){if(e._assign=ps(l),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(a||e.type==="number")&&cs(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},lt={deep:!0,created(e,t,n){e._assign=ps(n),Bn(e,"change",()=>{const i=e._modelValue,a=ui(e),l=e.checked,o=e._assign;if(ye(i)){const r=fa(i,a),u=r!==-1;if(l&&!u)o(i.concat(a));else if(!l&&u){const d=[...i];d.splice(r,1),o(d)}}else if(Fs(i)){const r=new Set(i);l?r.add(a):r.delete(a),o(r)}else o(Tc(e,l))})},mounted:ou,beforeUpdate(e,t,n){e._assign=ps(n),ou(e,t,n)}};function ou(e,{value:t,oldValue:n},i){e._modelValue=t,ye(t)?e.checked=fa(t,i.props.value)>-1:Fs(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=ds(t,Tc(e,!0)))}const Jt={created(e,{value:t},n){e.checked=ds(t,n.props.value),e._assign=ps(n),Bn(e,"change",()=>{e._assign(ui(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ps(i),t!==n&&(e.checked=ds(t,i.props.value))}},gs={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const a=Fs(t);Bn(e,"change",()=>{const l=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?cs(ui(o)):ui(o));e._assign(e.multiple?a?new Set(l):l:l[0])}),e._assign=ps(i)},mounted(e,{value:t}){au(e,t)},beforeUpdate(e,t,n){e._assign=ps(n)},updated(e,{value:t}){au(e,t)}};function au(e,t){const n=e.multiple;if(!(n&&!ye(t)&&!Fs(t))){for(let i=0,a=e.options.length;i<a;i++){const l=e.options[i],o=ui(l);if(n)ye(t)?l.selected=fa(t,o)>-1:l.selected=t.has(o);else if(ds(ui(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ui(e){return"_value"in e?e._value:e.value}function Tc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ic={created(e,t,n){Oo(e,t,n,null,"created")},mounted(e,t,n){Oo(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Oo(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Oo(e,t,n,i,"updated")}};function Dc(e,t){switch(e){case"SELECT":return gs;case"TEXTAREA":return x;default:switch(t){case"checkbox":return lt;case"radio":return Jt;default:return x}}}function Oo(e,t,n,i,a){const o=Dc(e.tagName,n.props&&n.props.type)[a];o&&o(e,t,n,i)}function Xp(){x.getSSRProps=({value:e})=>({value:e}),Jt.getSSRProps=({value:e},t)=>{if(t.props&&ds(t.props.value,e))return{checked:!0}},lt.getSSRProps=({value:e},t)=>{if(ye(e)){if(t.props&&fa(e,t.props.value)>-1)return{checked:!0}}else if(Fs(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Ic.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Dc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Qp=["ctrl","shift","alt","meta"],Zp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Qp.some(n=>e[`${n}Key`]&&!t.includes(n))},ea=(e,t)=>(n,...i)=>{for(let a=0;a<t.length;a++){const l=Zp[t[a]];if(l&&l(n,t))return}return e(n,...i)},qp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wn=(e,t)=>n=>{if(!("key"in n))return;const i=In(n.key);if(t.some(a=>a===i||qp[a]===i))return e(n)},pi={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):wi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),wi(e,!0),i.enter(e)):i.leave(e,()=>{wi(e,!1)}):wi(e,t))},beforeUnmount(e,{value:t}){wi(e,t)}};function wi(e,t){e.style.display=t?e._vod:"none"}function eg(){pi.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Ac=St({patchProp:Mp},wp);let Bi,lu=!1;function Oc(){return Bi||(Bi=ec(Ac))}function Pc(){return Bi=lu?Bi:tc(Ac),lu=!0,Bi}const El=(...e)=>{Oc().render(...e)},Rc=(...e)=>{Pc().hydrate(...e)},fr=(...e)=>{const t=Oc().createApp(...e),{mount:n}=t;return t.mount=i=>{const a=Vc(i);if(!a)return;const l=t._component;!Re(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t},tg=(...e)=>{const t=Pc().createApp(...e),{mount:n}=t;return t.mount=i=>{const a=Vc(i);if(a)return n(a,!0,a instanceof SVGElement)},t};function Vc(e){return yt(e)?document.querySelector(e):e}let ru=!1;const ng=()=>{ru||(ru=!0,Xp(),eg())},sg=()=>{};var ig=Object.freeze(Object.defineProperty({__proto__:null,compile:sg,EffectScope:jl,ReactiveEffect:uo,customRef:xh,effect:mh,effectScope:uh,getCurrentScope:dh,isProxy:Jl,isReactive:As,isReadonly:Ms,isRef:kt,isShallow:Yi,markRaw:Gl,onScopeDispose:ch,proxyRefs:Ql,reactive:mi,readonly:Kl,ref:_e,shallowReactive:yd,shallowReadonly:Bh,shallowRef:bd,stop:ph,toRaw:Ke,toRef:$d,toRefs:Kh,triggerRef:zh,unref:tt,camelize:on,capitalize:ro,normalizeClass:Se,normalizeProps:eh,normalizeStyle:at,toDisplayString:Y,toHandlerKey:Mi,BaseTransition:sr,Comment:Mt,Fragment:ee,KeepAlive:Sm,Static:Ps,Suspense:cm,Teleport:xm,Text:li,callWithAsyncErrorHandling:sn,callWithErrorHandling:Dn,cloneVNode:Pn,compatUtils:yp,computed:ot,createBlock:Ce,createCommentVNode:M,createElementBlock:y,createElementVNode:s,createHydrationRenderer:tc,createPropsRestProxy:dp,createRenderer:ec,createSlots:km,createStaticVNode:lc,createTextVNode:O,createVNode:K,defineAsyncComponent:wm,defineComponent:le,defineEmits:ip,defineExpose:op,defineProps:sp,get devtools(){return Gs},getCurrentInstance:Jn,getTransitionRawChildren:Sa,guardReactiveProps:ac,h:Da,handleError:zs,initCustomFormatter:hp,inject:cn,isMemoSame:gc,isRuntimeOnly:Zm,isVNode:hs,mergeDefaults:up,mergeProps:mo,nextTick:co,onActivated:Md,onBeforeMount:Ld,onBeforeUnmount:Ea,onBeforeUpdate:Fd,onDeactivated:Ud,onErrorCaptured:jd,onMounted:Ft,onRenderTracked:zd,onRenderTriggered:Hd,onServerPrefetch:Bd,onUnmounted:Kn,onUpdated:_a,openBlock:p,popScopeId:Cn,provide:Ni,pushScopeId:Sn,queuePostFlushCb:ql,registerRuntimeCompiler:Qm,renderList:de,renderSlot:ar,resolveComponent:j,resolveDirective:Em,resolveDynamicComponent:ka,resolveFilter:vp,resolveTransitionHooks:ai,setBlockTracking:bl,setDevtoolsHook:Id,setTransitionHooks:Us,ssrContextKey:pc,ssrUtils:gp,toHandlers:Kd,transformVNodeArgs:Km,useAttrs:rp,useSSRContext:fp,useSlots:lp,useTransitionState:nr,version:vc,warn:Cd,watch:Gt,watchEffect:gm,watchPostEffect:Pd,watchSyncEffect:vm,withAsyncContext:cp,withCtx:rt,withDefaults:ap,withDirectives:R,withMemo:mp,withScopeId:om,Transition:cr,TransitionGroup:kc,VueElement:Aa,createApp:fr,createSSRApp:tg,defineCustomElement:bc,defineSSRCustomElement:Np,hydrate:Rc,initDirectivesForSSR:ng,render:El,useCssModule:Fp,useCssVars:Bp,vModelCheckbox:lt,vModelDynamic:Ic,vModelRadio:Jt,vModelSelect:gs,vModelText:x,vShow:pi,withKeys:Wn,withModifiers:ea},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Ys=typeof window!="undefined";function og(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const it=Object.assign;function Ja(e,t){const n={};for(const i in t){const a=t[i];n[i]=wn(a)?a.map(e):e(a)}return n}const Hi=()=>{},wn=Array.isArray,ag=/\/$/,lg=e=>e.replace(ag,"");function Ga(e,t,n="/"){let i,a={},l="",o="";const r=t.indexOf("#");let u=t.indexOf("?");return r<u&&r>=0&&(u=-1),u>-1&&(i=t.slice(0,u),l=t.slice(u+1,r>-1?r:t.length),a=e(l)),r>-1&&(i=i||t.slice(0,r),o=t.slice(r,t.length)),i=cg(i!=null?i:t,n),{fullPath:i+(l&&"?")+l+o,path:i,query:a,hash:o}}function rg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function uu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ug(e,t,n){const i=t.matched.length-1,a=n.matched.length-1;return i>-1&&i===a&&di(t.matched[i],n.matched[a])&&Mc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function di(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!dg(e[n],t[n]))return!1;return!0}function dg(e,t){return wn(e)?du(e,t):wn(t)?du(t,e):e===t}function du(e,t){return wn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function cg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let a=n.length-1,l,o;for(l=0;l<i.length;l++)if(o=i[l],o!==".")if(o==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var to;(function(e){e.pop="pop",e.push="push"})(to||(to={}));var zi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(zi||(zi={}));function fg(e){if(!e)if(Ys){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),lg(e)}const hg=/^[^#]+#/;function mg(e,t){return e.replace(hg,"#")+t}function pg(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Oa=()=>({left:window.pageXOffset,top:window.pageYOffset});function gg(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=pg(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function cu(e,t){return(history.state?history.state.position-t:-1)+e}const kl=new Map;function vg(e,t){kl.set(e,t)}function yg(e){const t=kl.get(e);return kl.delete(e),t}let bg=()=>location.protocol+"//"+location.host;function Uc(e,t){const{pathname:n,search:i,hash:a}=t,l=e.indexOf("#");if(l>-1){let r=a.includes(e.slice(l))?e.slice(l).length:1,u=a.slice(r);return u[0]!=="/"&&(u="/"+u),uu(u,"")}return uu(n,e)+i+a}function wg(e,t,n,i){let a=[],l=[],o=null;const r=({state:h})=>{const m=Uc(e,location),v=n.value,b=t.value;let S=0;if(h){if(n.value=m,t.value=h,o&&o===v){o=null;return}S=b?h.position-b.position:0}else i(m);a.forEach(w=>{w(n.value,v,{delta:S,type:to.pop,direction:S?S>0?zi.forward:zi.back:zi.unknown})})};function u(){o=n.value}function d(h){a.push(h);const m=()=>{const v=a.indexOf(h);v>-1&&a.splice(v,1)};return l.push(m),m}function c(){const{history:h}=window;!h.state||h.replaceState(it({},h.state,{scroll:Oa()}),"")}function f(){for(const h of l)h();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:d,destroy:f}}function fu(e,t,n,i=!1,a=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:a?Oa():null}}function $g(e){const{history:t,location:n}=window,i={value:Uc(e,n)},a={value:t.state};a.value||l(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,d,c){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+u:bg()+e+u;try{t[c?"replaceState":"pushState"](d,"",h),a.value=d}catch(m){console.error(m),n[c?"replace":"assign"](h)}}function o(u,d){const c=it({},t.state,fu(a.value.back,u,a.value.forward,!0),d,{position:a.value.position});l(u,c,!0),i.value=u}function r(u,d){const c=it({},a.value,t.state,{forward:u,scroll:Oa()});l(c.current,c,!0);const f=it({},fu(i.value,u,null),{position:c.position+1},d);l(u,f,!1),i.value=u}return{location:i,state:a,push:r,replace:o}}function Sg(e){e=fg(e);const t=$g(e),n=wg(e,t.state,t.location,t.replace);function i(l,o=!0){o||n.pauseListeners(),history.go(l)}const a=it({location:"",base:e,go:i,createHref:mg.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Cg(e){return typeof e=="string"||e&&typeof e=="object"}function Nc(e){return typeof e=="string"||typeof e=="symbol"}const qn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Lc=Symbol("");var hu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(hu||(hu={}));function ci(e,t){return it(new Error,{type:e,[Lc]:!0},t)}function Mn(e,t){return e instanceof Error&&Lc in e&&(t==null||!!(e.type&t))}const mu="[^/]+?",_g={sensitive:!1,strict:!1,start:!0,end:!0},Eg=/[.+*?^${}()[\]/\\]/g;function kg(e,t){const n=it({},_g,t),i=[];let a=n.start?"^":"";const l=[];for(const d of e){const c=d.length?[]:[90];n.strict&&!d.length&&(a+="/");for(let f=0;f<d.length;f++){const h=d[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(Eg,"\\$&"),m+=40;else if(h.type===1){const{value:v,repeatable:b,optional:S,regexp:w}=h;l.push({name:v,repeatable:b,optional:S});const g=w||mu;if(g!==mu){m+=10;try{new RegExp(`(${g})`)}catch($){throw new Error(`Invalid custom RegExp for param "${v}" (${g}): `+$.message)}}let C=b?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(C=S&&d.length<2?`(?:/${C})`:"/"+C),S&&(C+="?"),a+=C,m+=20,S&&(m+=-8),b&&(m+=-20),g===".*"&&(m+=-50)}c.push(m)}i.push(c)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function r(d){const c=d.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const m=c[h]||"",v=l[h-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function u(d){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const m of h)if(m.type===0)c+=m.value;else if(m.type===1){const{value:v,repeatable:b,optional:S}=m,w=v in d?d[v]:"";if(wn(w)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const g=wn(w)?w.join("/"):w;if(!g)if(S)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=g}}return c||"/"}return{re:o,score:i,keys:l,parse:r,stringify:u}}function Tg(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Ig(e,t){let n=0;const i=e.score,a=t.score;for(;n<i.length&&n<a.length;){const l=Tg(i[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-i.length)===1){if(pu(i))return 1;if(pu(a))return-1}return a.length-i.length}function pu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dg={type:0,value:""},Ag=/[a-zA-Z0-9_]/;function Og(e){if(!e)return[[]];if(e==="/")return[[Dg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,i=n;const a=[];let l;function o(){l&&a.push(l),l=[]}let r=0,u,d="",c="";function f(){!d||(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=u}for(;r<e.length;){if(u=e[r++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(d&&f(),o()):u===":"?(f(),n=1):h();break;case 4:h(),n=i;break;case 1:u==="("?n=2:Ag.test(u)?h():(f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:n=3:c+=u;break;case 3:f(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),o(),a}function Pg(e,t,n){const i=kg(Og(e.path),n),a=it(i,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Rg(e,t){const n=[],i=new Map;t=yu({strict:!1,end:!0,sensitive:!1},t);function a(c){return i.get(c)}function l(c,f,h){const m=!h,v=Vg(c);v.aliasOf=h&&h.record;const b=yu(t,c),S=[v];if("alias"in c){const C=typeof c.alias=="string"?[c.alias]:c.alias;for(const $ of C)S.push(it({},v,{components:h?h.record.components:v.components,path:$,aliasOf:h?h.record:v}))}let w,g;for(const C of S){const{path:$}=C;if(f&&$[0]!=="/"){const E=f.record.path,T=E[E.length-1]==="/"?"":"/";C.path=f.record.path+($&&T+$)}if(w=Pg(C,f,b),h?h.alias.push(w):(g=g||w,g!==w&&g.alias.push(w),m&&c.name&&!vu(w)&&o(c.name)),v.children){const E=v.children;for(let T=0;T<E.length;T++)l(E[T],w,h&&h.children[T])}h=h||w,u(w)}return g?()=>{o(g)}:Hi}function o(c){if(Nc(c)){const f=i.get(c);f&&(i.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&i.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function r(){return n}function u(c){let f=0;for(;f<n.length&&Ig(c,n[f])>=0&&(c.record.path!==n[f].record.path||!Fc(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!vu(c)&&i.set(c.record.name,c)}function d(c,f){let h,m={},v,b;if("name"in c&&c.name){if(h=i.get(c.name),!h)throw ci(1,{location:c});b=h.record.name,m=it(gu(f.params,h.keys.filter(g=>!g.optional).map(g=>g.name)),c.params&&gu(c.params,h.keys.map(g=>g.name))),v=h.stringify(m)}else if("path"in c)v=c.path,h=n.find(g=>g.re.test(v)),h&&(m=h.parse(v),b=h.record.name);else{if(h=f.name?i.get(f.name):n.find(g=>g.re.test(f.path)),!h)throw ci(1,{location:c,currentLocation:f});b=h.record.name,m=it({},f.params,c.params),v=h.stringify(m)}const S=[];let w=h;for(;w;)S.unshift(w.record),w=w.parent;return{name:b,path:v,params:m,matched:S,meta:Ug(S)}}return e.forEach(c=>l(c)),{addRoute:l,resolve:d,removeRoute:o,getRoutes:r,getRecordMatcher:a}}function gu(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Vg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Mg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Mg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="boolean"?n:n[i];return t}function vu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ug(e){return e.reduce((t,n)=>it(t,n.meta),{})}function yu(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Fc(e,t){return t.children.some(n=>n===e||Fc(e,n))}const Bc=/#/g,Ng=/&/g,Lg=/\//g,Fg=/=/g,Bg=/\?/g,Hc=/\+/g,Hg=/%5B/g,zg=/%5D/g,zc=/%5E/g,jg=/%60/g,jc=/%7B/g,Wg=/%7C/g,Wc=/%7D/g,xg=/%20/g;function hr(e){return encodeURI(""+e).replace(Wg,"|").replace(Hg,"[").replace(zg,"]")}function Kg(e){return hr(e).replace(jc,"{").replace(Wc,"}").replace(zc,"^")}function Tl(e){return hr(e).replace(Hc,"%2B").replace(xg,"+").replace(Bc,"%23").replace(Ng,"%26").replace(jg,"`").replace(jc,"{").replace(Wc,"}").replace(zc,"^")}function Jg(e){return Tl(e).replace(Fg,"%3D")}function Gg(e){return hr(e).replace(Bc,"%23").replace(Bg,"%3F")}function Yg(e){return e==null?"":Gg(e).replace(Lg,"%2F")}function ta(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Xg(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<i.length;++a){const l=i[a].replace(Hc," "),o=l.indexOf("="),r=ta(o<0?l:l.slice(0,o)),u=o<0?null:ta(l.slice(o+1));if(r in t){let d=t[r];wn(d)||(d=t[r]=[d]),d.push(u)}else t[r]=u}return t}function bu(e){let t="";for(let n in e){const i=e[n];if(n=Jg(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(wn(i)?i.map(l=>l&&Tl(l)):[i&&Tl(i)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function Qg(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=wn(i)?i.map(a=>a==null?null:""+a):i==null?i:""+i)}return t}const Zg=Symbol(""),wu=Symbol(""),Pa=Symbol(""),xc=Symbol(""),Il=Symbol("");function $i(){let e=[];function t(i){return e.push(i),()=>{const a=e.indexOf(i);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ss(e,t,n,i,a){const l=i&&(i.enterCallbacks[a]=i.enterCallbacks[a]||[]);return()=>new Promise((o,r)=>{const u=f=>{f===!1?r(ci(4,{from:n,to:t})):f instanceof Error?r(f):Cg(f)?r(ci(2,{from:t,to:f})):(l&&i.enterCallbacks[a]===l&&typeof f=="function"&&l.push(f),o())},d=e.call(i&&i.instances[a],t,n,u);let c=Promise.resolve(d);e.length<3&&(c=c.then(u)),c.catch(f=>r(f))})}function Ya(e,t,n,i){const a=[];for(const l of e)for(const o in l.components){let r=l.components[o];if(!(t!=="beforeRouteEnter"&&!l.instances[o]))if(qg(r)){const d=(r.__vccOpts||r)[t];d&&a.push(ss(d,n,i,l,o))}else{let u=r();a.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${l.path}"`));const c=og(d)?d.default:d;l.components[o]=c;const h=(c.__vccOpts||c)[t];return h&&ss(h,n,i,l,o)()}))}}return a}function qg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function $u(e){const t=cn(Pa),n=cn(xc),i=ot(()=>t.resolve(tt(e.to))),a=ot(()=>{const{matched:u}=i.value,{length:d}=u,c=u[d-1],f=n.matched;if(!c||!f.length)return-1;const h=f.findIndex(di.bind(null,c));if(h>-1)return h;const m=Su(u[d-2]);return d>1&&Su(c)===m&&f[f.length-1].path!==m?f.findIndex(di.bind(null,u[d-2])):h}),l=ot(()=>a.value>-1&&sv(n.params,i.value.params)),o=ot(()=>a.value>-1&&a.value===n.matched.length-1&&Mc(n.params,i.value.params));function r(u={}){return nv(u)?t[tt(e.replace)?"replace":"push"](tt(e.to)).catch(Hi):Promise.resolve()}return{route:i,href:ot(()=>i.value.href),isActive:l,isExactActive:o,navigate:r}}const ev=le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$u,setup(e,{slots:t}){const n=mi($u(e)),{options:i}=cn(Pa),a=ot(()=>({[Cu(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Cu(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:Da("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),tv=ev;function nv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sv(e,t){for(const n in t){const i=t[n],a=e[n];if(typeof i=="string"){if(i!==a)return!1}else if(!wn(a)||a.length!==i.length||i.some((l,o)=>l!==a[o]))return!1}return!0}function Su(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Cu=(e,t,n)=>e!=null?e:t!=null?t:n,iv=le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=cn(Il),a=ot(()=>e.route||i.value),l=cn(wu,0),o=ot(()=>{let d=tt(l);const{matched:c}=a.value;let f;for(;(f=c[d])&&!f.components;)d++;return d}),r=ot(()=>a.value.matched[o.value]);Ni(wu,ot(()=>o.value+1)),Ni(Zg,r),Ni(Il,a);const u=_e();return Gt(()=>[u.value,r.value,e.name],([d,c,f],[h,m,v])=>{c&&(c.instances[f]=d,m&&m!==c&&d&&d===h&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),d&&c&&(!m||!di(c,m)||!h)&&(c.enterCallbacks[f]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=a.value,c=e.name,f=r.value,h=f&&f.components[c];if(!h)return _u(n.default,{Component:h,route:d});const m=f.props[c],v=m?m===!0?d.params:typeof m=="function"?m(d):m:null,S=Da(h,it({},v,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return _u(n.default,{Component:S,route:d})||S}}});function _u(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ov=iv;function av(e){const t=Rg(e.routes,e),n=e.parseQuery||Xg,i=e.stringifyQuery||bu,a=e.history,l=$i(),o=$i(),r=$i(),u=bd(qn);let d=qn;Ys&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ja.bind(null,z=>""+z),f=Ja.bind(null,Yg),h=Ja.bind(null,ta);function m(z,oe){let Q,fe;return Nc(z)?(Q=t.getRecordMatcher(z),fe=oe):fe=z,t.addRoute(fe,Q)}function v(z){const oe=t.getRecordMatcher(z);oe&&t.removeRoute(oe)}function b(){return t.getRoutes().map(z=>z.record)}function S(z){return!!t.getRecordMatcher(z)}function w(z,oe){if(oe=it({},oe||u.value),typeof z=="string"){const ke=Ga(n,z,oe.path),_=t.resolve({path:ke.path},oe),k=a.createHref(ke.fullPath);return it(ke,_,{params:h(_.params),hash:ta(ke.hash),redirectedFrom:void 0,href:k})}let Q;if("path"in z)Q=it({},z,{path:Ga(n,z.path,oe.path).path});else{const ke=it({},z.params);for(const _ in ke)ke[_]==null&&delete ke[_];Q=it({},z,{params:f(z.params)}),oe.params=f(oe.params)}const fe=t.resolve(Q,oe),Ve=z.hash||"";fe.params=c(h(fe.params));const We=rg(i,it({},z,{hash:Kg(Ve),path:fe.path})),Pe=a.createHref(We);return it({fullPath:We,hash:Ve,query:i===bu?Qg(z.query):z.query||{}},fe,{redirectedFrom:void 0,href:Pe})}function g(z){return typeof z=="string"?Ga(n,z,u.value.path):it({},z)}function C(z,oe){if(d!==z)return ci(8,{from:oe,to:z})}function $(z){return V(z)}function E(z){return $(it(g(z),{replace:!0}))}function T(z){const oe=z.matched[z.matched.length-1];if(oe&&oe.redirect){const{redirect:Q}=oe;let fe=typeof Q=="function"?Q(z):Q;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=g(fe):{path:fe},fe.params={}),it({query:z.query,hash:z.hash,params:"path"in fe?{}:z.params},fe)}}function V(z,oe){const Q=d=w(z),fe=u.value,Ve=z.state,We=z.force,Pe=z.replace===!0,ke=T(Q);if(ke)return V(it(g(ke),{state:typeof ke=="object"?it({},Ve,ke.state):Ve,force:We,replace:Pe}),oe||Q);const _=Q;_.redirectedFrom=oe;let k;return!We&&ug(i,fe,Q)&&(k=ci(16,{to:_,from:fe}),ct(fe,fe,!0,!1)),(k?Promise.resolve(k):I(_,fe)).catch(N=>Mn(N)?Mn(N,2)?N:ze(N):re(N,_,fe)).then(N=>{if(N){if(Mn(N,2))return V(it({replace:Pe},g(N.to),{state:typeof N.to=="object"?it({},Ve,N.to.state):Ve,force:We}),oe||_)}else N=B(_,fe,!0,Pe,Ve);return U(_,fe,N),N})}function P(z,oe){const Q=C(z,oe);return Q?Promise.reject(Q):Promise.resolve()}function I(z,oe){let Q;const[fe,Ve,We]=lv(z,oe);Q=Ya(fe.reverse(),"beforeRouteLeave",z,oe);for(const ke of fe)ke.leaveGuards.forEach(_=>{Q.push(ss(_,z,oe))});const Pe=P.bind(null,z,oe);return Q.push(Pe),Ws(Q).then(()=>{Q=[];for(const ke of l.list())Q.push(ss(ke,z,oe));return Q.push(Pe),Ws(Q)}).then(()=>{Q=Ya(Ve,"beforeRouteUpdate",z,oe);for(const ke of Ve)ke.updateGuards.forEach(_=>{Q.push(ss(_,z,oe))});return Q.push(Pe),Ws(Q)}).then(()=>{Q=[];for(const ke of z.matched)if(ke.beforeEnter&&!oe.matched.includes(ke))if(wn(ke.beforeEnter))for(const _ of ke.beforeEnter)Q.push(ss(_,z,oe));else Q.push(ss(ke.beforeEnter,z,oe));return Q.push(Pe),Ws(Q)}).then(()=>(z.matched.forEach(ke=>ke.enterCallbacks={}),Q=Ya(We,"beforeRouteEnter",z,oe),Q.push(Pe),Ws(Q))).then(()=>{Q=[];for(const ke of o.list())Q.push(ss(ke,z,oe));return Q.push(Pe),Ws(Q)}).catch(ke=>Mn(ke,8)?ke:Promise.reject(ke))}function U(z,oe,Q){for(const fe of r.list())fe(z,oe,Q)}function B(z,oe,Q,fe,Ve){const We=C(z,oe);if(We)return We;const Pe=oe===qn,ke=Ys?history.state:{};Q&&(fe||Pe?a.replace(z.fullPath,it({scroll:Pe&&ke&&ke.scroll},Ve)):a.push(z.fullPath,Ve)),u.value=z,ct(z,oe,Q,Pe),ze()}let W;function H(){W||(W=a.listen((z,oe,Q)=>{if(!ft.listening)return;const fe=w(z),Ve=T(fe);if(Ve){V(it(Ve,{replace:!0}),fe).catch(Hi);return}d=fe;const We=u.value;Ys&&vg(cu(We.fullPath,Q.delta),Oa()),I(fe,We).catch(Pe=>Mn(Pe,12)?Pe:Mn(Pe,2)?(V(Pe.to,fe).then(ke=>{Mn(ke,20)&&!Q.delta&&Q.type===to.pop&&a.go(-1,!1)}).catch(Hi),Promise.reject()):(Q.delta&&a.go(-Q.delta,!1),re(Pe,fe,We))).then(Pe=>{Pe=Pe||B(fe,We,!1),Pe&&(Q.delta&&!Mn(Pe,8)?a.go(-Q.delta,!1):Q.type===to.pop&&Mn(Pe,20)&&a.go(-1,!1)),U(fe,We,Pe)}).catch(Hi)}))}let F=$i(),pe=$i(),X;function re(z,oe,Q){ze(z);const fe=pe.list();return fe.length?fe.forEach(Ve=>Ve(z,oe,Q)):console.error(z),Promise.reject(z)}function ve(){return X&&u.value!==qn?Promise.resolve():new Promise((z,oe)=>{F.add([z,oe])})}function ze(z){return X||(X=!z,H(),F.list().forEach(([oe,Q])=>z?Q(z):oe()),F.reset()),z}function ct(z,oe,Q,fe){const{scrollBehavior:Ve}=e;if(!Ys||!Ve)return Promise.resolve();const We=!Q&&yg(cu(z.fullPath,0))||(fe||!Q)&&history.state&&history.state.scroll||null;return co().then(()=>Ve(z,oe,We)).then(Pe=>Pe&&gg(Pe)).catch(Pe=>re(Pe,z,oe))}const Ze=z=>a.go(z);let Ye;const qe=new Set,ft={currentRoute:u,listening:!0,addRoute:m,removeRoute:v,hasRoute:S,getRoutes:b,resolve:w,options:e,push:$,replace:E,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:l.add,beforeResolve:o.add,afterEach:r.add,onError:pe.add,isReady:ve,install(z){const oe=this;z.component("RouterLink",tv),z.component("RouterView",ov),z.config.globalProperties.$router=oe,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>tt(u)}),Ys&&!Ye&&u.value===qn&&(Ye=!0,$(a.location).catch(Ve=>{}));const Q={};for(const Ve in qn)Q[Ve]=ot(()=>u.value[Ve]);z.provide(Pa,oe),z.provide(xc,mi(Q)),z.provide(Il,u);const fe=z.unmount;qe.add(z),z.unmount=function(){qe.delete(z),qe.size<1&&(d=qn,W&&W(),W=null,u.value=qn,Ye=!1,X=!1),fe()}}};return ft}function Ws(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function lv(e,t){const n=[],i=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let o=0;o<l;o++){const r=t.matched[o];r&&(e.matched.find(d=>di(d,r))?i.push(r):n.push(r));const u=e.matched[o];u&&(t.matched.find(d=>di(d,u))||a.push(u))}return[n,i,a]}function Kc(){return cn(Pa)}var rv=Object.defineProperty,Eu=Object.getOwnPropertySymbols,uv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,ku=(e,t,n)=>t in e?rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jc=(e,t)=>{for(var n in t||(t={}))uv.call(t,n)&&ku(e,n,t[n]);if(Eu)for(var n of Eu(t))dv.call(t,n)&&ku(e,n,t[n]);return e},Ra=e=>typeof e=="function",Va=e=>typeof e=="string",Gc=e=>Va(e)&&e.trim().length>0,cv=e=>typeof e=="number",Is=e=>typeof e=="undefined",no=e=>typeof e=="object"&&e!==null,fv=e=>An(e,"tag")&&Gc(e.tag),Yc=e=>window.TouchEvent&&e instanceof TouchEvent,Xc=e=>An(e,"component")&&Qc(e.component),hv=e=>Ra(e)||no(e),Qc=e=>!Is(e)&&(Va(e)||hv(e)||Xc(e)),Tu=e=>no(e)&&["height","width","right","left","top","bottom"].every(t=>cv(e[t])),An=(e,t)=>(no(e)||Ra(e))&&t in e,mv=(e=>()=>e++)(0);function Xa(e){return Yc(e)?e.targetTouches[0].clientX:e.clientX}function Iu(e){return Yc(e)?e.targetTouches[0].clientY:e.clientY}var pv=e=>{Is(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},po=e=>Xc(e)?po(e.component):fv(e)?le({render(){return e}}):typeof e=="string"?e:Ke(tt(e)),gv=e=>{if(typeof e=="string")return e;const t=An(e,"props")&&no(e.props)?e.props:{},n=An(e,"listeners")&&no(e.listeners)?e.listeners:{};return{component:po(e),props:t,listeners:n}},vv=()=>typeof window!="undefined",mr=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(i=>i(t))}},yv=e=>["on","off","emit"].every(t=>An(e,t)&&Ra(e[t])),tn;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(tn||(tn={}));var na;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(na||(na={}));var nn;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(nn||(nn={}));var yn="Vue-Toastification",gn={type:{type:String,default:tn.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Zc={type:gn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Bo={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:gn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Dl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},qc={transition:{type:[Object,String],default:`${yn}__bounce`}},bv={position:{type:String,default:na.TOP_RIGHT},draggable:gn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:gn.trueBoolean,pauseOnHover:gn.trueBoolean,closeOnClick:gn.trueBoolean,timeout:Dl.timeout,hideProgressBar:Dl.hideProgressBar,toastClassName:gn.classNames,bodyClassName:gn.classNames,icon:Zc.customIcon,closeButton:Bo.component,closeButtonClassName:Bo.classNames,showCloseButtonOnHover:Bo.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new mr}},wv={id:{type:[String,Number],required:!0,default:0},type:gn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},$v={container:{type:[Object,Function],default:()=>document.body},newestOnTop:gn.trueBoolean,maxToasts:{type:Number,default:20},transition:qc.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:gn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Hn={CORE_TOAST:bv,TOAST:wv,CONTAINER:$v,PROGRESS_BAR:Dl,ICON:Zc,TRANSITION:qc,CLOSE_BUTTON:Bo},ef=le({name:"VtProgressBar",props:Hn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${yn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Sv(e,t){return p(),y("div",{style:at(e.style),class:Se(e.cpClass)},null,6)}ef.render=Sv;var Cv=ef,tf=le({name:"VtCloseButton",props:Hn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?po(this.component):"button"},classes(){const e=[`${yn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),_v=O(" \xD7 ");function Ev(e,t){return p(),Ce(ka(e.buttonComponent),mo({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:rt(()=>[_v]),_:1},16,["aria-label","class"])}tf.render=Ev;var kv=tf,nf={},Tv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Iv=s("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Dv=[Iv];function Av(e,t){return p(),y("svg",Tv,Dv)}nf.render=Av;var Ov=nf,sf={},Pv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Rv=s("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Vv=[Rv];function Mv(e,t){return p(),y("svg",Pv,Vv)}sf.render=Mv;var Du=sf,of={},Uv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Nv=s("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Lv=[Nv];function Fv(e,t){return p(),y("svg",Uv,Lv)}of.render=Fv;var Bv=of,af={},Hv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},zv=s("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),jv=[zv];function Wv(e,t){return p(),y("svg",Hv,jv)}af.render=Wv;var xv=af,lf=le({name:"VtIcon",props:Hn.ICON,computed:{customIconChildren(){return An(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Va(this.customIcon)?this.trimValue(this.customIcon):An(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return An(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Qc(this.customIcon)?po(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[tn.DEFAULT]:Du,[tn.INFO]:Du,[tn.SUCCESS]:Ov,[tn.ERROR]:xv,[tn.WARNING]:Bv}[this.type]},iconClasses(){const e=[`${yn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Gc(e)?e.trim():t}}});function Kv(e,t){return p(),Ce(ka(e.component),{class:Se(e.iconClasses)},{default:rt(()=>[O(Y(e.customIconChildren),1)]),_:1},8,["class"])}lf.render=Kv;var Jv=lf,rf=le({name:"VtToast",components:{ProgressBar:Cv,CloseButton:kv,Icon:Jv},inheritAttrs:!1,props:Object.assign({},Hn.CORE_TOAST,Hn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${yn}__toast`,`${yn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${yn}__toast--rtl`),e},bodyClasses(){return[`${yn}__toast-${Va(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Tu(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:An,getVueComponentFromObj:po,closeToast(){this.eventBus.emit(nn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Xa(e),y:Iu(e)},this.dragStart=Xa(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Xa(e),y:Iu(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Tu(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Gv=["role"];function Yv(e,t){const n=j("Icon"),i=j("CloseButton"),a=j("ProgressBar");return p(),y("div",{class:Se(e.classes),style:at(e.draggableStyle),onClick:t[0]||(t[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:t[1]||(t[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:t[2]||(t[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(p(),Ce(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):M("v-if",!0),s("div",{role:e.accessibility.toastRole||"alert",class:Se(e.bodyClasses)},[typeof e.content=="string"?(p(),y(ee,{key:0},[O(Y(e.content),1)],2112)):(p(),Ce(ka(e.getVueComponentFromObj(e.content)),mo({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Kd(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Gv),e.closeButton?(p(),Ce(i,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:ea(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):M("v-if",!0),e.timeout?(p(),Ce(a,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):M("v-if",!0)],38)}rf.render=Yv;var Xv=rf,uf=le({name:"VtTransition",props:Hn.TRANSITION,emits:["leave"],methods:{hasProp:An,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Qv(e,t){return p(),Ce(kc,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:rt(()=>[ar(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}uf.render=Qv;var Zv=uf,df=le({name:"VueToastification",devtools:{hide:!0},components:{Toast:Xv,VtTransition:Zv},props:Object.assign({},Hn.CORE_TOAST,Hn.CONTAINER,Hn.TRANSITION),data(){return{count:0,positions:Object.values(na),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(nn.ADD,this.addToast),e.on(nn.CLEAR,this.clearToasts),e.on(nn.DISMISS,this.dismissToast),e.on(nn.UPDATE,this.updateToast),e.on(nn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ra(e)&&(e=await e()),pv(this.$el),e.appendChild(this.$el)},setToast(e){Is(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=gv(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!Is(t)&&!Is(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Is(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${yn}__container`,e].concat(this.defaults.containerClassName)}}});function qv(e,t){const n=j("Toast"),i=j("VtTransition");return p(),y("div",null,[(p(!0),y(ee,null,de(e.positions,a=>(p(),y("div",{key:a},[K(i,{transition:e.defaults.transition,class:Se(e.getClasses(a))},{default:rt(()=>[(p(!0),y(ee,null,de(e.getPositionToasts(a),l=>(p(),Ce(n,mo({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}df.render=qv;var ey=df,Au=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new mr;t&&co(()=>{const l=fr(ey,Jc({},e)),o=l.mount(document.createElement("div")),r=e.onMounted;if(Is(r)||r(o,l),e.shareAppContext){const u=e.shareAppContext;u===!0?console.warn(`[${yn}] App to share context with was not provided.`):(l._context.components=u._context.components,l._context.directives=u._context.directives,l._context.mixins=u._context.mixins,l._context.provides=u._context.provides,l.config.globalProperties=u.config.globalProperties)}});const i=(l,o)=>{const r=Object.assign({},{id:mv(),type:tn.DEFAULT},o,{content:l});return n.emit(nn.ADD,r),r.id};i.clear=()=>n.emit(nn.CLEAR,void 0),i.updateDefaults=l=>{n.emit(nn.UPDATE_DEFAULTS,l)},i.dismiss=l=>{n.emit(nn.DISMISS,l)};function a(l,{content:o,options:r},u=!1){const d=Object.assign({},r,{content:o});n.emit(nn.UPDATE,{id:l,options:d,create:u})}return i.update=a,i.success=(l,o)=>i(l,Object.assign({},o,{type:tn.SUCCESS})),i.info=(l,o)=>i(l,Object.assign({},o,{type:tn.INFO})),i.error=(l,o)=>i(l,Object.assign({},o,{type:tn.ERROR})),i.warning=(l,o)=>i(l,Object.assign({},o,{type:tn.WARNING})),i},ty=()=>{const e=()=>console.warn(`[${yn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Al(e){return vv()?yv(e)?Au({eventBus:e},!1):Au(e,!0):ty()}var cf=Symbol("VueToastification"),ff=new mr,ny=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=Al(Jc({eventBus:ff},t));e.provide(cf,n)},hf=e=>{if(e)return Al(e);const t=Jn()?cn(cf,void 0):void 0;return t||Al(ff)},sy=ny;var Oe=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n};const iy=le({name:"app"});function oy(e,t,n,i,a,l){const o=j("router-view");return p(),Ce(o)}var ay=Oe(iy,[["render",oy]]);const Ma=async(e,t,n)=>new Promise((i,a)=>{const l=new window.XMLHttpRequest;l.open(e,t,!0),l.withCredentials=!0;const o=n.headers||{};for(const r in o)l.setRequestHeader(r,o[r]);l.addEventListener("load",function(r){i({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),l.addEventListener("error",function(r){a(new Error("xhr error"))}),l.upload&&n.onUploadProgress&&l.upload.addEventListener("progress",function(r){n.onUploadProgress&&n.onUploadProgress(r)}),l.send(n.body)}),Un=async(e,t={})=>Ma("get",e,t),ly=async(e,t={})=>Ma("post",e,t),mf=async(e,t)=>Ma("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),_n=async(e,t)=>mf(e,JSON.stringify(t));var vt={resendVerificationMail:async e=>_n("/api/user/_resend_verification_mail",e),requestPasswordReset:async e=>_n("/api/user/_request_password_reset",e),register:async e=>_n("/api/user/_register",e),resetPassword:async e=>_n("/api/user/_reset_password",e),handleToken:async e=>_n("/api/_handle-token",e),saveVariables:async e=>_n("/api/save-variables",e),twitchUserIdByName:async e=>_n("/api/twitch/user-id-by-name",e),saveUserSettings:async e=>_n("/api/save-settings",e),getPageVariablesData:async()=>Un("/api/page/variables"),getPageIndexData:async()=>Un("/api/page/index"),getPageSettingsData:async()=>Un("/api/page/settings"),getDataGlobal:async()=>Un("/api/data/global"),getMe:async()=>Un("/api/user/me"),logout:async()=>ly("/api/logout"),login:async e=>_n("/api/auth",e),getConf:async()=>Un("/api/conf"),upload:async(e,t)=>{const n=new FormData;return n.append("file",e,e.name),Ma("post","/api/upload",{body:n,onUploadProgress:t})},importPlaylist:async e=>mf("/api/sr/import",e),getDrawcastAllImages:async()=>Un("/api/drawcast/all-images/"),createWidgetUrl:async e=>_n("/api/widget/create_url",e),getWidgetData:async(e,t)=>Un(`/api/widget/${e}/${t}/`),getPubData:async e=>Un(`/api/pub/${e}`)};const ry=le({data:()=>({widgets:[],toast:hf()}),async created(){const e=await vt.getPageIndexData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.widgets=t.widgets},methods:{async newUrl(e){const t=await vt.createWidgetUrl({type:e.type,pub:e.pub});if(t.status===200)try{const n=await t.json();n.url&&(this.widgets=this.widgets.map(i=>(i.type===e.type&&(i.url=n.url),i))),this.toast.success("New URL created")}catch{this.toast.error("New URL couldn't be created")}else this.toast.error("New URL couldn't be created")}}}),uy={key:0,class:"view"},dy={id:"top",ref:"top"},cy={id:"main",ref:"main"},fy={class:"table is-striped is-fullwidth"},hy=s("thead",null,[s("tr",null,[s("th",null,"Widget"),s("th",null,"Hint"),s("th")])],-1),my=["href"],py=["onClick"];function gy(e,t,n,i,a,l){const o=j("navbar-element");return e.widgets?(p(),y("div",uy,[s("div",dy,[K(o)],512),s("div",cy,[s("table",fy,[hy,s("tbody",null,[(p(!0),y(ee,null,de(e.widgets,(r,u)=>(p(),y("tr",{key:u},[s("td",null,[s("a",{href:r.url,target:"blank"},Y(r.title),9,my)]),s("td",null,Y(r.hint),1),s("td",null,[s("span",{class:"button is-small ml-1",onClick:d=>e.newUrl(r)},"Generate new url",8,py)])]))),128))])])],512)])):M("",!0)}var vy=Oe(ry,[["render",gy]]);function pf(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(a){a(n)}),(i=e.get("*"))&&i.slice().map(function(a){a(t,n)})}}}let sa=null;const so=pf(),gf=()=>localStorage.getItem("darkmode")==="1",yy=e=>{localStorage.setItem("darkmode",e?"1":"0"),so.emit("darkmode",e)};async function vf(){so.emit("darkmode",gf());const e=await vt.getMe();sa=e.status===200?await e.json():null,sa&&so.emit("login")}async function by(){return(await(await vt.logout()).json()).success?(sa=null,so.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}async function wy(e,t){const n=await vt.login({user:e,pass:t});return n.status===200?(await vf(),{error:!1}):n.status===401?{error:(await n.json()).reason}:{error:"Unknown error"}}var dn={getMe:()=>sa,isDarkmode:gf,setDarkmode:yy,eventBus:so,logout:by,login:wy,init:vf};let yf=null;const $y=async()=>{const e=await vt.getConf();yf=e.status===200?await e.json():null};var bf={init:$y,getConf:()=>yf};const Sy=1,Ls=1e3*Sy,io=60*Ls,oo=60*io,ia=24*oo;let Ii=[];const Cy=e=>{switch(e){case"error":Ii=["error"];break;case"warn":Ii=["error","warn"];break;case"info":Ii=["error","warn","info"];break;case"debug":Ii=["error","warn","info","debug"];break}};Cy("info");const js=(e,...t)=>{const n=e,i=a=>(...l)=>{Ii.includes(a)&&console[a](Ey("hh:mm:ss",new Date),`[${n}]`,...t,...l)};return{error:i("error"),warn:i("warn"),info:i("info"),debug:i("debug")}},_y=e=>[...e].length,Ey=(e,t)=>e.replace(/(hh|mm|ss)/g,(n,i)=>{switch(i){case"hh":return us(t.getHours(),"00");case"mm":return us(t.getMinutes(),"00");case"ss":return us(t.getSeconds(),"00");default:return n}}),us=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n};function He(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const pr=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const n=`${e}`.trim();if(!n)throw new Error("unable to parse duration");const i=h=>{if(h<0&&!t)throw new Error("negative value not allowed");return h};if(n.match(/^-?\d+$/))return i(parseInt(n,10));const a=n.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(a){const h=parseFloat(a[1]);if(isNaN(h))throw new Error("unable to parse duration");const m=a[2];let v=0;return m==="d"?v=h*ia:m==="h"?v=h*oo:m==="m"?v=h*io:m==="s"&&(v=h*Ls),i(Math.round(v))}const l=n.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!l)throw new Error("unable to parse duration");const o=l[1]?-1:1,r=l[2]?parseInt(l[2],10):0,u=l[3]?parseInt(l[3],10):0,d=l[4]?parseInt(l[4],10):0,c=l[5]?parseInt(l[5],10):0,f=l[6]?parseInt(l[6],10):0;return i(o*(c*Ls+d*io+u*oo+r*ia+f))},ky=(e,t=!1)=>{try{return pr(e,t)}catch{return 0}},Ty=(e,t=["ms","s","m","h","d"])=>{let n=e;const i=Math.floor(n/ia);n=n%ia;const a=Math.floor(n/oo);n=n%oo;const l=Math.floor(n/io);n=n%io;const o=Math.floor(n/Ls);n=n%Ls;const u=[n,o,l,a,i];let d=0;for(;d<u.length&&u[d]===0;)d++;let c=u.length-1;for(;c>=0&&u[c]===0;)c--;const f=[];for(let h=d;h<=c;h++)f.unshift(`${u[h]}${t[h]}`);return f.join(" ")};function Iy(e,t,n){if(n>=e.length){let i=n-e.length+1;for(;i--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e}const Ua=(e,t,n)=>{if(t===n||t<0||t>e.length-1||n<0||n>e.length-1)return!1;const i=e[t];return e[t]=e[n],e[n]=i,!0},Dy=(e,t)=>{const n=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$daysuntil\("([^"]+)"\)/g,/\$daysuntil\("([^"]+)",\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let i=e,a;do{a=i;for(const l of n)i=i.replace(l,t)}while(a!==i);return i},Ay=(e,t=",",n=-1)=>{const i=e.split(t);return n===-1||i.length<=n?i:[...i.slice(0,n-1),i.slice(n-1).join(t)]},Oy=e=>{let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const i=e[t];e[t]=e[n],e[n]=i}return e};function wf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function $f(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const Py=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},Ol=(e,t="pt")=>{const n=`${e}`;return n.match(/^\d+$/)?`${n}${t}`:n},ne=(e,t,n)=>{let i=e;for(const a of t){if(typeof i!="object"||i===null||!Object.keys(i).includes(a))return n;i=i[a]}return i},Sf=(e,t,n)=>Math.max(e,Math.min(n,t)),Lt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),Xs=e=>e[Lt(0,e.length-1)],Ry=(e,t,n,i,a)=>{const l=o=>new Date(`${us(o.getFullYear(),"0000")}-${us(o.getMonth()+1,"00")}-${us(o.getDate(),"00")}`);try{const o=new Date(e);if(isNaN(o.getTime()))return a;const r=new Date,u=l(o).getTime()-l(r).getTime(),d=Math.ceil(u/1e3/60/60/24);let c="{days}";return d===0?c=i:d===1?c=n:c=t,c.replace("{days}",`${d}`)}catch{return a}};var Yt={arrayMove:Iy,arraySwap:Ua,clamp:Sf,daysUntil:Ry,doDummyReplacements:Dy,getRandom:Xs,getRandomInt:Lt,humanDuration:Ty,mediaFileFromUploadedFile:wf,mustParseHumanDuration:pr,pad:us,parseHumanDuration:ky,shuffle:Oy,soundMediaFileFromUploadedFile:$f,split:Ay,toNumberUnitString:Ol,unicodeLength:_y};const Vy=1001,Si=4e3,Nn=js("WsWrapper.ts");class My{constructor(t,n){this.addr=t,this.protocols=n,this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{}}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=He(10);this.id=t;const n=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};Nn.info({id:t,addr:this.addr},"trying to connect");const i=new WebSocket(this.addr,this.protocols);i.onopen=a=>{if(Nn.info({id:t},"ws connected"),t!==this.id){Nn.info({id:t,this_id:this.id},"connected but it is not the last attempt"),i.close(Si);return}for(this.handle&&(Nn.error({e:a},"handle already existed, closing old one and replacing it"),this.handle.close(Si)),this.handle=i;this.sendBuffer.length>0;){const l=this.sendBuffer.shift();l&&this.handle.send(l)}this.onopen(a),this.keepAlive()},i.onmessage=a=>{try{const l=JSON.parse(a.data);if(l.type&&l.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(a)},i.onerror=a=>{this.cancelKeepAlive(),Nn.error({e:a,id:t})},i.onclose=a=>{this.cancelKeepAlive(),this.handle=null,this.onclose(a),a.code===Si?Nn.info({id:t},"custom disconnect, will not reconnect"):a.code===Vy?Nn.info({id:t},"going away, will not reconnect"):(Nn.info({id:t,code:a.code},"connection closed, trying to reconnect."),n())}}disconnect(){this.handle&&(Nn.info({code:Si},"handle existed, closing"),this.handle.close(Si))}}const Ou=js("WsClient.ts");class Cf extends My{constructor(t,n){super(t,n),this._on={},this.onopen=i=>{this._dispatch("socket","open",i)},this.onmessage=i=>{if(this._dispatch("socket","message",i),this._on.message){const a=this._parseMessageData(i.data);a.event&&this._dispatch("message",`${a.event}`,a.data,a)}},this.onclose=i=>{this._dispatch("socket","close",i)}}onSocket(t,n){this.addEventListener("socket",t,n)}onMessage(t,n){this.addEventListener("message",t,n)}addEventListener(t,n,i){const a=Array.isArray(n)?n:[n];this._on[t]=this._on[t]||{};for(const l of a)this._on[t][l]=this._on[t][l]||[],this._on[t][l].push(i)}_parseMessageData(t){try{const n=JSON.parse(t);if(n.event)return n.data=n.data||null,n}catch(n){Ou.info({e:n})}return{event:null,data:null}}_dispatch(t,n,...i){const l=(this._on[t]||{})[n]||[];if(l.length!==0){Ou.info({type:t,tag:n},"ws dispatch");for(const o of l)o(...i)}}}const Uy=e=>{const t=bf.getConf(),n=dn.getMe();return new Cf(`${t.wsBase}/${e}`,n?n.token:"")},go=e=>{if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if(e.dataTransfer.items[t].kind==="file")return e.dataTransfer.items[t].getAsFile();return null}for(let t=0;t<e.dataTransfer.files.length;t++)return e.dataTransfer.files[t];return null};var Gn={wsClient:Uy,getFileFromDropEvent:go,getParam:e=>new URLSearchParams(window.location.search).get(e)||""};const Ny={class:"view center-screen mt-2"},Ly=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),Fy={key:0,class:"field has-background-success-light has-text-success-dark"},By={key:1,class:"field has-background-danger-light has-text-danger-dark"},Hy={class:"field"},zy={class:"control has-icons-left"},jy=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),Wy={class:"field"},xy={class:"control has-icons-left"},Ky=["onKeyup"],Jy=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),Gy={class:"field"},Yy=O(" Register an account "),Xy=O(" | "),Qy=O(" Forgot password? "),Zy=le({__name:"Login",setup(e){const t=_e(""),n=_e(""),i=_e(""),a=_e("");Ft(async()=>{const r=Gn.getParam("t");if(r){a.value="",i.value="";const u=await vt.handleToken({token:r});u.status===200?(await u.json()).type==="registration-verified"&&(a.value="Registration complete"):i.value="Unknown error"}});const l=Kc(),o=async()=>{a.value="",i.value="";const r=await dn.login(t.value,n.value);r.error?i.value=r.error:l.push({name:"index"})};return(r,u)=>{const d=j("router-link"),c=j("global-user-info");return p(),y("div",Ny,[Ly,s("form",null,[a.value?(p(),y("div",Fy,Y(a.value),1)):M("",!0),i.value?(p(),y("div",By,Y(i.value),1)):M("",!0),s("div",Hy,[s("div",zy,[R(s("input",{"onUpdate:modelValue":u[0]||(u[0]=f=>t.value=f),class:"input",type:"text",placeholder:"User",onKeyup:u[1]||(u[1]=f=>i.value="")},null,544),[[x,t.value]]),jy])]),s("div",Wy,[s("div",xy,[R(s("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>n.value=f),class:"input",type:"password",placeholder:"Password",onKeyup:[u[3]||(u[3]=f=>i.value=""),Wn(o,["enter"])]},null,40,Ky),[[x,n.value]]),Jy])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:o},"Login")]),s("div",Gy,[K(d,{to:{name:"register"}},{default:rt(()=>[Yy]),_:1}),Xy,K(d,{to:{name:"forgot-password"}},{default:rt(()=>[Qy]),_:1})]),K(c)])])}}}),qy=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath}:null,e1=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath,volume:e.volume}:null,Pu=(e=null)=>({submitButtonText:ne(e,["submitButtonText"],"Submit"),submitConfirm:ne(e,["submitConfirm"],""),recentImagesTitle:ne(e,["recentImagesTitle"],""),canvasWidth:ne(e,["canvasWidth"],720),canvasHeight:ne(e,["canvasHeight"],405),customDescription:ne(e,["customDescription"],""),customProfileImage:!e||typeof e.customProfileImage=="undefined"?null:qy(e.customProfileImage),palette:ne(e,["palette"],["#000000","#808080","#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff8080","#80ff80","#ffffff","#c0c0c0","#800000","#804000","#808000","#008000","#008080","#000080","#800080","#8080ff","#ffff80"]),displayDuration:ne(e,["displayDuration"],5e3),displayLatestForever:ne(e,["displayLatestForever"],!1),displayLatestAutomatically:ne(e,["displayLatestAutomatically"],!1),autofillLatest:ne(e,["autofillLatest"],!1),notificationSound:!e||typeof e.notificationSound=="undefined"?null:e1(e.notificationSound),requireManualApproval:ne(e,["requireManualApproval"],!1),favoriteLists:ne(e,["favoriteLists"],[{list:ne(e,["favorites"],[]),title:ne(e,["favoriteImagesTitle"],"")}])});const t1=le({data:()=>({unchangedJson:"{}",changedJson:"{}",inited:!1,settings:Pu(),defaultSettings:Pu(),ws:null,drawUrl:"",notificationSoundAudio:null,manualApproval:{hovered:"",items:[]},favoriteSelection:{hovered:"",items:[],pagination:{page:1,perPage:20}},controlWidgetUrl:"",receiveWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson},favoriteSelectionTotalPages(){return Math.floor(this.favoriteSelection.items.length/this.favoriteSelection.pagination.perPage)+(this.favoriteSelection.items.length%this.favoriteSelection.pagination.perPage===0?0:1)},currentFavoriteSelectionItems(){const e=(this.favoriteSelection.pagination.page-1)*this.favoriteSelection.pagination.perPage;return this.favoriteSelection.items.slice(e,e+this.favoriteSelection.pagination.perPage)}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async created(){this.ws=Gn.wsClient("drawcast"),this.ws.onMessage("init",async e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.drawUrl=e.drawUrl,this.controlWidgetUrl=e.controlWidgetUrl,this.receiveWidgetUrl=e.receiveWidgetUrl;const n=await(await vt.getDrawcastAllImages()).json();this.favoriteSelection.items=n.map(i=>i.path),this.settings.notificationSound&&(this.notificationSoundAudio=new Audio(this.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=this.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(i=>!i.approved).map(i=>i.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice()}),this.ws.onMessage("denied_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice(),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},addFavoriteList(){if(!this.settings){console.warn("addFavoriteList: this.settings not initialized");return}this.settings.favoriteLists.push({list:[],title:""})},moveFavoriteListUp(e){this.swapItems(e-1,e)},moveFavoriteListDown(e){this.swapItems(e+1,e)},swapItems(e,t){Ua(this.settings.favoriteLists,e,t)},removeFavoriteList(e){if(!this.settings){console.warn("removeFavoriteList: this.settings not initialized");return}const t=[];for(let n in this.settings.favoriteLists)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.settings.favoriteLists[n]);this.settings.favoriteLists=t},toggleFavorite(e,t){if(!this.settings){console.warn("toggleFavorite: this.settings not initialized");return}this.settings.favoriteLists[e].list.includes(t)?this.settings.favoriteLists[e].list=this.settings.favoriteLists[e].list.filter(n=>n!==t):this.settings.favoriteLists[e].list.push(t)},customProfileImageChanged(e){if(!this.settings){console.warn("customProfileImageChanged: this.settings not initialized");return}this.settings.customProfileImage=e.file?e:null},notificationSoundChanged(e){if(!this.settings){console.warn("notificationSoundChanged: this.settings not initialized");return}this.settings.notificationSound=e.file?e:null},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:{canvasWidth:parseInt(`${this.settings.canvasWidth}`,10)||720,canvasHeight:parseInt(`${this.settings.canvasHeight}`,10)||405,submitButtonText:this.settings.submitButtonText,submitConfirm:this.settings.submitConfirm,recentImagesTitle:this.settings.recentImagesTitle,customDescription:this.settings.customDescription,customProfileImage:this.settings.customProfileImage,palette:this.settings.palette,displayDuration:parseInt(`${this.settings.displayDuration}`,10)||5e3,displayLatestForever:this.settings.displayLatestForever,displayLatestAutomatically:this.settings.displayLatestAutomatically,autofillLatest:this.settings.autofillLatest,requireManualApproval:this.settings.requireManualApproval,notificationSound:this.settings.notificationSound,favoriteLists:this.settings.favoriteLists}})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),n1={class:"view"},s1={id:"top",ref:"top"},i1={id:"actionbar",class:"p-1"},o1=["disabled"],a1=["href"],l1=["href"],r1={id:"main",ref:"main"},u1={key:0,ref:"table",class:"table is-striped"},d1=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),c1=s("td",null,[s("code",null,"settings.canvasWidth")],-1),f1=s("td",null,[O(" Width of the drawing area."),s("br"),O(" Caution: changing this will clear the area for currenty connected users. ")],-1),h1=s("td",null,[s("code",null,"settings.canvasHeight")],-1),m1=s("td",null,[O(" Height of the drawing area."),s("br"),O(" Caution: changing this will clear the area for currenty connected users. ")],-1),p1=s("td",null,[s("code",null,"settings.displayDuration")],-1),g1=s("td",null," The duration in Milliseconds that each drawing will be shown ",-1),v1=s("td",null,[s("code",null,"settings.requireManualApproval")],-1),y1=s("td",null," If checked, new drawings need to be approved before being displayed for anyone. ",-1),b1=O(" Pending approval "),w1=s("br",null,null,-1),$1=["href"],S1={key:0},C1={class:"card-body"},_1=["src"],E1={class:"card-footer"},k1=["onClick"],T1=["onClick"],I1={key:1},D1=s("td",null,null,-1),A1=s("td",null,[s("code",null,"settings.displayLatestForever")],-1),O1=s("td",null,"If checked, the latest drawing will be shown indefinately.",-1),P1=s("td",null,[s("code",null,"settings.displayLatestAutomatically")],-1),R1=s("td",null," If checked, the latest drawing will be shown in widget automatically. ",-1),V1=s("td",null,[s("code",null,"settings.autofillLatest")],-1),M1=s("td",null," Fill the latest submitted drawing into the draw panel when opening the draw page. ",-1),U1=s("td",null,[s("code",null,"settings.submitButtonText")],-1),N1=s("td",null,null,-1),L1=s("td",null,[s("code",null,"settings.submitConfirm")],-1),F1=s("td",null," Leave empty if no confirm is required by user before sending. ",-1),B1=s("td",null,[s("code",null,"settings.recentImagesTitle")],-1),H1=s("td",null,"Title for the recently submitted images gallery.",-1),z1=s("td",null,[s("code",null,"settings.customDescription")],-1),j1=s("td",null,"Description text below the drawing panel.",-1),W1=s("td",null,[s("code",null,"settings.customProfileImage")],-1),x1=s("td",null,[O(" Profile image that will be displayed next to the "),s("code",null,"settings.customDescription"),O(". ")],-1),K1=s("td",null,[s("code",null,"settings.palette")],-1),J1=["onUpdate:modelValue"],G1=s("br",null,null,-1),Y1=s("br",null,null,-1),X1=s("td",null,[O(" Default colors appearing on the draw page."),s("br"),O(" Caution: Changing this will change selected color for currenty connected users. ")],-1),Q1=s("td",null,[s("code",null,"settings.notificationSound")],-1),Z1=s("td",null,[O(" Add a sound here that plays when new drawings arrive. "),s("br"),O(" This is played in this window, if approval is necessary, otherwise it will play in the display widget. It won't play in the draw widget. ")],-1),q1=s("div",null,[s("code",null,"settings.favoriteLists")],-1),eb={class:"preview"},tb=["src"],nb={key:0},sb=["onClick"],ib=s("i",{class:"fa fa-chevron-up"},null,-1),ob=[ib],ab=["onClick"],lb=s("i",{class:"fa fa-chevron-down"},null,-1),rb=[lb],ub=["onClick"],db=s("i",{class:"fa fa-trash"},null,-1),cb=[db],fb=s("td",null,"Title:",-1),hb=["onUpdate:modelValue"],mb=s("td",null,"Currently selected favorites:",-1),pb={class:"favorites"},gb=["src","onClick","onMouseover"],vb=s("td",null,"Select favorites:",-1),yb={class:"favorites-select"},bb=["src","onClick","onMouseover"],wb=["disabled"],$b=["disabled"],Sb=s("td",null," The favorites will always be displayed at the beginning of the gallery in the draw widget. ",-1);function Cb(e,t,n,i,a,l){const o=j("navbar-element"),r=j("image-upload"),u=j("sound-upload");return p(),y("div",n1,[s("div",s1,[K(o),s("div",i1,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,o1),s("a",{class:"button is-small mr-1",href:e.receiveWidgetUrl,target:"_blank"},"Open widget",8,a1),s("a",{class:"button is-small",href:e.drawUrl,target:"_blank"},"Open draw",8,l1)])],512),s("div",r1,[e.inited?(p(),y("table",u1,[s("tbody",null,[d1,s("tr",null,[c1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.canvasWidth=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.canvasWidth]])]),f1]),s("tr",null,[h1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.settings.canvasHeight=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.canvasHeight]])]),m1]),s("tr",null,[p1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>e.settings.displayDuration=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.displayDuration]])]),g1]),s("tr",null,[v1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.settings.requireManualApproval=d),type:"checkbox"},null,512),[[lt,e.settings.requireManualApproval]])]),y1]),s("tr",null,[s("td",null,[b1,w1,s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open in separate tab",8,$1)]),s("td",null,[e.manualApproval.items.length?(p(),y("div",S1,[(p(!0),y(ee,null,de(e.manualApproval.items,(d,c)=>(p(),y("div",{key:c,class:"image-to-approve card mr-1"},[s("div",C1,[s("img",{src:d,width:"250",class:"thumbnail mr-1"},null,8,_1)]),s("div",E1,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:f=>e.approveImage(d)}," Approve! ",8,k1),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:f=>e.denyImage(d)}," Deny! ",8,T1)])]))),128))])):(p(),y("div",I1," Currently there are no drawings awaiting approval. "))]),D1]),s("tr",null,[A1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>e.settings.displayLatestForever=d),type:"checkbox"},null,512),[[lt,e.settings.displayLatestForever]])]),O1]),s("tr",null,[P1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>e.settings.displayLatestAutomatically=d),type:"checkbox"},null,512),[[lt,e.settings.displayLatestAutomatically]])]),R1]),s("tr",null,[V1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>e.settings.autofillLatest=d),type:"checkbox"},null,512),[[lt,e.settings.autofillLatest]])]),M1]),s("tr",null,[U1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>e.settings.submitButtonText=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.submitButtonText]])]),N1]),s("tr",null,[L1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>e.settings.submitConfirm=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.submitConfirm]])]),F1]),s("tr",null,[B1,s("td",null,[R(s("input",{"onUpdate:modelValue":t[10]||(t[10]=d=>e.settings.recentImagesTitle=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.recentImagesTitle]])]),H1]),s("tr",null,[z1,s("td",null,[R(s("textarea",{"onUpdate:modelValue":t[11]||(t[11]=d=>e.settings.customDescription=d),class:"textarea"},null,512),[[x,e.settings.customDescription]])]),j1]),s("tr",null,[W1,s("td",null,[K(r,{modelValue:e.settings.customProfileImage,"onUpdate:modelValue":[t[12]||(t[12]=d=>e.settings.customProfileImage=d),e.customProfileImageChanged],width:"100px",height:"50px",class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),x1]),s("tr",null,[K1,s("td",null,[(p(!0),y(ee,null,de(e.settings.palette,(d,c)=>(p(),y("label",{key:c,class:"square"},[R(s("input",{"onUpdate:modelValue":f=>e.settings.palette[c]=f,type:"color"},null,8,J1),[[x,e.settings.palette[c]]]),s("span",{class:"square-inner",style:at({backgroundColor:d})},null,4)]))),128)),G1,Y1,s("button",{class:"button is-small",onClick:t[13]||(t[13]=d=>e.settings.palette=e.defaultSettings.palette)}," Reset to default palette ")]),X1]),s("tr",null,[Q1,s("td",null,[K(u,{modelValue:e.settings.notificationSound,"onUpdate:modelValue":[t[14]||(t[14]=d=>e.settings.notificationSound=d),e.notificationSoundChanged],class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),Z1]),s("tr",null,[s("td",null,[q1,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=(...d)=>e.addFavoriteList&&e.addFavoriteList(...d))},"Add a list")]),s("div",eb,[e.favoriteSelection.hovered?(p(),y("img",{key:0,src:e.favoriteSelection.hovered},null,8,tb)):M("",!0)])]),s("td",null,[(p(!0),y(ee,null,de(e.settings.favoriteLists,(d,c)=>(p(),y("div",{key:c,class:"card p-2 mb-2"},[e.settings.favoriteLists.length>1?(p(),y("div",nb,[s("span",{class:Se(["button is-small ml-1",{"is-disabled":c>0}]),onClick:f=>e.moveFavoriteListUp(c)},ob,10,sb),s("span",{class:Se(["button is-small ml-1",{"is-disabled":c<e.settings.favoriteLists.length-1}]),onClick:f=>e.moveFavoriteListDown(c)},rb,10,ab),s("span",{class:"button is-small ml-1",onClick:f=>e.removeFavoriteList(c)},cb,8,ub)])):M("",!0),s("table",null,[s("tr",null,[fb,s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.title=f,class:"input is-small",type:"text"},null,8,hb),[[x,d.title]])])]),s("tr",null,[mb,s("td",null,[s("div",pb,[(p(!0),y(ee,null,de(d.list,(f,h)=>(p(),y("img",{key:h,src:f,width:"50",height:"50",class:"thumbnail is-favorited mr-1",onClick:m=>e.toggleFavorite(c,f),onMouseover:m=>e.favoriteSelection.hovered=f,onMouseleave:t[16]||(t[16]=m=>e.favoriteSelection.hovered="")},null,40,gb))),128))])])]),s("tr",null,[vb,s("td",null,[s("div",yb,[(p(!0),y(ee,null,de(e.currentFavoriteSelectionItems,(f,h)=>(p(),y("img",{key:h,src:f,width:"50",height:"50",class:Se(["thumbnail mr-1",{"is-favorited":d.list.includes(f)}]),onClick:m=>e.toggleFavorite(c,f),onMouseover:m=>e.favoriteSelection.hovered=f,onMouseleave:t[17]||(t[17]=m=>e.favoriteSelection.hovered="")},null,42,bb))),128))]),s("span",{class:"button is-small mr-1",disabled:e.favoriteSelection.pagination.page>1?void 0:!0,onClick:t[18]||(t[18]=f=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page-1)},"Prev",8,wb),s("span",{class:"button is-small",disabled:e.favoriteSelection.pagination.page<e.favoriteSelectionTotalPages?void 0:!0,onClick:t[19]||(t[19]=f=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page+1)},"Next",8,$b)])])])]))),128))]),Sb])])],512)):M("",!0)],512)])}var _b=Oe(t1,[["render",Cb]]);const Eb={class:"view"},kb={id:"top",ref:"top"},Tb={id:"actionbar",class:"p-1"},Ib=["disabled"],Db={id:"main"},Ab={class:"mb-4"},Ob=s("h1",{class:"title mb-2"}," Global Variables ",-1),Pb=s("div",{class:"help"},[O(" Variables can be used from commands with "),s("code",null,"$var(variable_name)"),O(". In addition to the global variables defined here, commands can define their own local variables which have precedence over the global ones. ")],-1),Rb={class:"table is-striped"},Vb=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",null,"Value"),s("th")])],-1),Mb=["onUpdate:modelValue"],Ub=["onUpdate:modelValue"],Nb=s("i",{class:"fa fa-trash"},null,-1),Lb=le({__name:"Variables",setup(e){const t=_e("[]"),n=_e("[]"),i=_e([]),a=ot(()=>t.value!==n.value),l=f=>{i.value=i.value.filter((h,m)=>m!==f)},o=()=>{i.value.push({name:"",value:""})},r=()=>{n.value=JSON.stringify({variables:i.value})},u=()=>{t.value=JSON.stringify({variables:i.value}),n.value=t.value},d=async()=>{await vt.saveVariables({variables:i.value}),u()},c=Kc();return Ft(async()=>{const f=await vt.getPageVariablesData();if(f.status!==200){c.push({name:"login"});return}const h=await f.json();i.value=h.variables,u(),Gt(i,()=>{r()},{deep:!0})}),(f,h)=>{const m=j("navbar-element"),v=j("doubleclick-button");return p(),y("div",Eb,[s("div",kb,[K(m),s("div",Tb,[s("button",{class:"button is-small",onClick:o}," Add "),s("button",{class:"button is-small is-primary",disabled:!tt(a),onClick:d}," Save ",8,Ib)])],512),s("div",Db,[s("div",Ab,[Ob,Pb,s("table",Rb,[Vb,s("tbody",null,[(p(!0),y(ee,null,de(i.value,(b,S)=>(p(),y("tr",{key:S},[s("td",null,[R(s("input",{"onUpdate:modelValue":w=>b.name=w,type:"text",class:"input is-small"},null,8,Mb),[[x,b.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":w=>b.value=w,type:"text",class:"input is-small"},null,8,Ub),[[x,b.value]])]),s("td",null,[K(v,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:w=>l(S)},{default:rt(()=>[Nb]),_:2},1032,["onDoubleclick"])])]))),128))])])])])])}}}),Fb={class:"view center-screen mt-2"},Bb=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),Hb={key:0,class:"field has-background-success-light has-text-success-dark"},zb=O(" Account registered. Please check your mail. Click "),jb=O(" here "),Wb=O(" to login. "),xb={key:1},Kb={key:0,class:"field has-background-danger-light has-text-danger-dark"},Jb={key:0},Gb=O(" A user with this email is already registered. "),Yb=s("br",null,null,-1),Xb=O(" Request a password reset. "),Qb={key:1},Zb=O(" A user with this email is already registered. "),qb=s("br",null,null,-1),e0={key:2},t0={key:3},n0={key:4},s0={class:"field"},i0={class:"control has-icons-left"},o0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),a0={class:"field"},l0={class:"control has-icons-left"},r0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),u0={class:"field"},d0={class:"control has-icons-left"},c0=["onKeyup"],f0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),h0={class:"field"},m0=["disabled"],p0={class:"field"},g0=O(" Already have an account? "),v0=O(" Login! "),y0=le({__name:"Register",setup(e){const t=_e(""),n=_e(""),i=_e(""),a=_e(""),l=_e(!1),o=ot(()=>t.value&&n.value&&i.value&&!a.value),r=async()=>{l.value=!1,a.value="";const d=await vt.resendVerificationMail({email:i.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}},u=async()=>{l.value=!1,a.value="";const d=await vt.register({user:t.value,pass:n.value,email:i.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}};return(d,c)=>{const f=j("router-link"),h=j("global-user-info");return p(),y("div",Fb,[Bb,l.value?(p(),y("div",Hb,[zb,K(f,{to:{name:"login"}},{default:rt(()=>[jb]),_:1}),Wb])):(p(),y("div",xb,[a.value?(p(),y("div",Kb,[a.value==="verified_mail_already_exists"?(p(),y("div",Jb,[Gb,Yb,K(f,{to:{name:"forgot-password"}},{default:rt(()=>[Xb]),_:1})])):a.value==="unverified_mail_already_exists"?(p(),y("div",Qb,[Zb,qb,s("span",{class:"button is-small",onClick:r},"Resend verification email")])):a.value==="verified_name_already_exists"?(p(),y("div",e0," A user with this name is already registered. ")):a.value==="unverified_name_already_exists"?(p(),y("div",t0," A user with this name is already registered. ")):(p(),y("span",n0,Y(a.value),1))])):M("",!0),s("div",s0,[s("div",i0,[R(s("input",{"onUpdate:modelValue":c[0]||(c[0]=m=>t.value=m),class:"input",type:"text",placeholder:"User","on:update:modelValue":c[1]||(c[1]=m=>a.value="")},null,544),[[x,t.value]]),o0])]),s("div",a0,[s("div",l0,[R(s("input",{"onUpdate:modelValue":c[2]||(c[2]=m=>i.value=m),class:"input",type:"email",placeholder:"Email","on:update:modelValue":c[3]||(c[3]=m=>a.value="")},null,544),[[x,i.value]]),r0])]),s("div",u0,[s("div",d0,[R(s("input",{"onUpdate:modelValue":c[4]||(c[4]=m=>n.value=m),class:"input",type:"password",placeholder:"Password","on:update:modelValue":c[5]||(c[5]=m=>a.value=""),onKeyup:Wn(u,["enter"])},null,40,c0),[[x,n.value]]),f0])]),s("div",h0,[s("button",{class:"button is-primary is-fullwidth",disabled:tt(o)?void 0:!0,onClick:u}," Register ",8,m0)]),s("div",p0,[g0,K(f,{to:{name:"login"}},{default:rt(()=>[v0]),_:1})]),K(h)]))])}}}),b0=le({data:()=>({unchangedJson:"[]",changedJson:"[]",user:{id:0,name:"",email:"",pass:"",groups:[],tmi_identity_client_id:"",tmi_identity_client_secret:"",tmi_identity_password:"",tmi_identity_username:""},twitch_channels:[]}),computed:{isAdmin(){return this.user.groups.includes("admin")},changed(){return this.unchangedJson!==this.changedJson},accessTokenLink(){if(!this.user.tmi_identity_client_id)return;const e=["analytics:read:extensions","analytics:read:games","bits:read","channel:edit:commercial","channel:manage:broadcast","channel:manage:extensions","channel:manage:redemptions","channel:manage:videos","channel:read:editors","channel:read:hype_train","channel:read:redemptions","channel:read:stream_key","channel:read:subscriptions","clips:edit","moderation:read","user:edit","user:edit:follows","user:read:blocked_users","user:manage:blocked_users","user:read:broadcast","user:read:email"],t=document.location,n=`${t.protocol}//${t.host}/twitch/redirect_uri`;return`https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=${this.user.tmi_identity_client_id}&redirect_uri=${n}&scope=${e.join("+")}`}},watch:{user:{deep:!0,handler(){this.setChanged()}},twitch_channels:{deep:!0,handler(){this.setChanged()}}},async mounted(){const e=await vt.getPageSettingsData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.user=t.user,this.twitch_channels=t.twitchChannels,this.setUnchanged()},methods:{openAuth(){window.open(this.accessTokenLink)},setChanged(){this.changedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels})},setUnchanged(){this.unchangedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels}),this.changedJson=this.unchangedJson},rmchannel(e){this.twitch_channels=this.twitch_channels.filter((t,n)=>n!==e)},addchannel(){this.twitch_channels.push({user_id:this.user.id,bot_status_messages:1,channel_id:"",channel_name:"",access_token:"",is_streaming:!1})},async loadid(e){this.twitch_channels[e].channel_id=await this.getTwitchUserIdByName(this.twitch_channels[e].channel_name)},async getTwitchUserIdByName(e){const t={name:e,client_id:this.user.tmi_identity_client_id||null,client_secret:this.user.tmi_identity_client_secret||null},n=await vt.twitchUserIdByName(t);try{return`${(await n.json()).id}`}catch{return""}},async sendSave(){await vt.saveUserSettings({user:this.user,twitch_channels:this.twitch_channels}),this.setUnchanged()}}}),w0={class:"view"},$0={id:"top",ref:"top"},S0={id:"actionbar",class:"p-1"},C0=["disabled"],_0={id:"main"},E0={class:"mb-4"},k0=s("h1",{class:"title mb-2"}," User ",-1),T0={class:"table is-striped"},I0=s("td",null,"Name:",-1),D0=s("td",null,"Email:",-1),A0=s("td",null,"Password:",-1),O0={key:0,class:"mb-4"},P0=s("h1",{class:"title mb-2"}," Twitch-Bot ",-1),R0=s("p",null,[O(" Please refer to "),s("a",{href:"https://dev.twitch.tv/docs/irc/#building-the-bot",target:"_blank"},"building the bot"),O(". ")],-1),V0={class:"table is-striped"},M0=s("td",null,"Bot name:",-1),U0=s("td",null,"Bot oauth (pass):",-1),N0=s("td",null,"Bot client_id:",-1),L0=s("td",null,"Bot client_secret:",-1),F0={class:"mb-4"},B0=s("h1",{class:"title mb-2"}," Twitch Channels ",-1),H0=O(" List of twitch channels where the bot will connect to. "),z0={key:0},j0={key:0,class:"table is-striped"},W0=s("thead",null,[s("tr",null,[s("td",null,"Channel name"),s("td",null,"Chat status updates"),s("td",null,"Channel id*"),s("td",null,"Access Token*"),s("td")])],-1),x0=["onUpdate:modelValue"],K0=["onUpdate:modelValue"],J0=["onClick"],G0=["onUpdate:modelValue"],Y0=["onClick"],X0=s("i",{class:"fa fa-remove"},null,-1),Q0=[X0],Z0={key:1,class:"content"},q0=s("p",null," Channel Id* and Access Token*: You may not need the client id or access token. They are required for channel point reward redemption triggers only. ",-1),ew={key:0},tw={key:1,class:"list"},nw=s("li",{class:"list-item"}," Login to twitch as the channel owner ",-1),sw={class:"list-item"},iw=O(" Click "),ow=O(" to authorize the bot with the channel "),aw=s("li",{class:"list-item"}," If authorized, you get redirected back to hyottoko.club. If there is a success message, the access token will have been set and this page should automatically reload. ",-1),lw={key:2};function rw(e,t,n,i,a,l){const o=j("navbar-element"),r=j("checkbox-input");return p(),y("div",w0,[s("div",$0,[K(o),s("div",S0,[s("button",{class:"button is-small is-primary",disabled:!e.changed,onClick:t[0]||(t[0]=(...u)=>e.sendSave&&e.sendSave(...u))}," Save ",8,C0)])],512),s("div",_0,[s("div",E0,[k0,s("table",T0,[s("tbody",null,[s("tr",null,[I0,s("td",null,Y(e.user.name),1)]),s("tr",null,[D0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.user.email=u),type:"email"},null,512),[[x,e.user.email]])])]),s("tr",null,[A0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.user.pass=u),type:"password"},null,512),[[x,e.user.pass]])])])])])]),e.isAdmin?(p(),y("div",O0,[P0,R0,s("table",V0,[s("tbody",null,[s("tr",null,[M0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>e.user.tmi_identity_username=u),class:"input is-small",type:"text"},null,512),[[x,e.user.tmi_identity_username]])])]),s("tr",null,[U0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.user.tmi_identity_password=u),class:"input is-small",type:"password"},null,512),[[x,e.user.tmi_identity_password]])])]),s("tr",null,[N0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>e.user.tmi_identity_client_id=u),class:"input is-small",type:"text"},null,512),[[x,e.user.tmi_identity_client_id]])])]),s("tr",null,[L0,s("td",null,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>e.user.tmi_identity_client_secret=u),class:"input is-small",type:"password"},null,512),[[x,e.user.tmi_identity_client_secret]])])])])])])):M("",!0),s("div",F0,[B0,s("p",null,[H0,e.twitch_channels.length===0?(p(),y("span",z0," Currently no channels are configured. ")):M("",!0)]),e.twitch_channels.length>0?(p(),y("table",j0,[W0,s("tbody",null,[(p(!0),y(ee,null,de(e.twitch_channels,(u,d)=>(p(),y("tr",{key:d},[s("td",null,[R(s("input",{"onUpdate:modelValue":c=>u.channel_name=c,class:"input is-small",type:"text"},null,8,x0),[[x,u.channel_name]])]),s("td",null,[K(r,{modelValue:u.bot_status_messages,"onUpdate:modelValue":c=>u.bot_status_messages=c,class:"is-small","on-value":1,"off-value":0},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[u.channel_id?R((p(),y("input",{key:0,"onUpdate:modelValue":c=>u.channel_id=c,class:"input is-small",type:"text"},null,8,K0)),[[x,u.channel_id]]):M("",!0),u.channel_id?M("",!0):(p(),y("button",{key:1,class:"button is-small",onClick:c=>e.loadid(d)}," Load id ",8,J0))]),s("td",null,[R(s("input",{"onUpdate:modelValue":c=>u.access_token=c,class:"input is-small",type:"password"},null,8,G0),[[x,u.access_token]])]),s("td",null,[s("button",{class:"button is-small",onClick:c=>e.rmchannel(d)},Q0,8,Y0)])]))),128))])])):M("",!0),s("button",{class:"button is-small",onClick:t[7]||(t[7]=u=>e.addchannel())}," Add channel ")]),e.twitch_channels.length>0?(p(),y("div",Z0,[q0,e.accessTokenLink?(p(),y("p",ew," To get an access token, do the following: ")):M("",!0),e.accessTokenLink?(p(),y("ol",tw,[nw,s("li",sw,[iw,s("a",{target:"_blank",onClick:t[8]||(t[8]=(...u)=>e.openAuth&&e.openAuth(...u))},"here"),ow]),aw])):e.isAdmin?(p(),y("p",lw,' To configure an access token, please configure the "Bot client_id" above. ')):M("",!0)])):M("",!0)])])}var uw=Oe(b0,[["render",rw]]),xt=(e=>(e.COMMAND="command",e.REWARD_REDEMPTION="reward_redemption",e.FOLLOW="follow",e.SUB="sub",e.BITS="bits",e.RAID="raid",e.TIMER="timer",e.FIRST_CHAT="first_chat",e))(xt||{}),ue=(e=>(e.TEXT="text",e.MEDIA="media",e.MEDIA_VOLUME="media_volume",e.COUNTDOWN="countdown",e.DICT_LOOKUP="dict_lookup",e.MADOCHAN_CREATEWORD="madochan_createword",e.CHATTERS="chatters",e.SET_CHANNEL_TITLE="set_channel_title",e.SET_CHANNEL_GAME_ID="set_channel_game_id",e.ADD_STREAM_TAGS="add_stream_tags",e.REMOVE_STREAM_TAGS="remove_stream_tags",e.SR_CURRENT="sr_current",e.SR_UNDO="sr_undo",e.SR_GOOD="sr_good",e.SR_BAD="sr_bad",e.SR_STATS="sr_stats",e.SR_PREV="sr_prev",e.SR_NEXT="sr_next",e.SR_JUMPTONEW="sr_jumptonew",e.SR_CLEAR="sr_clear",e.SR_RM="sr_rm",e.SR_SHUFFLE="sr_shuffle",e.SR_RESET_STATS="sr_reset_stats",e.SR_LOOP="sr_loop",e.SR_NOLOOP="sr_noloop",e.SR_PAUSE="sr_pause",e.SR_UNPAUSE="sr_unpause",e.SR_HIDEVIDEO="sr_hidevideo",e.SR_SHOWVIDEO="sr_showvideo",e.SR_REQUEST="sr_request",e.SR_RE_REQUEST="sr_re_request",e.SR_ADDTAG="sr_addtag",e.SR_RMTAG="sr_rmtag",e.SR_VOLUME="sr_volume",e.SR_FILTER="sr_filter",e.SR_PRESET="sr_preset",e.SR_QUEUE="sr_queue",e))(ue||{}),Na=(e=>(e.TEXT="text",e.MEDIA="media",e.DELAY="delay",e))(Na||{});const pt=["mod","broadcaster"],gi=[{value:"broadcaster",label:"Broadcaster"},{value:"mod",label:"Moderators"},{value:"sub",label:"Subscribers"}],dw=e=>{if(e.length===0)return"Everyone";const t=[];return gi.forEach(n=>{e.includes(n.value)&&t.push(n.label)}),t.join(", ")},gr=()=>"",cw=(e=null)=>({filename:ne(e,["filename"],""),file:ne(e,["file"],""),urlpath:ne(e,["urlpath"],""),volume:ne(e,["volume"],100)}),fw=(e=null)=>({filename:ne(e,["filename"],""),file:ne(e,["file"],""),urlpath:ne(e,["urlpath"],"")}),hw=(e=null)=>({url:ne(e,["url"],""),volume:ne(e,["volume"],100)}),fi=(e=null)=>({widgetIds:ne(e,["widgetIds"],[]),sound:cw(e==null?void 0:e.sound),image:fw(e==null?void 0:e.image),image_url:ne(e,["image_url"],""),video:hw(e==null?void 0:e.video),minDurationMs:ne(e,["minDurationMs"],"1s")}),mw=()=>({type:Na.DELAY,value:"1s"}),pw=()=>({type:Na.TEXT,value:gr()}),gw=()=>({type:Na.MEDIA,value:fi()}),vi=e=>({type:e,data:{command:"",commandExact:!1,minInterval:0,minLines:0,since:"stream"}}),Le=(e="",t=!1)=>{const n=vi(xt.COMMAND);return n.data.command=e,n.data.commandExact=t,n},vo=e=>{if(e.type===xt.COMMAND)return!!e.data.command;if(e.type===xt.TIMER){try{pr(e.data.minInterval)}catch{return!1}const t=parseInt(`${e.data.minLines}`,10);return!isNaN(t)}return!0},Tt={add_stream_tags:{Name:()=>"add_stream_tags command",Description:()=>"Add streamtag",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.ADD_STREAM_TAGS,restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},chatters:{Name:()=>"chatters command",Description:()=>"Outputs the people who chatted during the stream.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.CHATTERS,restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},countdown:{Name:()=>"countdown",Description:()=>"Add a countdown or messages spaced by time intervals.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.COUNTDOWN,restrict_to:[],variables:[],variableChanges:[],data:{type:"auto",step:"",steps:"3",interval:"1s",intro:"Starting countdown...",outro:"Done!",actions:[]}}),RequiresAccessToken:()=>!1},dict_lookup:{Name:()=>"dictionary lookup",Description:()=>"Outputs the translation for the searched word.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.DICT_LOOKUP,restrict_to:[],variables:[],variableChanges:[],data:{lang:"ja",phrase:""}}),RequiresAccessToken:()=>!1},madochan_createword:{Name:()=>"madochan",Description:()=>"Creates a word for a definition.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MADOCHAN_CREATEWORD,restrict_to:[],variables:[],variableChanges:[],data:{model:"100epochs800lenhashingbidirectional.h5",weirdness:"1"}}),RequiresAccessToken:()=>!1},media:{Name:()=>"media command",Description:()=>"Display an image and/or play a sound.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MEDIA,restrict_to:[],variables:[],variableChanges:[],data:fi()}),RequiresAccessToken:()=>!1},media_volume:{Name:()=>"media volume command",Description:()=>`Sets the media volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MEDIA_VOLUME,restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},text:{Name:()=>"command",Description:()=>"Send a message to chat",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.TEXT,restrict_to:[],variables:[],variableChanges:[],data:{text:[gr()]}}),RequiresAccessToken:()=>!1},remove_stream_tags:{Name:()=>"remove_stream_tags command",Description:()=>"Remove streamtag",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.REMOVE_STREAM_TAGS,restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},set_channel_game_id:{Name:()=>"change stream category command",Description:()=>"Change the stream category",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.SET_CHANNEL_GAME_ID,restrict_to:pt,variables:[],variableChanges:[],data:{game_id:""}}),RequiresAccessToken:()=>!0},set_channel_title:{Name:()=>"change stream title command",Description:()=>"Change the stream title",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.SET_CHANNEL_TITLE,restrict_to:pt,variables:[],variableChanges:[],data:{title:""}}),RequiresAccessToken:()=>!0},sr_current:{Name:()=>"sr_current",Description:()=>"Show what song is currently playing",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_CURRENT,triggers:[Le("!sr current",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_undo:{Name:()=>"sr_undo",Description:()=>"Remove the song that was last added by oneself.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_UNDO,triggers:[Le("!sr undo",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_good:{Name:()=>"sr_good",Description:()=>"Vote the current song up",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_GOOD,triggers:[Le("!sr good",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_bad:{Name:()=>"sr_bad",Description:()=>"Vote the current song down",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_BAD,triggers:[Le("!sr bad",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_stats:{Name:()=>"sr_stats",Description:()=>"Show stats about the playlist",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_STATS,triggers:[Le("!sr stats",!0),Le("!sr stat",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_prev:{Name:()=>"sr_prev",Description:()=>"Skip to the previous song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_PREV,triggers:[Le("!sr prev",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_next:{Name:()=>"sr_next",Description:()=>"Skip to the next song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_NEXT,triggers:[Le("!sr next",!0),Le("!sr skip",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_jumptonew:{Name:()=>"sr_jumptonew",Description:()=>"Jump to the next unplayed song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_JUMPTONEW,triggers:[Le("!sr jumptonew",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_clear:{Name:()=>"sr_clear",Description:()=>"Clear the playlist",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_CLEAR,triggers:[Le("!sr clear",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_rm:{Name:()=>"sr_rm",Description:()=>"Remove the current song from the playlist",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_RM,triggers:[Le("!sr rm",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_shuffle:{Name:()=>"sr_shuffle",Description:()=>`Shuffle the playlist (current song unaffected).
    <br />
    Non-played and played songs will be shuffled separately and non-played
    songs will be put after currently playing song.`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_SHUFFLE,triggers:[Le("!sr shuffle",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_reset_stats:{Name:()=>"sr_reset_stats",Description:()=>"Reset all statistics of all songs",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_RESET_STATS,triggers:[Le("!sr resetStats",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_loop:{Name:()=>"sr_loop",Description:()=>"Loop the current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_LOOP,triggers:[Le("!sr loop",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_noloop:{Name:()=>"sr_noloop",Description:()=>"Stop looping the current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_NOLOOP,triggers:[Le("!sr noloop",!0),Le("!sr unloop",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_pause:{Name:()=>"sr_pause",Description:()=>"Pause currently playing song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_PAUSE,triggers:[Le("!sr pause",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_unpause:{Name:()=>"sr_unpause",Description:()=>"Unpause currently paused song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_UNPAUSE,triggers:[Le("!sr nopause",!0),Le("!sr unpause",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_hidevideo:{Name:()=>"sr_hidevideo",Description:()=>"Hide video for current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_HIDEVIDEO,triggers:[Le("!sr hidevideo",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_showvideo:{Name:()=>"sr_showvideo",Description:()=>"Show video for current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_SHOWVIDEO,triggers:[Le("!sr showvideo",!0)],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_request:{Name:()=>"sr_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    at youtube (by id or by title)
    and queue the first result in the playlist (after the first found
    batch of unplayed songs).`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_REQUEST,triggers:[Le("!sr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_re_request:{Name:()=>"sr_re_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    in the current playlist and queue the first result in the playlist
    (after the first found batch of unplayed songs).`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_RE_REQUEST,triggers:[Le("!resr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_addtag:{Name:()=>"sr_addtag",Description:()=>"Add tag <code>&lt;TAG&gt;</code> (argument to this command) to the current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_ADDTAG,triggers:[Le("!sr tag"),Le("!sr addtag")],restrict_to:pt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!1},sr_rmtag:{Name:()=>"sr_rmtag",Description:()=>"Remove tag <code>&lt;TAG&gt;</code> (argument to this command) from the current song",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_RMTAG,triggers:[Le("!sr rmtag")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_volume:{Name:()=>"sr_volume",Description:()=>`Sets the song request volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_VOLUME,triggers:[Le("!sr volume")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_filter:{Name:()=>"sr_filter",Description:()=>`Play only songs with the given tag <code>&lt;TAG&gt;</code> (argument to this command). If no tag
  is given, play all songs.`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_FILTER,triggers:[Le("!sr filter")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_preset:{Name:()=>"sr_preset",Description:()=>`Switches to the preset <code>&lt;PRESET&gt;</code> (argument to this command) if it exists.
  If no arguments are given, outputs all available presets.`,NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_PRESET,triggers:[Le("!sr preset")],restrict_to:pt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_queue:{Name:()=>"sr_queue",Description:()=>"Shows the next 3 songs that will play.",NewCommand:()=>({id:He(10),createdAt:JSON.stringify(new Date),action:ue.SR_QUEUE,triggers:[Le("!sr queue")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1}},vw=(e=null)=>({name:ne(e,["name"],""),css:ne(e,["css"],""),showProgressBar:ne(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:ne(e,["maxItemsShown"],-1)}),vr=(e=null)=>{var t,n;return{volume:ne(e,["volume"],100),initAutoplay:ne(e,["initAutoplay"],!0),hideVideoImage:{file:ne(e,["hideVideoImage","file"],""),filename:ne(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(n=e==null?void 0:e.hideVideoImage)!=null&&n.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:ne(e,["maxSongLength","viewer"],0),mod:ne(e,["maxSongLength","mod"],0),sub:ne(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(ne(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(ne(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(ne(e,["maxSongsQueued","sub"],0)),10)},customCss:ne(e,["customCss"],""),customCssPresets:ne(e,["customCssPresets"],[]).map(vw),showProgressBar:ne(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:ne(e,["maxItemsShown"],-1)}};const bs=()=>{},yw=le({data:()=>({playerVisible:!1,playlist:[],commands:[],globalVariables:[],channelPointsCustomRewards:{},settings:vr(),filter:{tag:""},ws:null,resrinput:"",srinput:"",inited:!1,tab:"playlist",importPlaylist:"",widgetUrl:"",toast:hf(),controlDefinitions:[{title:"Reset stats",ctrl:"resetStats",icon:"fa-eraser"},{title:"Clear playlist",ctrl:"clear",icon:"fa-eject"},{title:"Shuffle",ctrl:"shuffle",icon:"fa-random"},{title:"Play",ctrl:"unpause",icon:"fa-play"},{title:"Pause",ctrl:"pause",icon:"fa-pause"},{title:"Prev",ctrl:"prev",icon:"fa-step-backward"},{title:"Next",ctrl:"skip",icon:"fa-step-forward"}],tabDefinitions:[{tab:"playlist",title:"Playlist"},{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"},{tab:"tags",title:"Tags"},{tab:"import",title:"Import/Export"}],possibleActions:[ue.SR_CURRENT,ue.SR_UNDO,ue.SR_GOOD,ue.SR_BAD,ue.SR_STATS,ue.SR_PREV,ue.SR_NEXT,ue.SR_JUMPTONEW,ue.SR_CLEAR,ue.SR_RM,ue.SR_SHUFFLE,ue.SR_RESET_STATS,ue.SR_LOOP,ue.SR_NOLOOP,ue.SR_PAUSE,ue.SR_UNPAUSE,ue.SR_HIDEVIDEO,ue.SR_SHOWVIDEO,ue.SR_REQUEST,ue.SR_RE_REQUEST,ue.SR_ADDTAG,ue.SR_RMTAG,ue.SR_VOLUME,ue.SR_FILTER,ue.SR_PRESET,ue.SR_QUEUE]}),computed:{tags(){const e=[];return this.playlist.forEach(t=>{t.tags.forEach(n=>{const i=e.findIndex(a=>a.value===n);i===-1?e.push({value:n,count:1}):e[i].count++})}),e},player(){return this.$refs.youtube||{stop:bs,play:bs,pause:bs,unpause:bs,setVolume:bs,setLoop:bs,playing:bs}},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},item(){return this.filteredPlaylist[0]},hasItems(){return this.filteredPlaylist.length!==0},playerstyle(){return this.playerVisible?"":"width:0;height:0;padding:0;margin-bottom:0;"},togglePlayerButtonText(){return this.playerVisible?"Hide Player":"Show Player"},exportPlaylistUrl(){return`${location.protocol}//${location.host}/api/sr/export`}},async mounted(){this.$nextTick(()=>{this.ws=Gn.wsClient("sr"),this.ws.onMessage("save",e=>{this.settings=e.settings,this.widgetUrl=e.widgetUrl,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||this.unpause()}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards;const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const n=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==n&&this.play()}),this.ws.onMessage(["filter"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards;const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(n=>n.id===t)||this.play()}),this.ws.onMessage(["stats","video","playIdx","resetStats","shuffle"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards,this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.settings=e.settings,this.widgetUrl=e.widgetUrl,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards,this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.play(),this.inited=!0}),this.ws.connect(),this.play()})},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){this.sendMsg({event:"save",commands:this.commands,settings:this.settings})},onTagUpdated(e){this.updateTag(e[0],e[1])},onPlaylistCtrl(e){this.sendCtrl(e[0],e[1])},applyFilter(e){this.sendCtrl("filter",[{tag:e}])},async doImportPlaylist(){(await vt.importPlaylist(this.importPlaylist)).status===200?(this.tab="playlist",this.toast.success("Import successful")):this.toast.error("Import failed")},togglePlayer(){this.playerVisible=!this.playerVisible,this.playerVisible?this.player.playing()||this.play():this.player.stop()},resr(){this.resrinput!==""&&(this.sendCtrl("resr",[this.resrinput]),this.resrinput="")},sr(){this.srinput!==""&&(this.sendCtrl("sr",[this.srinput]),this.srinput="")},sendCtrl(e,t){this.sendMsg({event:"ctrl",ctrl:e,args:t})},ended(){this.sendMsg({event:"ended"})},sendMsg(e){this.ws?this.ws.send(JSON.stringify(e)):console.warn("sendMsg: this.ws not initialized")},play(){this.adjustVolume(this.settings.volume),this.playerVisible&&this.hasItems&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.hasItems&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.playerVisible&&this.hasItems&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(e){this.player.setVolume(e)},updateTag(e,t){e!==t&&this.sendCtrl("updatetag",[e,t])}}}),yi=e=>(Sn("data-v-7d844614"),e=e(),Cn(),e),bw={class:"view"},ww={id:"top",ref:"top"},$w={id:"actionbar",class:"p-1"},Sw=["disabled","title","onClick"],Cw=["disabled"],_w=yi(()=>s("span",{class:"txt"},"Set all to played",-1)),Ew=[_w],kw=["disabled","title"],Tw=yi(()=>s("i",{class:"fa fa-tv mr-1"},null,-1)),Iw={class:"txt"},Dw={class:"field has-addons mr-1"},Aw={class:"control"},Ow=["disabled"],Pw={class:"control"},Rw=["disabled"],Vw=yi(()=>s("i",{class:"fa fa-search mr-1"},null,-1)),Mw=O(" from playlist "),Uw=[Vw,Mw],Nw={class:"field has-addons mr-1"},Lw={class:"control"},Fw=["disabled"],Bw={class:"control"},Hw=["disabled"],zw=yi(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),jw=O(" from YouTube "),Ww=[zw,jw],xw=["disabled","href"],Kw={id:"main",ref:"main"},Jw={style:{width:"640px","max-width":"100%"}},Gw={class:"tabs"},Yw=["onClick"],Xw={key:0},Qw={class:"mb-1"},Zw=["href"],qw=yi(()=>s("i",{class:"fa fa-download mr-1"},null,-1)),e$=O(" Export playlist"),t$=[qw,e$],n$=yi(()=>s("i",{class:"fa fa-upload mr-1"},null,-1)),s$=O(" Import playlist "),i$=[n$,s$],o$={key:1,id:"tags"},a$={key:3,id:"playlist",class:"table-container"};function l$(e,t,n,i,a,l){const o=j("navbar-element"),r=j("youtube-player"),u=j("tags-editor"),d=j("song-request-settings"),c=j("playlist-editor"),f=j("commands-editor");return p(),y("div",bw,[s("div",ww,[K(o),s("div",$w,[(p(!0),y(ee,null,de(e.controlDefinitions,(h,m)=>(p(),y("button",{key:m,class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:h.title,onClick:v=>e.sendCtrl(h.ctrl,[])},[s("i",{class:Se(["fa",h.icon])},null,2)],8,Sw))),128)),s("button",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:"Sets all songs to at least 1x played",onClick:t[0]||(t[0]=h=>e.sendCtrl("setAllToPlayed",[]))},Ew,8,Cw),s("button",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:e.togglePlayerButtonText,onClick:t[1]||(t[1]=(...h)=>e.togglePlayer&&e.togglePlayer(...h))},[Tw,s("span",Iw,Y(e.togglePlayerButtonText),1)],8,kw),s("div",Dw,[s("div",Aw,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=h=>e.resrinput=h),class:"input is-small",disabled:e.inited?void 0:!0,onKeyup:t[3]||(t[3]=Wn((...h)=>e.resr&&e.resr(...h),["enter"]))},null,40,Ow),[[x,e.resrinput]])]),s("div",Pw,[s("button",{class:"button is-small",disabled:e.inited?void 0:!0,onClick:t[4]||(t[4]=(...h)=>e.resr&&e.resr(...h))},Uw,8,Rw)])]),s("div",Nw,[s("div",Lw,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=h=>e.srinput=h),class:"input is-small",disabled:e.inited?void 0:!0,onKeyup:t[6]||(t[6]=Wn((...h)=>e.sr&&e.sr(...h),["enter"]))},null,40,Fw),[[x,e.srinput]])]),s("div",Bw,[s("button",{class:"button is-small",disabled:e.inited?void 0:!0,onClick:t[7]||(t[7]=(...h)=>e.sr&&e.sr(...h))},Ww,8,Hw)])]),s("a",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,href:e.widgetUrl,target:"_blank"},"Open SR widget",8,xw)])],512),s("div",Kw,[s("div",Jw,[s("div",{id:"player",class:"video-16-9",style:at(e.playerstyle)},[K(r,{ref:"youtube",visible:e.playerVisible,onEnded:e.ended},null,8,["visible","onEnded"])],4)]),s("div",Gw,[s("ul",null,[(p(!0),y(ee,null,de(e.tabDefinitions,(h,m)=>(p(),y("li",{key:m,class:Se({"is-active":e.tab===h.tab}),onClick:v=>e.tab=h.tab},[s("a",null,Y(h.title),1)],10,Yw))),128))])]),e.inited&&e.tab==="import"?(p(),y("div",Xw,[s("div",Qw,[s("a",{class:"button is-small mr-1",href:e.exportPlaylistUrl,target:"_blank"},t$,8,Zw),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...h)=>e.doImportPlaylist&&e.doImportPlaylist(...h))},i$)]),R(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.importPlaylist=h),class:"textarea mb-1"},null,512),[[x,e.importPlaylist]])])):M("",!0),e.inited&&e.tab==="tags"?(p(),y("div",o$,[K(u,{tags:e.tags,onUpdateTag:e.onTagUpdated},null,8,["tags","onUpdateTag"])])):M("",!0),e.inited&&e.tab==="settings"?(p(),Ce(d,{key:2,id:"settings",modelValue:e.settings,"onUpdate:modelValue":[t[10]||(t[10]=h=>e.settings=h),e.sendSave]},null,8,["modelValue","onUpdate:modelValue"])):M("",!0),e.inited&&e.tab==="playlist"?(p(),y("div",a$,[K(c,{playlist:e.playlist,filter:e.filter,onStopPlayer:t[11]||(t[11]=h=>e.player.stop()),onFilterChange:e.applyFilter,onCtrl:e.onPlaylistCtrl},null,8,["playlist","filter","onFilterChange","onCtrl"])])):M("",!0),e.inited&&e.tab==="commands"?(p(),Ce(f,{key:4,modelValue:e.commands,"onUpdate:modelValue":[t[12]||(t[12]=h=>e.commands=h),e.sendSave],"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"possible-actions":e.possibleActions,"base-volume":100},null,8,["modelValue","global-variables","channel-points-custom-rewards","possible-actions","onUpdate:modelValue"])):M("",!0)],512)])}var r$=Oe(yw,[["render",l$],["__scopeId","data-v-7d844614"]]);const yr=()=>({volume:100}),u$=()=>({showImages:!0,autocommands:[]});var ts=(e=>(e.BALLOON="balloon",e.BOUNCY="bouncy",e.EXPLODE="explode",e.FLOATING_SPACE="floatingSpace",e.FOUNTAIN="fountain",e.RAIN="rain",e.RANDOM_BEZIER="randomBezier",e))(ts||{});const d$={class:"view"},c$={id:"top",ref:"top"},f$={id:"main",ref:"main"},h$={class:"tabs"},m$=["onClick"],p$=["href"],g$={key:1},v$={key:0,ref:"table",class:"table is-striped"},y$=s("td",null,[s("code",null,"settings.volume")],-1),b$=s("td",null,"Base volume for all media playing from commands",-1),w$=le({__name:"Commands",setup(e){const t=_e([]),n=_e(yr()),i=_e(u$()),a=_e([]),l=_e({});let o=null;const r=[ue.TEXT,ue.MEDIA,ue.MEDIA_VOLUME,ue.COUNTDOWN,ue.DICT_LOOKUP,ue.MADOCHAN_CREATEWORD,ue.CHATTERS,ue.SET_CHANNEL_TITLE,ue.SET_CHANNEL_GAME_ID,ue.ADD_STREAM_TAGS,ue.REMOVE_STREAM_TAGS],u=[{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"}],d=_e(!1),c=_e("commands"),f=_e(""),h=ot(()=>n.value.volume),m=S=>{i.value.showImages=S,v()},v=()=>{b({event:"save",commands:t.value,settings:n.value,adminSettings:i.value})},b=S=>{if(!o){console.warn("sendMsg: this.ws not initialized");return}o.send(JSON.stringify(S))};return Ft(()=>{o=Gn.wsClient("general"),o.onMessage("init",S=>{t.value=S.commands,n.value=S.settings,f.value=S.mediaWidgetUrl,i.value=S.adminSettings,a.value=S.globalVariables,l.value=S.channelPointsCustomRewards,d.value=!0}),o.connect()}),Kn(()=>{o&&o.disconnect()}),(S,w)=>{const g=j("navbar-element"),C=j("commands-editor"),$=j("volume-slider");return p(),y("div",d$,[s("div",c$,[K(g)],512),s("div",f$,[s("div",h$,[s("ul",null,[(p(),y(ee,null,de(u,(E,T)=>s("li",{key:T,class:Se({"is-active":c.value===E.tab}),onClick:V=>c.value=E.tab},[s("a",null,Y(E.title),1)],10,m$)),64)),s("li",null,[s("a",{class:"button is-small mr-1",href:f.value,target:"_blank"},"Open Media widget",8,p$)])])]),d.value&&c.value==="commands"?(p(),Ce(C,{key:0,modelValue:t.value,"onUpdate:modelValue":[w[0]||(w[0]=E=>t.value=E),v],"global-variables":a.value,"channel-points-custom-rewards":l.value,"possible-actions":r,"base-volume":tt(h),"show-toggle-images":!0,"show-filter-actions":!0,"widget-url":f.value,"show-images":i.value.showImages,onShowImagesChange:m},null,8,["modelValue","global-variables","channel-points-custom-rewards","base-volume","widget-url","show-images"])):M("",!0),d.value&&c.value==="settings"?(p(),y("div",g$,[n.value?(p(),y("table",v$,[s("tbody",null,[s("tr",null,[y$,s("td",null,[K($,{modelValue:n.value.volume,"onUpdate:modelValue":[w[1]||(w[1]=E=>n.value.volume=E),v]},null,8,["modelValue"])]),b$])])],512)):M("",!0)])):M("",!0)],512)])}}}),Ru=(e=null)=>({status:{enabled:ne(e,["status","enabled"],!1)},styles:{bgColor:ne(e,["styles","bgColor"],"#ff00ff"),bgColorEnabled:ne(e,["styles","bgColorEnabled"],!0),vAlign:ne(e,["styles","vAlign"],"bottom"),recognition:{fontFamily:ne(e,["styles","recognition","fontFamily"],"sans-serif"),fontSize:ne(e,["styles","recognition","fontSize"],"30pt"),fontWeight:ne(e,["styles","recognition","fontWeight"],"400"),strokeWidth:ne(e,["styles","recognition","strokeWidth"],"8pt"),strokeColor:ne(e,["styles","recognition","strokeColor"],"#292929"),color:ne(e,["styles","recognition","color"],"#ffff00")},translation:{fontFamily:ne(e,["styles","translation","fontFamily"],"sans-serif"),fontSize:ne(e,["styles","translation","fontSize"],"30pt"),fontWeight:ne(e,["styles","translation","fontWeight"],"400"),strokeWidth:ne(e,["styles","translation","strokeWidth"],"8pt"),strokeColor:ne(e,["styles","translation","strokeColor"],"#292929"),color:ne(e,["styles","translation","color"],"#cbcbcb")}},recognition:{display:ne(e,["recognition","display"],!0),lang:ne(e,["recognition","lang"],"ja"),synthesize:ne(e,["recognition","synthesize"],!1),synthesizeLang:ne(e,["recognition","synthesizeLang"],"")},translation:{enabled:ne(e,["translation","enabled"],!0),langSrc:ne(e,["translation","langSrc"],"ja"),langDst:ne(e,["translation","langDst"],"en"),synthesize:ne(e,["translation","synthesize"],!1),synthesizeLang:ne(e,["translation","synthesizeLang"],"")}}),$$=le({data:()=>({unchangedJson:"{}",changedJson:"{}",settings:Ru(),defaultSettings:Ru(),ws:null,inited:!1,controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Gn.wsClient("speech-to-text"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),S$={class:"view"},C$={id:"top",ref:"top"},_$={id:"actionbar",class:"p-1"},E$=["disabled"],k$=["href"],T$=["href"],I$={id:"main",ref:"main"},D$={key:0,ref:"table",class:"table is-striped"},A$=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),O$=s("td",null,[s("code",null,"settings.style.bgColor")],-1),P$=["disabled"],R$=s("i",{class:"fa fa-remove"},null,-1),V$=[R$],M$=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),U$=s("td",null,[s("code",null,"settings.style.vAlign")],-1),N$={class:"select is-small"},L$=s("option",{value:"top"}," top ",-1),F$=s("option",{value:"bottom"}," bottom ",-1),B$=[L$,F$],H$=["disabled"],z$=s("i",{class:"fa fa-remove"},null,-1),j$=[z$],W$=s("tr",null,[s("td",{colspan:"3"}," Recognition ")],-1),x$=s("td",null,[s("code",null,"settings.recognition.lang")],-1),K$=["disabled"],J$=s("i",{class:"fa fa-remove"},null,-1),G$=[J$],Y$=s("td",null,[s("code",null,"settings.recognition.synthesize")],-1),X$=["disabled"],Q$=s("i",{class:"fa fa-remove"},null,-1),Z$=[Q$],q$=s("td",null,[s("code",null,"settings.recognition.synthesizeLang")],-1),eS=["disabled"],tS=s("i",{class:"fa fa-remove"},null,-1),nS=[tS],sS=s("td",null,[s("code",null,"settings.recognition.display")],-1),iS=["disabled"],oS=s("i",{class:"fa fa-remove"},null,-1),aS=[oS],lS=s("td",null,[s("code",null,"settings.styles.recognition.color")],-1),rS=["disabled"],uS=s("i",{class:"fa fa-remove"},null,-1),dS=[uS],cS=s("td",null,[s("code",null,"settings.styles.recognition.strokeWidth")],-1),fS=["disabled"],hS=s("i",{class:"fa fa-remove"},null,-1),mS=[hS],pS=s("td",null,[s("code",null,"settings.styles.recognition.strokeColor")],-1),gS=["disabled"],vS=s("i",{class:"fa fa-remove"},null,-1),yS=[vS],bS=s("td",null,[s("code",null,"settings.styles.recognition.fontFamily")],-1),wS=["disabled"],$S=s("i",{class:"fa fa-remove"},null,-1),SS=[$S],CS=s("td",null,[s("code",null,"settings.styles.recognition.fontSize")],-1),_S=["disabled"],ES=s("i",{class:"fa fa-remove"},null,-1),kS=[ES],TS=s("td",null,[s("code",null,"settings.styles.recognition.fontWeight")],-1),IS=["disabled"],DS=s("i",{class:"fa fa-remove"},null,-1),AS=[DS],OS=s("tr",null,[s("td",{colspan:"3"}," Translation ")],-1),PS=s("td",null,[s("code",null,"settings.translation.enabled")],-1),RS=["disabled"],VS=s("i",{class:"fa fa-remove"},null,-1),MS=[VS],US=s("td",null,[s("code",null,"settings.translation.synthesize")],-1),NS=["disabled"],LS=s("i",{class:"fa fa-remove"},null,-1),FS=[LS],BS=s("td",null,[s("code",null,"settings.translation.synthesizeLang")],-1),HS=["disabled"],zS=s("i",{class:"fa fa-remove"},null,-1),jS=[zS],WS=s("td",null,[s("code",null,"settings.translation.langSrc")],-1),xS=["disabled"],KS=s("i",{class:"fa fa-remove"},null,-1),JS=[KS],GS=s("td",null,[s("code",null,"settings.translation.langDst")],-1),YS=["disabled"],XS=s("i",{class:"fa fa-remove"},null,-1),QS=[XS],ZS=s("td",null,[s("code",null,"settings.styles.translation.color")],-1),qS=["disabled"],eC=s("i",{class:"fa fa-remove"},null,-1),tC=[eC],nC=s("td",null,[s("code",null,"settings.styles.translation.strokeWidth")],-1),sC=["disabled"],iC=s("i",{class:"fa fa-remove"},null,-1),oC=[iC],aC=s("td",null,[s("code",null,"settings.styles.translation.strokeColor")],-1),lC=["disabled"],rC=s("i",{class:"fa fa-remove"},null,-1),uC=[rC],dC=s("td",null,[s("code",null,"settings.styles.translation.fontFamily")],-1),cC=["disabled"],fC=s("i",{class:"fa fa-remove"},null,-1),hC=[fC],mC=s("td",null,[s("code",null,"settings.styles.translation.fontSize")],-1),pC=["disabled"],gC=s("i",{class:"fa fa-remove"},null,-1),vC=[gC],yC=s("td",null,[s("code",null,"settings.styles.translation.fontWeight")],-1),bC=["disabled"],wC=s("i",{class:"fa fa-remove"},null,-1),$C=[wC],SC=s("tr",null,[s("td",{colspan:"3"}," Debug ")],-1),CC=s("td",null,[s("code",null,"settings.status.enabled")],-1),_C=["disabled"],EC=s("i",{class:"fa fa-remove"},null,-1),kC=[EC];function TC(e,t,n,i,a,l){const o=j("navbar-element");return p(),y("div",S$,[s("div",C$,[K(o),s("div",_$,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...r)=>e.sendSave&&e.sendSave(...r))}," Save ",8,E$),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,k$),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,T$)])],512),s("div",I$,[e.inited?(p(),y("table",D$,[s("tbody",null,[A$,s("tr",null,[O$,s("td",null,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.settings.styles.bgColor=r),class:"input is-small",type:"color"},null,512),[[x,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=r=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)},V$,8,P$)])]),s("tr",null,[M$,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.settings.styles.bgColorEnabled=r),type:"checkbox"},null,512),[[lt,e.settings.styles.bgColorEnabled]])])]),s("tr",null,[U$,s("td",null,[s("div",N$,[R(s("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.settings.styles.vAlign=r)},B$,512),[[gs,e.settings.styles.vAlign]])])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.vAlign===e.defaultSettings.styles.vAlign,onClick:t[5]||(t[5]=r=>e.settings.styles.vAlign=e.defaultSettings.styles.vAlign)},j$,8,H$)])]),W$,s("tr",null,[x$,s("td",null,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>e.settings.recognition.lang=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.recognition.lang]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.lang===e.defaultSettings.recognition.lang,onClick:t[7]||(t[7]=r=>e.settings.recognition.lang=e.defaultSettings.recognition.lang)},G$,8,K$)])]),s("tr",null,[Y$,s("td",null,[R(s("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>e.settings.recognition.synthesize=r),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.recognition.synthesize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesize===e.defaultSettings.recognition.synthesize,onClick:t[9]||(t[9]=r=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},Z$,8,X$)])]),s("tr",null,[q$,s("td",null,[R(s("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>e.settings.recognition.synthesizeLang=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.recognition.synthesizeLang]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesizeLang===e.defaultSettings.recognition.synthesizeLang,onClick:t[11]||(t[11]=r=>e.settings.recognition.synthesizeLang=e.defaultSettings.recognition.synthesizeLang)},nS,8,eS)])]),s("tr",null,[sS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>e.settings.recognition.display=r),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.recognition.display]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.display===e.defaultSettings.recognition.display,onClick:t[13]||(t[13]=r=>e.settings.recognition.display=e.defaultSettings.recognition.display)},aS,8,iS)])]),s("tr",null,[lS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>e.settings.styles.recognition.color=r),class:"input is-small",type:"color"},null,512),[[x,e.settings.styles.recognition.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.color===e.defaultSettings.styles.recognition.color,onClick:t[15]||(t[15]=r=>e.settings.styles.recognition.color=e.defaultSettings.styles.recognition.color)},dS,8,rS)])]),s("tr",null,[cS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[16]||(t[16]=r=>e.settings.styles.recognition.strokeWidth=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.recognition.strokeWidth]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeWidth===e.defaultSettings.styles.recognition.strokeWidth,onClick:t[17]||(t[17]=r=>e.settings.styles.recognition.strokeWidth=e.defaultSettings.styles.recognition.strokeWidth)},mS,8,fS)])]),s("tr",null,[pS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>e.settings.styles.recognition.strokeColor=r),class:"input is-small",type:"color"},null,512),[[x,e.settings.styles.recognition.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeColor===e.defaultSettings.styles.recognition.strokeColor,onClick:t[19]||(t[19]=r=>e.settings.styles.recognition.strokeColor=e.defaultSettings.styles.recognition.strokeColor)},yS,8,gS)])]),s("tr",null,[bS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[20]||(t[20]=r=>e.settings.styles.recognition.fontFamily=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.recognition.fontFamily]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontFamily===e.defaultSettings.styles.recognition.fontFamily,onClick:t[21]||(t[21]=r=>e.settings.styles.recognition.fontFamily=e.defaultSettings.styles.recognition.fontFamily)},SS,8,wS)])]),s("tr",null,[CS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[22]||(t[22]=r=>e.settings.styles.recognition.fontSize=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.recognition.fontSize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontSize===e.defaultSettings.styles.recognition.fontSize,onClick:t[23]||(t[23]=r=>e.settings.styles.recognition.fontSize=e.defaultSettings.styles.recognition.fontSize)},kS,8,_S)])]),s("tr",null,[TS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[24]||(t[24]=r=>e.settings.styles.recognition.fontWeight=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.recognition.fontWeight]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontWeight===e.defaultSettings.styles.recognition.fontWeight,onClick:t[25]||(t[25]=r=>e.settings.styles.weight=e.defaultSettings.styles.weight)},AS,8,IS)])]),OS,s("tr",null,[PS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[26]||(t[26]=r=>e.settings.translation.enabled=r),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.translation.enabled]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.enabled===e.defaultSettings.translation.enabled,onClick:t[27]||(t[27]=r=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},MS,8,RS)])]),s("tr",null,[US,s("td",null,[R(s("input",{"onUpdate:modelValue":t[28]||(t[28]=r=>e.settings.translation.synthesize=r),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.translation.synthesize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesize===e.defaultSettings.translation.synthesize,onClick:t[29]||(t[29]=r=>e.settings.translation.synthesize=e.defaultSettings.translation.synthesize)},FS,8,NS)])]),s("tr",null,[BS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[30]||(t[30]=r=>e.settings.translation.synthesizeLang=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.translation.synthesizeLang]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesizeLang===e.defaultSettings.translation.synthesizeLang,onClick:t[31]||(t[31]=r=>e.settings.translation.synthesizeLang=e.defaultSettings.translation.synthesizeLang)},jS,8,HS)])]),s("tr",null,[WS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[32]||(t[32]=r=>e.settings.translation.langSrc=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.translation.langSrc]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langSrc===e.defaultSettings.translation.langSrc,onClick:t[33]||(t[33]=r=>e.settings.translation.langSrc=e.defaultSettings.translation.langSrc)},JS,8,xS)])]),s("tr",null,[GS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[34]||(t[34]=r=>e.settings.translation.langDst=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.translation.langDst]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langDst===e.defaultSettings.translation.langDst,onClick:t[35]||(t[35]=r=>e.settings.translation.langDst=e.defaultSettings.translation.langDst)},QS,8,YS)])]),s("tr",null,[ZS,s("td",null,[R(s("input",{"onUpdate:modelValue":t[36]||(t[36]=r=>e.settings.styles.translation.color=r),class:"input is-small",type:"color"},null,512),[[x,e.settings.styles.translation.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.color===e.defaultSettings.styles.translation.color,onClick:t[37]||(t[37]=r=>e.settings.styles.translation.color=e.defaultSettings.styles.translation.color)},tC,8,qS)])]),s("tr",null,[nC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[38]||(t[38]=r=>e.settings.styles.translation.strokeWidth=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.translation.strokeWidth]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeWidth===e.defaultSettings.styles.translation.strokeWidth,onClick:t[39]||(t[39]=r=>e.settings.styles.translation.strokeWidth=e.defaultSettings.styles.translation.strokeWidth)},oC,8,sC)])]),s("tr",null,[aC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[40]||(t[40]=r=>e.settings.styles.translation.strokeColor=r),class:"input is-small",type:"color"},null,512),[[x,e.settings.styles.translation.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeColor===e.defaultSettings.styles.translation.strokeColor,onClick:t[41]||(t[41]=r=>e.settings.styles.translation.strokeColor=e.defaultSettings.styles.translation.strokeColor)},uC,8,lC)])]),s("tr",null,[dC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[42]||(t[42]=r=>e.settings.styles.translation.fontFamily=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.translation.fontFamily]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontFamily===e.defaultSettings.styles.translation.fontFamily,onClick:t[43]||(t[43]=r=>e.settings.styles.translation.fontFamily=e.defaultSettings.styles.translation.fontFamily)},hC,8,cC)])]),s("tr",null,[mC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[44]||(t[44]=r=>e.settings.styles.translation.fontSize=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.translation.fontSize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontSize===e.defaultSettings.styles.translation.fontSize,onClick:t[45]||(t[45]=r=>e.settings.styles.translation.fontSize=e.defaultSettings.styles.translation.fontSize)},vC,8,pC)])]),s("tr",null,[yC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[46]||(t[46]=r=>e.settings.styles.translation.fontWeight=r),class:"input is-small",type:"text"},null,512),[[x,e.settings.styles.translation.fontWeight]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontWeight===e.defaultSettings.styles.translation.fontWeight,onClick:t[47]||(t[47]=r=>e.settings.styles.weight=e.defaultSettings.styles.weight)},$C,8,bC)])]),SC,s("tr",null,[CC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[48]||(t[48]=r=>e.settings.status.enabled=r),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.status.enabled]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.status.enabled===e.defaultSettings.status.enabled,onClick:t[49]||(t[49]=r=>e.settings.status.enabled=e.defaultSettings.status.enabled)},kC,8,_C)])])])],512)):M("",!0)],512)])}var IC=Oe($$,[["render",TC]]);const _f=(e=null)=>({name:ne(e,["name"],""),width:ne(e,["width"],64),height:ne(e,["height"],64),stateDefinitions:ne(e,["stateDefinitions"],[]),slotDefinitions:ne(e,["slotDefinitions"],[]),state:ne(e,["state"],{slots:{},lockedState:""})}),Pl=(e=null)=>({styles:{bgColor:ne(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:ne(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:ne(e,["avatarDefinitions"],[]).map(_f)}),DC={name:"Hyottoko-Chan",width:400,height:400,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1},{value:"brb",deletable:!0}],slotDefinitions:[{slot:"Base",defaultItemIndex:0,items:[{title:"Default Clothing",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bVyo1l-BASE.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/JFvasz-2022-01-30T01_30_40.133Z-xUI5QQ.png",duration:100}]}]},{title:"Neko Maid",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/CnWpBL-BASE 2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/xV8vXJ-brb2.png",duration:100}]}]}]},{slot:"Mouth",defaultItemIndex:0,items:[{title:"Confused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/GkDE45-mouth-confused-open.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/snKSAf-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Mild Smile",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/TTeOCx-mouth-mild-smile.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/gjs4vW-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bbpNaD-mouth-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Eyes",defaultItemIndex:1,items:[{title:"Calm",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/NO7zrl-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/nmUEqi-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/9eidC9-l2idid-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/pw1HJw-nmUEqi-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Interested",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/2wlpCr-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/DwiBor-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/5fP25n-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/PYiAtV-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/LQkiXq-eyes-down-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Hands + Table",defaultItemIndex:0,items:[{title:"Empty",states:[{state:"default",frames:[{url:"",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[]}]},{title:"Mouse Study",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/YJnPbG-mouse-study.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Tablet",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/MNHy2s-tablet-osu.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Knitting",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/pn9ZlM-knitting-hands2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Cross Stitch",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/XZRYyh-crossstitch-hands.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]}],state:{slots:{Mouth:1,Eyes:1,Base:1,"Hands + Table":1},lockedState:"default"}};const AC=le({data:()=>({editIdx:-1,editEntity:null,unchangedJson:"{}",changedJson:"{}",settings:Pl(),defaultSettings:Pl(),ws:null,inited:!1,tabDefinitions:[{tab:"avatars",title:"Avatars"},{tab:"settings",title:"Settings"}],tab:"avatars",controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Gn.wsClient("avatar"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{edit(e){if(!this.settings){console.warn("edit: this.settings not initialized");return}this.editIdx=e,this.editEntity=this.settings.avatarDefinitions[e]},remove(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.avatarDefinitions=this.settings.avatarDefinitions.filter((t,n)=>n!==e),this.sendSave()},duplicate(e){if(!this.settings){console.warn("duplicate: this.settings not initialized");return}this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=JSON.parse(JSON.stringify(this.settings.avatarDefinitions[e]))},updatedAvatar(e){if(!this.settings){console.warn("updateAvatar: this.settings not initialized");return}this.settings.avatarDefinitions[this.editIdx]=e,this.sendSave()},addAvatar(){if(!this.settings){console.warn("addAvatar: this.settings not initialized");return}const e={name:"Unnamed Avatar",width:64,height:64,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1}],slotDefinitions:[],state:{slots:{},lockedState:"default"}};this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},addExampleAvatar(){const e=JSON.parse(JSON.stringify(DC));this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},dragEnd(e){if(!this.settings){console.warn("dragEnd: this.settings not initialized");return}this.settings.avatarDefinitions=Yt.arrayMove(this.settings.avatarDefinitions,e.oldIndex,e.newIndex),this.sendSave()}}}),OC={class:"view"},PC={id:"top",ref:"top"},RC={id:"actionbar",class:"p-1"},VC=["href"],MC=["href"],UC={key:0,id:"main",ref:"main"},NC={class:"tabs"},LC=["onClick"],FC={key:0,class:"table is-striped"},BC=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),HC=s("td",null,[s("code",null,"settings.style.bgColor")],-1),zC=["disabled"],jC=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),WC={key:1},xC={class:"table is-striped"},KC=s("thead",null,[s("tr",null,[s("th"),s("th"),s("th",null,"Preview"),s("th",null,"Name"),s("th",null,"Actions")])],-1),JC=s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1),GC={class:"pl-0 pr-0"},YC=["onClick"],XC=s("i",{class:"fa fa-pencil"},null,-1),QC=[XC],ZC={class:"pl-0 pr-0"},qC=s("i",{class:"fa fa-trash"},null,-1),e_=["onClick"],t_=s("i",{class:"fa fa-clone"},null,-1),n_=[t_],s_=["href"],i_=s("i",{class:"fa fa-external-link mr-1"},null,-1),o_=O(" Control widget"),a_=[i_,o_],l_=["href"],r_=s("i",{class:"fa fa-external-link mr-1"},null,-1),u_=O(" Display widget"),d_=[r_,u_];function c_(e,t,n,i,a,l){const o=j("navbar-element"),r=j("avatar-preview"),u=j("doubleclick-button"),d=j("vue-draggable"),c=j("avatar-editor");return p(),y("div",OC,[s("div",PC,[K(o),s("div",RC,[s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,VC),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,MC)])],512),e.inited?(p(),y("div",UC,[s("div",NC,[s("ul",null,[(p(!0),y(ee,null,de(e.tabDefinitions,(f,h)=>(p(),y("li",{key:h,class:Se({"is-active":e.tab===f.tab}),onClick:m=>e.tab=f.tab},[s("a",null,Y(f.title),1)],10,LC))),128))])]),e.tab==="settings"?(p(),y("table",FC,[s("tbody",null,[BC,s("tr",null,[HC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>e.settings.styles.bgColor=f),class:"input is-small",type:"color","on:update:modelValue":t[1]||(t[1]=(...f)=>e.sendSave&&e.sendSave(...f))},null,544),[[x,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=f=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)}," Reset to default ",8,zC)])]),s("tr",null,[jC,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=f=>e.settings.styles.bgColorEnabled=f),type:"checkbox","on:update:modelValue":t[4]||(t[4]=(...f)=>e.sendSave&&e.sendSave(...f))},null,544),[[lt,e.settings.styles.bgColorEnabled]])])])])])):M("",!0),e.tab==="avatars"?(p(),y("div",WC,[s("table",xC,[KC,K(d,{"model-value":e.settings.avatarDefinitions,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:f,index:h})=>[s("tr",null,[JC,s("td",GC,[s("button",{class:"button is-small",onClick:m=>e.edit(h)},QC,8,YC)]),s("td",null,[K(r,{avatar:f},null,8,["avatar"])]),s("td",null,Y(f.name),1),s("td",ZC,[K(u,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:m=>e.remove(h)},{default:rt(()=>[qC]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small mr-1",onClick:m=>e.duplicate(h)},n_,8,e_),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl+"?avatar="+f.name,target:"_blank"},a_,8,s_),s("a",{class:"button is-small",href:e.displayWidgetUrl+"?avatar="+f.name,target:"_blank"},d_,8,l_)])])]),_:1},8,["model-value","onEnd"])]),e.editEntity?(p(),Ce(c,{key:0,"model-value":e.editEntity,"onUpdate:modelValue":e.updatedAvatar,onCancel:t[5]||(t[5]=f=>e.editEntity=null)},null,8,["model-value","onUpdate:modelValue"])):M("",!0),s("span",{class:"button is-small mr-1",onClick:t[6]||(t[6]=(...f)=>e.addAvatar&&e.addAvatar(...f))},"Add new avatar"),s("span",{class:"button is-small",onClick:t[7]||(t[7]=(...f)=>e.addExampleAvatar&&e.addExampleAvatar(...f))},"Add example avatar (Hyottoko-Chan)")])):M("",!0)],512)):M("",!0)])}var f_=Oe(AC,[["render",c_]]);const h_={class:"view center-screen mt-2"},m_=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),p_={key:0,class:"field has-background-success-light has-text-success-dark"},g_=O(" Password successfully set. Click "),v_=O(" here "),y_=O(" to login. "),b_={key:1},w_={key:0,class:"field has-background-danger-light has-text-danger-dark"},$_={class:"field"},S_={class:"control has-icons-left"},C_=["onKeyup"],__=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),E_={class:"field"},k_=["disabled"],T_=le({__name:"PasswordReset",setup(e){const t=_e(""),n=_e(""),i=_e(!1),a=ot(()=>t.value&&!n.value),l=async()=>{const o=Gn.getParam("t");i.value=!1,n.value="";const r=await vt.resetPassword({pass:t.value,token:o});if(r.status===200)i.value=!0;else try{n.value=(await r.json()).reason}catch{n.value="Unknown error"}};return(o,r)=>{const u=j("router-link");return p(),y("div",h_,[m_,i.value?(p(),y("div",p_,[g_,K(u,{to:{name:"login"}},{default:rt(()=>[v_]),_:1}),y_])):(p(),y("div",b_,[n.value?(p(),y("div",w_,Y(n.value),1)):M("",!0),s("div",$_,[s("div",S_,[R(s("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>t.value=d),class:"input",type:"password",placeholder:"New Password",onKeyup:[r[1]||(r[1]=d=>n.value=""),Wn(l,["enter"])]},null,40,C_),[[x,t.value]]),__])]),s("div",E_,[s("button",{class:"button is-primary is-fullwidth",disabled:tt(a)?void 0:!0,onClick:l}," Save Password ",8,k_)])]))])}}}),I_={class:"view center-screen mt-2"},D_=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),A_={key:0,class:"field has-background-success-light has-text-success-dark"},O_=O(" Password-reset mail sent. Click "),P_=O(" here "),R_=O(" to login. "),V_={key:1},M_={key:0,class:"field has-background-danger-light has-text-danger-dark"},U_={class:"field"},N_={class:"control has-icons-left"},L_=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),F_={class:"field"},B_=O(" Register an account "),H_=O(" | "),z_=O(" Login "),j_=le({__name:"ForgotPassword",setup(e){const t=_e(""),n=_e(""),i=_e(!1),a=async()=>{i.value=!1,n.value="";const l=await vt.requestPasswordReset({email:t.value});if(l.status===200)i.value=!0;else try{n.value=(await l.json()).reason}catch{n.value="Unknown error"}};return(l,o)=>{const r=j("router-link"),u=j("global-user-info");return p(),y("div",I_,[D_,i.value?(p(),y("div",A_,[O_,K(r,{to:{name:"login"}},{default:rt(()=>[P_]),_:1}),R_])):(p(),y("form",V_,[n.value?(p(),y("div",M_,Y(n.value),1)):M("",!0),s("div",U_,[s("div",N_,[R(s("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d),class:"input",type:"email",placeholder:"Email",onKeyup:o[1]||(o[1]=d=>n.value="")},null,544),[[x,t.value]]),L_])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:a},"Request Password Reset")]),s("div",F_,[K(r,{to:{name:"register"}},{default:rt(()=>[B_]),_:1}),H_,K(r,{to:{name:"login"}},{default:rt(()=>[z_]),_:1})]),K(u)]))])}}}),Ho=(e=null)=>({chatMessage:ne(e,["chatMessage"],""),sound:ne(e,["sound"],{file:"",filename:"",urlpath:"",volume:100})}),Ef=(e=null)=>({effect:Ho(ne(e,["effect"],null)),offsetMs:ne(e,["offsetMs"],"")}),W_=(e=null)=>({fontFamily:ne(e,["fontFamily"],""),fontSize:ne(e,["fontSize"],"72px"),color:ne(e,["color"],""),timerFormat:ne(e,["timerFormat"],"{mm}:{ss}"),showTimerWhenFinished:ne(e,["showTimerWhenFinished"],!0),finishedText:ne(e,["finishedText"],""),startEffect:Ho(ne(e,["startEffect"],null)),endEffect:Ho(ne(e,["endEffect"],null)),stopEffect:Ho(ne(e,["stopEffect"],null)),notifications:ne(e,["notifications"],[]).map(Ef)}),x_=le({data:()=>({unchangedJson:"{}",changedJson:"{}",settings:W_(),inited:!1,ws:null,widgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Gn.wsClient("pomo"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.widgetUrl=e.widgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},addNotification(){this.settings.notifications.push(Ef())},removeNotification(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.notifications=this.settings.notifications.filter((t,n)=>n!==e)}}}),K_={class:"view"},J_={id:"top",ref:"top"},G_={id:"actionbar",class:"p-1"},Y_=["disabled"],X_=["href"],Q_={id:"main",ref:"main"},Z_={key:0,ref:"table",class:"table is-striped"},q_=s("tr",null,[s("td",{colspan:"2"}," Pomo ")],-1),e2=s("td",null,[s("code",null,"settings.color")],-1),t2=s("td",null,"The text color in the widget.",-1),n2=s("td",null,[s("code",null,"settings.fontFamily")],-1),s2=s("td",null,"The font in the widget.",-1),i2=s("td",null,[s("code",null,"settings.fontSize")],-1),o2=s("td",null,[O(" The text size in the widget, for example "),s("code",null,"12px"),O(", "),s("code",null,"20pt"),O(". ")],-1),a2=s("td",null,[s("code",null,"settings.timerFormat")],-1),l2=s("td",null,[O(" Format of the timer, you can use the following placeholders: "),s("code",{innerHTML:"{{hh}}"}),O(" for hours, "),s("code",{innerHTML:"{{mm}}"}),O(" for minutes, "),s("code",{innerHTML:"{{ss}}"}),O(" for seconds. ")],-1),r2=s("td",null,[s("code",null,"settings.finishedText")],-1),u2=s("td",null,"Text that is displayed when the timer reaches 0.",-1),d2=s("td",null,[s("code",null,"settings.showTimerWhenFinished")],-1),c2=s("td",null," If enabled, the timer will be displayed even when it reached 0. ",-1),f2=s("td",null,[s("code",null,"settings.startEffect.chatMessage")],-1),h2=s("td",null,"Chat message that is sent when pomo is started.",-1),m2=s("td",null,[s("code",null,"settings.startEffect.sound")],-1),p2=s("td",null,"Sound that will be displayed when pomo is started.",-1),g2=s("td",null,[s("code",null,"settings.endEffect.chatMessage")],-1),v2=s("td",null,"Chat message that is sent when pomo reaches 0.",-1),y2=s("td",null,[s("code",null,"settings.endEffect.sound")],-1),b2=s("td",null,"Sound that will be displayed when pomo reaches 0.",-1),w2=s("td",null,[s("code",null,"settings.stopEffect.chatMessage")],-1),$2=s("td",null," Chat message that is sent when pomo is stopped (via pomo exit). ",-1),S2=s("td",null,[s("code",null,"settings.stopEffect.sound")],-1),C2=s("td",null," Sound that will be displayed when pomo is stopped (via pomo exit). ",-1),_2=s("code",null,"settings.notifications",-1),E2=["onClick"],k2=s("td",null,[s("code",null,"offsetMs")],-1),T2=s("td",null," Offset to the end of pomo. Negative offset means time before end of pomo. ",-1),I2=s("td",null,[s("code",null,"chatMessage")],-1),D2=["onUpdate:modelValue"],A2=s("td",null,"Chat message sent at the set offset.",-1),O2=s("td",null,[s("code",null,"sound")],-1),P2=s("td",null,"Sound played at the set offset.",-1);function R2(e,t,n,i,a,l){const o=j("navbar-element"),r=j("sound-upload"),u=j("duration-input");return p(),y("div",K_,[s("div",J_,[K(o),s("div",G_,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,Y_),s("a",{class:"button is-small mr-1",href:e.widgetUrl,target:"_blank"},"Open widget",8,X_)])],512),s("div",Q_,[e.inited?(p(),y("table",Z_,[s("tbody",null,[q_,s("tr",null,[e2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.color=d),class:"input is-small",type:"color"},null,512),[[x,e.settings.color]])]),t2]),s("tr",null,[n2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.settings.fontFamily=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.fontFamily]])]),s2]),s("tr",null,[i2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>e.settings.fontSize=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.fontSize]])]),o2]),s("tr",null,[a2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.settings.timerFormat=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.timerFormat]])]),l2]),s("tr",null,[r2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>e.settings.finishedText=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.finishedText]])]),u2]),s("tr",null,[d2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>e.settings.showTimerWhenFinished=d),class:"is-small",type:"checkbox"},null,512),[[lt,e.settings.showTimerWhenFinished]])]),c2]),s("tr",null,[f2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>e.settings.startEffect.chatMessage=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.startEffect.chatMessage]])]),h2]),s("tr",null,[m2,s("td",null,[K(r,{modelValue:e.settings.startEffect.sound,"onUpdate:modelValue":t[8]||(t[8]=d=>e.settings.startEffect.sound=d),"base-volume":100},null,8,["modelValue"])]),p2]),s("tr",null,[g2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>e.settings.endEffect.chatMessage=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.endEffect.chatMessage]])]),v2]),s("tr",null,[y2,s("td",null,[K(r,{modelValue:e.settings.endEffect.sound,"onUpdate:modelValue":t[10]||(t[10]=d=>e.settings.endEffect.sound=d),"base-volume":100},null,8,["modelValue"])]),b2]),s("tr",null,[w2,s("td",null,[R(s("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>e.settings.stopEffect.chatMessage=d),class:"input is-small",type:"text"},null,512),[[x,e.settings.stopEffect.chatMessage]])]),$2]),s("tr",null,[S2,s("td",null,[K(r,{modelValue:e.settings.stopEffect.sound,"onUpdate:modelValue":t[12]||(t[12]=d=>e.settings.stopEffect.sound=d),"base-volume":100},null,8,["modelValue"])]),C2]),s("tr",null,[s("td",null,[_2,s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...d)=>e.addNotification&&e.addNotification(...d))},"Add notification")]),s("td",null,[(p(!0),y(ee,null,de(e.settings.notifications,(d,c)=>(p(),y("div",{key:c},[s("span",{class:"button is-small",onClick:f=>e.removeNotification(c)},"Remove",8,E2),s("table",null,[s("tr",null,[k2,s("td",null,[K(u,{modelValue:d.offsetMs,"onUpdate:modelValue":f=>d.offsetMs=f,"allow-negative":!0},null,8,["modelValue","onUpdate:modelValue"])]),T2]),s("tr",null,[I2,s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.effect.chatMessage=f,class:"input is-small",type:"text"},null,8,D2),[[x,d.effect.chatMessage]])]),A2]),s("tr",null,[O2,s("td",null,[K(r,{modelValue:d.effect.sound,"onUpdate:modelValue":f=>d.effect.sound=f,"base-volume":100},null,8,["modelValue","onUpdate:modelValue"])]),P2])])]))),128))])])])],512)):M("",!0)],512)])}var V2=Oe(x_,[["render",R2]]);const M2=le({__name:"CheckboxInput",props:{modelValue:{type:Object,required:!0},onValue:{type:Object,default:!0},offValue:{type:Object,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=_e(n.modelValue===n.onValue),a=()=>{t("update:modelValue",i.value?n.onValue:n.offValue)};return(l,o)=>R((p(),y("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>i.value=r),type:"checkbox","on:update:modelValue":a},null,544)),[[lt,i.value]])}});const U2={key:0,class:"doubleclick-button-message mr-2 p-1 has-text-danger"},N2=le({__name:"DoubleclickButton",props:{message:null,timeout:null},emits:["click","doubleclick"],setup(e,{emit:t}){const n=e,i=_e(null),a=_e(null),l=ot(()=>a.value===null||i.value===null?{}:{width:`${i.value/n.timeout*100}%`}),o=()=>{a.value===null?(t("click"),i.value=n.timeout,a.value=setInterval(()=>{i.value&&(i.value-=10),(!i.value||i.value<=0)&&(clearInterval(a.value),a.value=null,i.value=null)},10)):(t("doubleclick"),a.value&&(clearInterval(a.value),a.value=null,i.value=null))};return(r,u)=>(p(),y("button",{class:"doubleclick-button",onClick:o},[ar(r.$slots,"default",{},void 0,!0),a.value?(p(),y("span",U2,[O(Y(e.message)+" ",1),s("span",{class:"doubleclick-button-timout-indicator",style:at(tt(l))},null,4)])):M("",!0)]))}});var L2=Oe(N2,[["__scopeId","data-v-3ab45fcf"]]),F2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function B2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kf(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),t}var Tf={exports:{}},H2=kf(ig);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vu(Object(n),!0).forEach(function(i){z2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vu(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zo=function(t){return typeof t}:zo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function z2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(){return fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fn.apply(this,arguments)}function j2(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,l;for(l=0;l<i.length;l++)a=i[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function W2(e,t){if(e==null)return{};var n=j2(e,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function x2(e){return K2(e)||J2(e)||G2(e)||Y2()}function K2(e){if(Array.isArray(e))return Rl(e)}function J2(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G2(e,t){if(!!e){if(typeof e=="string")return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(e,t)}}function Rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Y2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X2="1.14.0";function zn(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Yn=zn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yo=zn(/Edge/i),Mu=zn(/firefox/i),ji=zn(/safari/i)&&!zn(/chrome/i)&&!zn(/android/i),If=zn(/iP(ad|od|hone)/i),Q2=zn(/chrome/i)&&zn(/android/i),Df={capture:!1,passive:!1};function xe(e,t,n){e.addEventListener(t,n,!Yn&&Df)}function je(e,t,n){e.removeEventListener(t,n,!Yn&&Df)}function oa(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Z2(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function pn(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&oa(e,t):oa(e,t))||i&&e===n)return e;if(e===n)break}while(e=Z2(e))}return null}var Uu=/\s+/g;function gt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Uu," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Uu," ")}}function ge(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function Rs(e,t){var n="";if(typeof e=="string")n=e;else do{var i=ge(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function Af(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,l=i.length;if(n)for(;a<l;a++)n(i[a],a);return i}return[]}function On(){var e=document.scrollingElement;return e||document.documentElement}function mt(e,t,n,i,a){if(!(!e.getBoundingClientRect&&e!==window)){var l,o,r,u,d,c,f;if(e!==window&&e.parentNode&&e!==On()?(l=e.getBoundingClientRect(),o=l.top,r=l.left,u=l.bottom,d=l.right,c=l.height,f=l.width):(o=0,r=0,u=window.innerHeight,d=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!Yn))do if(a&&a.getBoundingClientRect&&(ge(a,"transform")!=="none"||n&&ge(a,"position")!=="static")){var h=a.getBoundingClientRect();o-=h.top+parseInt(ge(a,"border-top-width")),r-=h.left+parseInt(ge(a,"border-left-width")),u=o+l.height,d=r+l.width;break}while(a=a.parentNode);if(i&&e!==window){var m=Rs(a||e),v=m&&m.a,b=m&&m.d;m&&(o/=b,r/=v,f/=v,c/=b,u=o+c,d=r+f)}return{top:o,left:r,bottom:u,right:d,width:f,height:c}}}function Nu(e,t,n){for(var i=as(e,!0),a=mt(e)[t];i;){var l=mt(i)[n],o=void 0;if(n==="top"||n==="left"?o=a>=l:o=a<=l,!o)return i;if(i===On())break;i=as(i,!1)}return!1}function hi(e,t,n,i){for(var a=0,l=0,o=e.children;l<o.length;){if(o[l].style.display!=="none"&&o[l]!==Ae.ghost&&(i||o[l]!==Ae.dragged)&&pn(o[l],n.draggable,e,!1)){if(a===t)return o[l];a++}l++}return null}function br(e,t){for(var n=e.lastElementChild;n&&(n===Ae.ghost||ge(n,"display")==="none"||t&&!oa(n,t));)n=n.previousElementSibling;return n||null}function $t(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ae.clone&&(!t||oa(e,t))&&n++;return n}function Lu(e){var t=0,n=0,i=On();if(e)do{var a=Rs(e),l=a.a,o=a.d;t+=e.scrollLeft*l,n+=e.scrollTop*o}while(e!==i&&(e=e.parentNode));return[t,n]}function q2(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function as(e,t){if(!e||!e.getBoundingClientRect)return On();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=ge(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return On();if(i||t)return n;i=!0}}while(n=n.parentNode);return On()}function eE(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Qa(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Wi;function Of(e,t){return function(){if(!Wi){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Wi=setTimeout(function(){Wi=void 0},t)}}}function tE(){clearTimeout(Wi),Wi=void 0}function Pf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function wr(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Fu(e,t){ge(e,"position","absolute"),ge(e,"top",t.top),ge(e,"left",t.left),ge(e,"width",t.width),ge(e,"height",t.height)}function Za(e){ge(e,"position",""),ge(e,"top",""),ge(e,"left",""),ge(e,"width",""),ge(e,"height","")}var Rt="Sortable"+new Date().getTime();function nE(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(a){if(!(ge(a,"display")==="none"||a===Ae.ghost)){e.push({target:a,rect:mt(a)});var l=Rn({},e[e.length-1].rect);if(a.thisAnimationDuration){var o=Rs(a,!0);o&&(l.top-=o.f,l.left-=o.e)}a.fromRect=l}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(q2(e,{target:i}),1)},animateAll:function(i){var a=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var l=!1,o=0;e.forEach(function(r){var u=0,d=r.target,c=d.fromRect,f=mt(d),h=d.prevFromRect,m=d.prevToRect,v=r.rect,b=Rs(d,!0);b&&(f.top-=b.f,f.left-=b.e),d.toRect=f,d.thisAnimationDuration&&Qa(h,f)&&!Qa(c,f)&&(v.top-f.top)/(v.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(u=iE(v,h,m,a.options)),Qa(f,c)||(d.prevFromRect=c,d.prevToRect=f,u||(u=a.options.animation),a.animate(d,v,f,u)),u&&(l=!0,o=Math.max(o,u),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},u),d.thisAnimationDuration=u)}),clearTimeout(t),l?t=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),e=[]},animate:function(i,a,l,o){if(o){ge(i,"transition",""),ge(i,"transform","");var r=Rs(this.el),u=r&&r.a,d=r&&r.d,c=(a.left-l.left)/(u||1),f=(a.top-l.top)/(d||1);i.animatingX=!!c,i.animatingY=!!f,ge(i,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=sE(i),ge(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ge(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){ge(i,"transition",""),ge(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function sE(e){return e.offsetWidth}function iE(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var xs=[],qa={initializeByDefault:!0},bo={mount:function(t){for(var n in qa)qa.hasOwnProperty(n)&&!(n in t)&&(t[n]=qa[n]);xs.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),xs.push(t)},pluginEvent:function(t,n,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var l=t+"Global";xs.forEach(function(o){!n[o.pluginName]||(n[o.pluginName][l]&&n[o.pluginName][l](Rn({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](Rn({sortable:n},i)))})},initializePlugins:function(t,n,i,a){xs.forEach(function(r){var u=r.pluginName;if(!(!t.options[u]&&!r.initializeByDefault)){var d=new r(t,n,t.options);d.sortable=t,d.options=t.options,t[u]=d,fn(i,d.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var o=this.modifyOption(t,l,t.options[l]);typeof o!="undefined"&&(t.options[l]=o)}},getEventProperties:function(t,n){var i={};return xs.forEach(function(a){typeof a.eventProperties=="function"&&fn(i,a.eventProperties.call(n[a.pluginName],t))}),i},modifyOption:function(t,n,i){var a;return xs.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[n]=="function"&&(a=l.optionListeners[n].call(t[l.pluginName],i))}),a}};function Di(e){var t=e.sortable,n=e.rootEl,i=e.name,a=e.targetEl,l=e.cloneEl,o=e.toEl,r=e.fromEl,u=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[Rt],!!t){var b,S=t.options,w="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Yn&&!yo?b=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(i,!0,!0)),b.to=o||n,b.from=r||n,b.item=a||n,b.clone=l,b.oldIndex=u,b.newIndex=d,b.oldDraggableIndex=c,b.newDraggableIndex=f,b.originalEvent=h,b.pullMode=m?m.lastPutMode:void 0;var g=Rn(Rn({},v),bo.getEventProperties(i,t));for(var C in g)b[C]=g[C];n&&n.dispatchEvent(b),S[w]&&S[w].call(t,b)}}var oE=["evt"],zt=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.evt,l=W2(i,oE);bo.pluginEvent.bind(Ae)(t,n,Rn({dragEl:ae,parentEl:bt,ghostEl:Fe,rootEl:ht,nextEl:_s,lastDownEl:jo,cloneEl:wt,cloneHidden:os,dragStarted:Ai,putSortable:It,activeSortable:Ae.active,originalEvent:a,oldIndex:Zs,oldDraggableIndex:xi,newIndex:Zt,newDraggableIndex:is,hideGhostForTarget:Uf,unhideGhostForTarget:Nf,cloneNowHidden:function(){os=!0},cloneNowShown:function(){os=!1},dispatchSortableEvent:function(r){Nt({sortable:n,name:r,originalEvent:a})}},l))};function Nt(e){Di(Rn({putSortable:It,cloneEl:wt,targetEl:ae,rootEl:ht,oldIndex:Zs,oldDraggableIndex:xi,newIndex:Zt,newDraggableIndex:is},e))}var ae,bt,Fe,ht,_s,jo,wt,os,Zs,Zt,xi,is,Po,It,Qs=!1,aa=!1,la=[],ws,hn,el,tl,Bu,Hu,Ai,Ks,Ki,Ji=!1,Ro=!1,Wo,Ot,nl=[],Vl=!1,ra=[],La=typeof document!="undefined",Vo=If,zu=yo||Yn?"cssFloat":"float",aE=La&&!Q2&&!If&&"draggable"in document.createElement("div"),Rf=function(){if(!!La){if(Yn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Vf=function(t,n){var i=ge(t),a=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),l=hi(t,0,n),o=hi(t,1,n),r=l&&ge(l),u=o&&ge(o),d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+mt(l).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+mt(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var f=r.float==="left"?"left":"right";return o&&(u.clear==="both"||u.clear===f)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||d>=a&&i[zu]==="none"||o&&i[zu]==="none"&&d+c>a)?"vertical":"horizontal"},lE=function(t,n,i){var a=i?t.left:t.top,l=i?t.right:t.bottom,o=i?t.width:t.height,r=i?n.left:n.top,u=i?n.right:n.bottom,d=i?n.width:n.height;return a===r||l===u||a+o/2===r+d/2},rE=function(t,n){var i;return la.some(function(a){var l=a[Rt].options.emptyInsertThreshold;if(!(!l||br(a))){var o=mt(a),r=t>=o.left-l&&t<=o.right+l,u=n>=o.top-l&&n<=o.bottom+l;if(r&&u)return i=a}}),i},Mf=function(t){function n(l,o){return function(r,u,d,c){var f=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(l==null&&(o||f))return!0;if(l==null||l===!1)return!1;if(o&&l==="clone")return l;if(typeof l=="function")return n(l(r,u,d,c),o)(r,u,d,c);var h=(o?r:u).options.group.name;return l===!0||typeof l=="string"&&l===h||l.join&&l.indexOf(h)>-1}}var i={},a=t.group;(!a||zo(a)!="object")&&(a={name:a}),i.name=a.name,i.checkPull=n(a.pull,!0),i.checkPut=n(a.put),i.revertClone=a.revertClone,t.group=i},Uf=function(){!Rf&&Fe&&ge(Fe,"display","none")},Nf=function(){!Rf&&Fe&&ge(Fe,"display","")};La&&document.addEventListener("click",function(e){if(aa)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),aa=!1,!1},!0);var $s=function(t){if(ae){t=t.touches?t.touches[0]:t;var n=rE(t.clientX,t.clientY);if(n){var i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Rt]._onDragOver(i)}}},uE=function(t){ae&&ae.parentNode[Rt]._isOutsideThisEl(t.target)};function Ae(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=fn({},t),e[Rt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vf(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,r){o.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ae.supportPointer!==!1&&"PointerEvent"in window&&!ji,emptyInsertThreshold:5};bo.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);Mf(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:aE,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?xe(e,"pointerdown",this._onTapStart):(xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),la.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),fn(this,nE())}Ae.prototype={constructor:Ae,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ks=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,ae):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,i=this.el,a=this.options,l=a.preventOnFilter,o=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(r||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=a.filter;if(vE(i),!ae&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&ji&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=pn(u,a.draggable,i,!1),!(u&&u.animated)&&jo!==u)){if(Zs=$t(u),xi=$t(u,a.draggable),typeof c=="function"){if(c.call(this,t,u,this)){Nt({sortable:n,rootEl:d,name:"filter",targetEl:u,toEl:i,fromEl:i}),zt("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=pn(d,f.trim(),i,!1),f)return Nt({sortable:n,rootEl:f,name:"filter",targetEl:u,fromEl:i,toEl:i}),zt("filter",n,{evt:t}),!0}),c)){l&&t.cancelable&&t.preventDefault();return}a.handle&&!pn(d,a.handle,i,!1)||this._prepareDragStart(t,r,u)}}},_prepareDragStart:function(t,n,i){var a=this,l=a.el,o=a.options,r=l.ownerDocument,u;if(i&&!ae&&i.parentNode===l){var d=mt(i);if(ht=l,ae=i,bt=ae.parentNode,_s=ae.nextSibling,jo=i,Po=o.group,Ae.dragged=ae,ws={target:ae,clientX:(n||t).clientX,clientY:(n||t).clientY},Bu=ws.clientX-d.left,Hu=ws.clientY-d.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,ae.style["will-change"]="all",u=function(){if(zt("delayEnded",a,{evt:t}),Ae.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Mu&&a.nativeDraggable&&(ae.draggable=!0),a._triggerDragStart(t,n),Nt({sortable:a,name:"choose",originalEvent:t}),gt(ae,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){Af(ae,c.trim(),sl)}),xe(r,"dragover",$s),xe(r,"mousemove",$s),xe(r,"touchmove",$s),xe(r,"mouseup",a._onDrop),xe(r,"touchend",a._onDrop),xe(r,"touchcancel",a._onDrop),Mu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ae.draggable=!0),zt("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(yo||Yn))){if(Ae.eventCanceled){this._onDrop();return}xe(r,"mouseup",a._disableDelayedDrag),xe(r,"touchend",a._disableDelayedDrag),xe(r,"touchcancel",a._disableDelayedDrag),xe(r,"mousemove",a._delayedDragTouchMoveHandler),xe(r,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&xe(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(u,o.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ae&&sl(ae),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;je(t,"mouseup",this._disableDelayedDrag),je(t,"touchend",this._disableDelayedDrag),je(t,"touchcancel",this._disableDelayedDrag),je(t,"mousemove",this._delayedDragTouchMoveHandler),je(t,"touchmove",this._delayedDragTouchMoveHandler),je(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?xe(document,"pointermove",this._onTouchMove):n?xe(document,"touchmove",this._onTouchMove):xe(document,"mousemove",this._onTouchMove):(xe(ae,"dragend",this),xe(ht,"dragstart",this._onDragStart));try{document.selection?xo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Qs=!1,ht&&ae){zt("dragStarted",this,{evt:n}),this.nativeDraggable&&xe(document,"dragover",uE);var i=this.options;!t&&gt(ae,i.dragClass,!1),gt(ae,i.ghostClass,!0),Ae.active=this,t&&this._appendGhost(),Nt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(hn){this._lastX=hn.clientX,this._lastY=hn.clientY,Uf();for(var t=document.elementFromPoint(hn.clientX,hn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(hn.clientX,hn.clientY),t!==n);)n=t;if(ae.parentNode[Rt]._isOutsideThisEl(t),n)do{if(n[Rt]){var i=void 0;if(i=n[Rt]._onDragOver({clientX:hn.clientX,clientY:hn.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Nf()}},_onTouchMove:function(t){if(ws){var n=this.options,i=n.fallbackTolerance,a=n.fallbackOffset,l=t.touches?t.touches[0]:t,o=Fe&&Rs(Fe,!0),r=Fe&&o&&o.a,u=Fe&&o&&o.d,d=Vo&&Ot&&Lu(Ot),c=(l.clientX-ws.clientX+a.x)/(r||1)+(d?d[0]-nl[0]:0)/(r||1),f=(l.clientY-ws.clientY+a.y)/(u||1)+(d?d[1]-nl[1]:0)/(u||1);if(!Ae.active&&!Qs){if(i&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Fe){o?(o.e+=c-(el||0),o.f+=f-(tl||0)):o={a:1,b:0,c:0,d:1,e:c,f};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ge(Fe,"webkitTransform",h),ge(Fe,"mozTransform",h),ge(Fe,"msTransform",h),ge(Fe,"transform",h),el=c,tl=f,hn=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Fe){var t=this.options.fallbackOnBody?document.body:ht,n=mt(ae,!0,Vo,!0,t),i=this.options;if(Vo){for(Ot=t;ge(Ot,"position")==="static"&&ge(Ot,"transform")==="none"&&Ot!==document;)Ot=Ot.parentNode;Ot!==document.body&&Ot!==document.documentElement?(Ot===document&&(Ot=On()),n.top+=Ot.scrollTop,n.left+=Ot.scrollLeft):Ot=On(),nl=Lu(Ot)}Fe=ae.cloneNode(!0),gt(Fe,i.ghostClass,!1),gt(Fe,i.fallbackClass,!0),gt(Fe,i.dragClass,!0),ge(Fe,"transition",""),ge(Fe,"transform",""),ge(Fe,"box-sizing","border-box"),ge(Fe,"margin",0),ge(Fe,"top",n.top),ge(Fe,"left",n.left),ge(Fe,"width",n.width),ge(Fe,"height",n.height),ge(Fe,"opacity","0.8"),ge(Fe,"position",Vo?"absolute":"fixed"),ge(Fe,"zIndex","100000"),ge(Fe,"pointerEvents","none"),Ae.ghost=Fe,t.appendChild(Fe),ge(Fe,"transform-origin",Bu/parseInt(Fe.style.width)*100+"% "+Hu/parseInt(Fe.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,a=t.dataTransfer,l=i.options;if(zt("dragStart",this,{evt:t}),Ae.eventCanceled){this._onDrop();return}zt("setupClone",this),Ae.eventCanceled||(wt=wr(ae),wt.draggable=!1,wt.style["will-change"]="",this._hideClone(),gt(wt,this.options.chosenClass,!1),Ae.clone=wt),i.cloneId=xo(function(){zt("clone",i),!Ae.eventCanceled&&(i.options.removeCloneOnHide||ht.insertBefore(wt,ae),i._hideClone(),Nt({sortable:i,name:"clone"}))}),!n&&gt(ae,l.dragClass,!0),n?(aa=!0,i._loopId=setInterval(i._emulateDragOver,50)):(je(document,"mouseup",i._onDrop),je(document,"touchend",i._onDrop),je(document,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(i,a,ae)),xe(document,"drop",i),ge(ae,"transform","translateZ(0)")),Qs=!0,i._dragStartId=xo(i._dragStarted.bind(i,n,t)),xe(document,"selectstart",i),Ai=!0,ji&&ge(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,a,l,o,r=this.options,u=r.group,d=Ae.active,c=Po===u,f=r.sort,h=It||d,m,v=this,b=!1;if(Vl)return;function S(ve,ze){zt(ve,v,Rn({evt:t,isOwner:c,axis:m?"vertical":"horizontal",revert:o,dragRect:a,targetRect:l,canSort:f,fromSortable:h,target:i,completed:g,onMove:function(Ze,Ye){return Mo(ht,n,ae,a,Ze,mt(Ze),t,Ye)},changed:C},ze))}function w(){S("dragOverAnimationCapture"),v.captureAnimationState(),v!==h&&h.captureAnimationState()}function g(ve){return S("dragOverCompleted",{insertion:ve}),ve&&(c?d._hideClone():d._showClone(v),v!==h&&(gt(ae,It?It.options.ghostClass:d.options.ghostClass,!1),gt(ae,r.ghostClass,!0)),It!==v&&v!==Ae.active?It=v:v===Ae.active&&It&&(It=null),h===v&&(v._ignoreWhileAnimating=i),v.animateAll(function(){S("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===ae&&!ae.animated||i===n&&!i.animated)&&(Ks=null),!r.dragoverBubble&&!t.rootEl&&i!==document&&(ae.parentNode[Rt]._isOutsideThisEl(t.target),!ve&&$s(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function C(){Zt=$t(ae),is=$t(ae,r.draggable),Nt({sortable:v,name:"change",toEl:n,newIndex:Zt,newDraggableIndex:is,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=pn(i,r.draggable,n,!0),S("dragOver"),Ae.eventCanceled)return b;if(ae.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||v._ignoreWhileAnimating===i)return g(!1);if(aa=!1,d&&!r.disabled&&(c?f||(o=bt!==ht):It===this||(this.lastPutMode=Po.checkPull(this,d,ae,t))&&u.checkPut(this,d,ae,t))){if(m=this._getDirection(t,i)==="vertical",a=mt(ae),S("dragOverValid"),Ae.eventCanceled)return b;if(o)return bt=ht,w(),this._hideClone(),S("revert"),Ae.eventCanceled||(_s?ht.insertBefore(ae,_s):ht.appendChild(ae)),g(!0);var $=br(n,r.draggable);if(!$||hE(t,m,this)&&!$.animated){if($===ae)return g(!1);if($&&n===t.target&&(i=$),i&&(l=mt(i)),Mo(ht,n,ae,a,i,l,t,!!i)!==!1)return w(),n.appendChild(ae),bt=n,C(),g(!0)}else if($&&fE(t,m,this)){var E=hi(n,0,r,!0);if(E===ae)return g(!1);if(i=E,l=mt(i),Mo(ht,n,ae,a,i,l,t,!1)!==!1)return w(),n.insertBefore(ae,E),bt=n,C(),g(!0)}else if(i.parentNode===n){l=mt(i);var T=0,V,P=ae.parentNode!==n,I=!lE(ae.animated&&ae.toRect||a,i.animated&&i.toRect||l,m),U=m?"top":"left",B=Nu(i,"top","top")||Nu(ae,"top","top"),W=B?B.scrollTop:void 0;Ks!==i&&(V=l[U],Ji=!1,Ro=!I&&r.invertSwap||P),T=mE(t,i,l,m,I?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ro,Ks===i);var H;if(T!==0){var F=$t(ae);do F-=T,H=bt.children[F];while(H&&(ge(H,"display")==="none"||H===Fe))}if(T===0||H===i)return g(!1);Ks=i,Ki=T;var pe=i.nextElementSibling,X=!1;X=T===1;var re=Mo(ht,n,ae,a,i,l,t,X);if(re!==!1)return(re===1||re===-1)&&(X=re===1),Vl=!0,setTimeout(cE,30),w(),X&&!pe?n.appendChild(ae):i.parentNode.insertBefore(ae,X?pe:i),B&&Pf(B,0,W-B.scrollTop),bt=ae.parentNode,V!==void 0&&!Ro&&(Wo=Math.abs(V-mt(i)[U])),C(),g(!0)}if(n.contains(ae))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){je(document,"mousemove",this._onTouchMove),je(document,"touchmove",this._onTouchMove),je(document,"pointermove",this._onTouchMove),je(document,"dragover",$s),je(document,"mousemove",$s),je(document,"touchmove",$s)},_offUpEvents:function(){var t=this.el.ownerDocument;je(t,"mouseup",this._onDrop),je(t,"touchend",this._onDrop),je(t,"pointerup",this._onDrop),je(t,"touchcancel",this._onDrop),je(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(Zt=$t(ae),is=$t(ae,i.draggable),zt("drop",this,{evt:t}),bt=ae&&ae.parentNode,Zt=$t(ae),is=$t(ae,i.draggable),Ae.eventCanceled){this._nulling();return}Qs=!1,Ro=!1,Ji=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ml(this.cloneId),Ml(this._dragStartId),this.nativeDraggable&&(je(document,"drop",this),je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ji&&ge(document.body,"user-select",""),ge(ae,"transform",""),t&&(Ai&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(ht===bt||It&&It.lastPutMode!=="clone")&&wt&&wt.parentNode&&wt.parentNode.removeChild(wt),ae&&(this.nativeDraggable&&je(ae,"dragend",this),sl(ae),ae.style["will-change"]="",Ai&&!Qs&&gt(ae,It?It.options.ghostClass:this.options.ghostClass,!1),gt(ae,this.options.chosenClass,!1),Nt({sortable:this,name:"unchoose",toEl:bt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ht!==bt?(Zt>=0&&(Nt({rootEl:bt,name:"add",toEl:bt,fromEl:ht,originalEvent:t}),Nt({sortable:this,name:"remove",toEl:bt,originalEvent:t}),Nt({rootEl:bt,name:"sort",toEl:bt,fromEl:ht,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:bt,originalEvent:t})),It&&It.save()):Zt!==Zs&&Zt>=0&&(Nt({sortable:this,name:"update",toEl:bt,originalEvent:t}),Nt({sortable:this,name:"sort",toEl:bt,originalEvent:t})),Ae.active&&((Zt==null||Zt===-1)&&(Zt=Zs,is=xi),Nt({sortable:this,name:"end",toEl:bt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){zt("nulling",this),ht=ae=bt=Fe=_s=wt=jo=os=ws=hn=Ai=Zt=is=Zs=xi=Ks=Ki=It=Po=Ae.dragged=Ae.ghost=Ae.clone=Ae.active=null,ra.forEach(function(t){t.checked=!0}),ra.length=el=tl=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ae&&(this._onDragOver(t),dE(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,a=0,l=i.length,o=this.options;a<l;a++)n=i[a],pn(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||gE(n));return t},sort:function(t,n){var i={},a=this.el;this.toArray().forEach(function(l,o){var r=a.children[o];pn(r,this.options.draggable,a,!1)&&(i[l]=r)},this),n&&this.captureAnimationState(),t.forEach(function(l){i[l]&&(a.removeChild(i[l]),a.appendChild(i[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return pn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var a=bo.modifyOption(this,t,n);typeof a!="undefined"?i[t]=a:i[t]=n,t==="group"&&Mf(i)},destroy:function(){zt("destroy",this);var t=this.el;t[Rt]=null,je(t,"mousedown",this._onTapStart),je(t,"touchstart",this._onTapStart),je(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(je(t,"dragover",this),je(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),la.splice(la.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!os){if(zt("hideClone",this),Ae.eventCanceled)return;ge(wt,"display","none"),this.options.removeCloneOnHide&&wt.parentNode&&wt.parentNode.removeChild(wt),os=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(os){if(zt("showClone",this),Ae.eventCanceled)return;ae.parentNode==ht&&!this.options.group.revertClone?ht.insertBefore(wt,ae):_s?ht.insertBefore(wt,_s):ht.appendChild(wt),this.options.group.revertClone&&this.animate(ae,wt),ge(wt,"display",""),os=!1}}};function dE(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Mo(e,t,n,i,a,l,o,r){var u,d=e[Rt],c=d.options.onMove,f;return window.CustomEvent&&!Yn&&!yo?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=i,u.related=a||t,u.relatedRect=l||mt(t),u.willInsertAfter=r,u.originalEvent=o,e.dispatchEvent(u),c&&(f=c.call(d,u,o)),f}function sl(e){e.draggable=!1}function cE(){Vl=!1}function fE(e,t,n){var i=mt(hi(n.el,0,n.options,!0)),a=10;return t?e.clientX<i.left-a||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-a||e.clientY<i.bottom&&e.clientX<i.left}function hE(e,t,n){var i=mt(br(n.el,n.options.draggable)),a=10;return t?e.clientX>i.right+a||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+a}function mE(e,t,n,i,a,l,o,r){var u=i?e.clientY:e.clientX,d=i?n.height:n.width,c=i?n.top:n.left,f=i?n.bottom:n.right,h=!1;if(!o){if(r&&Wo<d*a){if(!Ji&&(Ki===1?u>c+d*l/2:u<f-d*l/2)&&(Ji=!0),Ji)h=!0;else if(Ki===1?u<c+Wo:u>f-Wo)return-Ki}else if(u>c+d*(1-a)/2&&u<f-d*(1-a)/2)return pE(t)}return h=h||o,h&&(u<c+d*l/2||u>f-d*l/2)?u>c+d/2?1:-1:0}function pE(e){return $t(ae)<$t(e)?1:-1}function gE(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function vE(e){ra.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&ra.push(i)}}function xo(e){return setTimeout(e,0)}function Ml(e){return clearTimeout(e)}La&&xe(document,"touchmove",function(e){(Ae.active||Qs)&&e.cancelable&&e.preventDefault()});Ae.utils={on:xe,off:je,css:ge,find:Af,is:function(t,n){return!!pn(t,n,t,!1)},extend:eE,throttle:Of,closest:pn,toggleClass:gt,clone:wr,index:$t,nextTick:xo,cancelNextTick:Ml,detectDirection:Vf,getChild:hi};Ae.get=function(e){return e[Rt]};Ae.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Ae.utils=Rn(Rn({},Ae.utils),i.utils)),bo.mount(i)})};Ae.create=function(e,t){return new Ae(e,t)};Ae.version=X2;var Ct=[],Oi,Ul,Nl=!1,il,ol,ua,Pi;function yE(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?xe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xe(document,"pointermove",this._handleFallbackAutoScroll):i.touches?xe(document,"touchmove",this._handleFallbackAutoScroll):xe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):(je(document,"pointermove",this._handleFallbackAutoScroll),je(document,"touchmove",this._handleFallbackAutoScroll),je(document,"mousemove",this._handleFallbackAutoScroll)),ju(),Ko(),tE()},nulling:function(){ua=Ul=Oi=Nl=Pi=il=ol=null,Ct.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var a=this,l=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,r=document.elementFromPoint(l,o);if(ua=n,i||this.options.forceAutoScrollFallback||yo||Yn||ji){al(n,this.options,r,i);var u=as(r,!0);Nl&&(!Pi||l!==il||o!==ol)&&(Pi&&ju(),Pi=setInterval(function(){var d=as(document.elementFromPoint(l,o),!0);d!==u&&(u=d,Ko()),al(n,a.options,d,i)},10),il=l,ol=o)}else{if(!this.options.bubbleScroll||as(r,!0)===On()){Ko();return}al(n,this.options,as(r,!1),!1)}}},fn(e,{pluginName:"scroll",initializeByDefault:!0})}function Ko(){Ct.forEach(function(e){clearInterval(e.pid)}),Ct=[]}function ju(){clearInterval(Pi)}var al=Of(function(e,t,n,i){if(!!t.scroll){var a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,r=t.scrollSpeed,u=On(),d=!1,c;Ul!==n&&(Ul=n,Ko(),Oi=t.scroll,c=t.scrollFn,Oi===!0&&(Oi=as(n,!0)));var f=0,h=Oi;do{var m=h,v=mt(m),b=v.top,S=v.bottom,w=v.left,g=v.right,C=v.width,$=v.height,E=void 0,T=void 0,V=m.scrollWidth,P=m.scrollHeight,I=ge(m),U=m.scrollLeft,B=m.scrollTop;m===u?(E=C<V&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),T=$<P&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(E=C<V&&(I.overflowX==="auto"||I.overflowX==="scroll"),T=$<P&&(I.overflowY==="auto"||I.overflowY==="scroll"));var W=E&&(Math.abs(g-a)<=o&&U+C<V)-(Math.abs(w-a)<=o&&!!U),H=T&&(Math.abs(S-l)<=o&&B+$<P)-(Math.abs(b-l)<=o&&!!B);if(!Ct[f])for(var F=0;F<=f;F++)Ct[F]||(Ct[F]={});(Ct[f].vx!=W||Ct[f].vy!=H||Ct[f].el!==m)&&(Ct[f].el=m,Ct[f].vx=W,Ct[f].vy=H,clearInterval(Ct[f].pid),(W!=0||H!=0)&&(d=!0,Ct[f].pid=setInterval(function(){i&&this.layer===0&&Ae.active._onTouchMove(ua);var pe=Ct[this.layer].vy?Ct[this.layer].vy*r:0,X=Ct[this.layer].vx?Ct[this.layer].vx*r:0;typeof c=="function"&&c.call(Ae.dragged.parentNode[Rt],X,pe,e,ua,Ct[this.layer].el)!=="continue"||Pf(Ct[this.layer].el,X,pe)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&h!==u&&(h=as(h,!1)));Nl=d}},30),Lf=function(t){var n=t.originalEvent,i=t.putSortable,a=t.dragEl,l=t.activeSortable,o=t.dispatchSortableEvent,r=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(!!n){var d=i||l;r();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);u(),d&&!d.el.contains(f)&&(o("spill"),this.onSpill({dragEl:a,putSortable:i}))}};function $r(){}$r.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var a=hi(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Lf};fn($r,{pluginName:"revertOnSpill"});function Sr(){}Sr.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,a=i||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:Lf};fn(Sr,{pluginName:"removeOnSpill"});var rn;function bE(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var i=n.dragEl;rn=i},dragOverValid:function(n){var i=n.completed,a=n.target,l=n.onMove,o=n.activeSortable,r=n.changed,u=n.cancel;if(!!o.options.swap){var d=this.sortable.el,c=this.options;if(a&&a!==d){var f=rn;l(a)!==!1?(gt(a,c.swapClass,!0),rn=a):rn=null,f&&f!==rn&&gt(f,c.swapClass,!1)}r(),i(!0),u()}},drop:function(n){var i=n.activeSortable,a=n.putSortable,l=n.dragEl,o=a||this.sortable,r=this.options;rn&&gt(rn,r.swapClass,!1),rn&&(r.swap||a&&a.options.swap)&&l!==rn&&(o.captureAnimationState(),o!==i&&i.captureAnimationState(),wE(l,rn),o.animateAll(),o!==i&&i.animateAll())},nulling:function(){rn=null}},fn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:rn}}})}function wE(e,t){var n=e.parentNode,i=t.parentNode,a,l;!n||!i||n.isEqualNode(t)||i.isEqualNode(e)||(a=$t(e),l=$t(t),n.isEqualNode(i)&&a<l&&l++,n.insertBefore(t,n.children[a]),i.insertBefore(e,i.children[l]))}var Ne=[],Qt=[],Ci,mn,_i=!1,jt=!1,Js=!1,dt,Ei,Uo;function $E(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?xe(document,"pointerup",this._deselectMultiDrag):(xe(document,"mouseup",this._deselectMultiDrag),xe(document,"touchend",this._deselectMultiDrag)),xe(document,"keydown",this._checkKeyDown),xe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,l){var o="";Ne.length&&mn===t?Ne.forEach(function(r,u){o+=(u?", ":"")+r.textContent}):o=l.textContent,a.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var i=n.dragEl;dt=i},delayEnded:function(){this.isMultiDrag=~Ne.indexOf(dt)},setupClone:function(n){var i=n.sortable,a=n.cancel;if(!!this.isMultiDrag){for(var l=0;l<Ne.length;l++)Qt.push(wr(Ne[l])),Qt[l].sortableIndex=Ne[l].sortableIndex,Qt[l].draggable=!1,Qt[l].style["will-change"]="",gt(Qt[l],this.options.selectedClass,!1),Ne[l]===dt&&gt(Qt[l],this.options.chosenClass,!1);i._hideClone(),a()}},clone:function(n){var i=n.sortable,a=n.rootEl,l=n.dispatchSortableEvent,o=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Ne.length&&mn===i&&(Wu(!0,a),l("clone"),o())},showClone:function(n){var i=n.cloneNowShown,a=n.rootEl,l=n.cancel;!this.isMultiDrag||(Wu(!1,a),Qt.forEach(function(o){ge(o,"display","")}),i(),Uo=!1,l())},hideClone:function(n){var i=this;n.sortable;var a=n.cloneNowHidden,l=n.cancel;!this.isMultiDrag||(Qt.forEach(function(o){ge(o,"display","none"),i.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),a(),Uo=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&mn&&mn.multiDrag._deselectMultiDrag(),Ne.forEach(function(i){i.sortableIndex=$t(i)}),Ne=Ne.sort(function(i,a){return i.sortableIndex-a.sortableIndex}),Js=!0},dragStarted:function(n){var i=this,a=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){Ne.forEach(function(o){o!==dt&&ge(o,"position","absolute")});var l=mt(dt,!1,!0,!0);Ne.forEach(function(o){o!==dt&&Fu(o,l)}),jt=!0,_i=!0}a.animateAll(function(){jt=!1,_i=!1,i.options.animation&&Ne.forEach(function(o){Za(o)}),i.options.sort&&No()})}},dragOver:function(n){var i=n.target,a=n.completed,l=n.cancel;jt&&~Ne.indexOf(i)&&(a(!1),l())},revert:function(n){var i=n.fromSortable,a=n.rootEl,l=n.sortable,o=n.dragRect;Ne.length>1&&(Ne.forEach(function(r){l.addAnimationState({target:r,rect:jt?mt(r):o}),Za(r),r.fromRect=o,i.removeAnimationState(r)}),jt=!1,SE(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(n){var i=n.sortable,a=n.isOwner,l=n.insertion,o=n.activeSortable,r=n.parentEl,u=n.putSortable,d=this.options;if(l){if(a&&o._hideClone(),_i=!1,d.animation&&Ne.length>1&&(jt||!a&&!o.options.sort&&!u)){var c=mt(dt,!1,!0,!0);Ne.forEach(function(h){h!==dt&&(Fu(h,c),r.appendChild(h))}),jt=!0}if(!a)if(jt||No(),Ne.length>1){var f=Uo;o._showClone(i),o.options.animation&&!Uo&&f&&Qt.forEach(function(h){o.addAnimationState({target:h,rect:Ei}),h.fromRect=Ei,h.thisAnimationDuration=null})}else o._showClone(i)}},dragOverAnimationCapture:function(n){var i=n.dragRect,a=n.isOwner,l=n.activeSortable;if(Ne.forEach(function(r){r.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){Ei=fn({},i);var o=Rs(dt,!0);Ei.top-=o.f,Ei.left-=o.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,No())},drop:function(n){var i=n.originalEvent,a=n.rootEl,l=n.parentEl,o=n.sortable,r=n.dispatchSortableEvent,u=n.oldIndex,d=n.putSortable,c=d||this.sortable;if(!!i){var f=this.options,h=l.children;if(!Js)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),gt(dt,f.selectedClass,!~Ne.indexOf(dt)),~Ne.indexOf(dt))Ne.splice(Ne.indexOf(dt),1),Ci=null,Di({sortable:o,rootEl:a,name:"deselect",targetEl:dt,originalEvt:i});else{if(Ne.push(dt),Di({sortable:o,rootEl:a,name:"select",targetEl:dt,originalEvt:i}),i.shiftKey&&Ci&&o.el.contains(Ci)){var m=$t(Ci),v=$t(dt);if(~m&&~v&&m!==v){var b,S;for(v>m?(S=m,b=v):(S=v,b=m+1);S<b;S++)~Ne.indexOf(h[S])||(gt(h[S],f.selectedClass,!0),Ne.push(h[S]),Di({sortable:o,rootEl:a,name:"select",targetEl:h[S],originalEvt:i}))}}else Ci=dt;mn=c}if(Js&&this.isMultiDrag){if(jt=!1,(l[Rt].options.sort||l!==a)&&Ne.length>1){var w=mt(dt),g=$t(dt,":not(."+this.options.selectedClass+")");if(!_i&&f.animation&&(dt.thisAnimationDuration=null),c.captureAnimationState(),!_i&&(f.animation&&(dt.fromRect=w,Ne.forEach(function($){if($.thisAnimationDuration=null,$!==dt){var E=jt?mt($):w;$.fromRect=E,c.addAnimationState({target:$,rect:E})}})),No(),Ne.forEach(function($){h[g]?l.insertBefore($,h[g]):l.appendChild($),g++}),u===$t(dt))){var C=!1;Ne.forEach(function($){if($.sortableIndex!==$t($)){C=!0;return}}),C&&r("update")}Ne.forEach(function($){Za($)}),c.animateAll()}mn=c}(a===l||d&&d.lastPutMode!=="clone")&&Qt.forEach(function($){$.parentNode&&$.parentNode.removeChild($)})}},nullingGlobal:function(){this.isMultiDrag=Js=!1,Qt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),je(document,"pointerup",this._deselectMultiDrag),je(document,"mouseup",this._deselectMultiDrag),je(document,"touchend",this._deselectMultiDrag),je(document,"keydown",this._checkKeyDown),je(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Js!="undefined"&&Js)&&mn===this.sortable&&!(n&&pn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Ne.length;){var i=Ne[0];gt(i,this.options.selectedClass,!1),Ne.shift(),Di({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},fn(e,{pluginName:"multiDrag",utils:{select:function(n){var i=n.parentNode[Rt];!i||!i.options.multiDrag||~Ne.indexOf(n)||(mn&&mn!==i&&(mn.multiDrag._deselectMultiDrag(),mn=i),gt(n,i.options.selectedClass,!0),Ne.push(n))},deselect:function(n){var i=n.parentNode[Rt],a=Ne.indexOf(n);!i||!i.options.multiDrag||!~a||(gt(n,i.options.selectedClass,!1),Ne.splice(a,1))}},eventProperties:function(){var n=this,i=[],a=[];return Ne.forEach(function(l){i.push({multiDragElement:l,index:l.sortableIndex});var o;jt&&l!==dt?o=-1:jt?o=$t(l,":not(."+n.options.selectedClass+")"):o=$t(l),a.push({multiDragElement:l,index:o})}),{items:x2(Ne),clones:[].concat(Qt),oldIndicies:i,newIndicies:a}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function SE(e,t){Ne.forEach(function(n,i){var a=t.children[n.sortableIndex+(e?Number(i):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function Wu(e,t){Qt.forEach(function(n,i){var a=t.children[n.sortableIndex+(e?Number(i):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function No(){Ne.forEach(function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)})}Ae.mount(new yE);Ae.mount(Sr,$r);var CE=Object.freeze(Object.defineProperty({__proto__:null,default:Ae,MultiDrag:$E,Sortable:Ae,Swap:bE},Symbol.toStringTag,{value:"Module"})),_E=kf(CE);(function(e,t){(function(i,a){e.exports=a(H2,_E)})(typeof self!="undefined"?self:F2,function(n,i){return function(a){var l={};function o(r){if(l[r])return l[r].exports;var u=l[r]={i:r,l:!1,exports:{}};return a[r].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=a,o.c=l,o.d=function(r,u,d){o.o(r,u)||Object.defineProperty(r,u,{enumerable:!0,get:d})},o.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,u){if(u&1&&(r=o(r)),u&8||u&4&&typeof r=="object"&&r&&r.__esModule)return r;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:r}),u&2&&typeof r!="string")for(var c in r)o.d(d,c,function(f){return r[f]}.bind(null,c));return d},o.n=function(r){var u=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(u,"a",u),u},o.o=function(r,u){return Object.prototype.hasOwnProperty.call(r,u)},o.p="",o(o.s="fb15")}({"00ee":function(a,l,o){var r=o("b622"),u=r("toStringTag"),d={};d[u]="z",a.exports=String(d)==="[object z]"},"0366":function(a,l,o){var r=o("1c0b");a.exports=function(u,d,c){if(r(u),d===void 0)return u;switch(c){case 0:return function(){return u.call(d)};case 1:return function(f){return u.call(d,f)};case 2:return function(f,h){return u.call(d,f,h)};case 3:return function(f,h,m){return u.call(d,f,h,m)}}return function(){return u.apply(d,arguments)}}},"057f":function(a,l,o){var r=o("fc6a"),u=o("241c").f,d={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(h){try{return u(h)}catch{return c.slice()}};a.exports.f=function(m){return c&&d.call(m)=="[object Window]"?f(m):u(r(m))}},"06cf":function(a,l,o){var r=o("83ab"),u=o("d1e7"),d=o("5c6c"),c=o("fc6a"),f=o("c04e"),h=o("5135"),m=o("0cfb"),v=Object.getOwnPropertyDescriptor;l.f=r?v:function(S,w){if(S=c(S),w=f(w,!0),m)try{return v(S,w)}catch{}if(h(S,w))return d(!u.f.call(S,w),S[w])}},"0cfb":function(a,l,o){var r=o("83ab"),u=o("d039"),d=o("cc12");a.exports=!r&&!u(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,l,o){var r=o("23e7"),u=o("d58f").left,d=o("a640"),c=o("ae40"),f=d("reduce"),h=c("reduce",{1:0});r({target:"Array",proto:!0,forced:!f||!h},{reduce:function(v){return u(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,l,o){var r=o("c6b6"),u=o("9263");a.exports=function(d,c){var f=d.exec;if(typeof f=="function"){var h=f.call(d,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(r(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(d,c)}},"159b":function(a,l,o){var r=o("da84"),u=o("fdbc"),d=o("17c2"),c=o("9112");for(var f in u){var h=r[f],m=h&&h.prototype;if(m&&m.forEach!==d)try{c(m,"forEach",d)}catch{m.forEach=d}}},"17c2":function(a,l,o){var r=o("b727").forEach,u=o("a640"),d=o("ae40"),c=u("forEach"),f=d("forEach");a.exports=!c||!f?function(m){return r(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,l,o){var r=o("d066");a.exports=r("document","documentElement")},"1c0b":function(a,l){a.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(a,l,o){var r=o("b622"),u=r("iterator"),d=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){d=!0}};f[u]=function(){return this},Array.from(f,function(){throw 2})}catch{}a.exports=function(h,m){if(!m&&!d)return!1;var v=!1;try{var b={};b[u]=function(){return{next:function(){return{done:v=!0}}}},h(b)}catch{}return v}},"1d80":function(a,l){a.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(a,l,o){var r=o("d039"),u=o("b622"),d=o("2d00"),c=u("species");a.exports=function(f){return d>=51||!r(function(){var h=[],m=h.constructor={};return m[c]=function(){return{foo:1}},h[f](Boolean).foo!==1})}},"23cb":function(a,l,o){var r=o("a691"),u=Math.max,d=Math.min;a.exports=function(c,f){var h=r(c);return h<0?u(h+f,0):d(h,f)}},"23e7":function(a,l,o){var r=o("da84"),u=o("06cf").f,d=o("9112"),c=o("6eeb"),f=o("ce4e"),h=o("e893"),m=o("94ca");a.exports=function(v,b){var S=v.target,w=v.global,g=v.stat,C,$,E,T,V,P;if(w?$=r:g?$=r[S]||f(S,{}):$=(r[S]||{}).prototype,$)for(E in b){if(V=b[E],v.noTargetGet?(P=u($,E),T=P&&P.value):T=$[E],C=m(w?E:S+(g?".":"#")+E,v.forced),!C&&T!==void 0){if(typeof V==typeof T)continue;h(V,T)}(v.sham||T&&T.sham)&&d(V,"sham",!0),c($,E,V,v)}}},"241c":function(a,l,o){var r=o("ca84"),u=o("7839"),d=u.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(f){return r(f,d)}},"25f0":function(a,l,o){var r=o("6eeb"),u=o("825a"),d=o("d039"),c=o("ad6d"),f="toString",h=RegExp.prototype,m=h[f],v=d(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),b=m.name!=f;(v||b)&&r(RegExp.prototype,f,function(){var w=u(this),g=String(w.source),C=w.flags,$=String(C===void 0&&w instanceof RegExp&&!("flags"in h)?c.call(w):C);return"/"+g+"/"+$},{unsafe:!0})},"2ca0":function(a,l,o){var r=o("23e7"),u=o("06cf").f,d=o("50c4"),c=o("5a34"),f=o("1d80"),h=o("ab13"),m=o("c430"),v="".startsWith,b=Math.min,S=h("startsWith"),w=!m&&!S&&!!function(){var g=u(String.prototype,"startsWith");return g&&!g.writable}();r({target:"String",proto:!0,forced:!w&&!S},{startsWith:function(C){var $=String(f(this));c(C);var E=d(b(arguments.length>1?arguments[1]:void 0,$.length)),T=String(C);return v?v.call($,T,E):$.slice(E,E+T.length)===T}})},"2d00":function(a,l,o){var r=o("da84"),u=o("342f"),d=r.process,c=d&&d.versions,f=c&&c.v8,h,m;f?(h=f.split("."),m=h[0]+h[1]):u&&(h=u.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=u.match(/Chrome\/(\d+)/),h&&(m=h[1]))),a.exports=m&&+m},"342f":function(a,l,o){var r=o("d066");a.exports=r("navigator","userAgent")||""},"35a1":function(a,l,o){var r=o("f5df"),u=o("3f8c"),d=o("b622"),c=d("iterator");a.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||u[r(f)]}},"37e8":function(a,l,o){var r=o("83ab"),u=o("9bf2"),d=o("825a"),c=o("df75");a.exports=r?Object.defineProperties:function(h,m){d(h);for(var v=c(m),b=v.length,S=0,w;b>S;)u.f(h,w=v[S++],m[w]);return h}},"3bbe":function(a,l,o){var r=o("861d");a.exports=function(u){if(!r(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(a,l,o){var r=o("6547").charAt,u=o("69f3"),d=o("7dd0"),c="String Iterator",f=u.set,h=u.getterFor(c);d(String,"String",function(m){f(this,{type:c,string:String(m),index:0})},function(){var v=h(this),b=v.string,S=v.index,w;return S>=b.length?{value:void 0,done:!0}:(w=r(b,S),v.index+=w.length,{value:w,done:!1})})},"3f8c":function(a,l){a.exports={}},4160:function(a,l,o){var r=o("23e7"),u=o("17c2");r({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(a,l,o){var r=o("da84");a.exports=r},"44ad":function(a,l,o){var r=o("d039"),u=o("c6b6"),d="".split;a.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return u(c)=="String"?d.call(c,""):Object(c)}:Object},"44d2":function(a,l,o){var r=o("b622"),u=o("7c73"),d=o("9bf2"),c=r("unscopables"),f=Array.prototype;f[c]==null&&d.f(f,c,{configurable:!0,value:u(null)}),a.exports=function(h){f[c][h]=!0}},"44e7":function(a,l,o){var r=o("861d"),u=o("c6b6"),d=o("b622"),c=d("match");a.exports=function(f){var h;return r(f)&&((h=f[c])!==void 0?!!h:u(f)=="RegExp")}},4930:function(a,l,o){var r=o("d039");a.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"4d64":function(a,l,o){var r=o("fc6a"),u=o("50c4"),d=o("23cb"),c=function(f){return function(h,m,v){var b=r(h),S=u(b.length),w=d(v,S),g;if(f&&m!=m){for(;S>w;)if(g=b[w++],g!=g)return!0}else for(;S>w;w++)if((f||w in b)&&b[w]===m)return f||w||0;return!f&&-1}};a.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(a,l,o){var r=o("23e7"),u=o("b727").filter,d=o("1dde"),c=o("ae40"),f=d("filter"),h=c("filter");r({target:"Array",proto:!0,forced:!f||!h},{filter:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,l,o){var r=o("0366"),u=o("7b0b"),d=o("9bdd"),c=o("e95a"),f=o("50c4"),h=o("8418"),m=o("35a1");a.exports=function(b){var S=u(b),w=typeof this=="function"?this:Array,g=arguments.length,C=g>1?arguments[1]:void 0,$=C!==void 0,E=m(S),T=0,V,P,I,U,B,W;if($&&(C=r(C,g>2?arguments[2]:void 0,2)),E!=null&&!(w==Array&&c(E)))for(U=E.call(S),B=U.next,P=new w;!(I=B.call(U)).done;T++)W=$?d(U,C,[I.value,T],!0):I.value,h(P,T,W);else for(V=f(S.length),P=new w(V);V>T;T++)W=$?C(S[T],T):S[T],h(P,T,W);return P.length=T,P}},"4fad":function(a,l,o){var r=o("23e7"),u=o("6f53").entries;r({target:"Object",stat:!0},{entries:function(c){return u(c)}})},"50c4":function(a,l,o){var r=o("a691"),u=Math.min;a.exports=function(d){return d>0?u(r(d),9007199254740991):0}},5135:function(a,l){var o={}.hasOwnProperty;a.exports=function(r,u){return o.call(r,u)}},5319:function(a,l,o){var r=o("d784"),u=o("825a"),d=o("7b0b"),c=o("50c4"),f=o("a691"),h=o("1d80"),m=o("8aa5"),v=o("14c3"),b=Math.max,S=Math.min,w=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,C=/\$([$&'`]|\d\d?)/g,$=function(E){return E===void 0?E:String(E)};r("replace",2,function(E,T,V,P){var I=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,U=P.REPLACE_KEEPS_$0,B=I?"$":"$0";return[function(F,pe){var X=h(this),re=F==null?void 0:F[E];return re!==void 0?re.call(F,X,pe):T.call(String(X),F,pe)},function(H,F){if(!I&&U||typeof F=="string"&&F.indexOf(B)===-1){var pe=V(T,H,this,F);if(pe.done)return pe.value}var X=u(H),re=String(this),ve=typeof F=="function";ve||(F=String(F));var ze=X.global;if(ze){var ct=X.unicode;X.lastIndex=0}for(var Ze=[];;){var Ye=v(X,re);if(Ye===null||(Ze.push(Ye),!ze))break;var qe=String(Ye[0]);qe===""&&(X.lastIndex=m(re,c(X.lastIndex),ct))}for(var ft="",z=0,oe=0;oe<Ze.length;oe++){Ye=Ze[oe];for(var Q=String(Ye[0]),fe=b(S(f(Ye.index),re.length),0),Ve=[],We=1;We<Ye.length;We++)Ve.push($(Ye[We]));var Pe=Ye.groups;if(ve){var ke=[Q].concat(Ve,fe,re);Pe!==void 0&&ke.push(Pe);var _=String(F.apply(void 0,ke))}else _=W(Q,re,fe,Ve,Pe,F);fe>=z&&(ft+=re.slice(z,fe)+_,z=fe+Q.length)}return ft+re.slice(z)}];function W(H,F,pe,X,re,ve){var ze=pe+H.length,ct=X.length,Ze=C;return re!==void 0&&(re=d(re),Ze=g),T.call(ve,Ze,function(Ye,qe){var ft;switch(qe.charAt(0)){case"$":return"$";case"&":return H;case"`":return F.slice(0,pe);case"'":return F.slice(ze);case"<":ft=re[qe.slice(1,-1)];break;default:var z=+qe;if(z===0)return Ye;if(z>ct){var oe=w(z/10);return oe===0?Ye:oe<=ct?X[oe-1]===void 0?qe.charAt(1):X[oe-1]+qe.charAt(1):Ye}ft=X[z-1]}return ft===void 0?"":ft})}})},5692:function(a,l,o){var r=o("c430"),u=o("c6cd");(a.exports=function(d,c){return u[d]||(u[d]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,l,o){var r=o("d066"),u=o("241c"),d=o("7418"),c=o("825a");a.exports=r("Reflect","ownKeys")||function(h){var m=u.f(c(h)),v=d.f;return v?m.concat(v(h)):m}},"5a34":function(a,l,o){var r=o("44e7");a.exports=function(u){if(r(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(a,l){a.exports=function(o,r){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:r}}},"5db7":function(a,l,o){var r=o("23e7"),u=o("a2bf"),d=o("7b0b"),c=o("50c4"),f=o("1c0b"),h=o("65f0");r({target:"Array",proto:!0},{flatMap:function(v){var b=d(this),S=c(b.length),w;return f(v),w=h(b,0),w.length=u(w,b,b,S,0,1,v,arguments.length>1?arguments[1]:void 0),w}})},6547:function(a,l,o){var r=o("a691"),u=o("1d80"),d=function(c){return function(f,h){var m=String(u(f)),v=r(h),b=m.length,S,w;return v<0||v>=b?c?"":void 0:(S=m.charCodeAt(v),S<55296||S>56319||v+1===b||(w=m.charCodeAt(v+1))<56320||w>57343?c?m.charAt(v):S:c?m.slice(v,v+2):(S-55296<<10)+(w-56320)+65536)}};a.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(a,l,o){var r=o("861d"),u=o("e8b5"),d=o("b622"),c=d("species");a.exports=function(f,h){var m;return u(f)&&(m=f.constructor,typeof m=="function"&&(m===Array||u(m.prototype))?m=void 0:r(m)&&(m=m[c],m===null&&(m=void 0))),new(m===void 0?Array:m)(h===0?0:h)}},"69f3":function(a,l,o){var r=o("7f9a"),u=o("da84"),d=o("861d"),c=o("9112"),f=o("5135"),h=o("f772"),m=o("d012"),v=u.WeakMap,b,S,w,g=function(I){return w(I)?S(I):b(I,{})},C=function(I){return function(U){var B;if(!d(U)||(B=S(U)).type!==I)throw TypeError("Incompatible receiver, "+I+" required");return B}};if(r){var $=new v,E=$.get,T=$.has,V=$.set;b=function(I,U){return V.call($,I,U),U},S=function(I){return E.call($,I)||{}},w=function(I){return T.call($,I)}}else{var P=h("state");m[P]=!0,b=function(I,U){return c(I,P,U),U},S=function(I){return f(I,P)?I[P]:{}},w=function(I){return f(I,P)}}a.exports={set:b,get:S,has:w,enforce:g,getterFor:C}},"6eeb":function(a,l,o){var r=o("da84"),u=o("9112"),d=o("5135"),c=o("ce4e"),f=o("8925"),h=o("69f3"),m=h.get,v=h.enforce,b=String(String).split("String");(a.exports=function(S,w,g,C){var $=C?!!C.unsafe:!1,E=C?!!C.enumerable:!1,T=C?!!C.noTargetGet:!1;if(typeof g=="function"&&(typeof w=="string"&&!d(g,"name")&&u(g,"name",w),v(g).source=b.join(typeof w=="string"?w:"")),S===r){E?S[w]=g:c(w,g);return}else $?!T&&S[w]&&(E=!0):delete S[w];E?S[w]=g:u(S,w,g)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||f(this)})},"6f53":function(a,l,o){var r=o("83ab"),u=o("df75"),d=o("fc6a"),c=o("d1e7").f,f=function(h){return function(m){for(var v=d(m),b=u(v),S=b.length,w=0,g=[],C;S>w;)C=b[w++],(!r||c.call(v,C))&&g.push(h?[C,v[C]]:v[C]);return g}};a.exports={entries:f(!0),values:f(!1)}},"73d9":function(a,l,o){var r=o("44d2");r("flatMap")},7418:function(a,l){l.f=Object.getOwnPropertySymbols},"746f":function(a,l,o){var r=o("428f"),u=o("5135"),d=o("e538"),c=o("9bf2").f;a.exports=function(f){var h=r.Symbol||(r.Symbol={});u(h,f)||c(h,f,{value:d.f(f)})}},7839:function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,l,o){var r=o("1d80");a.exports=function(u){return Object(r(u))}},"7c73":function(a,l,o){var r=o("825a"),u=o("37e8"),d=o("7839"),c=o("d012"),f=o("1be4"),h=o("cc12"),m=o("f772"),v=">",b="<",S="prototype",w="script",g=m("IE_PROTO"),C=function(){},$=function(I){return b+w+v+I+b+"/"+w+v},E=function(I){I.write($("")),I.close();var U=I.parentWindow.Object;return I=null,U},T=function(){var I=h("iframe"),U="java"+w+":",B;return I.style.display="none",f.appendChild(I),I.src=String(U),B=I.contentWindow.document,B.open(),B.write($("document.F=Object")),B.close(),B.F},V,P=function(){try{V=document.domain&&new ActiveXObject("htmlfile")}catch{}P=V?E(V):T();for(var I=d.length;I--;)delete P[S][d[I]];return P()};c[g]=!0,a.exports=Object.create||function(U,B){var W;return U!==null?(C[S]=r(U),W=new C,C[S]=null,W[g]=U):W=P(),B===void 0?W:u(W,B)}},"7dd0":function(a,l,o){var r=o("23e7"),u=o("9ed3"),d=o("e163"),c=o("d2bb"),f=o("d44e"),h=o("9112"),m=o("6eeb"),v=o("b622"),b=o("c430"),S=o("3f8c"),w=o("ae93"),g=w.IteratorPrototype,C=w.BUGGY_SAFARI_ITERATORS,$=v("iterator"),E="keys",T="values",V="entries",P=function(){return this};a.exports=function(I,U,B,W,H,F,pe){u(B,U,W);var X=function(oe){if(oe===H&&Ze)return Ze;if(!C&&oe in ze)return ze[oe];switch(oe){case E:return function(){return new B(this,oe)};case T:return function(){return new B(this,oe)};case V:return function(){return new B(this,oe)}}return function(){return new B(this)}},re=U+" Iterator",ve=!1,ze=I.prototype,ct=ze[$]||ze["@@iterator"]||H&&ze[H],Ze=!C&&ct||X(H),Ye=U=="Array"&&ze.entries||ct,qe,ft,z;if(Ye&&(qe=d(Ye.call(new I)),g!==Object.prototype&&qe.next&&(!b&&d(qe)!==g&&(c?c(qe,g):typeof qe[$]!="function"&&h(qe,$,P)),f(qe,re,!0,!0),b&&(S[re]=P))),H==T&&ct&&ct.name!==T&&(ve=!0,Ze=function(){return ct.call(this)}),(!b||pe)&&ze[$]!==Ze&&h(ze,$,Ze),S[U]=Ze,H)if(ft={values:X(T),keys:F?Ze:X(E),entries:X(V)},pe)for(z in ft)(C||ve||!(z in ze))&&m(ze,z,ft[z]);else r({target:U,proto:!0,forced:C||ve},ft);return ft}},"7f9a":function(a,l,o){var r=o("da84"),u=o("8925"),d=r.WeakMap;a.exports=typeof d=="function"&&/native code/.test(u(d))},"825a":function(a,l,o){var r=o("861d");a.exports=function(u){if(!r(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(a,l,o){var r=o("d039");a.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,l,o){var r=o("c04e"),u=o("9bf2"),d=o("5c6c");a.exports=function(c,f,h){var m=r(f);m in c?u.f(c,m,d(0,h)):c[m]=h}},"861d":function(a,l){a.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(a,l,o){var r,u,d;(function(c,f){u=[],r=f,d=typeof r=="function"?r.apply(l,u):r,d!==void 0&&(a.exports=d)})(typeof self!="undefined"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(V){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,v=h.exec(V.stack)||m.exec(V.stack),b=v&&v[1]||!1,S=v&&v[2]||!1,w=document.location.href.replace(document.location.hash,""),g,C,$,E=document.getElementsByTagName("script");b===w&&(g=document.documentElement.outerHTML,C=new RegExp("(?:[^\\n]+?\\n){0,"+(S-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),$=g.replace(C,"$1").trim());for(var T=0;T<E.length;T++)if(E[T].readyState==="interactive"||E[T].src===b||b===w&&E[T].innerHTML&&E[T].innerHTML.trim()===$)return E[T];return null}}return c})},8925:function(a,l,o){var r=o("c6cd"),u=Function.toString;typeof r.inspectSource!="function"&&(r.inspectSource=function(d){return u.call(d)}),a.exports=r.inspectSource},"8aa5":function(a,l,o){var r=o("6547").charAt;a.exports=function(u,d,c){return d+(c?r(u,d).length:1)}},"8bbf":function(a,l){a.exports=n},"90e3":function(a,l){var o=0,r=Math.random();a.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++o+r).toString(36)}},9112:function(a,l,o){var r=o("83ab"),u=o("9bf2"),d=o("5c6c");a.exports=r?function(c,f,h){return u.f(c,f,d(1,h))}:function(c,f,h){return c[f]=h,c}},9263:function(a,l,o){var r=o("ad6d"),u=o("9f7f"),d=RegExp.prototype.exec,c=String.prototype.replace,f=d,h=function(){var S=/a/,w=/b*/g;return d.call(S,"a"),d.call(w,"a"),S.lastIndex!==0||w.lastIndex!==0}(),m=u.UNSUPPORTED_Y||u.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,b=h||v||m;b&&(f=function(w){var g=this,C,$,E,T,V=m&&g.sticky,P=r.call(g),I=g.source,U=0,B=w;return V&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),B=String(w).slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&w[g.lastIndex-1]!==`
`)&&(I="(?: "+I+")",B=" "+B,U++),$=new RegExp("^(?:"+I+")",P)),v&&($=new RegExp("^"+I+"$(?!\\s)",P)),h&&(C=g.lastIndex),E=d.call(V?$:g,B),V?E?(E.input=E.input.slice(U),E[0]=E[0].slice(U),E.index=g.lastIndex,g.lastIndex+=E[0].length):g.lastIndex=0:h&&E&&(g.lastIndex=g.global?E.index+E[0].length:C),v&&E&&E.length>1&&c.call(E[0],$,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(E[T]=void 0)}),E}),a.exports=f},"94ca":function(a,l,o){var r=o("d039"),u=/#|\.prototype\./,d=function(v,b){var S=f[c(v)];return S==m?!0:S==h?!1:typeof b=="function"?r(b):!!b},c=d.normalize=function(v){return String(v).replace(u,".").toLowerCase()},f=d.data={},h=d.NATIVE="N",m=d.POLYFILL="P";a.exports=d},"99af":function(a,l,o){var r=o("23e7"),u=o("d039"),d=o("e8b5"),c=o("861d"),f=o("7b0b"),h=o("50c4"),m=o("8418"),v=o("65f0"),b=o("1dde"),S=o("b622"),w=o("2d00"),g=S("isConcatSpreadable"),C=9007199254740991,$="Maximum allowed index exceeded",E=w>=51||!u(function(){var I=[];return I[g]=!1,I.concat()[0]!==I}),T=b("concat"),V=function(I){if(!c(I))return!1;var U=I[g];return U!==void 0?!!U:d(I)},P=!E||!T;r({target:"Array",proto:!0,forced:P},{concat:function(U){var B=f(this),W=v(B,0),H=0,F,pe,X,re,ve;for(F=-1,X=arguments.length;F<X;F++)if(ve=F===-1?B:arguments[F],V(ve)){if(re=h(ve.length),H+re>C)throw TypeError($);for(pe=0;pe<re;pe++,H++)pe in ve&&m(W,H,ve[pe])}else{if(H>=C)throw TypeError($);m(W,H++,ve)}return W.length=H,W}})},"9bdd":function(a,l,o){var r=o("825a");a.exports=function(u,d,c,f){try{return f?d(r(c)[0],c[1]):d(c)}catch(m){var h=u.return;throw h!==void 0&&r(h.call(u)),m}}},"9bf2":function(a,l,o){var r=o("83ab"),u=o("0cfb"),d=o("825a"),c=o("c04e"),f=Object.defineProperty;l.f=r?f:function(m,v,b){if(d(m),v=c(v,!0),d(b),u)try{return f(m,v,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(m[v]=b.value),m}},"9ed3":function(a,l,o){var r=o("ae93").IteratorPrototype,u=o("7c73"),d=o("5c6c"),c=o("d44e"),f=o("3f8c"),h=function(){return this};a.exports=function(m,v,b){var S=v+" Iterator";return m.prototype=u(r,{next:d(1,b)}),c(m,S,!1,!0),f[S]=h,m}},"9f7f":function(a,l,o){var r=o("d039");function u(d,c){return RegExp(d,c)}l.UNSUPPORTED_Y=r(function(){var d=u("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),l.BROKEN_CARET=r(function(){var d=u("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(a,l,o){var r=o("e8b5"),u=o("50c4"),d=o("0366"),c=function(f,h,m,v,b,S,w,g){for(var C=b,$=0,E=w?d(w,g,3):!1,T;$<v;){if($ in m){if(T=E?E(m[$],$,h):m[$],S>0&&r(T))C=c(f,h,T,u(T.length),C,S-1)-1;else{if(C>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[C]=T}C++}$++}return C};a.exports=c},a352:function(a,l){a.exports=i},a434:function(a,l,o){var r=o("23e7"),u=o("23cb"),d=o("a691"),c=o("50c4"),f=o("7b0b"),h=o("65f0"),m=o("8418"),v=o("1dde"),b=o("ae40"),S=v("splice"),w=b("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,C=Math.min,$=9007199254740991,E="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!S||!w},{splice:function(V,P){var I=f(this),U=c(I.length),B=u(V,U),W=arguments.length,H,F,pe,X,re,ve;if(W===0?H=F=0:W===1?(H=0,F=U-B):(H=W-2,F=C(g(d(P),0),U-B)),U+H-F>$)throw TypeError(E);for(pe=h(I,F),X=0;X<F;X++)re=B+X,re in I&&m(pe,X,I[re]);if(pe.length=F,H<F){for(X=B;X<U-F;X++)re=X+F,ve=X+H,re in I?I[ve]=I[re]:delete I[ve];for(X=U;X>U-F+H;X--)delete I[X-1]}else if(H>F)for(X=U-F;X>B;X--)re=X+F-1,ve=X+H-1,re in I?I[ve]=I[re]:delete I[ve];for(X=0;X<H;X++)I[X+B]=arguments[X+2];return I.length=U-F+H,pe}})},a4d3:function(a,l,o){var r=o("23e7"),u=o("da84"),d=o("d066"),c=o("c430"),f=o("83ab"),h=o("4930"),m=o("fdbf"),v=o("d039"),b=o("5135"),S=o("e8b5"),w=o("861d"),g=o("825a"),C=o("7b0b"),$=o("fc6a"),E=o("c04e"),T=o("5c6c"),V=o("7c73"),P=o("df75"),I=o("241c"),U=o("057f"),B=o("7418"),W=o("06cf"),H=o("9bf2"),F=o("d1e7"),pe=o("9112"),X=o("6eeb"),re=o("5692"),ve=o("f772"),ze=o("d012"),ct=o("90e3"),Ze=o("b622"),Ye=o("e538"),qe=o("746f"),ft=o("d44e"),z=o("69f3"),oe=o("b727").forEach,Q=ve("hidden"),fe="Symbol",Ve="prototype",We=Ze("toPrimitive"),Pe=z.set,ke=z.getterFor(fe),_=Object[Ve],k=u.Symbol,N=d("JSON","stringify"),G=W.f,J=H.f,se=U.f,ce=F.f,te=re("symbols"),ie=re("op-symbols"),Z=re("string-to-symbol-registry"),be=re("symbol-to-string-registry"),he=re("wks"),we=u.QObject,Te=!we||!we[Ve]||!we[Ve].findChild,Be=f&&v(function(){return V(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a!=7})?function(De,$e,Ie){var Je=G(_,$e);Je&&delete _[$e],J(De,$e,Ie),Je&&De!==_&&J(_,$e,Je)}:J,Xe=function(De,$e){var Ie=te[De]=V(k[Ve]);return Pe(Ie,{type:fe,tag:De,description:$e}),f||(Ie.description=$e),Ie},D=m?function(De){return typeof De=="symbol"}:function(De){return Object(De)instanceof k},A=function($e,Ie,Je){$e===_&&A(ie,Ie,Je),g($e);var Qe=E(Ie,!0);return g(Je),b(te,Qe)?(Je.enumerable?(b($e,Q)&&$e[Q][Qe]&&($e[Q][Qe]=!1),Je=V(Je,{enumerable:T(0,!1)})):(b($e,Q)||J($e,Q,T(1,{})),$e[Q][Qe]=!0),Be($e,Qe,Je)):J($e,Qe,Je)},L=function($e,Ie){g($e);var Je=$(Ie),Qe=P(Je).concat(Me(Je));return oe(Qe,function(Ht){(!f||me.call(Je,Ht))&&A($e,Ht,Je[Ht])}),$e},q=function($e,Ie){return Ie===void 0?V($e):L(V($e),Ie)},me=function($e){var Ie=E($e,!0),Je=ce.call(this,Ie);return this===_&&b(te,Ie)&&!b(ie,Ie)?!1:Je||!b(this,Ie)||!b(te,Ie)||b(this,Q)&&this[Q][Ie]?Je:!0},Ee=function($e,Ie){var Je=$($e),Qe=E(Ie,!0);if(!(Je===_&&b(te,Qe)&&!b(ie,Qe))){var Ht=G(Je,Qe);return Ht&&b(te,Qe)&&!(b(Je,Q)&&Je[Q][Qe])&&(Ht.enumerable=!0),Ht}},Ue=function($e){var Ie=se($($e)),Je=[];return oe(Ie,function(Qe){!b(te,Qe)&&!b(ze,Qe)&&Je.push(Qe)}),Je},Me=function($e){var Ie=$e===_,Je=se(Ie?ie:$($e)),Qe=[];return oe(Je,function(Ht){b(te,Ht)&&(!Ie||b(_,Ht))&&Qe.push(te[Ht])}),Qe};if(h||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor");var $e=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ie=ct($e),Je=function(Qe){this===_&&Je.call(ie,Qe),b(this,Q)&&b(this[Q],Ie)&&(this[Q][Ie]=!1),Be(this,Ie,T(1,Qe))};return f&&Te&&Be(_,Ie,{configurable:!0,set:Je}),Xe(Ie,$e)},X(k[Ve],"toString",function(){return ke(this).tag}),X(k,"withoutSetter",function(De){return Xe(ct(De),De)}),F.f=me,H.f=A,W.f=Ee,I.f=U.f=Ue,B.f=Me,Ye.f=function(De){return Xe(Ze(De),De)},f&&(J(k[Ve],"description",{configurable:!0,get:function(){return ke(this).description}}),c||X(_,"propertyIsEnumerable",me,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:k}),oe(P(he),function(De){qe(De)}),r({target:fe,stat:!0,forced:!h},{for:function(De){var $e=String(De);if(b(Z,$e))return Z[$e];var Ie=k($e);return Z[$e]=Ie,be[Ie]=$e,Ie},keyFor:function($e){if(!D($e))throw TypeError($e+" is not a symbol");if(b(be,$e))return be[$e]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!f},{create:q,defineProperty:A,defineProperties:L,getOwnPropertyDescriptor:Ee}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Ue,getOwnPropertySymbols:Me}),r({target:"Object",stat:!0,forced:v(function(){B.f(1)})},{getOwnPropertySymbols:function($e){return B.f(C($e))}}),N){var et=!h||v(function(){var De=k();return N([De])!="[null]"||N({a:De})!="{}"||N(Object(De))!="{}"});r({target:"JSON",stat:!0,forced:et},{stringify:function($e,Ie,Je){for(var Qe=[$e],Ht=1,Ba;arguments.length>Ht;)Qe.push(arguments[Ht++]);if(Ba=Ie,!(!w(Ie)&&$e===void 0||D($e)))return S(Ie)||(Ie=function(jf,$o){if(typeof Ba=="function"&&($o=Ba.call(this,jf,$o)),!D($o))return $o}),Qe[1]=Ie,N.apply(null,Qe)}})}k[Ve][We]||pe(k[Ve],We,k[Ve].valueOf),ft(k,fe),ze[Q]=!0},a630:function(a,l,o){var r=o("23e7"),u=o("4df4"),d=o("1c7e"),c=!d(function(f){Array.from(f)});r({target:"Array",stat:!0,forced:c},{from:u})},a640:function(a,l,o){var r=o("d039");a.exports=function(u,d){var c=[][u];return!!c&&r(function(){c.call(null,d||function(){throw 1},1)})}},a691:function(a,l){var o=Math.ceil,r=Math.floor;a.exports=function(u){return isNaN(u=+u)?0:(u>0?r:o)(u)}},ab13:function(a,l,o){var r=o("b622"),u=r("match");a.exports=function(d){var c=/./;try{"/./"[d](c)}catch{try{return c[u]=!1,"/./"[d](c)}catch{}}return!1}},ac1f:function(a,l,o){var r=o("23e7"),u=o("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(a,l,o){var r=o("825a");a.exports=function(){var u=r(this),d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),u.dotAll&&(d+="s"),u.unicode&&(d+="u"),u.sticky&&(d+="y"),d}},ae40:function(a,l,o){var r=o("83ab"),u=o("d039"),d=o("5135"),c=Object.defineProperty,f={},h=function(m){throw m};a.exports=function(m,v){if(d(f,m))return f[m];v||(v={});var b=[][m],S=d(v,"ACCESSORS")?v.ACCESSORS:!1,w=d(v,0)?v[0]:h,g=d(v,1)?v[1]:void 0;return f[m]=!!b&&!u(function(){if(S&&!r)return!0;var C={length:-1};S?c(C,1,{enumerable:!0,get:h}):C[1]=1,b.call(C,w,g)})}},ae93:function(a,l,o){var r=o("e163"),u=o("9112"),d=o("5135"),c=o("b622"),f=o("c430"),h=c("iterator"),m=!1,v=function(){return this},b,S,w;[].keys&&(w=[].keys(),"next"in w?(S=r(r(w)),S!==Object.prototype&&(b=S)):m=!0),b==null&&(b={}),!f&&!d(b,h)&&u(b,h,v),a.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:m}},b041:function(a,l,o){var r=o("00ee"),u=o("f5df");a.exports=r?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(a,l,o){var r=o("83ab"),u=o("9bf2").f,d=Function.prototype,c=d.toString,f=/^\s*function ([^ (]*)/,h="name";r&&!(h in d)&&u(d,h,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},b622:function(a,l,o){var r=o("da84"),u=o("5692"),d=o("5135"),c=o("90e3"),f=o("4930"),h=o("fdbf"),m=u("wks"),v=r.Symbol,b=h?v:v&&v.withoutSetter||c;a.exports=function(S){return d(m,S)||(f&&d(v,S)?m[S]=v[S]:m[S]=b("Symbol."+S)),m[S]}},b64b:function(a,l,o){var r=o("23e7"),u=o("7b0b"),d=o("df75"),c=o("d039"),f=c(function(){d(1)});r({target:"Object",stat:!0,forced:f},{keys:function(m){return d(u(m))}})},b727:function(a,l,o){var r=o("0366"),u=o("44ad"),d=o("7b0b"),c=o("50c4"),f=o("65f0"),h=[].push,m=function(v){var b=v==1,S=v==2,w=v==3,g=v==4,C=v==6,$=v==5||C;return function(E,T,V,P){for(var I=d(E),U=u(I),B=r(T,V,3),W=c(U.length),H=0,F=P||f,pe=b?F(E,W):S?F(E,0):void 0,X,re;W>H;H++)if(($||H in U)&&(X=U[H],re=B(X,H,I),v)){if(b)pe[H]=re;else if(re)switch(v){case 3:return!0;case 5:return X;case 6:return H;case 2:h.call(pe,X)}else if(g)return!1}return C?-1:w||g?g:pe}};a.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},c04e:function(a,l,o){var r=o("861d");a.exports=function(u,d){if(!r(u))return u;var c,f;if(d&&typeof(c=u.toString)=="function"&&!r(f=c.call(u))||typeof(c=u.valueOf)=="function"&&!r(f=c.call(u))||!d&&typeof(c=u.toString)=="function"&&!r(f=c.call(u)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(a,l){a.exports=!1},c6b6:function(a,l){var o={}.toString;a.exports=function(r){return o.call(r).slice(8,-1)}},c6cd:function(a,l,o){var r=o("da84"),u=o("ce4e"),d="__core-js_shared__",c=r[d]||u(d,{});a.exports=c},c740:function(a,l,o){var r=o("23e7"),u=o("b727").findIndex,d=o("44d2"),c=o("ae40"),f="findIndex",h=!0,m=c(f);f in[]&&Array(1)[f](function(){h=!1}),r({target:"Array",proto:!0,forced:h||!m},{findIndex:function(b){return u(this,b,arguments.length>1?arguments[1]:void 0)}}),d(f)},c8ba:function(a,l){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}a.exports=o},c975:function(a,l,o){var r=o("23e7"),u=o("4d64").indexOf,d=o("a640"),c=o("ae40"),f=[].indexOf,h=!!f&&1/[1].indexOf(1,-0)<0,m=d("indexOf"),v=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:h||!m||!v},{indexOf:function(S){return h?f.apply(this,arguments)||0:u(this,S,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,l,o){var r=o("5135"),u=o("fc6a"),d=o("4d64").indexOf,c=o("d012");a.exports=function(f,h){var m=u(f),v=0,b=[],S;for(S in m)!r(c,S)&&r(m,S)&&b.push(S);for(;h.length>v;)r(m,S=h[v++])&&(~d(b,S)||b.push(S));return b}},caad:function(a,l,o){var r=o("23e7"),u=o("4d64").includes,d=o("44d2"),c=o("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!f},{includes:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(a,l,o){var r=o("da84"),u=o("861d"),d=r.document,c=u(d)&&u(d.createElement);a.exports=function(f){return c?d.createElement(f):{}}},ce4e:function(a,l,o){var r=o("da84"),u=o("9112");a.exports=function(d,c){try{u(r,d,c)}catch{r[d]=c}return c}},d012:function(a,l){a.exports={}},d039:function(a,l){a.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(a,l,o){var r=o("428f"),u=o("da84"),d=function(c){return typeof c=="function"?c:void 0};a.exports=function(c,f){return arguments.length<2?d(r[c])||d(u[c]):r[c]&&r[c][f]||u[c]&&u[c][f]}},d1e7:function(a,l,o){var r={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!r.call({1:2},1);l.f=d?function(f){var h=u(this,f);return!!h&&h.enumerable}:r},d28b:function(a,l,o){var r=o("746f");r("iterator")},d2bb:function(a,l,o){var r=o("825a"),u=o("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),d=c instanceof Array}catch{}return function(m,v){return r(m),u(v),d?f.call(m,v):m.__proto__=v,m}}():void 0)},d3b7:function(a,l,o){var r=o("00ee"),u=o("6eeb"),d=o("b041");r||u(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(a,l,o){var r=o("9bf2").f,u=o("5135"),d=o("b622"),c=d("toStringTag");a.exports=function(f,h,m){f&&!u(f=m?f:f.prototype,c)&&r(f,c,{configurable:!0,value:h})}},d58f:function(a,l,o){var r=o("1c0b"),u=o("7b0b"),d=o("44ad"),c=o("50c4"),f=function(h){return function(m,v,b,S){r(v);var w=u(m),g=d(w),C=c(w.length),$=h?C-1:0,E=h?-1:1;if(b<2)for(;;){if($ in g){S=g[$],$+=E;break}if($+=E,h?$<0:C<=$)throw TypeError("Reduce of empty array with no initial value")}for(;h?$>=0:C>$;$+=E)$ in g&&(S=v(S,g[$],$,w));return S}};a.exports={left:f(!1),right:f(!0)}},d784:function(a,l,o){o("ac1f");var r=o("6eeb"),u=o("d039"),d=o("b622"),c=o("9263"),f=o("9112"),h=d("species"),m=!u(function(){var g=/./;return g.exec=function(){var C=[];return C.groups={a:"7"},C},"".replace(g,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),b=d("replace"),S=function(){return/./[b]?/./[b]("a","$0")==="":!1}(),w=!u(function(){var g=/(?:)/,C=g.exec;g.exec=function(){return C.apply(this,arguments)};var $="ab".split(g);return $.length!==2||$[0]!=="a"||$[1]!=="b"});a.exports=function(g,C,$,E){var T=d(g),V=!u(function(){var H={};return H[T]=function(){return 7},""[g](H)!=7}),P=V&&!u(function(){var H=!1,F=/a/;return g==="split"&&(F={},F.constructor={},F.constructor[h]=function(){return F},F.flags="",F[T]=/./[T]),F.exec=function(){return H=!0,null},F[T](""),!H});if(!V||!P||g==="replace"&&!(m&&v&&!S)||g==="split"&&!w){var I=/./[T],U=$(T,""[g],function(H,F,pe,X,re){return F.exec===c?V&&!re?{done:!0,value:I.call(F,pe,X)}:{done:!0,value:H.call(pe,F,X)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:S}),B=U[0],W=U[1];r(String.prototype,g,B),r(RegExp.prototype,T,C==2?function(H,F){return W.call(H,this,F)}:function(H){return W.call(H,this)})}E&&f(RegExp.prototype[T],"sham",!0)}},d81d:function(a,l,o){var r=o("23e7"),u=o("b727").map,d=o("1dde"),c=o("ae40"),f=d("map"),h=c("map");r({target:"Array",proto:!0,forced:!f||!h},{map:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,l,o){(function(r){var u=function(d){return d&&d.Math==Math&&d};a.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof r=="object"&&r)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(a,l,o){var r=o("23e7"),u=o("83ab"),d=o("56ef"),c=o("fc6a"),f=o("06cf"),h=o("8418");r({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(v){for(var b=c(v),S=f.f,w=d(b),g={},C=0,$,E;w.length>C;)E=S(b,$=w[C++]),E!==void 0&&h(g,$,E);return g}})},dbf1:function(a,l,o){(function(r){o.d(l,"a",function(){return d});function u(){return typeof window!="undefined"?window.console:r.console}var d=u()}).call(this,o("c8ba"))},ddb0:function(a,l,o){var r=o("da84"),u=o("fdbc"),d=o("e260"),c=o("9112"),f=o("b622"),h=f("iterator"),m=f("toStringTag"),v=d.values;for(var b in u){var S=r[b],w=S&&S.prototype;if(w){if(w[h]!==v)try{c(w,h,v)}catch{w[h]=v}if(w[m]||c(w,m,b),u[b]){for(var g in d)if(w[g]!==d[g])try{c(w,g,d[g])}catch{w[g]=d[g]}}}}},df75:function(a,l,o){var r=o("ca84"),u=o("7839");a.exports=Object.keys||function(c){return r(c,u)}},e01a:function(a,l,o){var r=o("23e7"),u=o("83ab"),d=o("da84"),c=o("5135"),f=o("861d"),h=o("9bf2").f,m=o("e893"),v=d.Symbol;if(u&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var b={},S=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),V=this instanceof S?new v(T):T===void 0?v():v(T);return T===""&&(b[V]=!0),V};m(S,v);var w=S.prototype=v.prototype;w.constructor=S;var g=w.toString,C=String(v("test"))=="Symbol(test)",$=/^Symbol\((.*)\)[^)]+$/;h(w,"description",{configurable:!0,get:function(){var T=f(this)?this.valueOf():this,V=g.call(T);if(c(b,T))return"";var P=C?V.slice(7,-1):V.replace($,"$1");return P===""?void 0:P}}),r({global:!0,forced:!0},{Symbol:S})}},e163:function(a,l,o){var r=o("5135"),u=o("7b0b"),d=o("f772"),c=o("e177"),f=d("IE_PROTO"),h=Object.prototype;a.exports=c?Object.getPrototypeOf:function(m){return m=u(m),r(m,f)?m[f]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?h:null}},e177:function(a,l,o){var r=o("d039");a.exports=!r(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(a,l,o){var r=o("fc6a"),u=o("44d2"),d=o("3f8c"),c=o("69f3"),f=o("7dd0"),h="Array Iterator",m=c.set,v=c.getterFor(h);a.exports=f(Array,"Array",function(b,S){m(this,{type:h,target:r(b),index:0,kind:S})},function(){var b=v(this),S=b.target,w=b.kind,g=b.index++;return!S||g>=S.length?(b.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:g,done:!1}:w=="values"?{value:S[g],done:!1}:{value:[g,S[g]],done:!1}},"values"),d.Arguments=d.Array,u("keys"),u("values"),u("entries")},e439:function(a,l,o){var r=o("23e7"),u=o("d039"),d=o("fc6a"),c=o("06cf").f,f=o("83ab"),h=u(function(){c(1)}),m=!f||h;r({target:"Object",stat:!0,forced:m,sham:!f},{getOwnPropertyDescriptor:function(b,S){return c(d(b),S)}})},e538:function(a,l,o){var r=o("b622");l.f=r},e893:function(a,l,o){var r=o("5135"),u=o("56ef"),d=o("06cf"),c=o("9bf2");a.exports=function(f,h){for(var m=u(h),v=c.f,b=d.f,S=0;S<m.length;S++){var w=m[S];r(f,w)||v(f,w,b(h,w))}}},e8b5:function(a,l,o){var r=o("c6b6");a.exports=Array.isArray||function(d){return r(d)=="Array"}},e95a:function(a,l,o){var r=o("b622"),u=o("3f8c"),d=r("iterator"),c=Array.prototype;a.exports=function(f){return f!==void 0&&(u.Array===f||c[d]===f)}},f5df:function(a,l,o){var r=o("00ee"),u=o("c6b6"),d=o("b622"),c=d("toStringTag"),f=u(function(){return arguments}())=="Arguments",h=function(m,v){try{return m[v]}catch{}};a.exports=r?u:function(m){var v,b,S;return m===void 0?"Undefined":m===null?"Null":typeof(b=h(v=Object(m),c))=="string"?b:f?u(v):(S=u(v))=="Object"&&typeof v.callee=="function"?"Arguments":S}},f772:function(a,l,o){var r=o("5692"),u=o("90e3"),d=r("keys");a.exports=function(c){return d[c]||(d[c]=u(c))}},fb15:function(a,l,o){if(o.r(l),typeof window!="undefined"){var r=window.document.currentScript;{var u=o("8875");r=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var d=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(o.p=d[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(D,A,L){return A in D?Object.defineProperty(D,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[A]=L,D}function f(D,A){var L=Object.keys(D);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(D);A&&(q=q.filter(function(me){return Object.getOwnPropertyDescriptor(D,me).enumerable})),L.push.apply(L,q)}return L}function h(D){for(var A=1;A<arguments.length;A++){var L=arguments[A]!=null?arguments[A]:{};A%2?f(Object(L),!0).forEach(function(q){c(D,q,L[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(L)):f(Object(L)).forEach(function(q){Object.defineProperty(D,q,Object.getOwnPropertyDescriptor(L,q))})}return D}function m(D){if(Array.isArray(D))return D}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function v(D,A){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(D)))){var L=[],q=!0,me=!1,Ee=void 0;try{for(var Ue=D[Symbol.iterator](),Me;!(q=(Me=Ue.next()).done)&&(L.push(Me.value),!(A&&L.length===A));q=!0);}catch(et){me=!0,Ee=et}finally{try{!q&&Ue.return!=null&&Ue.return()}finally{if(me)throw Ee}}return L}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function b(D,A){(A==null||A>D.length)&&(A=D.length);for(var L=0,q=new Array(A);L<A;L++)q[L]=D[L];return q}function S(D,A){if(!!D){if(typeof D=="string")return b(D,A);var L=Object.prototype.toString.call(D).slice(8,-1);if(L==="Object"&&D.constructor&&(L=D.constructor.name),L==="Map"||L==="Set")return Array.from(D);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return b(D,A)}}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(D,A){return m(D)||v(D,A)||S(D,A)||w()}function C(D){if(Array.isArray(D))return b(D)}function $(D){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(D))return Array.from(D)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(D){return C(D)||$(D)||S(D)||E()}var V=o("a352"),P=o.n(V);function I(D){D.parentElement!==null&&D.parentElement.removeChild(D)}function U(D,A,L){var q=L===0?D.children[0]:D.children[L-1].nextSibling;D.insertBefore(A,q)}var B=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function W(D){var A=Object.create(null);return function(q){var me=A[q];return me||(A[q]=D(q))}}var H=/-(\w)/g,F=W(function(D){return D.replace(H,function(A,L){return L.toUpperCase()})});o("5db7"),o("73d9");var pe=["Start","Add","Remove","Update","End"],X=["Choose","Unchoose","Sort","Filter","Clone"],re=["Move"],ve=[re,pe,X].flatMap(function(D){return D}).map(function(D){return"on".concat(D)}),ze={manage:re,manageAndEmit:pe,emit:X};function ct(D){return ve.indexOf(D)!==-1}o("caad"),o("2ca0");var Ze=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ye(D){return Ze.includes(D)}function qe(D){return["transition-group","TransitionGroup"].includes(D)}function ft(D){return["id","class","role","style"].includes(D)||D.startsWith("data-")||D.startsWith("aria-")||D.startsWith("on")}function z(D){return D.reduce(function(A,L){var q=g(L,2),me=q[0],Ee=q[1];return A[me]=Ee,A},{})}function oe(D){var A=D.$attrs,L=D.componentData,q=L===void 0?{}:L,me=z(Object.entries(A).filter(function(Ee){var Ue=g(Ee,2),Me=Ue[0];return Ue[1],ft(Me)}));return h(h({},me),q)}function Q(D){var A=D.$attrs,L=D.callBackBuilder,q=z(fe(A));Object.entries(L).forEach(function(Ee){var Ue=g(Ee,2),Me=Ue[0],et=Ue[1];ze[Me].forEach(function(De){q["on".concat(De)]=et(De)})});var me="[data-draggable]".concat(q.draggable||"");return h(h({},q),{},{draggable:me})}function fe(D){return Object.entries(D).filter(function(A){var L=g(A,2),q=L[0];return L[1],!ft(q)}).map(function(A){var L=g(A,2),q=L[0],me=L[1];return[F(q),me]}).filter(function(A){var L=g(A,2),q=L[0];return L[1],!ct(q)})}o("c740");function Ve(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}function We(D,A){for(var L=0;L<A.length;L++){var q=A[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}function Pe(D,A,L){return A&&We(D.prototype,A),L&&We(D,L),D}var ke=function(A){var L=A.el;return L},_=function(A,L){return A.__draggable_context=L},k=function(A){return A.__draggable_context},N=function(){function D(A){var L=A.nodes,q=L.header,me=L.default,Ee=L.footer,Ue=A.root,Me=A.realList;Ve(this,D),this.defaultNodes=me,this.children=[].concat(T(q),T(me),T(Ee)),this.externalComponent=Ue.externalComponent,this.rootTransition=Ue.transition,this.tag=Ue.tag,this.realList=Me}return Pe(D,[{key:"render",value:function(L,q){var me=this.tag,Ee=this.children,Ue=this._isRootComponent,Me=Ue?{default:function(){return Ee}}:Ee;return L(me,q,Me)}},{key:"updated",value:function(){var L=this.defaultNodes,q=this.realList;L.forEach(function(me,Ee){_(ke(me),{element:q[Ee],index:Ee})})}},{key:"getUnderlyingVm",value:function(L){return k(L)}},{key:"getVmIndexFromDomIndex",value:function(L,q){var me=this.defaultNodes,Ee=me.length,Ue=q.children,Me=Ue.item(L);if(Me===null)return Ee;var et=k(Me);if(et)return et.index;if(Ee===0)return 0;var De=ke(me[0]),$e=T(Ue).findIndex(function(Ie){return Ie===De});return L<$e?0:Ee}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),D}(),G=o("8bbf");function J(D,A){var L=D[A];return L?L():[]}function se(D){var A=D.$slots,L=D.realList,q=D.getKey,me=L||[],Ee=["header","footer"].map(function(Ie){return J(A,Ie)}),Ue=g(Ee,2),Me=Ue[0],et=Ue[1],De=A.item;if(!De)throw new Error("draggable element must have an item slot");var $e=me.flatMap(function(Ie,Je){return De({element:Ie,index:Je}).map(function(Qe){return Qe.key=q(Ie),Qe.props=h(h({},Qe.props||{}),{},{"data-draggable":!0}),Qe})});if($e.length!==me.length)throw new Error("Item slot must have only one child");return{header:Me,footer:et,default:$e}}function ce(D){var A=qe(D),L=!Ye(D)&&!A;return{transition:A,externalComponent:L,tag:L?Object(G.resolveComponent)(D):A?G.TransitionGroup:D}}function te(D){var A=D.$slots,L=D.tag,q=D.realList,me=D.getKey,Ee=se({$slots:A,realList:q,getKey:me}),Ue=ce(L);return new N({nodes:Ee,root:Ue,realList:q})}function ie(D,A){var L=this;Object(G.nextTick)(function(){return L.$emit(D.toLowerCase(),A)})}function Z(D){var A=this;return function(L,q){if(A.realList!==null)return A["onDrag".concat(D)](L,q)}}function be(D){var A=this,L=Z.call(this,D);return function(q,me){L.call(A,q,me),ie.call(A,D,q)}}var he=null,we={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(A){return A}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Te=["update:modelValue","change"].concat(T([].concat(T(ze.manageAndEmit),T(ze.emit)).map(function(D){return D.toLowerCase()}))),Be=Object(G.defineComponent)({name:"draggable",inheritAttrs:!1,props:we,emits:Te,data:function(){return{error:!1}},render:function(){try{this.error=!1;var A=this.$slots,L=this.$attrs,q=this.tag,me=this.componentData,Ee=this.realList,Ue=this.getKey,Me=te({$slots:A,tag:q,realList:Ee,getKey:Ue});this.componentStructure=Me;var et=oe({$attrs:L,componentData:me});return Me.render(G.h,et)}catch(De){return this.error=!0,Object(G.h)("pre",{style:{color:"red"}},De.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&B.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var A=this;if(!this.error){var L=this.$attrs,q=this.$el,me=this.componentStructure;me.updated();var Ee=Q({$attrs:L,callBackBuilder:{manageAndEmit:function(et){return be.call(A,et)},emit:function(et){return ie.bind(A,et)},manage:function(et){return Z.call(A,et)}}}),Ue=q.nodeType===1?q:q.parentElement;this._sortable=new P.a(Ue,Ee),this.targetDomElement=Ue,Ue.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var A=this.list;return A||this.modelValue},getKey:function(){var A=this.itemKey;return typeof A=="function"?A:function(L){return L[A]}}},watch:{$attrs:{handler:function(A){var L=this._sortable;!L||fe(A).forEach(function(q){var me=g(q,2),Ee=me[0],Ue=me[1];L.option(Ee,Ue)})},deep:!0}},methods:{getUnderlyingVm:function(A){return this.componentStructure.getUnderlyingVm(A)||null},getUnderlyingPotencialDraggableComponent:function(A){return A.__draggable_component__},emitChanges:function(A){var L=this;Object(G.nextTick)(function(){return L.$emit("change",A)})},alterList:function(A){if(this.list){A(this.list);return}var L=T(this.modelValue);A(L),this.$emit("update:modelValue",L)},spliceList:function(){var A=arguments,L=function(me){return me.splice.apply(me,T(A))};this.alterList(L)},updatePosition:function(A,L){var q=function(Ee){return Ee.splice(L,0,Ee.splice(A,1)[0])};this.alterList(q)},getRelatedContextFromMoveEvent:function(A){var L=A.to,q=A.related,me=this.getUnderlyingPotencialDraggableComponent(L);if(!me)return{component:me};var Ee=me.realList,Ue={list:Ee,component:me};if(L!==q&&Ee){var Me=me.getUnderlyingVm(q)||{};return h(h({},Me),Ue)}return Ue},getVmIndexFromDomIndex:function(A){return this.componentStructure.getVmIndexFromDomIndex(A,this.targetDomElement)},onDragStart:function(A){this.context=this.getUnderlyingVm(A.item),A.item._underlying_vm_=this.clone(this.context.element),he=A.item},onDragAdd:function(A){var L=A.item._underlying_vm_;if(L!==void 0){I(A.item);var q=this.getVmIndexFromDomIndex(A.newIndex);this.spliceList(q,0,L);var me={element:L,newIndex:q};this.emitChanges({added:me})}},onDragRemove:function(A){if(U(this.$el,A.item,A.oldIndex),A.pullMode==="clone"){I(A.clone);return}var L=this.context,q=L.index,me=L.element;this.spliceList(q,1);var Ee={element:me,oldIndex:q};this.emitChanges({removed:Ee})},onDragUpdate:function(A){I(A.item),U(A.from,A.item,A.oldIndex);var L=this.context.index,q=this.getVmIndexFromDomIndex(A.newIndex);this.updatePosition(L,q);var me={element:this.context.element,oldIndex:L,newIndex:q};this.emitChanges({moved:me})},computeFutureIndex:function(A,L){if(!A.element)return 0;var q=T(L.to.children).filter(function(Me){return Me.style.display!=="none"}),me=q.indexOf(L.related),Ee=A.component.getVmIndexFromDomIndex(me),Ue=q.indexOf(he)!==-1;return Ue||!L.willInsertAfter?Ee:Ee+1},onDragMove:function(A,L){var q=this.move,me=this.realList;if(!q||!me)return!0;var Ee=this.getRelatedContextFromMoveEvent(A),Ue=this.computeFutureIndex(Ee,A),Me=h(h({},this.context),{},{futureIndex:Ue}),et=h(h({},A),{},{relatedContext:Ee,draggedContext:Me});return q(et,L)},onDragEnd:function(){he=null}}}),Xe=Be;l.default=Xe},fb6a:function(a,l,o){var r=o("23e7"),u=o("861d"),d=o("e8b5"),c=o("23cb"),f=o("50c4"),h=o("fc6a"),m=o("8418"),v=o("b622"),b=o("1dde"),S=o("ae40"),w=b("slice"),g=S("slice",{ACCESSORS:!0,0:0,1:2}),C=v("species"),$=[].slice,E=Math.max;r({target:"Array",proto:!0,forced:!w||!g},{slice:function(V,P){var I=h(this),U=f(I.length),B=c(V,U),W=c(P===void 0?U:P,U),H,F,pe;if(d(I)&&(H=I.constructor,typeof H=="function"&&(H===Array||d(H.prototype))?H=void 0:u(H)&&(H=H[C],H===null&&(H=void 0)),H===Array||H===void 0))return $.call(I,B,W);for(F=new(H===void 0?Array:H)(E(W-B,0)),pe=0;B<W;B++,pe++)B in I&&m(F,pe,I[B]);return F.length=pe,F}})},fc6a:function(a,l,o){var r=o("44ad"),u=o("1d80");a.exports=function(d){return r(u(d))}},fdbc:function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,l,o){var r=o("4930");a.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Tf);var EE=B2(Tf.exports);const kE=e=>(Sn("data-v-2b18867c"),e=e(),Cn(),e),TE={class:"dropdown-trigger"},IE=kE(()=>s("span",{class:"icon is-small"},[s("i",{class:"fa fa-angle-down","aria-hidden":"true"})],-1)),DE={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},AE={class:"dropdown-content"},OE=["title","onClick"],PE=le({__name:"DropdownButton",props:{label:{type:String,required:!0},actions:{type:Array,required:!0}},emits:["click"],setup(e,{emit:t}){const n=_e(!1),i=_e(),a=()=>{n.value=!0},l=()=>{n.value=!1},o=u=>{l(),t("click",u)},r=u=>{!i.value||i.value.contains(u.target)||l()};return Ft(()=>{window.addEventListener("click",r)}),Kn(()=>{window.removeEventListener("click",r)}),(u,d)=>(p(),y("div",{ref_key:"dropdown",ref:i,class:Se(["dropdown mr-1",{"is-active":n.value}])},[s("div",TE,[s("button",{class:"button is-small mr-1","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:a},[s("span",null,Y(e.label),1),IE])]),s("div",DE,[s("div",AE,[(p(!0),y(ee,null,de(e.actions,(c,f)=>(p(),y("span",{key:f,class:"dropdown-item is-clickable",title:c.title,onClick:h=>o(c)},Y(c.label),9,OE))),128))])])],2))}});var RE=Oe(PE,[["__scopeId","data-v-2b18867c"]]);const VE={class:"dropdown-trigger"},ME={key:0,class:"icon is-small is-left"},UE={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},NE={class:"dropdown-content"},LE=["onClick","innerHTML"],FE=le({__name:"DropdownInput",props:{modelValue:{type:String,required:!0},values:{type:Array,required:!0},icon:{type:String,default:""}},emits:["update:modelValue","focus"],setup(e,{emit:t}){const n=e,i=_e(n.modelValue),a=f=>n.values.filter(h=>h.value.includes(f)),l=_e(!1),o=_e(),r=f=>{i.value=f.value,d()},u=()=>{l.value=!0},d=()=>{l.value=!1},c=f=>{!o.value||o.value.contains(f.target)||d()};return Ft(()=>{window.addEventListener("click",c),Gt(i,f=>{t("update:modelValue",f)}),Gt(()=>n.modelValue,f=>{i.value=f})}),Kn(()=>{window.removeEventListener("click",c)}),(f,h)=>(p(),y("div",{ref_key:"dropdown",ref:o,class:Se(["dropdown",{"is-active":l.value}])},[s("div",VE,[R(s("input",{"onUpdate:modelValue":h[0]||(h[0]=m=>i.value=m),type:"text",class:Se(["input is-small",f.$attrs.class]),onFocus:u},null,34),[[x,i.value]]),e.icon?(p(),y("span",ME,[s("i",{class:Se(["fa",[`fa-${e.icon}`]])},null,2)])):M("",!0)]),s("div",UE,[s("div",NE,[(p(!0),y(ee,null,de(a(i.value),(m,v)=>(p(),y("a",{key:v,class:"dropdown-item",onClick:b=>r(m),innerHTML:m.label},null,8,LE))),128))])])],2))}}),BE={key:0},HE={key:1},zE=le({__name:"DurationDisplay",props:{value:{required:!0}},setup(e){const t=e,n=ot(()=>{try{return Yt.mustParseHumanDuration(`${t.value}`),"span"}catch{return"code"}}),i=ot(()=>{try{return Yt.humanDuration(Yt.mustParseHumanDuration(`${t.value}`))}catch{return t.value}});return(a,l)=>tt(n)==="span"?(p(),y("span",BE,Y(tt(i)),1)):(p(),y("code",HE,Y(tt(i)),1))}}),jE=le({__name:"DurationInput",props:{modelValue:{required:!0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=_e(""),a=_e(!0),l=ot(()=>a.value?[]:["has-background-danger-light","has-text-danger-dark"]);return Ft(()=>{i.value=`${n.modelValue}`,Gt(i,o=>{try{const r=Yt.doDummyReplacements(o,"0");Yt.mustParseHumanDuration(r,n.allowNegative),a.value=!0}catch{a.value=!1}t("update:modelValue",o)}),Gt(()=>n.modelValue,o=>{i.value=`${o}`})}),(o,r)=>R((p(),y("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>i.value=u),class:Se(["input is-small spaceinput",tt(l)])},null,2)),[[x,i.value]])}}),Ll={data:{registeredUserCount:0,streamingUserCount:0}},WE=async()=>{try{const t=await(await vt.getDataGlobal()).json();Ll.data.registeredUserCount=t.registeredUserCount,Ll.data.streamingUserCount=t.streamingUserCount}catch(e){console.error(e)}};var Ff={getData:()=>Ll.data,init:WE};const xE={key:0,class:"field has-text-grey-light"},KE={key:1,class:"field has-text-grey-light"},JE=le({__name:"GlobalUserInfo",setup(e){const t=Ff.getData();return(n,i)=>(p(),y(ee,null,[tt(t).registeredUserCount?(p(),y("div",xE," There are currently "+Y(tt(t).registeredUserCount)+" streamer"+Y(tt(t).registeredUserCount>1?"s":"")+" registered \u2728. ",1)):M("",!0),tt(t).streamingUserCount?(p(),y("div",KE,Y(tt(t).streamingUserCount)+" streamer "+Y(tt(t).streamingUserCount>1?"are":"is")+" live right now. ",1)):M("",!0)],64))}});const GE=le({props:{modelValue:{required:!0},width:{type:String,required:!1,default:"100%"},height:{type:String,required:!1,default:"90px"}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:""},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:""},this.emitUpdate()},onUploaded(e){this.value=wf(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=go(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),YE=e=>(Sn("data-v-4bd85636"),e=e(),Cn(),e),XE=YE(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),QE=O(" Remove "),ZE=[XE,QE],qE={key:2};function ek(e,t,n,i,a,l){const o=j("responsive-image"),r=j("upload-input");return p(),y("div",{class:Se(["image-upload",{"dragging-over":e.draggingOver}]),onDrop:t[1]||(t[1]=(...u)=>e.onDrop&&e.onDrop(...u)),onDragover:t[2]||(t[2]=(...u)=>e.onDragover&&e.onDragover(...u)),onDragleave:t[3]||(t[3]=(...u)=>e.onDragleave&&e.onDragleave(...u))},[e.value.file?(p(),Ce(o,{key:0,src:e.value.urlpath,title:e.value.filename,width:e.width,height:e.height,style:{display:"block"}},null,8,["src","title","width","height"])):M("",!0),e.value.file?(p(),y("button",{key:1,class:"button is-small",onClick:t[0]||(t[0]=(...u)=>e.onRemove&&e.onRemove(...u))},ZE)):M("",!0),e.value.file?(p(),y("br",qE)):M("",!0),K(r,{ref:"uploadComponent",accept:"image/*",label:"Upload Image",class:Se({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var tk=Oe(GE,[["render",ek],["__scopeId","data-v-4bd85636"]]);const nk=le({emits:["selected"],data:()=>({show:!1,macros:[{value:"$args",title:"All args, joined with spaces"},{value:"$args(1:)",title:"Args starting from the second one, joined with spaces"},{value:"$args(1:4)",title:"Second to fifth args, joined with spaces"},{value:"$args(:4)",title:"All args up to and including the fifth, joined with spaces"},{value:"$var(VARNAME)",title:"Value of variable VARNAME"},{value:"$bot.version",title:"Bot version"},{value:"$bot.date",title:"Bot build date"},{value:"$bot.website",title:"Bot website"},{value:"$bot.github",title:"Bot github link"},{value:"$bot.features",title:"Bot feature description"},{value:"$rand(1,100)",title:"Random number between (inclusive) 1 and 100"},{value:'$daysuntil("2023-12-24")',title:"Days until a specified date in the format YYYY-MM-DD."},{value:'$daysuntil("2023-12-24", "{days} days left", "One day left", "It is today")',title:"Days until a specified date in the format YYYY-MM-DD, with more control over output."},{value:"$user.name",title:"Name of user who executed the command"},{value:"$user.profile_image_url",title:"Profile image url of user who executed the command"},{value:"$user.username",title:"Username of user who executed the command"},{value:"$user.twitch_url",title:"Twitch url of user who executed the command"},{value:"$user.recent_clip_url",title:"Recent clip url of user who executed the command"},{value:"$user.last_stream_category",title:"Last stream category of user who executed the command"},{value:"$user(NAME).name",title:"Name of user identified by username NAME"},{value:"$user(NAME).username",title:"Username of user identified by username NAME"},{value:"$user(NAME).twitch_url",title:"Twitch url of user identified by username NAME"},{value:"$user(NAME).profile_image_url",title:"Profile image url of user identified by username NAME"},{value:"$user(NAME).recent_clip_url",title:"Recent clip url of user identified by username NAME"},{value:"$user(NAME).last_stream_category",title:"Last stream category of user identified by username NAME"},{value:"$customapi(URL)",title:"Text response of a GET request to URL."},{value:"$customapi(URL)['FIELD']",title:"Field FIELD of a json returned from GET request to URL."},{value:"$calc(NUM_1+NUM_2)",title:"The result of addition of NUM_1 and NUM_2"},{value:"$calc(NUM_1-NUM_2)",title:"The result of substraction of NUM_1 and NUM_2"},{value:"$calc(NUM_1*NUM_2)",title:"The result of multiplication of NUM_1 and NUM_2"},{value:"$calc(NUM_1/NUM_2)",title:"The result of division of NUM_1 and NUM_2"}]}),methods:{onMacroClicked(e){this.$emit("selected",e)}}}),sk={class:"macro-select"},ik={key:0,class:"table-holder"},ok=["title"],ak=["onClick"];function lk(e,t,n,i,a,l){return p(),y("div",sk,[s("a",{onClick:t[0]||(t[0]=o=>e.show=!e.show)},"Select macro"),e.show?(p(),y("div",ik,[s("table",null,[(p(!0),y(ee,null,de(e.macros,(o,r)=>(p(),y("tr",{key:r},[s("td",{title:o.title},[s("code",{class:"is-clickable",onClick:u=>e.onMacroClicked(o)},Y(o.value),9,ak)],8,ok),s("td",null,Y(o.title),1)]))),128))])])):M("",!0)])}var rk=Oe(nk,[["render",lk]]);const da=pf();let ii,ll={problems:[]};function uk(){ii=Gn.wsClient("core"),ii.onMessage(["status"],e=>{JSON.stringify(ll)!==JSON.stringify(e)&&(ll=e,da.emit("status",ll))}),ii.connect()}function dk(){ii&&(ii.disconnect(),ii=null)}var xu={init:uk,stop:dk,eventBus:da},ck="/assets/hyottoko.30d2bcb9.png";const fk=le({data:()=>({me:null,showProblems:!1,linksStart:[{to:{name:"index"},text:"Widgets"},{to:{name:"commands"},text:"Commands"},{to:{name:"variables"},text:"Variables"},{to:{name:"sr"},text:"Song Request"},{to:{name:"speech-to-text"},text:"Speech-To-Text"},{to:{name:"avatar"},text:"Avatar"},{to:{name:"drawcast"},text:"Drawcast"},{to:{name:"pomo"},text:"Pomo"},{to:{name:"settings"},text:"Settings"}],problems:[],burgerActive:!1,darkmode:!1}),computed:{user(){var e,t;return((t=(e=this.me)==null?void 0:e.user)==null?void 0:t.name)||""}},created(){this.me=dn.getMe(),this.darkmode=dn.isDarkmode(),da.on("status",this.statusChanged)},beforeUnmount(){da.off("status",this.statusChanged)},methods:{onDarkmodeSwitch(){dn.setDarkmode(this.darkmode)},statusChanged(e){this.problems=e.problems},toggleBurgerMenu(){this.burgerActive=!this.burgerActive},async onLogoutClick(){const e=await dn.logout();if(e.error)throw new Error(e.error);this.$router.push({name:"login"})}}}),hk={class:"navbar",role:"navigation","aria-label":"main navigation"},mk={class:"navbar-brand"},pk=s("img",{src:ck,width:"32",height:"32",alt:"hyottoko.club",class:"flip-horizontal mr-1"},null,-1),gk={class:"greeting"},vk=s("span",{"aria-hidden":"true"},null,-1),yk=s("span",{"aria-hidden":"true"},null,-1),bk=s("span",{"aria-hidden":"true"},null,-1),wk=[vk,yk,bk],$k={class:"navbar-start"},Sk={class:"navbar-end"},Ck=s("i",{class:"fa fa-warning mr-1"},null,-1),_k={class:"navbar-item"},Ek=s("label",{for:"darkmode-switch"},"Switch dark/light mode",-1);function kk(e,t,n,i,a,l){const o=j("router-link"),r=j("problems-dialog");return p(),y(ee,null,[s("nav",hk,[s("div",mk,[K(o,{class:"navbar-item",to:{name:"index"}},{default:rt(()=>[pk,s("span",gk,"Welcome back, "+Y(e.user),1)]),_:1}),s("a",{role:"button",class:Se(["navbar-burger",{"is-active":e.burgerActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[0]||(t[0]=(...u)=>e.toggleBurgerMenu&&e.toggleBurgerMenu(...u))},wk,2)]),s("div",{id:"navbarBasicExample",class:Se(["navbar-menu",{"is-active":e.burgerActive}])},[s("div",$k,[(p(!0),y(ee,null,de(e.linksStart,(u,d)=>(p(),Ce(o,{key:d,class:"navbar-item",to:u.to},{default:rt(()=>[O(Y(u.text),1)]),_:2},1032,["to"]))),128))]),s("div",Sk,[e.problems.length?(p(),y("a",{key:0,class:"navbar-item has-text-danger",onClick:t[1]||(t[1]=u=>e.showProblems=!0)},[Ck,O(" "+Y(e.problems.length)+" Problem"+Y(e.problems.length>1?"s":""),1)])):M("",!0),s("span",_k,[R(s("input",{id:"darkmode-switch","onUpdate:modelValue":t[2]||(t[2]=u=>e.darkmode=u),type:"checkbox",class:"mr-1",onChange:t[3]||(t[3]=(...u)=>e.onDarkmodeSwitch&&e.onDarkmodeSwitch(...u))},null,544),[[lt,e.darkmode]]),Ek]),s("a",{class:"navbar-item",onClick:t[4]||(t[4]=(...u)=>e.onLogoutClick&&e.onLogoutClick(...u))},"Logout")])],2)]),e.showProblems?(p(),Ce(r,{key:0,problems:e.problems,onClose:t[5]||(t[5]=u=>e.showProblems=!1)},null,8,["problems"])):M("",!0)],64)}var Tk=Oe(fk,[["render",kk]]);const Ik=le({__name:"AudioPlayer",props:{src:String,name:String,volume:{required:!0},baseVolume:{default:100}},setup(e){const t=e,n=_e(null),i=_e(!1),a=ot(()=>i.value?"fa-stop":"fa-play"),l=()=>{if(!!n.value){if(i.value)n.value.pause(),n.value.currentTime=0;else{const r=parseInt(`${t.baseVolume}`,10)/100,u=parseInt(`${t.volume}`,10)/100;n.value.volume=r*u,n.value.play()}i.value=!i.value}},o=()=>{n.value&&(n.value.pause(),n.value=null),n.value=new Audio(t.src),n.value.addEventListener("ended",()=>{i.value=!1}),i.value=!1};return Ft(()=>{o(),Gt(()=>t.src,()=>{o()})}),(r,u)=>e.src?(p(),y("span",{key:0,class:"player",onClick:l},[O(Y(e.name)+" ",1),s("i",{class:Se(["fa ml-1",tt(a)])},null,2)])):M("",!0)}}),Dk={class:"modal is-active"},Ak={class:"modal-card"},Ok=s("header",{class:"modal-card-head"},[s("p",{class:"modal-card-title"}," Problems ")],-1),Pk={class:"modal-card-body"},Rk={class:"pl-4"},Vk={key:0},Mk=O(" The Access Token for channel "),Uk=O(" is invalid. Please go to "),Nk=O(" Settings "),Lk=O(" and update the token. "),Fk={key:1},Bk=le({__name:"ProblemsDialog",props:{problems:{type:Array,required:!0}},emits:["close"],setup(e,{emit:t}){const n=()=>{t("close")};return(i,a)=>{const l=j("router-link");return p(),y("div",Dk,[s("div",{class:"modal-background",onClick:n}),s("div",Ak,[Ok,s("section",Pk,[s("ol",Rk,[(p(!0),y(ee,null,de(e.problems,(o,r)=>(p(),y("li",{key:r},[o.message==="access_token_invalid"?(p(),y("div",Vk,[Mk,s("b",null,Y(o.details.channel_name),1),Uk,K(l,{to:{name:"settings"}},{default:rt(()=>[Nk]),_:1}),Lk])):(p(),y("div",Fk,Y(o),1))]))),128))])]),s("footer",{class:"modal-card-foot"},[s("button",{class:"button is-small",onClick:n}," Close ")])])])}}}),Hk=["title"],Bf=le({__name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,n=ot(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(i,a)=>(p(),y("div",{class:"responsive-image",style:at(tt(n)),title:e.title},null,12,Hk))}});const zk={class:"columns"},jk={class:"column is-four-fifth"},Wk={class:"control has-icons-left has-icons-right range slider"},xk=["min","max"],Kk={class:"icon is-small is-left"},Jk={class:"icon is-small is-right"},Gk={class:"column is-one-fifth"},Yk=le({__name:"SliderInput",props:{modelValue:{type:Number,required:!0},iconLeft:String,iconRight:String,min:{type:Number,default:0},max:{type:Number,default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const i=_e(e.modelValue),a=()=>{t("update:modelValue",parseInt(`${i.value}`,10))};return(l,o)=>(p(),y("div",zk,[s("div",jk,[s("div",Wk,[R(s("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>i.value=r),type:"range",class:"input is-small",min:e.min,max:e.max,"on:update:modelValue":a},null,40,xk),[[x,i.value]]),s("span",Kk,[s("i",{class:Se(["fa",e.iconLeft])},null,2)]),s("span",Jk,[s("i",{class:Se(["fa",e.iconRight])},null,2)])])]),s("div",Gk,[R(s("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>i.value=r),type:"number",class:"input is-small","on:update:modelValue":a},null,544),[[x,i.value]])])]))}});var Xk=Oe(Yk,[["__scopeId","data-v-0750215a"]]);const Qk=le({props:{modelValue:{required:!0},baseVolume:{default:100}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:"",volume:100},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:"",volume:100},this.emitUpdate()},onUploaded(e){this.value=$f(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=go(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),Zk=e=>(Sn("data-v-e59ef742"),e=e(),Cn(),e),qk=Zk(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),eT=O(" Remove "),tT=[qk,eT],nT={key:3};function sT(e,t,n,i,a,l){const o=j("audio-player"),r=j("volume-slider"),u=j("upload-input");return p(),y("div",{class:Se(["sound-upload",{"dragging-over":e.draggingOver}]),onDrop:t[2]||(t[2]=(...d)=>e.onDrop&&e.onDrop(...d)),onDragover:t[3]||(t[3]=(...d)=>e.onDragover&&e.onDragover(...d)),onDragleave:t[4]||(t[4]=(...d)=>e.onDragleave&&e.onDragleave(...d))},[e.value.file?(p(),Ce(o,{key:0,src:e.value.urlpath,name:e.value.filename,volume:e.value.volume,"base-volume":e.baseVolume,class:"button is-small"},null,8,["src","name","volume","base-volume"])):M("",!0),e.value.file?(p(),Ce(r,{key:1,"model-value":e.value.volume,"onUpdate:modelValue":t[0]||(t[0]=d=>{e.value.volume=d,e.emitUpdate()})},null,8,["model-value"])):M("",!0),e.value.file?(p(),y("button",{key:2,class:"button is-small",onClick:t[1]||(t[1]=(...d)=>e.onRemove&&e.onRemove(...d))},tT)):M("",!0),e.value.file?(p(),y("br",nT)):M("",!0),K(u,{ref:"uploadComponent",accept:"audio/*",label:"Upload Sound",class:Se({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var iT=Oe(Qk,[["render",sT],["__scopeId","data-v-e59ef742"]]);const oT=le({props:{accept:String,label:{type:String,default:"Upload File"}},data:()=>({uploading:!1,progress:0}),computed:{uploadPercent(){return Math.round(this.progress*100)},buttonText(){return this.uploading?` Uploading (${this.uploadPercent}%)`:this.label?` ${this.label}`:""},progressStyle(){if(!this.uploading)return{};const e=this.uploadPercent,t="rgba(0,255,0, .5)";return{background:`linear-gradient(90deg, ${t} 0%, ${t} ${e}%, transparent ${e}%)`}}},methods:{async uploadFile(e){this.uploading=!0;const t=await vt.upload(e,i=>{this.progress=i.loaded/i.total});this.uploading=!1;const n=await t.json();this.$emit("uploaded",n)},async upload(e){const t=e.target;!t.files||t.files.length===0||this.uploadFile(t.files[0])}}}),aT=oT,lT={class:"upload"},rT=["disabled","accept"],uT={class:"button is-small"};function dT(e,t,n,i,a,l){return p(),y("label",lT,[s("input",{type:"file",disabled:e.uploading,style:{display:"none"},accept:e.accept,onChange:t[0]||(t[0]=(...o)=>e.upload&&e.upload(...o))},null,40,rT),s("span",uT,[s("i",{class:Se(["fa fa-upload",{"mr-1":e.buttonText}])},null,2),O(Y(e.buttonText),1)]),s("span",{class:"progress",style:at(e.progressStyle)},null,4)])}var cT=Oe(aT,[["render",dT],["__scopeId","data-v-5541627f"]]);const fT=le({__name:"VolumeSlider",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const i=_e(parseInt(`${e.modelValue}`,10)),a=()=>{t("update:modelValue",parseInt(`${i.value}`,10))};return(l,o)=>{const r=j("slider-input");return p(),Ce(r,{modelValue:i.value,"onUpdate:modelValue":[o[0]||(o[0]=u=>i.value=u),a],class:"volume-slider","icon-left":"fa-volume-down","icon-right":"fa-volume-up",min:0,max:100},null,8,["modelValue"])}}}),Vs=(...e)=>console.log("[youtube.js]",...e);let Ku=!1;function hT(){return Ku?(Vs("ytapi ALREADY ready"),Promise.resolve()):new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=()=>{Ku=!0,Vs("ytapi ready"),e()}})}function mT(e){return new Promise(t=>{Vs("create player on "+e);const n=new YT.Player(e,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{Vs("player ready"),t(n)}}})})}async function pT(e){return await hT(),await mT(e)}const gT=le({props:{visible:{type:Boolean,default:!0}},data:()=>({id:"",yt:null,loop:!1,toplay:null,tovolume:null,tryPlayInterval:null}),created(){this.id=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`},async mounted(){this.yt=await pT(this.id),this.tovolume!==null&&this.yt.setVolume(this.tovolume),this.toplay!==null&&(Vs("trying to play.."),this.play(this.toplay)),this.yt.addEventListener("onStateChange",e=>{e.data===YT.PlayerState.CUED?this.tryPlay():e.data===YT.PlayerState.ENDED&&(this.loop?this.tryPlay():this.$emit("ended"))})},methods:{getDuration(){return this.yt?this.yt.getDuration():0},getCurrentTime(){return this.yt?this.yt.getCurrentTime():0},getProgress(){const e=this.getDuration(),t=this.getCurrentTime();return e?t/e:0},stop(){this.yt&&this.yt.stopVideo()},stopTryPlayInterval(){this.tryPlayInterval&&(clearInterval(this.tryPlayInterval),this.tryPlayInterval=null)},tryPlay(){if(this.stopTryPlayInterval(),!this.visible)return;this.yt&&this.yt.playVideo();let e=20;this.tryPlayInterval=setInterval(()=>{if(Vs("playing",this.playing(),"triesRemaining",e),--e,this.playing()||e<0){Vs("stopping interval"),this.stopTryPlayInterval();return}this.yt&&this.yt.playVideo()},250)},play(e){this.yt?(this.yt.cueVideoById(e),this.tryPlay()):this.toplay=e},pause(){this.yt&&this.yt.pauseVideo()},unpause(){this.yt&&this.tryPlay()},setVolume(e){this.yt?this.yt.setVolume(e):this.tovolume=e},setLoop(e){this.loop=e},playing(){return this.yt?this.yt.getPlayerState()===1:!1}}}),vT=gT,yT=["id"];function bT(e,t,n,i,a,l){return p(),y("div",{id:e.id},null,8,yT)}var Hf=Oe(vT,[["render",bT]]);const wo=()=>[{type:xt.COMMAND,label:"Add Command",title:"Command"},{type:xt.FIRST_CHAT,label:"Add First Chat",title:"First Chat"},{type:xt.REWARD_REDEMPTION,label:"Add Reward Redemption",title:"Reward Redemption"},{type:xt.BITS,label:"Add Bits",title:"Bits"},{type:xt.FOLLOW,label:"Add Follow",title:"Follow"},{type:xt.RAID,label:"Add Raid",title:"Raid"},{type:xt.SUB,label:"Add Sub",title:"Sub"},{type:xt.TIMER,label:"Add Timer",title:"Timer"}],wT=le({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:gi}),computed:{requiresAccessToken(){return this.item?Tt[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return wo()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!vo(e))return!1;return!0},actionDescription(){return this.item?Tt[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${Tt[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(vi(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),$T={key:0,class:"modal is-active"},ST={class:"modal-card"},CT={class:"modal-card-head"},_T={class:"modal-card-title"},ET={class:"modal-card-body"},kT={class:"table is-striped"},TT=s("td",null,"Triggers:",-1),IT={key:0},DT=s("td",null,"Description:",-1),AT=["innerHTML"],OT={key:1},PT=s("td",null,"Attention:",-1),RT=s("td",null,[s("div",{class:"help"},[O(" This requires "),s("code",null,"Access Token"),O(" to be set in the user settings. ")])],-1),VT=[PT,RT],MT={key:2},UT=s("td",null,"Stream title:",-1),NT={key:3},LT=s("td",null,"Stream category:",-1),FT={key:4},BT=s("td",null,"Tag to add:",-1),HT={key:5},zT=s("td",null,"Tag to remove:",-1),jT={key:6},WT=s("td",null,"Tag:",-1),xT={key:7},KT=s("td",null,"Response:",-1),JT=s("td",null,"Outputs the people who chatted during the stream.",-1),GT=[KT,JT],XT={key:8},QT=s("td",null,"Settings",-1),ZT=s("td",null,"Variables:",-1),qT={key:0},e4=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),t4=["onUpdate:modelValue"],n4=["onUpdate:modelValue"],s4=["onClick"],i4=s("i",{class:"fa fa-remove"},null,-1),o4=[i4],a4=s("div",{class:"help"},[O(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),O(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),O(" are used. ")],-1),l4=s("td",null,"Variable changes:",-1),r4={key:0},u4=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),d4={class:"select is-small"},c4=["onUpdate:modelValue"],f4=s("option",{value:"set"}," set ",-1),h4=s("option",{value:"increase_by"}," increase by ",-1),m4=s("option",{value:"decrease_by"}," decrease by ",-1),p4=[f4,h4,m4],g4=["onUpdate:modelValue"],v4=["onClick"],y4=s("i",{class:"fa fa-remove"},null,-1),b4=[y4],w4=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),$4=s("td",null,"Permissions:",-1),S4=["value"],C4={class:"modal-card-foot"},_4=["disabled"];function E4(e,t,n,i,a,l){const o=j("trigger-editor"),r=j("dropdown-button"),u=j("countdown-editor"),d=j("dropdown-input");return e.item?(p(),y("div",$T,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",ST,[s("header",CT,[s("p",_T,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",ET,[s("table",kT,[s("tbody",null,[s("tr",null,[TT,s("td",null,[(p(!0),y(ee,null,de(e.item.triggers,(c,f)=>(p(),Ce(o,{key:f,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[f]=h,onRemove:h=>e.rmtrigger(f)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),K(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),y("tr",IT,[DT,s("td",{innerHTML:e.actionDescription},null,8,AT)])):M("",!0),e.requiresAccessToken?(p(),y("tr",OT,VT)):M("",!0),e.item.action==="set_channel_title"?(p(),y("tr",MT,[UT,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.item.data.title=c),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.title]]),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=c=>e.item.data.title="")},"All args")])])):M("",!0),e.item.action==="set_channel_game_id"?(p(),y("tr",NT,[LT,s("td",null,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.item.data.game_id=c),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.game_id]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=c=>e.item.data.game_id="")},"All args")])])):M("",!0),e.item.action==="add_stream_tags"?(p(),y("tr",FT,[BT,s("td",null,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[7]||(t[7]=c=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="remove_stream_tags"?(p(),y("tr",HT,[zT,s("td",null,[R(s("input",{"onUpdate:modelValue":t[8]||(t[8]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[9]||(t[9]=c=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="sr_addtag"?(p(),y("tr",jT,[WT,s("td",null,[R(s("input",{"onUpdate:modelValue":t[10]||(t[10]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[11]||(t[11]=c=>e.item.data.tag="")},"All args")])])):M("",!0),e.item.action==="chatters"?(p(),y("tr",xT,GT)):M("",!0),e.item.action==="countdown"?(p(),y("tr",XT,[QT,s("td",null,[K(u,{modelValue:e.item.data,"onUpdate:modelValue":t[12]||(t[12]=c=>e.item.data=c),"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])])])):M("",!0),s("tr",null,[ZT,s("td",null,[e.item.variables.length>0?(p(),y("table",qT,[e4,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variables,(c,f)=>(p(),y("tr",{key:f},[s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.name=h,type:"text",class:"input is-small"},null,8,t4),[[x,c.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.value=h,type:"text",class:"input is-small"},null,8,n4),[[x,c.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(f)},o4,8,s4)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),a4])]),s("tr",null,[l4,s("td",null,[e.item.variableChanges.length>0?(p(),y("table",r4,[u4,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variableChanges,(c,f)=>(p(),y("tr",{key:f},[s("td",null,[K(d,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",d4,[R(s("select",{"onUpdate:modelValue":h=>c.change=h},p4,8,c4),[[gs,c.change]])])]),s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.value=h,type:"text",class:"input is-small"},null,8,g4),[[x,c.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(f)},b4,8,v4)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[14]||(t[14]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),w4])]),s("tr",null,[$4,s("td",null,[(p(!0),y(ee,null,de(e.possiblePermissions,(c,f)=>(p(),y("label",{key:f,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[15]||(t[15]=h=>e.item.restrict_to=h),type:"checkbox",value:c.value},null,8,S4),[[lt,e.item.restrict_to]]),O(" "+Y(c.label),1)]))),128))])])])])]),s("footer",C4,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[16]||(t[16]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,_4),s("button",{class:"button is-small",onClick:t[17]||(t[17]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):M("",!0)}var k4=Oe(wT,[["render",E4]]);const T4=le({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","cancel"],data:()=>({item:null,type:"",variableChangeFocusIdx:-1,possiblePermissions:gi}),computed:{requiresAccessToken(){return this.item?Tt[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return wo()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!vo(e))return!1;return!0},actionDescription(){return this.item?Tt[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${Tt[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.item&&(this.item.data.video.url?this.type="video":this.item.data.sound.file?this.item.data.image.file||this.item.data.image_url?this.type="image,sound":this.type="sound":this.type="image"),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addWidgetId(){if(!this.item){console.warn("addWidgetId: this.item not initialized");return}this.item.data.widgetIds.push("")},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(vi(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},mediaSndChanged(e){if(!this.item){console.warn("mediaSndChanged: this.item not initialized");return}this.item.data.sound=e},mediaImgChanged(e){if(!this.item){console.warn("mediaImgUploaded: this.item not initialized");return}this.item.data.image=e},rmWidgetId(e){if(!this.item){console.warn("rmWidgetId: this.item not initialized");return}this.item.data.widgetIds=this.item.data.widgetIds.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),I4={key:0,class:"modal is-active"},D4={class:"modal-card"},A4={class:"modal-card-head"},O4={class:"modal-card-title"},P4={class:"modal-card-body"},R4={class:"table is-striped"},V4=s("td",null,"Triggers:",-1),M4={key:0},U4=s("td",null,"Description:",-1),N4=["innerHTML"],L4={key:1},F4=s("td",null,"Attention:",-1),B4=s("td",null,[s("div",{class:"help"},[O(" This requires "),s("code",null,"Access Token"),O(" to be set in the user settings. ")])],-1),H4=[F4,B4],z4=s("td",null,"Widgets:",-1),j4={key:0,class:"field has-addons"},W4=O(" This media will show in the\xA0 "),x4=["href"],K4=O(". "),J4={class:"control mr-1"},G4=["onUpdate:modelValue"],Y4=["href"],X4=["onClick"],Q4=s("i",{class:"fa fa-remove"},null,-1),Z4=[Q4],q4={class:"field"},eI=s("i",{class:"fa fa-plus mr-1"},null,-1),tI=O(" Add widget "),nI=[eI,tI],sI=s("div",null,[s("p",{class:"help"}," Define in which widgets this media should show up in. Leave the list empty to only show in the default widget. ")],-1),iI=s("td",null,"Type:",-1),oI={class:"mr-1"},aI=O(" Image"),lI={class:"mr-1"},rI=O(" Image + Sound"),uI={class:"mr-1"},dI=O(" Sound"),cI={class:"mr-1"},fI=O(" Video"),hI={key:2},mI=s("td",null,"Display-Duration:",-1),pI={class:"control has-icons-left"},gI=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),vI=s("div",{class:"help"}," The minimum duration that images will be displayed. Sound will always play for their full length regardless of this setting. ",-1),yI={key:3},bI=s("td",null,"Image:",-1),wI={key:4},$I=s("td",null,"Image (by URL):",-1),SI={key:5},CI=s("td",null,"Sound:",-1),_I={key:6},EI=s("td",null,"Video:",-1),kI=s("td",null,"Url:",-1),TI=s("td",null,"Volume:",-1),II=s("div",{class:"help"},[O(" The video url has to be a twitch clip url ("),s("code",null,"https://clips.twitch.tv/..."),O(") or a URL to a video file (a URL usually ending in "),s("code",null,".mp4"),O(" or similar). Currently Youtube or other Video Hosters are not supported. ")],-1),DI=s("td",null,"Variables:",-1),AI={key:0},OI=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),PI=["onUpdate:modelValue"],RI=["onUpdate:modelValue"],VI=["onClick"],MI=s("i",{class:"fa fa-remove"},null,-1),UI=[MI],NI=s("div",{class:"help"},[O(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),O(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),O(" are used. ")],-1),LI=s("td",null,"Variable changes:",-1),FI={key:0},BI=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),HI={class:"select is-small"},zI=["onUpdate:modelValue"],jI=s("option",{value:"set"}," set ",-1),WI=s("option",{value:"increase_by"}," increase by ",-1),xI=s("option",{value:"decrease_by"}," decrease by ",-1),KI=[jI,WI,xI],JI=["onUpdate:modelValue"],GI=["onClick"],YI=s("i",{class:"fa fa-remove"},null,-1),XI=[YI],QI=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),ZI=s("td",null,"Permissions:",-1),qI=["value"],e3={class:"modal-card-foot"},t3=["disabled"];function n3(e,t,n,i,a,l){const o=j("trigger-editor"),r=j("dropdown-button"),u=j("duration-input"),d=j("image-upload"),c=j("sound-upload"),f=j("volume-slider"),h=j("dropdown-input");return e.item?(p(),y("div",I4,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...m)=>e.onOverlayClick&&e.onOverlayClick(...m))}),s("div",D4,[s("header",A4,[s("p",O4,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...m)=>e.onCloseClick&&e.onCloseClick(...m))})]),s("section",P4,[s("table",R4,[s("tbody",null,[s("tr",null,[V4,s("td",null,[(p(!0),y(ee,null,de(e.item.triggers,(m,v)=>(p(),Ce(o,{key:v,class:"spacerow","model-value":m,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":b=>e.item.triggers[v]=b,onRemove:b=>e.rmtrigger(v)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),K(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),y("tr",M4,[U4,s("td",{innerHTML:e.actionDescription},null,8,N4)])):M("",!0),e.requiresAccessToken?(p(),y("tr",L4,H4)):M("",!0),s("tr",null,[z4,s("td",null,[e.item.data.widgetIds.length===0?(p(),y("div",j4,[W4,s("a",{href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,x4),K4])):M("",!0),(p(!0),y(ee,null,de(e.item.data.widgetIds,(m,v)=>(p(),y("div",{key:v,class:"field has-addons"},[s("div",J4,[R(s("input",{"onUpdate:modelValue":b=>e.item.data.widgetIds[v]=b,type:"text",class:"input is-small"},null,8,G4),[[x,e.item.data.widgetIds[v]]])]),s("a",{class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(m)}`,target:"_blank"},"Open widget",8,Y4),s("button",{class:"button is-small",onClick:b=>e.rmWidgetId(v)},Z4,8,X4)]))),128)),s("div",q4,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...m)=>e.addWidgetId&&e.addWidgetId(...m))},nI)]),sI])]),s("tr",null,[iI,s("td",null,[s("label",oI,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=m=>e.type=m),type:"radio",value:"image"},null,512),[[Jt,e.type]]),aI]),s("label",lI,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=m=>e.type=m),type:"radio",value:"image,sound"},null,512),[[Jt,e.type]]),rI]),s("label",uI,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=m=>e.type=m),type:"radio",value:"sound"},null,512),[[Jt,e.type]]),dI]),s("label",cI,[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=m=>e.type=m),type:"radio",value:"video"},null,512),[[Jt,e.type]]),fI])])]),e.type==="image"||e.type==="image,sound"?(p(),y("tr",hI,[mI,s("td",null,[s("div",pI,[K(u,{"model-value":e.item.data.minDurationMs,"onUpdate:modelValue":t[7]||(t[7]=m=>e.item.data.minDurationMs=m)},null,8,["model-value"]),gI]),vI])])):M("",!0),e.type==="image"||e.type==="image,sound"?(p(),y("tr",yI,[bI,s("td",null,[K(d,{modelValue:e.item.data.image,"onUpdate:modelValue":[t[8]||(t[8]=m=>e.item.data.image=m),e.mediaImgChanged]},null,8,["modelValue","onUpdate:modelValue"])])])):M("",!0),e.type==="image"||e.type==="image,sound"?(p(),y("tr",wI,[$I,s("td",null,[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=m=>e.item.data.image_url=m),type:"text",class:"input is-small"},null,512),[[x,e.item.data.image_url]]),s("div",null,[s("span",{class:"button is-small",onClick:t[10]||(t[10]=m=>e.item.data.image_url="$user($args).profile_image_url")},"Twitch profile image of user given by args"),s("span",{class:"button is-small",onClick:t[11]||(t[11]=m=>e.item.data.image_url="$user.profile_image_url")},"Twitch profile image of user who executes the command")])])])):M("",!0),e.type==="sound"||e.type==="image,sound"?(p(),y("tr",SI,[CI,s("td",null,[K(c,{modelValue:e.item.data.sound,"onUpdate:modelValue":[t[12]||(t[12]=m=>e.item.data.sound=m),e.mediaSndChanged],"base-volume":e.baseVolume},null,8,["modelValue","base-volume","onUpdate:modelValue"])])])):M("",!0),e.type==="video"?(p(),y("tr",_I,[EI,s("td",null,[s("table",null,[s("tr",null,[kI,s("td",null,[R(s("input",{"onUpdate:modelValue":t[13]||(t[13]=m=>e.item.data.video.url=m),type:"text",class:"input is-small"},null,512),[[x,e.item.data.video.url]])])]),s("tr",null,[TI,s("td",null,[K(f,{modelValue:e.item.data.video.volume,"onUpdate:modelValue":t[14]||(t[14]=m=>e.item.data.video.volume=m)},null,8,["modelValue"])])])]),II,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=m=>e.item.data.video.url="$user($args).recent_clip_url")},"A recent twitch clip of user given by args"),s("span",{class:"button is-small",onClick:t[16]||(t[16]=m=>e.item.data.video.url="$user.recent_clip_url")},"A recent twitch clip of user who executes the command")])])])):M("",!0),s("tr",null,[DI,s("td",null,[e.item.variables.length>0?(p(),y("table",AI,[OI,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variables,(m,v)=>(p(),y("tr",{key:v},[s("td",null,[R(s("input",{"onUpdate:modelValue":b=>m.name=b,type:"text",class:"input is-small"},null,8,PI),[[x,m.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":b=>m.value=b,type:"text",class:"input is-small"},null,8,RI),[[x,m.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:b=>e.rmVariable(v)},UI,8,VI)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[17]||(t[17]=(...m)=>e.onAddVariable&&e.onAddVariable(...m))},"Add Variable"),NI])]),s("tr",null,[LI,s("td",null,[e.item.variableChanges.length>0?(p(),y("table",FI,[BI,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variableChanges,(m,v)=>(p(),y("tr",{key:v},[s("td",null,[K(h,{modelValue:m.name,"onUpdate:modelValue":b=>m.name=b,values:e.autocompletableVariables().map(b=>({value:b.var.name,label:`${b.var.name} (${b.type}), <code>${b.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",HI,[R(s("select",{"onUpdate:modelValue":b=>m.change=b},KI,8,zI),[[gs,m.change]])])]),s("td",null,[R(s("input",{"onUpdate:modelValue":b=>m.value=b,type:"text",class:"input is-small"},null,8,JI),[[x,m.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:b=>e.rmVariableChange(v)},XI,8,GI)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[18]||(t[18]=(...m)=>e.onAddVariableChange&&e.onAddVariableChange(...m))},"Add Variable Change"),QI])]),s("tr",null,[ZI,s("td",null,[(p(!0),y(ee,null,de(e.possiblePermissions,(m,v)=>(p(),y("label",{key:v,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[19]||(t[19]=b=>e.item.restrict_to=b),type:"checkbox",value:m.value},null,8,qI),[[lt,e.item.restrict_to]]),O(" "+Y(m.label),1)]))),128))])])])])]),s("footer",e3,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[20]||(t[20]=(...m)=>e.onSaveClick&&e.onSaveClick(...m))}," Save changes ",8,t3),s("button",{class:"button is-small",onClick:t[21]||(t[21]=(...m)=>e.onCancelClick&&e.onCancelClick(...m))}," Cancel ")])])])):M("",!0)}var s3=Oe(T4,[["render",n3]]);const i3=le({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:gi}),computed:{requiresAccessToken(){return this.item?Tt[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return wo()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!vo(e))return!1;for(const e of this.item.data.text)if(e==="")return!1;return!0},actionDescription(){return this.item?Tt[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${Tt[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtxt(){if(!this.item){console.warn("addtxt: this.item not initialized");return}this.item.data.text.push(gr())},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(vi(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtxt(e){if(!this.item){console.warn("rmtxt: this.item not initialized");return}this.item.data.text=this.item.data.text.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},insertMacro(e,t){if(!this.item){console.warn("insertMacro: this.item not initialized");return}this.item.data.text[e]+=t.value},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),_t=e=>(Sn("data-v-1d86d7f2"),e=e(),Cn(),e),o3={key:0,class:"modal is-active"},a3={class:"modal-card"},l3={class:"modal-card-head"},r3={class:"modal-card-title"},u3={class:"modal-card-body"},d3={class:"table is-striped"},c3=_t(()=>s("td",null,"Triggers:",-1)),f3={key:0},h3=_t(()=>s("td",null,"Description:",-1)),m3=["innerHTML"],p3={key:1},g3=_t(()=>s("td",null,"Attention:",-1)),v3=_t(()=>s("td",null,[s("div",{class:"help"},[O(" This requires "),s("code",null,"Access Token"),O(" to be set in the user settings. ")])],-1)),y3=[g3,v3],b3=_t(()=>s("td",null,"Response:",-1)),w3=["onUpdate:modelValue"],$3={class:"help"},S3=["disabled","onClick"],C3=_t(()=>s("i",{class:"fa fa-remove"},null,-1)),_3=[C3],E3={class:"field"},k3=_t(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),T3=O(" Add response "),I3=[k3,T3],D3=_t(()=>s("div",null,[s("p",{class:"help"}," If multiple responses exist, a random one will be used when the command is triggered. ")],-1)),A3=_t(()=>s("td",null,"Variables:",-1)),O3={key:0},P3=_t(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1)),R3=["onUpdate:modelValue"],V3=["onUpdate:modelValue"],M3=["onClick"],U3=_t(()=>s("i",{class:"fa fa-remove"},null,-1)),N3=[U3],L3=_t(()=>s("div",{class:"help"},[O(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),O(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),O(" are used. ")],-1)),F3=_t(()=>s("td",null,"Variable changes:",-1)),B3={key:0},H3=_t(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1)),z3={class:"select is-small"},j3=["onUpdate:modelValue"],W3=_t(()=>s("option",{value:"set"}," set ",-1)),x3=_t(()=>s("option",{value:"increase_by"}," increase by ",-1)),K3=_t(()=>s("option",{value:"decrease_by"}," decrease by ",-1)),J3=[W3,x3,K3],G3=["onUpdate:modelValue"],Y3=["onClick"],X3=_t(()=>s("i",{class:"fa fa-remove"},null,-1)),Q3=[X3],Z3=_t(()=>s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1)),q3=_t(()=>s("td",null,"Permissions:",-1)),eD=["value"],tD={class:"modal-card-foot"},nD=["disabled"];function sD(e,t,n,i,a,l){const o=j("trigger-editor"),r=j("dropdown-button"),u=j("macro-select"),d=j("dropdown-input");return e.item?(p(),y("div",o3,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",a3,[s("header",l3,[s("p",r3,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",u3,[s("table",d3,[s("tbody",null,[s("tr",null,[c3,s("td",null,[(p(!0),y(ee,null,de(e.item.triggers,(c,f)=>(p(),Ce(o,{key:f,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[f]=h,onRemove:h=>e.rmtrigger(f)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),K(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),y("tr",f3,[h3,s("td",{innerHTML:e.actionDescription},null,8,m3)])):M("",!0),e.requiresAccessToken?(p(),y("tr",p3,y3)):M("",!0),s("tr",null,[b3,s("td",null,[(p(!0),y(ee,null,de(e.item.data.text,(c,f)=>(p(),y("div",{key:f,class:"field textarea-holder"},[R(s("textarea",{"onUpdate:modelValue":h=>e.item.data.text[f]=h,class:Se(["textarea",{"has-background-danger-light":!e.item.data.text[f],"has-text-danger-dark":!e.item.data.text[f]}]),type:"text"},null,10,w3),[[x,e.item.data.text[f]]]),s("div",$3,[K(u,{onSelected:h=>e.insertMacro(f,h)},null,8,["onSelected"])]),s("button",{class:"button is-small",disabled:e.item.data.text.length<=1,onClick:h=>e.rmtxt(f)},_3,8,S3)]))),128)),s("div",E3,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...c)=>e.addtxt&&e.addtxt(...c))},I3)]),D3])]),s("tr",null,[A3,s("td",null,[e.item.variables.length>0?(p(),y("table",O3,[P3,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variables,(c,f)=>(p(),y("tr",{key:f},[s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.name=h,type:"text",class:"input is-small"},null,8,R3),[[x,c.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.value=h,type:"text",class:"input is-small"},null,8,V3),[[x,c.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(f)},N3,8,M3)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[3]||(t[3]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),L3])]),s("tr",null,[F3,s("td",null,[e.item.variableChanges.length>0?(p(),y("table",B3,[H3,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variableChanges,(c,f)=>(p(),y("tr",{key:f},[s("td",null,[K(d,{modelValue:c.name,"onUpdate:modelValue":h=>c.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",z3,[R(s("select",{"onUpdate:modelValue":h=>c.change=h},J3,8,j3),[[gs,c.change]])])]),s("td",null,[R(s("input",{"onUpdate:modelValue":h=>c.value=h,type:"text",class:"input is-small"},null,8,G3),[[x,c.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(f)},Q3,8,Y3)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),Z3])]),s("tr",null,[q3,s("td",null,[(p(!0),y(ee,null,de(e.possiblePermissions,(c,f)=>(p(),y("label",{key:f,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=h=>e.item.restrict_to=h),type:"checkbox",value:c.value},null,8,eD),[[lt,e.item.restrict_to]]),O(" "+Y(c.label),1)]))),128))])])])])]),s("footer",tD,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[6]||(t[6]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,nD),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):M("",!0)}var iD=Oe(i3,[["render",sD],["__scopeId","data-v-1d86d7f2"]]);const oD=le({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,dictLangs:[{value:"ja",flag:"\u{1F1EF}\u{1F1F5}",title:"Japanese"},{value:"ru",flag:"\u{1F1F7}\u{1F1FA}",title:"Russian"},{value:"de",flag:"\u{1F1E9}\u{1F1EA}",title:"German"},{value:"es",flag:"\u{1F1EA}\u{1F1F8}",title:"Spanish"},{value:"fr",flag:"\u{1F1EB}\u{1F1F7}",title:"French"},{value:"it",flag:"\u{1F1EE}\u{1F1F9}",title:"Italian"},{value:"pt",flag:"\u{1F1F5}\u{1F1F9}/\u{1F1E7}\u{1F1F7}",title:"Portuguese"}],possiblePermissions:gi}),computed:{requiresAccessToken(){return this.item?Tt[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return wo()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!vo(e))return!1;return!0},actionDescription(){return this.item?Tt[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${Tt[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(vi(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),aD={key:0,class:"modal is-active"},lD={class:"modal-card"},rD={class:"modal-card-head"},uD={class:"modal-card-title"},dD={class:"modal-card-body"},cD={class:"table is-striped"},fD=s("td",null,"Triggers:",-1),hD={key:0},mD=s("td",null,"Description:",-1),pD=["innerHTML"],gD={key:1},vD=s("td",null,"Attention:",-1),yD=s("td",null,[s("div",{class:"help"},[O(" This requires "),s("code",null,"Access Token"),O(" to be set in the user settings. ")])],-1),bD=[vD,yD],wD=s("td",null,"Language:",-1),$D=["title","onClick"],SD=s("code",null,"$args(0)",-1),CD=[SD],_D=s("td",null,"Phrase:",-1),ED=s("code",null,"$args(1:)",-1),kD=[ED],TD=s("tr",null,[s("td",null,"Response:"),s("td",null,[s("div",{class:"help"},[O(" Outputs the translation for the input phrase. The translation is always from/to english. "),s("br"),O(" To let the user decide on the language use "),s("code",null,"$args(0)"),O(" as language, and "),s("code",null,"$args(1:)"),O(" as phrase. "),s("br"),O(" If phrase is left empty, all arguments to the command will be used as the phrase. ")])])],-1),ID=s("td",null,"Variables:",-1),DD={key:0},AD=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),OD=["onUpdate:modelValue"],PD=["onUpdate:modelValue"],RD=["onClick"],VD=s("i",{class:"fa fa-remove"},null,-1),MD=[VD],UD=s("div",{class:"help"},[O(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),O(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),O(" are used. ")],-1),ND=s("td",null,"Variable changes:",-1),LD={key:0},FD=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),BD={class:"select is-small"},HD=["onUpdate:modelValue"],zD=s("option",{value:"set"}," set ",-1),jD=s("option",{value:"increase_by"}," increase by ",-1),WD=s("option",{value:"decrease_by"}," decrease by ",-1),xD=[zD,jD,WD],KD=["onUpdate:modelValue"],JD=["onClick"],GD=s("i",{class:"fa fa-remove"},null,-1),YD=[GD],XD=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),QD=s("td",null,"Permissions:",-1),ZD=["value"],qD={class:"modal-card-foot"},eA=["disabled"];function tA(e,t,n,i,a,l){const o=j("trigger-editor"),r=j("dropdown-button"),u=j("dropdown-input");return e.item?(p(),y("div",aD,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...d)=>e.onOverlayClick&&e.onOverlayClick(...d))}),s("div",lD,[s("header",rD,[s("p",uD,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...d)=>e.onCloseClick&&e.onCloseClick(...d))})]),s("section",dD,[s("table",cD,[s("tbody",null,[s("tr",null,[fD,s("td",null,[(p(!0),y(ee,null,de(e.item.triggers,(d,c)=>(p(),Ce(o,{key:c,class:"spacerow","model-value":d,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":f=>e.item.triggers[c]=f,onRemove:f=>e.rmtrigger(c)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),K(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),y("tr",hD,[mD,s("td",{innerHTML:e.actionDescription},null,8,pD)])):M("",!0),e.requiresAccessToken?(p(),y("tr",gD,bD)):M("",!0),s("tr",null,[wD,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.item.data.lang=d),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.lang]]),(p(!0),y(ee,null,de(e.dictLangs,(d,c)=>(p(),y("span",{key:c,class:"button is-small mr-1",title:d.title,onClick:f=>e.item.data.lang=d.value},Y(d.flag),9,$D))),128)),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=d=>e.item.data.lang="$args(0)")},CD)])]),s("tr",null,[_D,s("td",null,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.item.data.phrase=d),class:"input is-small spaceinput mb-1"},null,512),[[x,e.item.data.phrase]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=d=>e.item.data.phrase="")},"All args"),s("span",{class:"button is-small mr-1",onClick:t[6]||(t[6]=d=>e.item.data.phrase="$args(1:)")},kD)])]),TD,s("tr",null,[ID,s("td",null,[e.item.variables.length>0?(p(),y("table",DD,[AD,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variables,(d,c)=>(p(),y("tr",{key:c},[s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.name=f,type:"text",class:"input is-small"},null,8,OD),[[x,d.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.value=f,type:"text",class:"input is-small"},null,8,PD),[[x,d.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.rmVariable(c)},MD,8,RD)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[7]||(t[7]=(...d)=>e.onAddVariable&&e.onAddVariable(...d))},"Add Variable"),UD])]),s("tr",null,[ND,s("td",null,[e.item.variableChanges.length>0?(p(),y("table",LD,[FD,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variableChanges,(d,c)=>(p(),y("tr",{key:c},[s("td",null,[K(u,{modelValue:d.name,"onUpdate:modelValue":f=>d.name=f,values:e.autocompletableVariables().map(f=>({value:f.var.name,label:`${f.var.name} (${f.type}), <code>${f.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",BD,[R(s("select",{"onUpdate:modelValue":f=>d.change=f},xD,8,HD),[[gs,d.change]])])]),s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.value=f,type:"text",class:"input is-small"},null,8,KD),[[x,d.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.rmVariableChange(c)},YD,8,JD)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...d)=>e.onAddVariableChange&&e.onAddVariableChange(...d))},"Add Variable Change"),XD])]),s("tr",null,[QD,s("td",null,[(p(!0),y(ee,null,de(e.possiblePermissions,(d,c)=>(p(),y("label",{key:c,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=f=>e.item.restrict_to=f),type:"checkbox",value:d.value},null,8,ZD),[[lt,e.item.restrict_to]]),O(" "+Y(d.label),1)]))),128))])])])])]),s("footer",qD,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[10]||(t[10]=(...d)=>e.onSaveClick&&e.onSaveClick(...d))}," Save changes ",8,eA),s("button",{class:"button is-small",onClick:t[11]||(t[11]=(...d)=>e.onCancelClick&&e.onCancelClick(...d))}," Cancel ")])])])):M("",!0)}var nA=Oe(oD,[["render",tA]]);const sA=le({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:gi}),computed:{requiresAccessToken(){return this.item?Tt[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return wo()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!vo(e))return!1;return!0},actionDescription(){return this.item?Tt[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${Tt[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(vi(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),iA={key:0,class:"modal is-active"},oA={class:"modal-card"},aA={class:"modal-card-head"},lA={class:"modal-card-title"},rA={class:"modal-card-body"},uA={class:"table is-striped"},dA=s("td",null,"Triggers:",-1),cA={key:0},fA=s("td",null,"Description:",-1),hA=["innerHTML"],mA={key:1},pA=s("td",null,"Attention:",-1),gA=s("td",null,[s("div",{class:"help"},[O(" This requires "),s("code",null,"Access Token"),O(" to be set in the user settings. ")])],-1),vA=[pA,gA],yA=s("td",null,"Model:",-1),bA={class:"control"},wA=s("div",{class:"help"},[O(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),$A=s("td",null,"Weirdness:",-1),SA={class:"control"},CA=s("div",{class:"help"},[O(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),_A=s("td",null,"Variables:",-1),EA={key:0},kA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),TA=["onUpdate:modelValue"],IA=["onUpdate:modelValue"],DA=["onClick"],AA=s("i",{class:"fa fa-remove"},null,-1),OA=[AA],PA=s("div",{class:"help"},[O(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),O(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),O(" are used. ")],-1),RA=s("td",null,"Variable changes:",-1),VA={key:0},MA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),UA={class:"select is-small"},NA=["onUpdate:modelValue"],LA=s("option",{value:"set"}," set ",-1),FA=s("option",{value:"increase_by"}," increase by ",-1),BA=s("option",{value:"decrease_by"}," decrease by ",-1),HA=[LA,FA,BA],zA=["onUpdate:modelValue"],jA=["onClick"],WA=s("i",{class:"fa fa-remove"},null,-1),xA=[WA],KA=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),JA=s("td",null,"Permissions:",-1),GA=["value"],YA={class:"modal-card-foot"},XA=["disabled"];function QA(e,t,n,i,a,l){const o=j("trigger-editor"),r=j("dropdown-button"),u=j("dropdown-input");return e.item?(p(),y("div",iA,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...d)=>e.onOverlayClick&&e.onOverlayClick(...d))}),s("div",oA,[s("header",aA,[s("p",lA,Y(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...d)=>e.onCloseClick&&e.onCloseClick(...d))})]),s("section",rA,[s("table",uA,[s("tbody",null,[s("tr",null,[dA,s("td",null,[(p(!0),y(ee,null,de(e.item.triggers,(d,c)=>(p(),Ce(o,{key:c,class:"spacerow","model-value":d,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":f=>e.item.triggers[c]=f,onRemove:f=>e.rmtrigger(c)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),K(r,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),y("tr",cA,[fA,s("td",{innerHTML:e.actionDescription},null,8,hA)])):M("",!0),e.requiresAccessToken?(p(),y("tr",mA,vA)):M("",!0),s("tr",null,[yA,s("td",null,[s("div",bA,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.item.data.model=d),class:"input is-small spaceinput"},null,512),[[x,e.item.data.model]])]),wA])]),s("tr",null,[$A,s("td",null,[s("div",SA,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>e.item.data.weirdness=d),class:"input is-small spaceinput"},null,512),[[x,e.item.data.weirdness]])]),CA])]),s("tr",null,[_A,s("td",null,[e.item.variables.length>0?(p(),y("table",EA,[kA,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variables,(d,c)=>(p(),y("tr",{key:c},[s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.name=f,type:"text",class:"input is-small"},null,8,TA),[[x,d.name]])]),s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.value=f,type:"text",class:"input is-small"},null,8,IA),[[x,d.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.rmVariable(c)},OA,8,DA)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...d)=>e.onAddVariable&&e.onAddVariable(...d))},"Add Variable"),PA])]),s("tr",null,[RA,s("td",null,[e.item.variableChanges.length>0?(p(),y("table",VA,[MA,s("tbody",null,[(p(!0),y(ee,null,de(e.item.variableChanges,(d,c)=>(p(),y("tr",{key:c},[s("td",null,[K(u,{modelValue:d.name,"onUpdate:modelValue":f=>d.name=f,values:e.autocompletableVariables().map(f=>({value:f.var.name,label:`${f.var.name} (${f.type}), <code>${f.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",UA,[R(s("select",{"onUpdate:modelValue":f=>d.change=f},HA,8,NA),[[gs,d.change]])])]),s("td",null,[R(s("input",{"onUpdate:modelValue":f=>d.value=f,type:"text",class:"input is-small"},null,8,zA),[[x,d.value]])]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.rmVariableChange(c)},xA,8,jA)])]))),128))])])):M("",!0),s("span",{class:"button is-small",onClick:t[5]||(t[5]=(...d)=>e.onAddVariableChange&&e.onAddVariableChange(...d))},"Add Variable Change"),KA])]),s("tr",null,[JA,s("td",null,[(p(!0),y(ee,null,de(e.possiblePermissions,(d,c)=>(p(),y("label",{key:c,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=f=>e.item.restrict_to=f),type:"checkbox",value:d.value},null,8,GA),[[lt,e.item.restrict_to]]),O(" "+Y(d.label),1)]))),128))])])])])]),s("footer",YA,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[7]||(t[7]=(...d)=>e.onSaveClick&&e.onSaveClick(...d))}," Save changes ",8,XA),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...d)=>e.onCancelClick&&e.onCancelClick(...d))}," Cancel ")])])])):M("",!0)}var ZA=Oe(sA,[["render",QA]]);const qA=le({props:{globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},possibleActions:{type:Array,required:!0},baseVolume:{type:Number,required:!0},modelValue:{type:Array,required:!0},showToggleImages:{type:Boolean,required:!1,default:!1},showFilterActions:{type:Boolean,required:!1,default:!1},showImages:{type:Boolean,required:!1,default:!1},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","showImagesChange"],data(){return{commands:[],editIdx:null,editCommand:null,filter:{search:"",actions:[]},imagesVisible:!1}},computed:{possibleActionsMapped(){return this.possibleActions.map(e=>({type:e,title:this.actionDescription(e),label:`Add ${this.actionName(e)}`}))},possibleActionsWithCount(){return this.possibleActions.map(e=>({action:e,count:this.commandCount(e)})).filter(e=>e.count>0)}},created(){this.commands=JSON.parse(JSON.stringify(this.modelValue)),this.imagesVisible=this.showImages},methods:{onImageVisibleChange(){this.$emit("showImagesChange",this.imagesVisible)},emitChange(){this.$emit("update:modelValue",this.commands)},commandCount(e){let t=0;for(const n of this.commands)n.action===e&&t++;return t},filteredOut(e){if(this.filter.actions.length>0&&!this.filter.actions.includes(e.action))return!0;if(!this.filter.search)return!1;const t=this.filter.search.toLowerCase();return!(e.triggers.find(i=>i.type===xt.COMMAND||i.type===xt.REWARD_REDEMPTION?i.data.command.toLowerCase().indexOf(t)>=0:!1)||e.action===ue.TEXT&&e.data.text.find(a=>a.toLowerCase().indexOf(t)>=0))},permissionsStr(e){return dw(e.restrict_to)},remove(e){this.commands=this.commands.filter((t,n)=>n!==e),this.emitChange()},add(e){const t=e.type;this.editIdx=-1,this.editCommand=Tt[t].NewCommand()},edit(e){this.editIdx=e,this.editCommand=this.commands[e]},duplicate(e){this.editIdx=-1,this.editCommand=JSON.parse(JSON.stringify(this.commands[e]))},editedCommand(e){this.editIdx!==null&&(this.editIdx===-1?this.commands.unshift(e):this.commands[this.editIdx]=e,this.emitChange(),this.editIdx=null,this.editCommand=null)},dragEnd(e){this.commands=Yt.arrayMove(this.commands,e.oldIndex,e.newIndex),this.emitChange()},actionDescription(e){return Tt[e].Description()},actionName(e){return Tt[e].Name()}}}),Bt=e=>(Sn("data-v-814313ae"),e=e(),Cn(),e),e8={class:"actions"},t8=Bt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),n8={class:"field has-addons mr-1 mb-0"},s8={class:"control"},i8={key:0,class:"field"},o8=["value"],a8={key:0,class:"table-container"},l8={ref:"table",class:"table is-striped"},r8=Bt(()=>s("th",null,null,-1)),u8=Bt(()=>s("th",null,null,-1)),d8=Bt(()=>s("th",null,"Trigger",-1)),c8=O(" Response "),f8={key:0},h8=O(" Show images "),m8=Bt(()=>s("th",null,"Type",-1)),p8=Bt(()=>s("th",null,"Permissions",-1)),g8=Bt(()=>s("th",null,"Widgets",-1)),v8=Bt(()=>s("th",null,null,-1)),y8=Bt(()=>s("th",null,null,-1)),b8=Bt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),w8={class:"pl-0 pr-0"},$8=["onClick"],S8=Bt(()=>s("i",{class:"fa fa-pencil"},null,-1)),C8=[S8],_8={class:"col-triggers"},E8={key:0},k8={key:0},T8={key:0,class:"spacerow media-holder media-holder-inline"},I8={key:1},D8={key:2,class:"fa fa-plus is-justify-content-center mr-2 ml-2"},A8={key:3,class:"ml-2"},O8=O("for at least "),P8={key:4,class:"ml-2"},R8=O("for "),V8={key:2},M8={key:0},U8=Bt(()=>s("span",null,"\u2192",-1)),N8=O(" \u2715 "),L8=Bt(()=>s("span",null,"\u2192",-1)),F8={key:1},B8={key:1},H8={key:2},z8=O(" Media("),j8={key:0},W8={key:1},x8={key:2},K8=O(") "),J8={key:3},G8=["innerHTML"],Y8={key:0},X8=["href"],Q8=["href"],Z8=O(" Widget "),q8={key:1},eO={class:"pl-0 pr-0"},tO=Bt(()=>s("i",{class:"fa fa-trash"},null,-1)),nO=["onClick"],sO=Bt(()=>s("i",{class:"fa fa-clone"},null,-1)),iO=[sO],oO={key:1};function aO(e,t,n,i,a,l){const o=j("dropdown-button"),r=j("trigger-info"),u=j("responsive-image"),d=j("audio-player"),c=j("duration-display"),f=j("doubleclick-button"),h=j("vue-draggable"),m=j("text-command-editor"),v=j("media-command-editor"),b=j("dict-lookup-command-editor"),S=j("madochan-createword-command-editor"),w=j("command-editor");return p(),y("div",null,[s("div",e8,[K(o,{actions:e.possibleActionsMapped,label:"Add command",onClick:e.add},null,8,["actions","onClick"]),t8,s("div",n8,[s("div",s8,[R(s("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>e.filter.search=g),class:"input is-small"},null,512),[[x,e.filter.search]])])]),e.showFilterActions?(p(),y("div",i8,[(p(!0),y(ee,null,de(e.possibleActionsWithCount,(g,C)=>(p(),y("label",{key:C,class:"mr-1"},[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=$=>e.filter.actions=$),class:"mr-1",type:"checkbox",value:g.action},null,8,o8),[[lt,e.filter.actions]]),O(Y(g.action)+" ("+Y(g.count)+")",1)]))),128))])):M("",!0)]),e.commands.length>0?(p(),y("div",a8,[s("table",l8,[s("thead",null,[s("tr",null,[r8,u8,d8,s("th",null,[c8,e.showToggleImages?(p(),y("label",f8,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=g=>e.imagesVisible=g),type:"checkbox","on:update:modelValue":t[3]||(t[3]=(...g)=>e.onImageVisibleChange&&e.onImageVisibleChange(...g))},null,544),[[lt,e.imagesVisible]]),h8])):M("",!0)]),m8,p8,g8,v8,y8])]),K(h,{"model-value":e.commands,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:g,index:C})=>[R(s("tr",null,[b8,s("td",w8,[s("button",{class:"button is-small",onClick:$=>e.edit(C)},C8,8,$8)]),s("td",_8,[(p(!0),y(ee,null,de(g.triggers,($,E)=>(p(),y("div",{key:E,class:"spacerow"},[K(r,{trigger:$},null,8,["trigger"])]))),128))]),s("td",null,[g.action==="text"?(p(),y("div",E8,[(p(!0),y(ee,null,de(g.data.text,($,E)=>(p(),y(ee,{key:E},[s("code",null,Y(g.data.text[E]),1),E<g.data.text.length-1?(p(),y("span",k8,"or")):M("",!0)],64))),128))])):g.action==="media"?(p(),y("div",{key:1,class:Se(g.action)},[g.data.image.file||g.data.sound.file?(p(),y("div",T8,[g.data.image.file&&e.imagesVisible?(p(),Ce(u,{key:0,src:g.data.image.urlpath,title:g.data.image.filename,width:"100px",height:"50px",style:{display:"inline-block"}},null,8,["src","title"])):g.data.image.file?(p(),y("code",I8,Y(g.data.image.filename),1)):M("",!0),g.data.image.file&&g.data.sound.file?(p(),y("i",D8)):M("",!0),K(d,{src:g.data.sound.urlpath,name:g.data.sound.filename,volume:g.data.sound.volume,"base-volume":e.baseVolume,class:"button is-small is-justify-content-center"},null,8,["src","name","volume","base-volume"]),g.data.image.file&&g.data.sound.file?(p(),y("span",A8,[O8,K(c,{value:g.data.minDurationMs},null,8,["value"])])):g.data.image.file?(p(),y("span",P8,[R8,K(c,{value:g.data.minDurationMs},null,8,["value"])])):M("",!0)])):M("",!0)],2)):g.action==="countdown"?(p(),y("div",V8,[(g.data.type||"auto")==="auto"?(p(),y("div",M8,[s("code",null,Y(g.data.intro),1),U8,s("code",null,Y(g.data.steps),1),N8,K(c,{value:g.data.interval},null,8,["value"]),L8,s("code",null,Y(g.data.outro),1)])):(p(),y("div",F8,[(p(!0),y(ee,null,de(g.data.actions,($,E)=>(p(),y(ee,{key:E},[$.type==="delay"?(p(),Ce(c,{key:0,value:$.value},null,8,["value"])):M("",!0),$.type==="text"?(p(),y("code",B8,Y($.value),1)):M("",!0),$.type==="media"?(p(),y("code",H8,[z8,$.value.image.file?(p(),y("span",j8,Y($.value.image.filename),1)):M("",!0),$.value.image.file&&$.value.sound.file?(p(),y("span",W8,"+")):M("",!0),$.value.sound.file?(p(),y("span",x8,Y($.value.sound.filename),1)):M("",!0),K8])):M("",!0),E<g.data.actions.length-1?(p(),y("span",J8,"\u2192")):M("",!0)],64))),128))]))])):e.actionDescription(g.action)?(p(),y("div",{key:3,innerHTML:e.actionDescription(g.action)},null,8,G8)):M("",!0)]),s("td",null,Y(g.action),1),s("td",null,Y(e.permissionsStr(g)),1),s("td",null,[g.action==="media"?(p(),y("div",Y8,[g.data.widgetIds.length===0?(p(),y("a",{key:0,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"Default widget",8,X8)):M("",!0),(p(!0),y(ee,null,de(g.data.widgetIds,($,E)=>(p(),y("a",{key:E,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent($)}`,target:"_blank"},[s("code",null,Y($),1),Z8],8,Q8))),128))])):(p(),y("div",q8," - "))]),s("td",eO,[K(f,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:$=>e.remove(C)},{default:rt(()=>[tO]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small",onClick:$=>e.duplicate(C)},iO,8,nO)])],512),[[pi,!e.filteredOut(g)]])]),_:1},8,["model-value","onEnd"])],512)])):(p(),y("div",oO," No commands set up ")),e.editIdx!==null&&e.editCommand&&e.editCommand.action==="text"?(p(),Ce(m,{key:2,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[4]||(t[4]=g=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="media"?(p(),Ce(v,{key:3,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"widget-url":e.widgetUrl,"onUpdate:modelValue":e.editedCommand,onCancel:t[5]||(t[5]=g=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","widget-url","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="dict_lookup"?(p(),Ce(b,{key:4,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[6]||(t[6]=g=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="madochan_createword"?(p(),Ce(S,{key:5,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[7]||(t[7]=g=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand?(p(),Ce(w,{key:6,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"onUpdate:modelValue":e.editedCommand,onCancel:t[8]||(t[8]=g=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","onUpdate:modelValue"])):M("",!0)])}var lO=Oe(qA,[["render",aO],["__scopeId","data-v-814313ae"]]);const rO=le({props:{baseVolume:{default:100},modelValue:{type:Object,required:!0}},data:()=>({countdown:{type:"manual",actions:[],steps:3,interval:1e3,intro:"",outro:""}}),created(){this.countdown.type=this.modelValue.type||"auto",this.countdown.actions=this.modelValue.actions||[],this.countdown.steps=this.modelValue.steps,this.countdown.interval=this.modelValue.interval,this.countdown.intro=this.modelValue.intro,this.countdown.outro=this.modelValue.outro,this.$watch("countdown",()=>{this.$emit("update:modelValue",{type:this.countdown.type,actions:this.countdown.actions,steps:this.countdown.steps,interval:this.countdown.interval,intro:this.countdown.intro,outro:this.countdown.outro})},{deep:!0})},methods:{dragEnd(e){this.countdown.actions=Yt.arrayMove(this.countdown.actions,e.oldIndex,e.newIndex)},onAddDelay(){this.countdown.actions.push(mw())},onAddText(){this.countdown.actions.push(pw())},onAddMedia(){this.countdown.actions.push(gw())},rmaction(e){this.countdown.actions=this.countdown.actions.filter((t,n)=>n!==e)},mediaSndChanged(e,t){this.countdown.actions[e].value.sound=t},mediaImgChanged(e,t){this.countdown.actions[e].value.image=t}}}),uO={class:"control"},dO={class:"radio"},cO=O(" Manual "),fO={class:"radio"},hO=O(" Auto "),mO={key:0},pO={class:"spacerow"},gO=s("label",{class:"spacelabel"},"Steps ",-1),vO={class:"spacerow"},yO=s("label",{class:"spacelabel"},"Interval ",-1),bO={class:"spacerow"},wO=s("label",{class:"spacelabel"},"Intro ",-1),$O={class:"spacerow"},SO=s("label",{class:"spacelabel"},"Outro ",-1),CO={key:1},_O={class:"field has-addons mr-1"},EO=s("span",{class:"handle p-2"},[s("i",{class:"fa fa-arrows"})],-1),kO={key:0,class:"control has-icons-left"},TO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),IO={key:1,class:"control has-icons-left"},DO=["onUpdate:modelValue"],AO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1),OO={key:2,class:"control has-icons-left"},PO=s("td",null,"Image:",-1),RO=s("td",null,"Sound:",-1),VO=s("td",null,"Duration:",-1),MO={class:"control has-icons-left"},UO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),NO={class:"control"},LO=["onClick"],FO=s("i",{class:"fa fa-remove"},null,-1),BO=[FO],HO=s("i",{class:"fa fa-hourglass mr-1"},null,-1),zO=O(" Add Delay "),jO=[HO,zO],WO=s("i",{class:"fa fa-comments-o mr-1"},null,-1),xO=O(" Add Chat "),KO=[WO,xO],JO=s("i",{class:"fa fa-picture-o mr-1"},null,-1),GO=O(" Add Media "),YO=[JO,GO];function XO(e,t,n,i,a,l){const o=j("duration-input"),r=j("image-upload"),u=j("sound-upload"),d=j("vue-draggable");return p(),y("div",null,[s("div",uO,[s("label",dO,[R(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.countdown.type=c),type:"radio",value:"manual"},null,512),[[Jt,e.countdown.type]]),cO]),s("label",fO,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.countdown.type=c),type:"radio",value:"auto"},null,512),[[Jt,e.countdown.type]]),hO])]),e.countdown.type==="auto"?(p(),y("div",mO,[s("div",pO,[gO,R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.countdown.steps=c),class:"input is-small spaceinput"},null,512),[[x,e.countdown.steps]])]),s("div",vO,[yO,K(o,{"model-value":e.countdown.interval,"onUpdate:modelValue":t[3]||(t[3]=c=>e.countdown.interval=c)},null,8,["model-value"])]),s("div",bO,[wO,R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.countdown.intro=c),class:"input is-small spaceinput"},null,512),[[x,e.countdown.intro]])]),s("div",$O,[SO,R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.countdown.outro=c),class:"input is-small spaceinput"},null,512),[[x,e.countdown.outro]])])])):(p(),y("div",CO,[K(d,{"model-value":e.countdown.actions,handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:c,index:f})=>[s("div",_O,[EO,c.type==="delay"?(p(),y("div",kO,[K(o,{"model-value":c.value,"onUpdate:modelValue":h=>c.value=h},null,8,["model-value","onUpdate:modelValue"]),TO])):c.type==="text"?(p(),y("div",IO,[R(s("input",{"onUpdate:modelValue":h=>c.value=h,class:"input is-small",type:"text"},null,8,DO),[[x,c.value]]),AO])):c.type==="media"?(p(),y("div",OO,[s("table",null,[s("tr",null,[PO,s("td",null,[K(r,{modelValue:c.value.image,"onUpdate:modelValue":[h=>c.value.image=h,h=>e.mediaImgChanged(f,h)]},null,8,["modelValue","onUpdate:modelValue"])])]),s("tr",null,[RO,s("td",null,[K(u,{modelValue:c.value.sound,"onUpdate:modelValue":[h=>c.value.sound=h,h=>e.mediaSndChanged(f,h)],"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])])]),s("tr",null,[VO,s("td",null,[s("div",MO,[K(o,{"model-value":c.value.minDurationMs,"onUpdate:modelValue":h=>c.value.minDurationMs=h},null,8,["model-value","onUpdate:modelValue"]),UO])])])])])):M("",!0),s("div",NO,[s("button",{class:"button is-small",onClick:h=>e.rmaction(f)},BO,8,LO)])])]),_:1},8,["model-value","onEnd"]),s("button",{class:"button is-small",onClick:t[6]||(t[6]=(...c)=>e.onAddDelay&&e.onAddDelay(...c))},jO),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onAddText&&e.onAddText(...c))},KO),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...c)=>e.onAddMedia&&e.onAddMedia(...c))},YO)]))])}var QO=Oe(rO,[["render",XO]]);const ZO=le({props:{modelValue:{type:Object,required:!0},removable:{type:Boolean,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","remove"],data(){return{value:{type:"",data:{since:"",command:"",commandExact:!1,minInterval:0,minLines:0}}}},computed:{rewardRedemptionActions(){const e=[];for(let t in this.channelPointsCustomRewards)e.push(...this.channelPointsCustomRewards[t].map(n=>({type:n,title:n,label:n})));return e.sort((t,n)=>t.title===n.title?0:t.title<n.title?-1:1),e}},watch:{modelValue(e,t){this.apply(e)}},created(){this.apply(this.modelValue)},methods:{emitRemove(){this.$emit("remove")},emitUpdate(){this.$emit("update:modelValue",this.value)},apply(e){this.value=JSON.parse(JSON.stringify(e))}}}),At=e=>(Sn("data-v-2100e630"),e=e(),Cn(),e),qO={class:"trigger-editor"},e5={key:0,class:"field has-addons"},t5=At(()=>s("span",{class:"mr-1"},"First chat by user",-1)),n5={class:"control"},s5={class:"mr-1"},i5=O(" Alltime "),o5={class:"mr-1"},a5=O(" Current Stream "),l5={class:"control"},r5=["disabled"],u5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),d5=[u5],c5={key:1,class:"field has-addons"},f5={class:"control has-icons-left mr-1"},h5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),m5={class:"control mr-1",title:"Check if command should only be executed if it matches exactly (= no arguments come after it)."},p5=At(()=>s("span",{class:"is-small is-left"},"exact",-1)),g5={class:"control"},v5=["disabled"],y5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),b5=[y5],w5={key:2,class:"field has-addons"},$5={class:"control has-icons-left"},S5={class:"control"},C5=["disabled"],_5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),E5=[_5],k5={key:3,class:"timer-trigger"},T5={class:"control remove-control"},I5=["disabled"],D5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),A5=[D5],O5={class:"timer-trigger-inner"},P5=At(()=>s("label",{class:"mr-1"},"Messages \u2265",-1)),R5={class:"control has-icons-left mr-1"},V5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),M5=At(()=>s("label",{class:"mr-1"},"Interval \u2265",-1)),U5={class:"control has-icons-left has-icons-right mr-1"},N5=At(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1)),L5=At(()=>s("p",{class:"help"},[O(" Command will be triggered when at least "),s("code",null,"Messages"),O(" chat messages arrived AND "),s("code",null,"Interval"),O(" have passed. ")],-1)),F5={key:4,class:"field has-addons"},B5=O(" Sub "),H5={class:"control"},z5=["disabled"],j5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),W5=[j5],x5={key:5,class:"field has-addons"},K5=O(" Bits "),J5={class:"control"},G5=["disabled"],Y5=At(()=>s("i",{class:"fa fa-remove"},null,-1)),X5=[Y5],Q5={key:6,class:"field has-addons"},Z5=O(" Follow "),q5={class:"control"},eP=["disabled"],tP=At(()=>s("i",{class:"fa fa-remove"},null,-1)),nP=[tP],sP={key:7,class:"field has-addons"},iP=O(" Raid "),oP={class:"control"},aP=["disabled"],lP=At(()=>s("i",{class:"fa fa-remove"},null,-1)),rP=[lP],uP={key:8},dP={class:"control"},cP=["disabled"],fP=At(()=>s("i",{class:"fa fa-remove"},null,-1)),hP=[fP];function mP(e,t,n,i,a,l){const o=j("dropdown-input"),r=j("duration-input");return p(),y("div",qO,[e.value.type==="first_chat"?(p(),y("div",e5,[t5,s("div",n5,[s("label",s5,[R(s("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>e.value.data.since=u),type:"radio",class:"checkbox mr-1",value:"alltime","on:update:modelValue":t[1]||(t[1]=(...u)=>e.emitUpdate&&e.emitUpdate(...u))},null,544),[[Jt,e.value.data.since]]),i5]),s("label",o5,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.value.data.since=u),type:"radio",class:"checkbox mr-1",value:"stream","on:update:modelValue":t[3]||(t[3]=(...u)=>e.emitUpdate&&e.emitUpdate(...u))},null,544),[[Jt,e.value.data.since]]),a5])]),s("div",l5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[4]||(t[4]=(...u)=>e.emitRemove&&e.emitRemove(...u))},d5,8,r5)])])):e.value.type==="command"?(p(),y("div",c5,[s("div",f5,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>e.value.data.command=u),class:Se(["input is-small",{"has-background-danger-light":!e.value.data.command,"has-text-danger-dark":!e.value.data.command}]),type:"text","on:update:modelValue":t[6]||(t[6]=(...u)=>e.emitUpdate&&e.emitUpdate(...u))},null,34),[[x,e.value.data.command]]),h5]),s("div",m5,[s("label",null,[R(s("input",{"onUpdate:modelValue":t[7]||(t[7]=u=>e.value.data.commandExact=u),type:"checkbox",class:"checkbox mr-1","on:update:modelValue":t[8]||(t[8]=(...u)=>e.emitUpdate&&e.emitUpdate(...u))},null,544),[[lt,e.value.data.commandExact]]),p5])]),s("div",g5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[9]||(t[9]=(...u)=>e.emitRemove&&e.emitRemove(...u))},b5,8,v5)])])):e.value.type==="reward_redemption"?(p(),y("div",w5,[s("div",$5,[K(o,{modelValue:e.value.data.command,"onUpdate:modelValue":[t[10]||(t[10]=u=>e.value.data.command=u),e.emitUpdate],values:e.rewardRedemptionActions.map(u=>({value:u.type,label:u.label})),class:Se({"has-background-danger-light":!e.value.data.command,"has-text-danger-dark":!e.value.data.command}),icon:"bullseye"},null,8,["modelValue","values","class","onUpdate:modelValue"])]),s("div",S5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[11]||(t[11]=(...u)=>e.emitRemove&&e.emitRemove(...u))},E5,8,C5)])])):e.value.type==="timer"?(p(),y("div",k5,[s("div",T5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[12]||(t[12]=(...u)=>e.emitRemove&&e.emitRemove(...u))},A5,8,I5)]),s("div",O5,[P5,s("div",R5,[R(s("input",{"onUpdate:modelValue":t[13]||(t[13]=u=>e.value.data.minLines=u),class:"input is-small","on:update:modelValue":t[14]||(t[14]=(...u)=>e.emitUpdate&&e.emitUpdate(...u))},null,544),[[x,e.value.data.minLines]]),V5]),M5,s("div",U5,[K(r,{"model-value":e.value.data.minInterval,"onUpdate:modelValue":t[15]||(t[15]=u=>{e.value.data.minInterval=u,e.emitUpdate()})},null,8,["model-value"]),N5])]),L5])):e.value.type==="sub"?(p(),y("div",F5,[B5,s("div",H5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[16]||(t[16]=(...u)=>e.emitRemove&&e.emitRemove(...u))},W5,8,z5)])])):e.value.type==="bits"?(p(),y("div",x5,[K5,s("div",J5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[17]||(t[17]=(...u)=>e.emitRemove&&e.emitRemove(...u))},X5,8,G5)])])):e.value.type==="follow"?(p(),y("div",Q5,[Z5,s("div",q5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[18]||(t[18]=(...u)=>e.emitRemove&&e.emitRemove(...u))},nP,8,eP)])])):e.value.type==="raid"?(p(),y("div",sP,[iP,s("div",oP,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[19]||(t[19]=(...u)=>e.emitRemove&&e.emitRemove(...u))},rP,8,aP)])])):(p(),y("div",uP,[O(" Unknown trigger: "+Y(e.value)+" ",1),s("div",dP,[s("button",{class:"button is-small",disabled:!e.removable,onClick:t[20]||(t[20]=(...u)=>e.emitRemove&&e.emitRemove(...u))},hP,8,cP)])]))])}var pP=Oe(ZO,[["render",mP],["__scopeId","data-v-2100e630"]]);const gP={key:0},vP=O(" First chat: "),yP={key:0},bP={key:1},wP={key:1},$P={key:2},SP=s("span",{class:"is-small",title:"Channel Point Reward"},[s("i",{class:"fa fa-bullseye"}),O(": ")],-1),CP={key:3},_P=s("span",{class:"is-small"},"Timer: ",-1),EP={key:4},kP=s("span",{class:"is-small"},"Sub",-1),TP=[kP],IP={key:5},DP=s("span",{class:"is-small"},"Follow",-1),AP=[DP],OP={key:6},PP=s("span",{class:"is-small"},"Bits",-1),RP=[PP],VP={key:7},MP=s("span",{class:"is-small"},"Raid",-1),UP=[MP],NP=le({__name:"TriggerInfo",props:{trigger:null},setup(e){return(t,n)=>{const i=j("duration-display");return e.trigger.type==="first_chat"?(p(),y("div",gP,[vP,e.trigger.data.since==="alltime"?(p(),y("code",yP,"alltime")):M("",!0),e.trigger.data.since==="stream"?(p(),y("code",bP,"current stream")):M("",!0)])):e.trigger.type==="command"?(p(),y("div",wP,[s("code",null,Y(e.trigger.data.command),1)])):e.trigger.type==="reward_redemption"?(p(),y("div",$P,[SP,s("code",null,Y(e.trigger.data.command),1)])):e.trigger.type==="timer"?(p(),y("div",CP,[_P,s("code",null,[O(Y(e.trigger.data.minLines)+" lines, ",1),K(i,{value:e.trigger.data.minInterval},null,8,["value"])])])):e.trigger.type==="sub"?(p(),y("div",EP,TP)):e.trigger.type==="follow"?(p(),y("div",IP,AP)):e.trigger.type==="bits"?(p(),y("div",OP,RP)):e.trigger.type==="raid"?(p(),y("div",VP,UP)):M("",!0)}}});const LP=le({props:{playlist:{type:Array,required:!0},filter:{type:Object,required:!0}},data:()=>({hideFilteredOut:!0,filterTagInput:"",tagInput:"",tagInputIdx:-1,itemsDisplayed:20}),computed:{enhancedPlaylist(){return this.playlist.map(e=>({id:e.id,tags:e.tags,yt:e.yt,title:e.title,timestamp:e.timestamp,hidevideo:!!e.hidevideo,last_play:e.last_play,plays:e.plays,goods:e.goods,bads:e.bads,user:e.user,filteredOut:this.isFilteredOut(e)})).slice(0,this.itemsDisplayed)},firstIndex(){return this.filter.tag===""?0:this.playlist.findIndex(e=>e.tags.includes(this.filter.tag))}},watch:{playlist:function(e,t){e.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")},filter:function(e,t){this.playlist.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")}},methods:{toggleVisibility(e,t){const n=!!e.hidevideo;this.sendCtrl("videoVisibility",[n,t])},dragEnd(e){this.sendCtrl("move",[e.oldIndex,e.newIndex])},applyFilter(e){this.$emit("filterChange",e)},sendCtrl(e,t){this.$emit("ctrl",[e,t])},isFilteredOut(e){return this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},startAddTag(e){this.tagInputIdx=e,this.$nextTick(()=>{this.$el.querySelector("table .filter-tag-input").focus()})}}}),Xt=e=>(Sn("data-v-9de1211a"),e=e(),Cn(),e),FP={class:"filters"},BP={class:"currentfilter"},HP=Xt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),zP=Xt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),jP={key:1,class:"field has-addons mr-1 mb-0"},WP={class:"control"},xP={class:"control"},KP={class:"pt-1"},JP=O(" Hide filtered out"),GP={key:0},YP={class:"table is-striped"},XP=Xt(()=>s("thead",null,[s("tr",null,[s("th"),s("th"),s("th"),s("th",null,"Title"),s("th",null,"User"),s("th",null,"Plays"),s("th"),s("th"),s("th"),s("th")])],-1)),QP=Xt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),ZP=["disabled","onClick"],qP=Xt(()=>s("i",{class:"fa fa-play"},null,-1)),eR=[qP],tR=["href"],nR=Xt(()=>s("i",{class:"fa fa-external-link"},null,-1)),sR=["onClick"],iR=Xt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),oR=["onClick"],aR=Xt(()=>s("i",{class:"fa fa-plus"},null,-1)),lR=[aR],rR={key:0,class:"field has-addons"},uR={class:"control"},dR=["onKeyup"],cR={class:"control"},fR=["disabled","onClick"],hR=["onClick"],mR=Xt(()=>s("i",{class:"fa fa-eraser"},null,-1)),pR=[mR],gR=["title","onClick"],vR=["onClick"],yR=Xt(()=>s("i",{class:"fa fa-thumbs-up mr-1"},null,-1)),bR=["onClick"],wR=Xt(()=>s("i",{class:"fa fa-eraser"},null,-1)),$R=[wR],SR=["onClick"],CR=Xt(()=>s("i",{class:"fa fa-thumbs-down mr-1"},null,-1)),_R=["onClick"],ER=Xt(()=>s("i",{class:"fa fa-eraser"},null,-1)),kR=[ER],TR=Xt(()=>s("i",{class:"fa fa-trash"},null,-1)),IR={key:1};function DR(e,t,n,i,a,l){const o=j("doubleclick-button"),r=j("vue-draggable");return p(),y("div",null,[s("div",FP,[s("div",BP,[HP,e.filter.tag?(p(),y("span",{key:0,class:"tag mr-1",onClick:t[0]||(t[0]=u=>e.applyFilter(""))},[O(Y(e.filter.tag)+" ",1),zP])):(p(),y("div",jP,[s("div",WP,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.filterTagInput=u),class:"input is-small filter-tag-input",type:"text",onKeyup:t[2]||(t[2]=Wn(u=>e.applyFilter(e.filterTagInput),["enter"]))},null,544),[[x,e.filterTagInput]])]),s("div",xP,[s("span",{class:"button is-small",onClick:t[3]||(t[3]=u=>e.applyFilter(e.filterTagInput))},"Apply filter")])])),s("label",KP,[R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.hideFilteredOut=u),class:"checkbox",type:"checkbox"},null,512),[[lt,e.hideFilteredOut]]),JP])])]),e.playlist.length>0?(p(),y("div",GP,[s("table",YP,[XP,K(r,{"model-value":e.enhancedPlaylist,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:u,index:d})=>[R(s("tr",null,[QP,s("td",null,Y(d+1),1),s("td",null,[d!==e.firstIndex?(p(),y("button",{key:0,class:"button is-small",disabled:u.filteredOut?!0:void 0,title:"Play",onClick:c=>e.sendCtrl("playIdx",[d])},eR,8,ZP)):M("",!0)]),s("td",null,[s("a",{href:"https://www.youtube.com/watch?v="+u.yt,target:"_blank"},[O(Y(u.title||u.yt)+" ",1),nR],8,tR),s("div",null,[(p(!0),y(ee,null,de(u.tags,(c,f)=>(p(),y("span",{key:f,class:"tag",onClick:h=>e.sendCtrl("rmtag",[c,d])},[O(Y(c)+" ",1),iR],8,sR))),128)),s("span",{class:"button is-small",onClick:c=>e.startAddTag(d)},lR,8,oR)]),e.tagInputIdx===d?(p(),y("div",rR,[s("div",uR,[R(s("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.tagInput=c),class:"input is-small filter-tag-input",type:"text",onKeyup:Wn(c=>{e.sendCtrl("addtag",[e.tagInput,d]),e.tagInput=""},["enter"])},null,40,dR),[[x,e.tagInput]])]),s("div",cR,[s("span",{class:"button is-small",disabled:e.tagInput?void 0:!0,onClick:c=>{e.sendCtrl("addtag",[e.tagInput,d]),e.tagInput=""}},"Add tag",8,fR)])])):M("",!0)]),s("td",null,Y(u.user),1),s("td",null,[O(Y(u.plays)+"x ",1),s("button",{class:"button is-small ml-1",title:"Reset plays",onClick:c=>e.sendCtrl("resetStatIdx",["plays",d])},pR,8,hR)]),s("td",null,[s("button",{class:"button is-small",title:u.hidevideo?"Video hidden":"Video visible",onClick:c=>e.toggleVisibility(u,d)},[s("i",{class:Se(["fa mr-1",{"fa-eye":!u.hidevideo,"fa-eye-slash":u.hidevideo}])},null,2)],8,gR)]),s("td",null,[s("button",{class:"button is-small",onClick:c=>e.sendCtrl("goodIdx",[d])},[yR,O(" "+Y(u.goods),1)],8,vR),s("button",{class:"button is-small ml-1",title:"Reset upvotes",onClick:c=>e.sendCtrl("resetStatIdx",["goods",d])},$R,8,bR)]),s("td",null,[s("button",{class:"button is-small",onClick:c=>e.sendCtrl("badIdx",[d])},[CR,O(" "+Y(u.bads),1)],8,SR),s("button",{class:"button is-small ml-1",title:"Reset downvotes",onClick:c=>e.sendCtrl("resetStatIdx",["bads",d])},kR,8,_R)]),s("td",null,[K(o,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,title:"Remove",onDoubleclick:c=>e.sendCtrl("rmIdx",[d])},{default:rt(()=>[TR]),_:2},1032,["onDoubleclick"])])],512),[[pi,!e.hideFilteredOut||!u.filteredOut]])]),_:1},8,["model-value","onEnd"])]),s("div",null,[e.itemsDisplayed<e.playlist.length?(p(),y("span",{key:0,class:"button is-small mr-1",onClick:t[6]||(t[6]=u=>e.itemsDisplayed+=20)},"Show more (+20)")):M("",!0),e.itemsDisplayed<e.playlist.length?(p(),y("span",{key:1,class:"button is-small",onClick:t[7]||(t[7]=u=>e.itemsDisplayed=e.playlist.length)},"Show all ("+Y(e.playlist.length)+")",1)):M("",!0)])])):(p(),y("div",IR," Playlist is empty "))])}var AR=Oe(LP,[["render",DR],["__scopeId","data-v-9de1211a"]]);const OR=le({props:{modelValue:{type:Object,required:!0}},emits:{"update:modelValue":null},data:()=>({cssPresetName:"",cssPresetDropdownActive:!1,settings:vr(),css:{classExamples:[{class:".wrapper",desc:"Wrapper for everything"},{class:".player",desc:"The player"},{class:".list",desc:"The playlist"},{class:".item",desc:"A playlist item"},{class:".playing",desc:"Currently playing item"},{class:".not-playing",desc:"Queued items"},{class:".title",desc:"Wrapper for the title of a playlist item"},{class:".title-content",desc:"Title texts"},{class:".title-orig",desc:"Title text displayed by default"},{class:".title-dupl",desc:"Title text duplicated, useful for marquee effect"},{class:".vote",desc:"Vote elements"},{class:".vote-up",desc:"Up vote element"},{class:".vote-down",desc:"Down vote element"},{class:".meta",desc:"Meta info about an item"},{class:".meta-user",desc:"User who requested the song"},{class:".meta-plays",desc:"How many times the song was played"}],codeExamples:[{desc:"Hide Player:",code:".player { position: absolute; }"},{desc:"Change font to external font:",code:`@import url('https://fonts.googleapis.com/css2?family=Shadows+Into+Light');
body { font-family: 'Shadows into Light'; font-size: 30px; }`},{desc:"Change colors of items:",code:`.playing { background: #222; color: #bbb; }
.not-playing { background: #eee; color: #444; }`},{desc:"Display something in front of the currently playing item title:",code:".playing .title:before { content: '\u{1F3B6} Now Playing \u{1F3B6} ' }"},{desc:"Add a margin between the items:",code:".item { margin-bottom: 20px; }"},{desc:"Hide votes and meta:",code:".vote, .meta { display: none; }"},{desc:"Hide down votes:",code:".vote-down { display: none; }"},{desc:"Hite all items starting from the 6th:",code:".item:nth-child(n+6) { display: none; }"},{desc:"Show only titles and marquee the current song:",code:`.playing .title { overflow: hidden; white-space: nowrap; height: 20px; line-height: 20px; }
.playing .title-content { position: absolute; padding: 0 10px; min-width: 100%; animation: init 5s linear, back 10s linear 5s infinite; }
.playing .title-content.title-dupl { display: block; animation: back 10s linear 0s infinite; }
.title { margin-bottom: 0; }
.meta-left, .meta-right, .thumbnail { display: none; }
@keyframes back {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
}
@keyframes init {
    to { transform: translateX(-100%); }
}`},{desc:"Replace icon for thumbs-up with an image",code:`.meta-right .vote-up { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }
.meta-right .vote-up .fa { display: none; }`},{desc:"Remove text before/after username",code:`.meta-user-text-before,
.meta-user-text-after {display: none}`},{desc:"Add a fontawesome icon before username (\\f075 is the icon unicode, refer to https://fontawesome.com/v4.7/icons/)",code:'.meta-user-name::before { content: "\\f075"; display: inline-block; font: normal normal normal 14px/1 FontAwesome; font-size: inherit; margin-right: .5em; }'},{desc:"Add an image icon before username",code:".meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }"},{desc:"Add an image icon before username for specific user only",code:`[data-user="nc_para_" i] .meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }`},{desc:"Change item display depending on username (this one changes background and makes thumbnails black boxes)",code:`[data-user="nc_para_" i] { background: #dd0066; }
[data-user="nc_para_" i] .thumbnail img { display: none; }
[data-user="nc_para_" i] .thumbnail { background: black; }`},{desc:"Show player left of the playlist (and limit its height to 320px)",code:`.wrapper { display: grid; grid-template-areas: "player playlist"; grid-template-columns: 50% auto; grid-template-rows: 320px; }
.player iframe { height: 320px; }`},{desc:"Show thumbnails only, and display meta info above them",code:`.item { display: block; position: relative; padding: 0; color: white; }
.title, .meta-left, .meta-right { position: absolute; padding: .2em; background: rgba(244,0,90,.9); }
.meta-left { top: 0; left: 0; font-size: 1em; }
.meta-right { top: 0; right: 0; font-size: 1em; }
.title { bottom: 0; left: 0; right: 0; margin-bottom: 0; }
.thumbnail { width: auto; }`},{desc:"Align thumbnails to the bottom",code:".thumbnail { align-self: end; }"},{desc:"Align thumbnails to the center",code:".thumbnail { align-self: center; }"},{desc:"Add a margin/padding to the thumbnails",code:".thumbnail { padding: 20px; }"},{desc:"Show number of plays not at player, but in icon form on the right near votes",code:`.meta-left .meta-user:after,
.meta-left .meta-plays { display: none; }
.meta-right .meta-plays { display: inline-block; }`},{desc:"Show the progress bar only, and no video (progress bar above list)",code:`
.player { height: 5px; padding-bottom: 0; }
.progress { height: 5px; }`},{desc:"Show the progress bar only, and no video (progress bar below list)",code:`
.wrapper { display: grid; grid-template-areas: "list" "player"; }
.player { height: 5px; padding-bottom: 0; grid-area: player }
.list { grid-area: list }
.progress { height: 5px; }`}]}}),created(){this.settings=this.modelValue},methods:{loadPreset(e){const t=this.settings.customCssPresets.find(n=>n.name===e);t?(this.settings.customCss=t.css,this.settings.showProgressBar=t.showProgressBar,this.settings.showThumbnails=t.showThumbnails,this.settings.maxItemsShown=t.maxItemsShown):console.warn(`preset not found: ${e}`),this.sendSettings()},removePreset(e){this.settings.customCssPresets=this.settings.customCssPresets.filter(t=>t.name!==e),this.sendSettings()},savePreset(){const e=this.settings.customCssPresets.findIndex(t=>t.name===this.cssPresetName);e>=0?(this.settings.customCssPresets[e].css=this.settings.customCss,this.settings.customCssPresets[e].showProgressBar=this.settings.showProgressBar,this.settings.customCssPresets[e].showThumbnails=this.settings.showThumbnails,this.settings.customCssPresets[e].maxItemsShown=this.settings.maxItemsShown):this.settings.customCssPresets.push({name:this.cssPresetName,css:this.settings.customCss,showProgressBar:this.settings.showProgressBar,showThumbnails:this.settings.showThumbnails,maxItemsShown:this.settings.maxItemsShown}),this.sendSettings()},hideVideoImageChanged(e){this.settings.hideVideoImage=e,this.sendSettings()},sendSettings(){this.$emit("update:modelValue",this.settings)}}}),nt=e=>(Sn("data-v-3d064d6c"),e=e(),Cn(),e),PR={key:0,ref:"table",class:"table is-striped"},RR=nt(()=>s("tr",null,[s("td",{colspan:"3"}," General ")],-1)),VR=nt(()=>s("td",null,[s("code",null,"settings.volume")],-1)),MR=nt(()=>s("td",null,"Base volume for all songs played.",-1)),UR=nt(()=>s("td",null,[s("code",null,"settings.initAutoplay")],-1)),NR=nt(()=>s("td",null,"If checked, the widget will autoplay when first opened.",-1)),LR=nt(()=>s("td",null,[s("code",null,"settings.hideVideoImage")],-1)),FR=nt(()=>s("td",null,"Image to display when a video is hidden.",-1)),BR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.viewer")],-1)),HR=nt(()=>s("td",null,[O(" Limits the maximum duration of songs that viewers can add/request. ("),s("code",null,"0"),O(" = unlimited, for example: "),s("code",null,"5m"),O(", "),s("code",null,"1h"),O(", ...) ")],-1)),zR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.mod")],-1)),jR=nt(()=>s("td",null,[O(" Limits the maximum duration of songs that mods can add/request. ("),s("code",null,"0"),O(" = unlimited, for example: "),s("code",null,"5m"),O(", "),s("code",null,"1h"),O(", ...) ")],-1)),WR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.sub")],-1)),xR=nt(()=>s("td",null,[O(" Limits the maximum duration of songs that subscribers can add/request. ("),s("code",null,"0"),O(" = unlimited, for example: "),s("code",null,"5m"),O(", "),s("code",null,"1h"),O(", ...) ")],-1)),KR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.viewer")],-1)),JR=nt(()=>s("td",null,"Number of new songs that viewers can request. (0 = unlimited)",-1)),GR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.mod")],-1)),YR=nt(()=>s("td",null,"Number of new songs that mods can request. (0 = unlimited)",-1)),XR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.sub")],-1)),QR=nt(()=>s("td",null,"Number of new songs that subscribers can request. (0 = unlimited)",-1)),ZR=nt(()=>s("tr",null,[s("td",{colspan:"3"}," Visuals ")],-1)),qR=nt(()=>s("td",null,[s("code",null,"settings.showProgressBar")],-1)),e6=nt(()=>s("td",null,"Render a progress bar in the bottom part of the video in the widget.",-1)),t6=nt(()=>s("td",null,[s("code",null,"settings.showThumbnails")],-1)),n6={class:"mr-1"},s6=O("Off"),i6={class:"mr-1"},o6=O("Left"),a6={class:"mr-1"},l6=O("Right"),r6=nt(()=>s("td",null,"Render video thumbnails in the widget.",-1)),u6=nt(()=>s("td",null,[s("code",null,"settings.maxItemsShown")],-1)),d6=nt(()=>s("td",null,"Max. number of items displayed in the playlist. Set to -1 for no limit.",-1)),c6=nt(()=>s("code",null,"settings.customCss",-1)),f6={class:"field has-addons mr-1"},h6={class:"control is-expanded"},m6={class:"control"},p6=["onClick"],g6=["onClick"],v6=nt(()=>s("i",{class:"fa fa-remove"},null,-1)),y6=[v6],b6=nt(()=>s("p",null,"Classes that can be used for styling:",-1)),w6={class:"table"},$6=nt(()=>s("thead",null,[s("tr",null,[s("th",null,"Class"),s("th",null,"Description")])],-1)),S6=nt(()=>s("p",null,[s("b",null,"Examples:")],-1));function C6(e,t,n,i,a,l){const o=j("volume-slider"),r=j("image-upload"),u=j("duration-input");return p(),y("div",null,[e.settings?(p(),y("table",PR,[s("tbody",null,[RR,s("tr",null,[VR,s("td",null,[K(o,{modelValue:e.settings.volume,"onUpdate:modelValue":[t[0]||(t[0]=d=>e.settings.volume=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),MR]),s("tr",null,[UR,s("td",null,[R(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.initAutoplay=d),type:"checkbox","on:update:modelValue":t[2]||(t[2]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[lt,e.settings.initAutoplay]])]),NR]),s("tr",null,[LR,s("td",null,[K(r,{modelValue:e.settings.hideVideoImage,"onUpdate:modelValue":[t[3]||(t[3]=d=>e.settings.hideVideoImage=d),e.hideVideoImageChanged],width:"100px",height:"50px",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])]),FR]),s("tr",null,[BR,s("td",null,[K(u,{modelValue:e.settings.maxSongLength.viewer,"onUpdate:modelValue":[t[4]||(t[4]=d=>e.settings.maxSongLength.viewer=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),HR]),s("tr",null,[zR,s("td",null,[K(u,{modelValue:e.settings.maxSongLength.mod,"onUpdate:modelValue":[t[5]||(t[5]=d=>e.settings.maxSongLength.mod=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),jR]),s("tr",null,[WR,s("td",null,[K(u,{modelValue:e.settings.maxSongLength.sub,"onUpdate:modelValue":[t[6]||(t[6]=d=>e.settings.maxSongLength.sub=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),xR]),s("tr",null,[KR,s("td",null,[R(s("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>e.settings.maxSongsQueued.viewer=d),class:"input is-small",type:"number","on:update:modelValue":t[8]||(t[8]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[x,e.settings.maxSongsQueued.viewer]])]),JR]),s("tr",null,[GR,s("td",null,[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>e.settings.maxSongsQueued.mod=d),class:"input is-small",type:"number","on:update:modelValue":t[10]||(t[10]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[x,e.settings.maxSongsQueued.mod]])]),YR]),s("tr",null,[XR,s("td",null,[R(s("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>e.settings.maxSongsQueued.sub=d),class:"input is-small",type:"number","on:update:modelValue":t[12]||(t[12]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[x,e.settings.maxSongsQueued.sub]])]),QR]),ZR,s("tr",null,[qR,s("td",null,[R(s("input",{"onUpdate:modelValue":t[13]||(t[13]=d=>e.settings.showProgressBar=d),type:"checkbox","on:update:modelValue":t[14]||(t[14]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[lt,e.settings.showProgressBar]])]),e6]),s("tr",null,[t6,s("td",null,[s("label",n6,[R(s("input",{"onUpdate:modelValue":t[15]||(t[15]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:!1,"on:update:modelValue":t[16]||(t[16]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Jt,e.settings.showThumbnails]]),s6]),s("label",i6,[R(s("input",{"onUpdate:modelValue":t[17]||(t[17]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:"left","on:update:modelValue":t[18]||(t[18]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Jt,e.settings.showThumbnails]]),o6]),s("label",a6,[R(s("input",{"onUpdate:modelValue":t[19]||(t[19]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:"right","on:update:modelValue":t[20]||(t[20]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Jt,e.settings.showThumbnails]]),l6])]),r6]),s("tr",null,[u6,s("td",null,[R(s("input",{"onUpdate:modelValue":t[21]||(t[21]=d=>e.settings.maxItemsShown=d),type:"number",min:"-1","on:update:modelValue":t[22]||(t[22]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[x,e.settings.maxItemsShown]])]),d6]),s("tr",null,[s("td",null,[c6,s("div",f6,[s("div",h6,[R(s("input",{"onUpdate:modelValue":t[23]||(t[23]=d=>e.cssPresetName=d),class:"input is-small",onFocus:t[24]||(t[24]=d=>e.cssPresetDropdownActive=!0),onBlur:t[25]||(t[25]=d=>e.cssPresetDropdownActive=!1)},null,544),[[x,e.cssPresetName]])]),s("div",m6,[s("span",{class:"button is-small",onClick:t[26]||(t[26]=(...d)=>e.savePreset&&e.savePreset(...d))},"Save preset")])]),(p(!0),y(ee,null,de(e.settings.customCssPresets,(d,c)=>(p(),y("div",{key:c,class:"mb-1"},[s("span",{class:"button is-small",onClick:f=>e.loadPreset(d.name)},Y(d.name),9,p6),s("span",{class:"button is-small ml-1",onClick:f=>e.removePreset(d.name)},y6,8,g6)]))),128))]),s("td",null,[R(s("textarea",{"onUpdate:modelValue":t[27]||(t[27]=d=>e.settings.customCss=d),class:"textarea","on:update:modelValue":t[28]||(t[28]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[x,e.settings.customCss]])]),s("td",null,[b6,s("table",w6,[$6,s("tbody",null,[(p(!0),y(ee,null,de(e.css.classExamples,(d,c)=>(p(),y("tr",{key:c},[s("td",null,[s("code",null,Y(d.class),1)]),s("td",null,Y(d.desc),1)]))),128))])]),S6,(p(!0),y(ee,null,de(e.css.codeExamples,(d,c)=>(p(),y("p",{key:c},[O(Y(d.desc)+" ",1),s("pre",null,[s("code",null,Y(d.code),1)])]))),128))])])])],512)):M("",!0)])}var _6=Oe(OR,[["render",C6],["__scopeId","data-v-3d064d6c"]]);const E6=le({props:{tags:Array},data:()=>({editTag:"",tagEditIdx:-1}),methods:{onInputFocus(e,t){this.editTag=e.value,this.tagEditIdx=t},updateTag(e,t){this.$emit("updateTag",[e,t])}}}),k6={class:"table is-striped"},T6=s("tr",null,[s("th",null,"Tag"),s("th"),s("th")],-1),I6=["onKeyup"],D6=["value","onFocus"],A6=["disabled","onClick"];function O6(e,t,n,i,a,l){return p(),y("table",k6,[T6,(p(!0),y(ee,null,de(e.tags,(o,r)=>(p(),y("tr",{key:r},[s("td",null,[e.tagEditIdx===r?R((p(),y("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=u=>e.editTag=u),type:"text",class:"input is-small",onKeyup:Wn(u=>e.updateTag(o.value,e.editTag),["enter"])},null,40,I6)),[[x,e.editTag]]):(p(),y("input",{key:1,type:"text",class:"input is-small",value:o.value,onFocus:u=>e.onInputFocus(o,r)},null,40,D6))]),s("td",null,[e.tagEditIdx===r?(p(),y("span",{key:0,class:"button is-small",disabled:o.value===e.editTag?!0:void 0,onClick:u=>e.updateTag(o.value,e.editTag)},"Save",8,A6)):M("",!0)]),s("td",null,Y(o.count)+"x",1)]))),128))])}var P6=Oe(E6,[["render",O6]]);const R6=le({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,itemStr:"null",newState:"",newSlotDefinitionName:""}),computed:{cardBody(){return this.$refs.cardBody?this.$refs.cardBody:null},allImagesDiv(){return this.$refs.allImagesDiv?this.$refs.allImagesDiv:null},allImages(){var t;const e=[];return(t=this.item)==null||t.slotDefinitions.forEach(n=>{n.items.forEach(i=>{i.states.forEach(a=>{a.frames.forEach(l=>{l.url&&!e.includes(l.url)&&e.push(l.url)})})})}),e},isStateAddable(){return!(!this.item||this.newState===""||this.item.stateDefinitions.find(({value:e})=>e===this.newState))}},watch:{modelValue:{handler(e){this.item=JSON.parse(this.itemStr)}},item:{handler(e){this.itemStr=JSON.stringify(e)},deep:!0},itemStr:{handler(e){const t=JSON.stringify(this.item);try{const n=JSON.parse(e);t!==n&&(this.item=n)}catch(n){console.warn(n)}}}},mounted(){this.itemStr=JSON.stringify(this.modelValue),this.item=JSON.parse(this.itemStr),this.adjustAllImagesDivSize(),window.addEventListener("resize",this.adjustAllImagesDivSize)},unmounted(){window.removeEventListener("resize",this.adjustAllImagesDivSize)},methods:{autoDetectDimensions(){if(this.allImages.length===0)return;const e=new Image;e.onload=()=>{!this.item||(this.item.width=e.width,this.item.height=e.height)},e.src=this.allImages[0]},adjustAllImagesDivSize(){this.$nextTick(()=>{if(!this.cardBody||!this.allImagesDiv)return;const e=this.cardBody.clientHeight;this.allImagesDiv.style.maxHeight=`${e}px`})},imageDragStart(e){if(!e.dataTransfer)return;const n=e.target.getAttribute("data-src");!n||e.dataTransfer.setData("avatar-image-url",n)},emitUpdate(){if(!this.item){console.warn("emitUpdate: this.item not initialized");return}this.$emit("update:modelValue",_f({name:this.item.name,width:parseInt(`${this.item.width}`,10),height:parseInt(`${this.item.height}`,10),stateDefinitions:this.item.stateDefinitions,slotDefinitions:this.item.slotDefinitions,state:this.item.state}))},onSaveClick(){this.emitUpdate()},onSaveAndCloseClick(){this.emitUpdate(),this.$emit("cancel")},onCancelClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},addStateDefinition(){if(!this.item){console.warn("addStateDefinition: this.item not initialized");return}const e={value:this.newState,deletable:!0};this.item.stateDefinitions.push(e);for(let t of this.item.slotDefinitions)for(let n of t.items)n.states.push({state:e.value,frames:[]})},removeStateDefinition(e){if(!this.item){console.warn("removeStateDefinition: this.item not initialized");return}const t=[];for(let i in this.item.stateDefinitions)parseInt(i,10)!==parseInt(`${e}`,10)&&t.push(this.item.stateDefinitions[i]);this.item.stateDefinitions=t;const n=t.map(i=>i.value);for(let i of this.item.slotDefinitions)for(let a of i.items)a.states=a.states.filter(l=>n.includes(l.state))},removeSlotDefinition(e){if(!this.item){console.warn("removeSlotDefinition: this.item not initialized");return}const t=[];for(let n in this.item.slotDefinitions)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.item.slotDefinitions[n]);this.item.slotDefinitions=t},updateSlotDefinition(e,t){if(!this.item){console.warn("updateSlotDefinition: this.item not initialized");return}this.item.slotDefinitions[parseInt(`${e}`,10)]=t},addSlotDefinition(){if(!this.item){console.warn("addSlotDefinition: this.item not initialized");return}const e={slot:"Unnamed slot",defaultItemIndex:-1,items:[]};this.item.slotDefinitions.push(e)},moveSlotUp(e){this.swapItems(e-1,e)},moveSlotDown(e){this.swapItems(e+1,e)},swapItems(e,t){if(!this.item){console.warn("swapItems: this.item not initialized");return}Ua(this.item.slotDefinitions,e,t)}}}),V6={key:0,class:"avatar-editor modal is-active"},M6={class:"modal-card"},U6={class:"modal-card-head"},N6=s("p",{class:"modal-card-title"}," Edit Avatar ",-1),L6={ref:"cardBody",class:"modal-card-body"},F6={class:"columns"},B6={class:"column is-three-quarters"},H6={class:"table is-striped"},z6=s("td",null,"Name:",-1),j6=s("td",null,"Dimensions:",-1),W6=O("\u2716"),x6=O(" Pixels "),K6=s("td",null,"States:",-1),J6=["onClick"],G6=s("i",{class:"fa fa-trash"},null,-1),Y6=[G6],X6=["disabled"],Q6=s("td",null,"Slots",-1),Z6={class:"column"},q6=s("div",null,"JSON:",-1),eV=s("div",null,"All images in use:",-1),tV={ref:"allImagesDiv",class:"avatar-all-images"},nV=["src","data-src"],sV={class:"modal-card-foot"};function iV(e,t,n,i,a,l){const o=j("avatar-slot-definition-editor");return e.item?(p(),y("div",V6,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...r)=>e.onOverlayClick&&e.onOverlayClick(...r))}),s("div",M6,[s("header",U6,[N6,s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...r)=>e.onCloseClick&&e.onCloseClick(...r))})]),s("section",L6,[s("div",F6,[s("div",B6,[s("table",H6,[s("tbody",null,[s("tr",null,[z6,s("td",null,[R(s("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>e.item.name=r),class:"input is-small"},null,512),[[x,e.item.name]])])]),s("tr",null,[j6,s("td",null,[R(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.item.width=r),class:"input is-small number-input"},null,512),[[x,e.item.width]]),W6,R(s("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.item.height=r),class:"input is-small number-input"},null,512),[[x,e.item.height]]),x6,e.allImages.length?(p(),y("span",{key:0,class:"button is-small",onClick:t[5]||(t[5]=(...r)=>e.autoDetectDimensions&&e.autoDetectDimensions(...r))},"Auto-detect")):M("",!0)])]),s("tr",null,[K6,s("td",null,[(p(!0),y(ee,null,de(e.item.stateDefinitions,(r,u)=>(p(),y("span",{key:u,class:"tag"},[s("span",null,Y(r.value),1),r.deletable?(p(),y("span",{key:0,class:"ml-1 is-clickable",onClick:d=>e.removeStateDefinition(u)},Y6,8,J6)):M("",!0)]))),128)),R(s("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>e.newState=r),class:"input is-small",type:"text",placeholder:"State"},null,512),[[x,e.newState]]),s("span",{class:"button is-small",disabled:e.isStateAddable?void 0:!0,onClick:t[7]||(t[7]=(...r)=>e.addStateDefinition&&e.addStateDefinition(...r))},"Add custom state",8,X6)])]),s("tr",null,[Q6,s("td",null,[(p(!0),y(ee,null,de(e.item.slotDefinitions,(r,u)=>(p(),Ce(o,{key:u,class:"card mb-2","model-value":r,"avatar-def":e.item,"onUpdate:modelValue":d=>e.updateSlotDefinition(u,d),onMoveUp:d=>e.moveSlotUp(u),onMoveDown:d=>e.moveSlotDown(u),onRemove:d=>e.removeSlotDefinition(u)},null,8,["model-value","avatar-def","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"]))),128))])])])]),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...r)=>e.addSlotDefinition&&e.addSlotDefinition(...r))},"Add slot")]),s("div",Z6,[q6,R(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=r=>e.itemStr=r),class:"textarea mb-2"},null,512),[[x,e.itemStr]]),eV,s("div",tV,[(p(!0),y(ee,null,de(e.allImages,(r,u)=>(p(),y("img",{key:u,src:r,draggable:"true",class:"mr-1 mb-1","data-src":r,onDragstart:t[10]||(t[10]=(...d)=>e.imageDragStart&&e.imageDragStart(...d))},null,40,nV))),128))],512)])])],512),s("footer",sV,[s("button",{class:"button is-small is-primary",onClick:t[11]||(t[11]=(...r)=>e.onSaveClick&&e.onSaveClick(...r))}," Save "),s("button",{class:"button is-small is-primary",onClick:t[12]||(t[12]=(...r)=>e.onSaveAndCloseClick&&e.onSaveAndCloseClick(...r))}," Save and close "),s("button",{class:"button is-small",onClick:t[13]||(t[13]=(...r)=>e.onCancelClick&&e.onCancelClick(...r))}," Cancel ")])])])):M("",!0)}var oV=Oe(R6,[["render",iV]]);const aV={class:"avatar-slot-definition-editor"},lV={class:"level avatar-slot-definition-editor-title p-1"},rV={class:"level-left"},uV={class:"level-item"},dV={class:"level-item"},cV={class:"level-right"},fV={class:"level-item"},hV={class:"level-item"},mV={class:"level-item"},pV=s("i",{class:"fa fa-trash"},null,-1),gV=[pV],vV={class:"p-1"},yV=le({__name:"AvatarSlotDefinitionEditor",props:{modelValue:{type:Object,required:!0},avatarDef:{type:Object,required:!0}},emits:["update:modelValue","remove","moveUp","moveDown"],setup(e,{emit:t}){const n=e,i=_e(!1),a=ot(()=>n.modelValue.defaultItemIndex>=0&&n.modelValue.items.length>n.modelValue.defaultItemIndex?n.modelValue.items[n.modelValue.defaultItemIndex]:null),l=ot(()=>{if(!a.value)return[];const v=a.value.states.find(({state:b})=>b==="default");return v?v.frames:[]}),o=()=>{t("update:modelValue",n.modelValue)},r=(v,b)=>{n.modelValue.items[v]=b,o()},u=(v,b)=>{n.modelValue.items=n.modelValue.items.filter((S,w)=>w!==v),v<=n.modelValue.defaultItemIndex&&(n.modelValue.defaultItemIndex=n.modelValue.defaultItemIndex-1),n.modelValue.items.length>0&&n.modelValue.defaultItemIndex<0&&(n.modelValue.defaultItemIndex=0),o()},d=(v,b)=>{n.modelValue.defaultItemIndex=v,o()},c=()=>{const v={title:`${n.modelValue.slot} item ${n.modelValue.items.length+1}`,states:n.avatarDef.stateDefinitions.map(b=>({state:b.value,frames:[]}))};n.modelValue.items.push(v),n.modelValue.defaultItemIndex===-1&&(n.modelValue.defaultItemIndex=0),o()},f=v=>{m(v-1,v)},h=v=>{m(v+1,v)},m=(v,b)=>{Ua(n.modelValue.items,v,b)&&(n.modelValue.defaultItemIndex===v?n.modelValue.defaultItemIndex=b:n.modelValue.defaultItemIndex===b&&(n.modelValue.defaultItemIndex=v))};return(v,b)=>{const S=j("avatar-animation"),w=j("avatar-slot-item-editor");return p(),y("div",aV,[s("div",lV,[s("div",rV,[s("div",uV,[K(S,{frames:tt(l),width:32,height:32},null,8,["frames"])]),s("div",dV,[R(s("input",{"onUpdate:modelValue":b[0]||(b[0]=g=>e.modelValue.slot=g),class:Se(["input is-small avatar-slot-definition-editor-title-input",{"is-static":!i.value}]),onFocus:b[1]||(b[1]=g=>i.value=!0),onBlur:b[2]||(b[2]=g=>i.value=!1)},null,34),[[x,e.modelValue.slot]])])]),s("div",cV,[s("div",fV,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:b[3]||(b[3]=g=>v.$emit("moveUp"))})]),s("div",hV,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:b[4]||(b[4]=g=>v.$emit("moveDown"))})]),s("div",mV,[s("span",{class:"button is-small",onClick:b[5]||(b[5]=g=>v.$emit("remove"))},gV)])])]),s("div",vV,[(p(!0),y(ee,null,de(e.modelValue.items,(g,C)=>(p(),Ce(w,{key:C,class:Se(["card mb-1",{"is-default":C===e.modelValue.defaultItemIndex}]),"model-value":g,"is-default":C===e.modelValue.defaultItemIndex,onMoveUp:$=>f(C),onMoveDown:$=>h(C),"onUpdate:modelValue":$=>r(C,$),onRemove:$=>u(C),onMakeDefault:$=>d(C)},null,8,["class","model-value","is-default","onMoveUp","onMoveDown","onUpdate:modelValue","onRemove","onMakeDefault"]))),128))]),s("span",{class:"button is-small",onClick:c},"Add item")])}}});const bV={class:"avatar-slot-item-editor p-1"},wV={class:"level"},$V={class:"level-left"},SV={class:"level-item"},CV={class:"level-item"},_V={key:0,class:"has-text-success mr-1"},EV=s("i",{class:"fa fa-check"},null,-1),kV=O(" Default"),TV=[EV,kV],IV={class:"level-right"},DV={class:"level-item"},AV={class:"level-item"},OV={class:"level-item"},PV=s("i",{class:"fa fa-trash"},null,-1),RV=[PV],VV=le({__name:"AvatarSlotItemEditor",props:{modelValue:{type:Object,required:!0},isDefault:{type:Boolean,required:!0}},emits:["update:modelValue","makeDefault","moveUp","moveDown","remove"],setup(e,{emit:t}){const n=e,i=_e(!1),a=ot(()=>n.modelValue.states.find(({state:o})=>o==="default")),l=()=>{t("makeDefault",n.modelValue)};return(o,r)=>{const u=j("avatar-slot-item-state-editor");return p(),y("div",bV,[s("div",wV,[s("div",$V,[s("div",SV,[R(s("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>e.modelValue.title=d),type:"text",class:Se(["input is-small avatar-slot-item-editor-title",{"is-static":!i.value}]),onFocus:r[1]||(r[1]=d=>i.value=!0),onBlur:r[2]||(r[2]=d=>i.value=!1)},null,34),[[x,e.modelValue.title]])]),s("div",CV,[e.isDefault?(p(),y("span",_V,TV)):(p(),y("span",{key:1,class:"button is-small",onClick:l},"Make default"))])]),s("div",IV,[s("div",DV,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:r[3]||(r[3]=d=>o.$emit("moveUp"))})]),s("div",AV,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:r[4]||(r[4]=d=>o.$emit("moveDown"))})]),s("div",OV,[s("span",{class:"button is-small",onClick:r[5]||(r[5]=d=>o.$emit("remove"))},RV)])])]),(p(!0),y(ee,null,de(e.modelValue.states,(d,c)=>(p(),Ce(u,{key:c,class:"mr-1","model-value":d,"default-state":tt(a)},null,8,["model-value","default-state"]))),128))])}}});const MV=le({__name:"AvatarPreview",props:{avatar:{type:Object,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=ot(()=>t.avatar.slotDefinitions.map(i=>{const a=i.items[i.defaultItemIndex];if(!a)return{state:"",frames:[]};const l=a.states.find(({state:o})=>o==="default");return l||{state:"",frames:[]}}));return(i,a)=>{const l=j("avatar-animation");return p(),y("div",{class:"avatar-preview",style:at({width:`${e.width}px`,height:`${e.height}px`})},[(p(!0),y(ee,null,de(tt(n),(o,r)=>(p(),Ce(l,{key:r,frames:o.frames,width:e.width,height:e.height},null,8,["frames","width","height"]))),128))],4)}}});const UV=le({props:{modelValue:{type:Object,required:!0},defaultState:{type:Object,required:!0}},data(){return{draggingOver:!1,editing:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},methods:{onDragOver(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragLeave(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation()},onDragEnter(e){!e.dataTransfer||e.dataTransfer.getData("avatar-image-url")&&e.preventDefault()},onDrop(e){if(!!e.dataTransfer)if(this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("avatar-image-url")){const t={url:e.dataTransfer.getData("avatar-image-url"),duration:100};this.modelValue.frames.push(t)}else{const t=go(e);t&&this.uploadComponent.uploadFile(t)}},onUploaded(e){this.modelValue.frames.push({url:e.urlpath,duration:100})},onOverlayClick(){this.editing=!1},frameChanged(e,t){t.url===""?this.modelValue.frames=this.modelValue.frames.filter((n,i)=>i!==e):this.modelValue.frames[e]=t},addFrame(){const e={url:"",duration:100};this.modelValue.frames.push(e)}}}),NV={class:"avatar-slot-item-state-editor-title"},LV={class:"avatar-animation-card mr-1"},FV={class:"avatar-animation-frame"},BV=s("i",{class:"fa fa-plus"},null,-1),HV=[BV];function zV(e,t,n,i,a,l){const o=j("avatar-animation"),r=j("avatar-frame-upload"),u=j("upload-input");return p(),y("div",{class:Se(["avatar-slot-item-state-editor card",{"dragging-over":e.draggingOver}]),onDragover:t[1]||(t[1]=(...d)=>e.onDragOver&&e.onDragOver(...d)),onDragenter:t[2]||(t[2]=(...d)=>e.onDragEnter&&e.onDragEnter(...d)),onDragleave:t[3]||(t[3]=(...d)=>e.onDragLeave&&e.onDragLeave(...d)),onDrop:t[4]||(t[4]=(...d)=>e.onDrop&&e.onDrop(...d))},[s("div",NV,Y(e.modelValue.state),1),e.modelValue.frames.length?(p(),Ce(o,{key:0,frames:e.modelValue.frames},null,8,["frames"])):(p(),Ce(o,{key:1,frames:e.defaultState.frames,class:"avatar-fallback-animation"},null,8,["frames"])),s("div",null,[(p(!0),y(ee,null,de(e.modelValue.frames,(d,c)=>(p(),y("div",{key:c,class:"avatar-animation-card mr-1"},[K(r,{"model-value":d,"onUpdate:modelValue":f=>e.frameChanged(c,f)},null,8,["model-value","onUpdate:modelValue"])]))),128)),s("div",LV,[s("span",FV,[s("span",{class:"button is-small",onClick:t[0]||(t[0]=(...d)=>e.addFrame&&e.addFrame(...d))},HV)])])]),R(K(u,{ref:"uploadComponent",accept:"image/*",label:"",onUploaded:e.onUploaded},null,8,["onUploaded"]),[[pi,!1]])],34)}var jV=Oe(UV,[["render",zV]]);const WV=e=>(Sn("data-v-4a403974"),e=e(),Cn(),e),xV=WV(()=>s("i",{class:"fa fa-trash"},null,-1)),KV=[xV],JV=["src"],GV=le({__name:"AvatarFrameUpload",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=_e({url:"",duration:100}),a=_e(!1),l=_e(),o=()=>{i.value=n.modelValue!==null?JSON.parse(JSON.stringify(n.modelValue)):{url:"",duration:100}},r=()=>{t("update:modelValue",JSON.parse(JSON.stringify(i.value)))},u=()=>{t("update:modelValue",JSON.parse(JSON.stringify(i.value)))},d=()=>{i.value={url:"",duration:100},r()},c=v=>{i.value={url:v.urlpath,duration:100},r()},f=v=>{a.value=!1,v.preventDefault(),v.stopPropagation();const b=go(v);return b&&(i.value.url="",l.value.uploadFile(b)),!1},h=v=>(a.value=!0,v.preventDefault(),v.stopPropagation(),!1),m=v=>(a.value=!1,v.preventDefault(),v.stopPropagation(),!1);return Ft(()=>{Gt(()=>n.modelValue,()=>{o()}),o()}),(v,b)=>{const S=j("upload-input");return p(),y("span",{class:Se(["avatar-animation-frame",{"dragging-over":a.value}]),onDrop:f,onDragover:h,onDragleave:m},[s("div",{class:"avatar-animation-frame-remove"},[s("span",{class:"button is-small",onClick:d},KV)]),i.value.url?(p(),y("img",{key:0,src:i.value.url,width:"64",height:"64"},null,8,JV)):M("",!0),R(K(S,{ref_key:"uploadComponent",ref:l,accept:"image/*",label:"",class:"avatar-animation-frame-upload",onUploaded:c},null,512),[[pi,!i.value.url]]),R(s("input",{"onUpdate:modelValue":b[0]||(b[0]=w=>i.value.duration=w),class:"input is-small",type:"text","on:update:modelValue":u},null,544),[[x,i.value.duration]])],34)}}});var YV=Oe(GV,[["__scopeId","data-v-4a403974"]]);const XV=["src","width","height"],zf=le({__name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=_e(null),i=_e(-1),a=ot(()=>i.value>=0&&i.value<t.frames.length?t.frames[i.value].url:""),l=()=>{if(t.frames.length===0){i.value=-1;return}n.value&&(clearTimeout(n.value),n.value=null),i.value++,i.value>=t.frames.length&&(i.value=0),n.value=setTimeout(()=>{l()},t.frames[i.value].duration)};return Ft(()=>{l(),Gt(()=>t.frames,()=>{i.value=-1,l()},{deep:!0})}),Kn(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(o,r)=>(p(),y("span",{class:"avatar-animation",style:at({width:`${e.width}px`,height:`${e.width}px`})},[tt(a)?(p(),y("img",{key:0,src:tt(a),width:e.width,height:e.height},null,8,XV)):(p(),y("span",{key:1,style:at({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}});class QV{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const i=n.inputBuffer.getChannelData(0);let a,l=0,o=0;for(a=0;a<i.length;++a)l+=i[a]*i[a],Math.abs(i[a])>.99&&(o+=1);this.instant=Math.sqrt(l/i.length),this.slow=.95*this.slow+.05*this.instant,this.clip=o/i.length}}connectToSource(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof n!="undefined"&&n(null)}catch(i){console.error(i),typeof n!="undefined"&&n(i)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const ZV=e=>new URLSearchParams(window.location.search).get(e)||"";var $n={wsClient:e=>new Cf(`${e.wsUrl}/widget_${e.widget}`,e.widgetToken),getParam:ZV};const Ss=js("Page.vue"),Ri="default",qV="speaking",Ju={state:Ri,frames:[]},Gu=.05,eM=le({components:{AvatarAnimation:zf},props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data(){return{ws:null,speaking:!1,initialized:!1,audioInitialized:!1,tuberIdx:-1,avatarFixed:"",settings:Pl(),showControls:!0}},computed:{tuberDef(){return this.tuberIdx<0||this.tuberIdx>=this.settings.avatarDefinitions.length?null:this.settings.avatarDefinitions[this.tuberIdx]},slots(){const e=this.tuberDef;return e?e.state.slots:{}},lockedState(){var e;return((e=this.tuberDef)==null?void 0:e.state.lockedState)||Ri},animationName(){return this.lockedState!==Ri?this.lockedState:this.speaking?qV:Ri},animations(){return this.tuberDef?this.tuberDef.slotDefinitions.map(this.getSlotStateDefinition):[]}},created(){Vn(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]),this.avatarFixed=$n.getParam("avatar")},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles()});let t=e.state.tuberIdx;this.avatarFixed&&(t=this.settings.avatarDefinitions.findIndex(n=>n.name===this.avatarFixed)),this.setTuber(t===-1?0:t),this.initialized=!0}),this.ws.onMessage("ctrl",({data:e})=>{if(e.ctrl==="setSlot"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1],i=e.args[2];this.setSlot(n,i)}}else if(e.ctrl==="setSpeaking"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.setSpeaking(n)}}else if(e.ctrl==="lockState"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.lockState(n)}}else if(e.ctrl==="setTuber"){const t=e.args[0];this.setTuber(t)}}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{getSlotStateDefinition(e){const t=this.getItem(e);if(!t)return Ju;const n=t.states.find(({state:i})=>i===this.animationName);return n&&n.frames.length>0?n:t.states.find(({state:i})=>i===Ri)||Ju},getItem(e){if(e.items.length===0)return null;let t=this.slots[e.slot];return typeof t=="undefined"&&(t=e.defaultItemIndex),(t<0||t>=e.items.length)&&(t=0),e.items[t]},ctrl(e,t){if(!this.ws){Ss.error("ctrl: this.ws not initialized");return}this.ws.send(JSON.stringify({event:"ctrl",data:{ctrl:e,args:t}}))},setSlot(e,t,n=!1){this.slots[e]!==t&&(this.settings.avatarDefinitions[this.tuberIdx].state.slots[e]=t,n&&this.ctrl("setSlot",[this.tuberIdx,e,t]))},setSpeaking(e,t=!1){this.speaking!==e&&(this.speaking=e,t&&this.ctrl("setSpeaking",[this.tuberIdx,e]))},lockState(e,t=!1){this.lockedState!==e&&(this.settings.avatarDefinitions[this.tuberIdx].state.lockedState=e,t&&this.ctrl("lockState",[this.tuberIdx,e]))},setTuber(e,t=!1){if(!this.settings){Ss.error("setTuber: this.settings not initialized");return}if(this.avatarFixed&&(e=this.settings.avatarDefinitions.findIndex(l=>l.name===this.avatarFixed)),e>=this.settings.avatarDefinitions.length&&(Ss.info("setTuber: index out of bounds. using index 0"),e=0),e<0||e>=this.settings.avatarDefinitions.length){Ss.error("setTuber: index out of bounds");return}const n=this.settings.avatarDefinitions[e],i=JSON.stringify(n),a=JSON.stringify(this.tuberDef);i!==a&&(this.tuberIdx=e,t&&this.ctrl("setTuber",[this.tuberIdx]))},startMic(){if(this.audioInitialized)return;if(this.audioInitialized=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const e=window.AudioContext||window.webkitAudioContext,t=new e;navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{const i=new QV(t);i.connectToSource(n,a=>{if(a){Ss.error({e:a});return}setInterval(()=>{const l=this.speaking?Gu/2:Gu;this.setSpeaking(i.instant>l,!0)},100)})}).catch(n=>{Ss.error({e:n}),alert("Error capturing audio.")})},applyStyles(){if(!this.settings){Ss.error("applyStyles: this.settings not initialized");return}const e=this.settings.styles;e.bgColorEnabled&&e.bgColor!=null?document.body.style.backgroundColor=e.bgColor:document.body.style.backgroundColor=""}}}),tM={key:0,class:"base"},nM={key:0},sM={key:0},iM=s("td",null,"Tubers:",-1),oM=["onClick"],aM={key:1},lM=s("td",{colspan:"2"},[s("hr")],-1),rM=[lM],uM=s("td",null,"Start Mic",-1),dM=s("tr",null,[s("td",{colspan:"2"},[s("hr")])],-1),cM=["onClick"],fM=s("td",null,"State:",-1),hM=["onClick"],mM={key:1,class:"toggle-controls"};function pM(e,t,n,i,a,l){const o=j("avatar-animation");return e.initialized?(p(),y("div",tM,[s("div",{class:"avatar",style:at({width:`${e.tuberDef.width}px`,height:`${e.tuberDef.height}px`})},[(p(!0),y(ee,null,de(e.animations,(r,u)=>(p(),Ce(o,{key:u,frames:r.frames,width:e.tuberDef.width,height:e.tuberDef.height},null,8,["frames","width","height"]))),128))],4),e.controls&&e.showControls?(p(),y("table",nM,[e.avatarFixed?M("",!0):(p(),y("tr",sM,[iM,s("td",null,[(p(!0),y(ee,null,de(e.settings.avatarDefinitions,(r,u)=>(p(),y("button",{key:u,class:Se({active:e.tuberIdx===u}),onClick:d=>e.setTuber(u,!0)},Y(r.name),11,oM))),128))])])),e.avatarFixed?M("",!0):(p(),y("tr",aM,rM)),s("tr",null,[uM,s("td",null,[s("button",{onClick:t[0]||(t[0]=(...r)=>e.startMic&&e.startMic(...r))}," Start ")])]),dM,(p(!0),y(ee,null,de(e.tuberDef.slotDefinitions,(r,u)=>(p(),y("tr",{key:u},[s("td",null,Y(r.slot)+":",1),s("td",null,[(p(!0),y(ee,null,de(r.items,(d,c)=>(p(),y("button",{key:c,class:Se({active:e.slots[r.slot]===c}),onClick:f=>e.setSlot(r.slot,c,!0)},Y(d.title),11,cM))),128))])]))),128)),s("tr",null,[fM,s("td",null,[(p(!0),y(ee,null,de(e.tuberDef.stateDefinitions,(r,u)=>(p(),y("button",{key:u,class:Se({active:e.lockedState===r.value}),onClick:d=>e.lockState(r.value,!0)},Y(r.value),11,hM))),128))])])])):M("",!0),e.controls?(p(),y("div",mM,[s("button",{onClick:t[1]||(t[1]=r=>e.showControls=!e.showControls)}," Toggle controls ")])):M("",!0)])):M("",!0)}var gM=Oe(eM,[["render",pM]]);const vM=le({}),yM={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bM=s("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),wM=[bM];function $M(e,t,n,i,a,l){return p(),y("svg",yM,wM)}var SM=Oe(vM,[["render",$M]]);const CM=le({}),_M={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},EM=s("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),kM=[EM];function TM(e,t,n,i,a,l){return p(),y("svg",_M,kM)}var IM=Oe(CM,[["render",TM]]);const DM=le({}),AM={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},OM=s("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),PM=[OM];function RM(e,t,n,i,a,l){return p(),y("svg",AM,PM)}var VM=Oe(DM,[["render",RM]]);const MM=le({}),UM={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},NM=s("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),LM=[NM];function FM(e,t,n,i,a,l){return p(),y("svg",UM,LM)}var BM=Oe(MM,[["render",FM]]);const HM=le({}),zM={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jM=s("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),WM=[jM];function xM(e,t,n,i,a,l){return p(),y("svg",zM,WM)}var KM=Oe(HM,[["render",xM]]);const JM=le({}),GM={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},YM=s("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),XM=[YM];function QM(e,t,n,i,a,l){return p(),y("svg",GM,XM)}var ZM=Oe(JM,[["render",QM]]);const Yu=js("Page.vue"),Xu=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-n.x,y:t.targetTouches[0].clientY-n.y}},Qu=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.x,y:t.clientY-n.y}},qM=e=>{const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),i=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(n*299+i*587+a*114)/1e3>69},eU=(e,t,n)=>{if(e==="color-sampler")return"crosshair";const i=document.createElement("canvas"),a=i.getContext("2d"),l=10,o=3,r=t+l+o+l+o,u=Math.round(r/2);return i.width=r+1,i.height=r+1,a.fillStyle="#AAA",a.fillRect(0,u-1,l,3),a.fillRect(i.width-l,u-1,l,3),a.fillRect(u-1,0,3,l),a.fillRect(u-1,i.height-l,3,l),a.fillStyle="#666",a.fillRect(1,u,l-2,1),a.fillRect(i.width-l+1,u,l-2,1),a.fillRect(u,1,1,l-2),a.fillRect(u,i.height-l+1,1,l-2),a.beginPath(),a.translate(.5,.5),a.fillStyle=n,a.strokeStyle=qM(String(a.fillStyle))?"#000":"#fff",a.arc(u,u,t/2,0,2*Math.PI),a.translate(-.5,-.5),a.closePath(),e!=="eraser"&&a.fill(),a.stroke(),`url(${i.toDataURL()}) ${u} ${u}, default`},Zu=(e,t,n,i)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=n,e.arc(t[0].x,t[0].y,i/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=n,e.lineWidth=i,e.moveTo(t[0].x,t[0].y);for(let a=1;a<t.length;a++)e.lineTo(t[a].x,t[a].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},tU=le({components:{IconPen:SM,IconEyedropper:IM,IconSend:VM,IconUndo:BM,IconEraser:KM,IconClear:ZM},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},canvasHolderStyle(){return{width:`${this.canvasWidth+4}px`,height:`${this.canvasHeight+4}px`}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},styles(){return{cursor:this.cursor}},cursor(){return eU(this.tool,this.size,this.color)}},created(){Vn(()=>Promise.resolve({}),["assets/main.2e35d04c.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=$n.wsClient(this.wdata);const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{console.log("inited",t),this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(n=>n.path),this.images.length>0&&t.settings.autofillLatest&&this.stack.length===0&&!this.drawing&&this.modify(this.images[0])}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const i=new Date,a=this.sending.date.getTime()+500-i.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,a))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const i=new Date,a=this.sending.date.getTime()+500-i.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,a))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)},methods:{updateTransparency(){this.draftcanvas.style.opacity=`${this.transparency/100}`},opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(n=>{t.src=e,t.onload=()=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData()),n()}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",Zu(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",Zu(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(Xu(this.draftcanvas,e))},mousedown(e){this.startDraw(Qu(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(Xu(this.draftcanvas,e))},mousemove(e){this.continueDraw(Qu(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){Yu.error("submitImage: this.ws not set");return}if(this.sending.nonce){Yu.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=He(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,n,i,a]=this.finalctx.getImageData(e.x,e.y,1,1).data,l=o=>us(o.toString(16),"00");return a?`#${l(t)}${l(n)}${l(i)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}}}),nU={id:"drawcast"},sU={class:"streamer_message"},iU={class:"streamer_message_inner"},oU={class:"draw_panel"},aU={class:"draw_panel_inner"},lU={class:"draw_panel_top"},rU={class:"draw_canvas_holder"},uU=["width","height"],dU=["width","height"],cU={class:"v355_1274"},fU={class:"card draw_tools_panel"},hU={class:"draw_tools_tool_buttons"},mU={class:"slider"},pU=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-small bubble-dark"})],-1),gU={class:"slider-input-holder"},vU=["max"],yU=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),bU={class:"slider"},wU=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-big bubble-light"})],-1),$U={class:"slider-input-holder"},SU=["max"],CU=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),_U={class:"visual_background"},EU=s("div",{class:"visual_background_title"}," Visual Background: ",-1),kU={class:"visual_background_colors"},TU=["onClick"],IU={class:"hotkey-help"},DU=s("div",{class:"hotkey-help-title"}," Hotkeys ",-1),AU={class:"draw_panel_bottom"},OU={class:"draw_colors"},PU={class:"draw_colors_current"},RU={class:"draw_colors_current_label clickable"},VU={class:"draw_colors_current_icon"},MU={class:"draw_colors_palette"},UU=["onClick"],NU=s("div",null,null,-1),LU={class:"drawing_panel_bottom_right"},FU=s("span",{class:"send_button_text"},"\u23F3 Sending...",-1),BU=[FU],HU={class:"send_button_text"},zU={class:"drawings_panel_title"},jU={class:"drawings_panel_title_inner"},WU={key:0,class:"drawing_panel_drawings"},xU=["src","onClick"],KU={class:"drawings-panel recent-drawings-panel"},JU={class:"drawings_panel_title"},GU={class:"drawings_panel_title_inner"},YU={class:"drawing_panel_drawings"},XU=["src","onClick"],QU=s("div",{class:"dotdotdot"},null,-1),ZU=lc('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),qU=[ZU],eN={key:0,class:"dialog success-dialog"},tN={class:"dialog-container"},nN={class:"dialog-image"},sN=s("div",{class:"dialog-title"}," Success! ",-1),iN=["innerHTML"],oN={class:"dialog-footer"},aN={key:1,class:"dialog confirm-dialog"},lN={class:"dialog-container"},rN=["innerHTML"],uN={class:"dialog-footer"},dN={key:2,class:"dialog confirm-dialog"},cN={class:"dialog-container"},fN=["innerHTML"],hN={class:"dialog-footer"},mN={key:3,class:"dialog clear-dialog"},pN={class:"dialog-container"},gN={class:"dialog-image"},vN=["innerHTML"],yN={class:"dialog-footer"};function bN(e,t,n,i,a,l){const o=j("icon-pen"),r=j("icon-eraser"),u=j("icon-eyedropper"),d=j("icon-undo"),c=j("icon-clear"),f=j("icon-send");return p(),y("div",nU,[s("div",{class:Se(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(p(),y("div",{key:0,class:Se(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(p(),y("div",{key:0,class:"streamer_avatar",style:at({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):M("",!0),s("div",sU,[s("span",iU,Y(e.customDescription),1)])],2)):M("",!0),s("div",oU,[s("div",aU,[s("div",lU,[s("div",rU,[s("div",{class:Se(["draw_canvas_holder_inner",e.canvasClasses]),style:at(e.canvasHolderStyle)},[s("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.styles)},null,12,uU),s("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.styles),onTouchstart:t[0]||(t[0]=ea((...h)=>e.touchstart&&e.touchstart(...h),["prevent"])),onTouchmove:t[1]||(t[1]=ea((...h)=>e.touchmove&&e.touchmove(...h),["prevent"])),onMousedown:t[2]||(t[2]=(...h)=>e.mousedown&&e.mousedown(...h))},null,44,dU)],6)]),s("div",cU,[s("div",fU,[s("div",hU,[s("div",{class:Se(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=h=>e.tool="pen")},[K(o)],2),s("div",{class:Se(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=h=>e.tool="eraser")},[K(r)],2),s("div",{class:Se(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=h=>e.tool="color-sampler")},[K(u)],2),s("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...h)=>e.undo&&e.undo(...h))},[K(d)]),s("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...h)=>e.showClearDialog&&e.showClearDialog(...h))},[K(c)])]),s("div",mU,[pU,s("div",gU,[R(s("input",{"onUpdate:modelValue":t[8]||(t[8]=h=>e.sizeIdx=h),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,vU),[[x,e.sizeIdx]])]),yU]),s("div",bU,[wU,s("div",$U,[R(s("input",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.transparencyIdx=h),type:"range",min:"0",max:e.transparencies.length-1,step:"1","on:update:modelValue":t[10]||(t[10]=(...h)=>e.updateTransparency&&e.updateTransparency(...h))},null,40,SU),[[x,e.transparencyIdx]])]),CU]),s("div",_U,[EU,s("div",kU,[(p(),y(ee,null,de(["transparent-light","transparent-dark"],(h,m)=>s("div",{key:m,class:Se(["visual_background_button clickable",{"is-current":e.canvasBg===h,[`bg-${h}`]:!0}]),onClick:v=>e.opt("canvasBg",h)},null,10,TU)),64))])])]),s("div",IU,[DU,(p(!0),y(ee,null,de(e.hotkeys,(h,m)=>(p(),y("div",{key:m,class:"hotkey-help-item"},Y(h),1))),128))])])]),s("div",AU,[s("div",OU,[s("div",PU,[s("label",RU,[R(s("input",{"onUpdate:modelValue":t[11]||(t[11]=h=>e.color=h),type:"color"},null,512),[[x,e.color]]),s("span",{class:Se(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:at(e.currentColorStyle)},null,6),s("div",VU,[K(u)])])]),s("div",MU,[(p(!0),y(ee,null,de(e.palette,(h,m)=>(p(),y("div",{key:m,class:"palette_color clickable",style:at({backgroundColor:h}),onClick:v=>{e.color=h,e.tool="pen"}},null,12,UU))),128))])]),NU,s("div",LU,[e.sending.nonce?(p(),y("div",{key:0,class:"button button-primary send_button",onClick:t[12]||(t[12]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},BU)):(p(),y("div",{key:1,class:"button button-primary send_button clickable",onClick:t[13]||(t[13]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},[K(f),s("span",HU,Y(e.submitButtonText),1)]))])])])]),(p(!0),y(ee,null,de(e.favoriteListsFiltered,(h,m)=>(p(),y("div",{key:m,class:"drawings-panel favorite-drawings-panel"},[s("div",zU,[s("span",jU,Y(h.title||"Streamer's favorites:"),1)]),e.nonfavorites.length?(p(),y("div",WU,[(p(!0),y(ee,null,de(h.list,(v,b)=>(p(),y("img",{key:b,class:"image favorite clickable",src:v,height:"190",onClick:S=>e.prepareModify(v)},null,8,xU))),128))])):M("",!0)]))),128)),s("div",KU,[s("div",JU,[s("span",GU,Y(e.recentImagesTitle),1)]),s("div",YU,[(p(!0),y(ee,null,de(e.nonfavorites,(h,m)=>(p(),y("img",{key:m,class:"image clickable",src:h,height:"190",onClick:v=>e.prepareModify(h)},null,8,XU))),128)),QU])])],2),s("div",{class:Se(["drawcast_footer",{blurred:e.dialog}])},qU,2),e.dialog==="success"?(p(),y("div",eN,[s("div",{class:"dialog-bg",onClick:t[14]||(t[14]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",tN,[s("div",nN,[s("div",{class:"responsive-image",style:at(e.successImageUrlStyle)},null,4)]),sN,s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,iN),s("div",oN,[s("div",{class:"button button-ok clickable",onClick:t[15]||(t[15]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Draw another one ")])])])):M("",!0),e.dialog==="replace"?(p(),y("div",aN,[s("div",{class:"dialog-bg",onClick:t[16]||(t[16]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",lN,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,rN),s("div",uN,[s("div",{class:"button button-no-button clickable",onClick:t[17]||(t[17]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[18]||(t[18]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Replace image ")])])])):M("",!0),e.dialog==="confirm-submit"?(p(),y("div",dN,[s("div",{class:"dialog-bg",onClick:t[19]||(t[19]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",cN,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,fN),s("div",hN,[s("div",{class:"button button-no-button clickable",onClick:t[20]||(t[20]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-ok clickable",onClick:t[21]||(t[21]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Send ")])])])):M("",!0),e.dialog==="clear"?(p(),y("div",mN,[s("div",{class:"dialog-bg",onClick:t[22]||(t[22]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",pN,[s("div",gN,[s("div",{class:"responsive-image",style:at(e.clearImageUrlStyle)},null,4)]),s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,vN),s("div",yN,[s("div",{class:"button button-no-button clickable",onClick:t[23]||(t[23]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[24]||(t[24]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Clear ")])])])):M("",!0)])}var wN=Oe(tU,[["render",bN]]);const $N=js("MediaQueueElement.vue"),SN=(e,t)=>new Promise(n=>{const i=new Audio(e);i.addEventListener("ended",()=>{n()}),i.volume=Yt.clamp(0,t,1),i.play()}),qu=e=>new Promise(t=>{setTimeout(t,e)}),CN=le({props:{timeBetweenMediaMs:{type:Number,default:400},baseVolume:{type:Number,default:100},displayLatestForever:{type:Boolean,default:!1}},data(){return{queue:[],worker:null,showimage:!1,imgstyle:void 0,videosrc:"",latestResolved:!0}},methods:{async _playone(e){return new Promise(async t=>{this.latestResolved=!1;const n=[];e.video.url&&(this.videosrc=e.video.url,n.push(new Promise(a=>{this.$nextTick(()=>{const l=this.$refs.video,o=e.video.volume/100;l.addEventListener("error",r=>{$N.error({e:r},"error when playing video"),a()}),l.volume=Yt.clamp(0,o,1),l.addEventListener("ended",()=>{a()})})})));let i="";if(e.image_url?i=e.image_url:e.image&&e.image.file&&(i=e.image.urlpath),i&&(await this._prepareImage(i),this.showimage=!0,this.imgstyle={backgroundImage:`url(${i})`}),e.minDurationMs&&n.push(qu(Yt.parseHumanDuration(e.minDurationMs))),e.sound&&e.sound.file){const a=e.sound.urlpath,l=this.baseVolume/100,o=e.sound.volume/100,r=l*o;n.push(SN(a,r))}n.length===0&&n.push(qu(1e3)),Promise.all(n).then(a=>{this.displayLatestForever||(this.showimage=!1),this.latestResolved=!0,this.videosrc="",t()})})},_addQueue(e){if(this.queue.push(e),this.worker)return;const t=async()=>{if(this.queue.length===0){clearInterval(this.worker),this.worker=null;return}const n=this.queue.shift();if(!n){clearInterval(this.worker),this.worker=null;return}await this._playone(n),this.worker=setTimeout(t,this.timeBetweenMediaMs)};this.worker=setTimeout(t,this.timeBetweenMediaMs)},async _prepareImage(e){return new Promise(t=>{const n=new Image;n.src=e,this.$nextTick(()=>{n.complete?t():n.onload=()=>{t()}})})},playmedia(e){!this.displayLatestForever&&this.latestResolved&&(this.showimage=!1),this._addQueue(e)}}}),_N=CN,EN={key:0,class:"video-container"},kN={class:"video-16-9"},TN=["src"];function IN(e,t,n,i,a,l){return p(),y(ee,null,[s("div",{style:at(e.imgstyle),class:Se(["image-container",{"m-fadeIn":e.showimage,"m-fadeOut":!e.showimage}])},null,6),e.videosrc?(p(),y("div",EN,[s("div",kN,[s("video",{ref:"video",src:e.videosrc,autoplay:""},null,8,TN)])])):M("",!0)],64)}var Fa=Oe(_N,[["render",IN],["__scopeId","data-v-1fdc604f"]]);const DN=le({components:{MediaQueueElement:Fa},props:{wdata:{type:Object,required:!0}},data(){return{inited:!1,ws:null,notificationSoundAudio:null,manualApproval:{items:[]}}},created(){Vn(()=>Promise.resolve({}),["assets/main.6b6e9440.css"])},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("init",async e=>{const n=await(await vt.getDrawcastAllImages()).json();e.settings.notificationSound&&(this.notificationSoundAudio=new Audio(e.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=e.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(i=>!i.approved).map(i=>i.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),AN={class:"p-2"},ON=s("h1",{class:"title"}," Drawings awaiting approval ",-1),PN={key:0},RN={class:"card-body"},VN=["src"],MN={class:"card-footer"},UN=["onClick"],NN=["onClick"],LN={key:1};function FN(e,t,n,i,a,l){return p(),y("div",AN,[ON,e.manualApproval.items.length?(p(),y("div",PN,[(p(!0),y(ee,null,de(e.manualApproval.items,(o,r)=>(p(),y("div",{key:r,class:"image-to-approve card mr-1"},[s("div",RN,[s("img",{src:o,class:"thumbnail mr-1"},null,8,VN)]),s("div",MN,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:u=>e.approveImage(o)}," Approve! ",8,UN),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:u=>e.denyImage(o)}," Deny! ",8,NN)])]))),128))])):(p(),y("div",LN," Currently there are no drawings awaiting approval. "))])}var BN=Oe(DN,[["render",FN]]);const HN=le({components:{MediaQueueElement:Fa},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,displayDuration:5e3,displayLatestForever:!1,notificationSound:null,images:[]}},computed:{q(){return this.$refs.q}},created(){Vn(()=>Promise.resolve({}),["assets/main.b31286b1.css"])},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.displayLatestForever=e.settings.displayLatestForever,this.notificationSound=e.settings.notificationSound,this.images=e.images.map(t=>t.path),e.settings.displayLatestAutomatically&&this.images.length>0&&this.q.playmedia(fi({image_url:this.images[0],minDurationMs:this.displayDuration}))}),this.ws.onMessage("approved_image_received",e=>{this.images.unshift(e.img),this.images=this.images.slice(0,20),this.q.playmedia(fi({sound:e.mayNotify?this.notificationSound:null,image_url:e.img,minDurationMs:this.displayDuration}))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function zN(e,t,n,i,a,l){const o=j("media-queue-element");return p(),Ce(o,{ref:"q","time-between-media-ms":500,"display-latest-forever":e.displayLatestForever},null,8,["display-latest-forever"])}var jN=Oe(HN,[["render",zN]]);const WN=le({components:{MediaQueueElement:Fa},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,settings:yr(),widgetId:""}},computed:{q(){return this.$refs.q}},created(){Vn(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),this.widgetId=$n.getParam("id")},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings}),this.ws.onMessage("playmedia",e=>{!this.widgetId&&e.widgetIds.length>0&&!e.widgetIds.includes("")||this.widgetId&&!e.widgetIds.includes(this.widgetId)||this.q.playmedia(fi(e))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function xN(e,t,n,i,a,l){const o=j("media-queue-element");return p(),Ce(o,{ref:"q","base-volume":e.settings.volume},null,8,["base-volume"])}var KN=Oe(WN,[["render",xN]]);const JN={class:"emote-wall"},GN=["src"],YN=le({__name:"Page",props:{wdata:null},setup(e){const t=e;Vn(()=>Promise.resolve({}),["assets/main.d3550ad8.css"]);let n=42;const i=_e(yr()),a=_e([]),l=ot(()=>a.value.filter(g=>g.active)),o=64,r=window.requestAnimationFrame,u=()=>{for(const g of a.value)g.update();a.value=a.value.filter(g=>!g.dead),r(u)};r(u);const d=(g,C,$,E,T)=>{var V=3*($.x-C.x),P=3*(E.x-$.x)-V,I=T.x-C.x-V-P,U=3*($.y-C.y),B=3*(E.y-$.y)-U,W=T.y-C.y-U-B,H=I*Math.pow(g,3)+P*Math.pow(g,2)+V*g+C.x,F=W*Math.pow(g,3)+B*Math.pow(g,2)+U*g+C.y;return{x:H,y:F}},c=g=>-(Math.cos(Math.PI*g)-1)/2,f=g=>{const C=window.innerWidth,$=window.innerHeight,E=H=>Math.floor(Math.random()*H),T={x:E(C),y:E($)},V={x:E(C),y:E($)},P={x:E(C),y:E($)},I={x:E(C),y:E($)},U=Lt(0,50);let B=0,W=0;return{url:g,x:-o,y:-o,w:o,h:o,rot:0,active:!0,dead:!1,update:function(){if(B++,B<U)return;this.active=!0,W+=.005;const H=d(c(W),T,V,P,I);this.x=H.x,this.y=H.y,this.w=c(W)*o,this.h=c(W)*o,W>=2&&(this.dead=!0,console.log("bezier dead"))}}},h=g=>{const C=Xs(["right","left"]);let $=Math.random()*2+2;C==="right"&&($*=-1);let E=-10,T=.1,V=.7;const P=Lt(0,50);let I=0;const U=window.innerWidth,B=window.innerHeight;return{url:g,x:(C==="right"?U:0)-o/2,y:Lt(0,B-o/2),w:o,h:o,rot:0,active:!1,dead:!1,update:function(){I++,!(I<P)&&(this.active=!0,this.x+=$,this.y+=E,E+=T,(this.x+this.w<=0||this.x>U)&&(this.dead=!0,console.log("bouncy dead")),this.y<=0&&(this.y=0,E=5),this.y+this.h>=B&&(this.y=B-this.h,E*=-V))}}},m=g=>{let C=4+Math.random()*4;const $=C;let E=Lt(-20,20),T=.1+E/50;const V=Lt(0,50);let P=0;const I=window.innerWidth,U=window.innerHeight;return{url:g,x:Lt(0,I)-o/2,y:0-o/2,w:o+E,h:o+E,rot:0,active:!1,dead:!1,update:function(){P++,!(P<V)&&(this.active=!0,this.y+=C,C+=T,C=Math.max($,C),this.y>U&&(this.dead=!0,console.log("rain dead")))}}},v=g=>{let C=0,$=Lt(-10,10),E=-5+$/5,T=E/2,V=E;const P=Lt(0,50);let I=0;const U=window.innerWidth,B=window.innerHeight;return{url:g,x:Lt(0,U)-o/2,y:B-o/2,w:o+$,h:o+$,rot:0,active:!1,dead:!1,update:function(){I++,!(I<P)&&(this.active=!0,this.y+=V,this.x+=C,I%20===0&&Math.random()<.4&&(C===0?(C=Lt(-1,1),V=Math.min(T,V)):(C=0,V+=.1)),this.y>B&&(this.dead=!0,console.log("rain dead")))}}},b=g=>{let C=(Math.random()*1.5+.5)*Xs([-1,1]),$=(Math.random()*1.5+.5)*Xs([-1,1]);const E=(Math.random()*2+1)*Xs([-1,1]),T=Lt(0,50);let V=0;const P=window.innerWidth,I=window.innerHeight;return{url:g,x:P/2-o/2,y:I/2-o/2,w:o,h:o,rot:0,active:!1,dead:!1,update:function(){V++,!(V<T)&&(this.active=!0,this.rot+=E,this.x+=C,this.y+=$,(this.x+this.w<=0||this.x>P||this.y+this.h<=0||this.y>I)&&(this.dead=!0,console.log("floating space dead")))}}},S=g=>{let C=Math.random()*3.5+.5;Math.random()<.5&&(C*=-1);let $=Math.random()*3.5+.5;Math.random()<.5&&($*=-1);const E=Lt(0,50);let T=0;const V=window.innerWidth,P=window.innerHeight;return{url:g,x:V/2-o/2,y:P/2-o/2,w:o,h:o,rot:0,active:!1,dead:!1,update:function(){T++,!(T<E)&&(this.active=!0,this.x+=C,this.y+=$,(this.x+this.w<=0||this.x>V||this.y+this.h<=0||this.y>P)&&(this.dead=!0,console.log("explode dead")))}}},w=g=>{let C=Math.random()*3.5+.5;Math.random()<.5&&(C*=-1);let $=-10+Math.random()*-5,E=.1,T=.7;const V=Lt(0,50);let P=0;const I=window.innerWidth,U=window.innerHeight;return{url:g,x:I/2-o/2,y:U-o,w:o,h:o,rot:0,active:!1,dead:!1,update:function(){P++,!(P<V)&&(this.active=!0,this.x+=C,this.y+=$,$+=E,(this.x+this.w<=0||this.x>I)&&(this.dead=!0,console.log("fountain dead")),this.y<=0&&(this.y=0,$=-$),this.y+this.h>=U&&(this.y=U-this.h,$*=-T))}}};return Ft(()=>{n=$n.wsClient(t.wdata),n.onMessage("init",g=>{i.value=g.settings}),n.onMessage("emotes",g=>{const C=Xs(g.displayFn);let $;switch(C.fn){case ts.BALLOON:$=v;break;case ts.BOUNCY:$=h;break;case ts.EXPLODE:$=S;break;case ts.FLOATING_SPACE:$=b;break;case ts.FOUNTAIN:$=w;break;case ts.RAIN:$=m;break;case ts.RANDOM_BEZIER:$=f;break;default:return}for(const E of g.emotes)a.value.push($(E.url,C.args))}),n.connect()}),Kn(()=>{n&&n.disconnect()}),(g,C)=>(p(),y("div",JN,[(p(!0),y(ee,null,de(tt(l),($,E)=>(p(),y("img",{key:E,src:$.url,class:"emote",style:at({top:`${$.y}px`,left:`${$.x}px`,width:$.w+"px",height:$.h+"px",transform:`rotate(${$.rot}deg)`})},null,12,GN))),128))]))}}),XN=le({components:{MediaQueueElement:Fa},props:{wdata:{type:Object,required:!0}},data:()=>({ws:null,data:null,timeout:null,now:null}),computed:{showTimerWhenFinished(){return this.data?!!this.data.settings.showTimerWhenFinished:!1},finishedText(){return this.data?this.data.settings.finishedText:""},finishined(){return this.timeLeft<=0},running(){return this.data?!!this.data.state.running:!1},timeLeftHumanReadable(){if(!this.data)return"";const e=Math.max(this.timeLeft,0),n=1e3*1,i=60*n,a=60*i,l=Yt.pad(Math.floor(e/a),"00"),o=Yt.pad(Math.floor(e%a/i),"00"),r=Yt.pad(Math.floor(e%a%i/n),"00");let u=this.data.settings.timerFormat;return u=u.replace("{hh}",l),u=u.replace("{mm}",o),u=u.replace("{ss}",r),u},timeLeft(){return!this.dateEnd||!this.now?0:this.dateEnd.getTime()-this.now.getTime()},dateEnd(){return!this.dateStarted||!this.data?null:new Date(this.dateStarted.getTime()+this.data.state.durationMs)},dateStarted(){return this.data?new Date(JSON.parse(this.data.state.startTs)):null},widgetStyles(){return this.data?{fontFamily:this.data.settings.fontFamily,fontSize:this.data.settings.fontSize,color:this.data.settings.color}:null},q(){return this.$refs.q}},created(){Vn(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"])},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.data=e,this.tick()}),this.ws.onMessage("effect",e=>{this.q.playmedia(fi({sound:e.sound,minDurationMs:0}))}),this.ws.connect()},unmounted(){this.timeout&&clearTimeout(this.timeout),this.ws&&this.ws.disconnect()},methods:{tick(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.now=new Date,this.data&&this.data.state.running&&this.tick()},1e3)}}}),QN={key:0},ZN={key:1},qN={key:0},e7={key:1};function t7(e,t,n,i,a,l){const o=j("media-queue-element");return p(),y(ee,null,[e.running?(p(),y("div",{key:0,style:at(e.widgetStyles)},[e.finishined?(p(),y("div",ZN,[e.showTimerWhenFinished?(p(),y("span",qN,Y(e.timeLeftHumanReadable),1)):M("",!0),e.finishedText?(p(),y("span",e7,Y(e.finishedText),1)):M("",!0)])):(p(),y("div",QN,Y(e.timeLeftHumanReadable),1))],4)):M("",!0),K(o,{ref:"q","time-between-media-ms":100},null,512)],64)}var n7=Oe(XN,[["render",t7]]);const un=js("speech-to-text/Page.vue"),s7=le({props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data:()=>({ws:null,status:"",errors:[],initedSpeech:!1,lastUtterance:"",recognition:{interimResults:!1,continuous:!0},texts:[],timeout:null,settings:null,srObj:null}),computed:{recognizedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].recognized},translatedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].translated},lastRecognizedText(){return this.texts.length===0?"":this.texts[this.texts.length-1].recognized},wantsSpeech(){return this.settings?this.settings.recognition.synthesize||this.settings.translation.synthesize:!1},textTable(){return this.$refs.text_table}},created(){Vn(()=>Promise.resolve({}),["assets/main.789973a0.css"])},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage("text",e=>{this.texts.push({recognized:e.recognized,translated:e.translated,ready:!0}),this._next()}),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles(),this.initVoiceRecognition()})}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{initSpeech(){un.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),this.initedSpeech=!0},_next(){if(this.timeout){un.info("_next(): timeout still active");return}if(!this.recognizedText&&!this.translatedText){un.info("_next(): recognizedText and translatedText empty");return}if(!this.settings){un.info("_next(): settings empty");return}this.recognizedText&&this.settings.recognition.synthesize&&(un.info("synthesizing recognized text"),this.synthesize(this.recognizedText,this.settings.recognition.synthesizeLang)),this.translatedText&&this.settings.translation.synthesize&&(un.info("synthesizing translated text"),this.synthesize(this.translatedText,this.settings.translation.synthesizeLang)),this.timeout=setTimeout(()=>{this.texts.shift(),this.timeout=null,this._next()},this.calculateSubtitleDisplayTime(`${this.recognizedText} ${this.translatedText}`))},calculateSubtitleDisplayTime(e){const t=Py(e);return Sf(2*Ls,t,10*Ls)},synthesize(e,t){if(un.info({lastUtterance:this.lastUtterance,text:e,lang:t},"synthesize"),this.lastUtterance!==e){un.info({speechSynthesis},"speechSynthesis"),this.lastUtterance=e;let n=new SpeechSynthesisUtterance(`${this.lastUtterance}`);t&&(n.lang=t),speechSynthesis.cancel(),speechSynthesis.speak(n)}},applyStyles(){if(!this.settings){un.info("applyStyles(): settings empty");return}const e=this.settings.styles,t=e.bgColorEnabled&&e.bgColor!=null?e.bgColor:"";document.body.style.backgroundColor=t,e.vAlign==="top"?this.textTable.style.bottom=null:e.vAlign==="bottom"&&(this.textTable.style.bottom="0px");const n=(i,a,l,o,r)=>{if(o.color!=null&&(a.style.color=o.color),i.style.webkitTextStrokeColor=r,o.strokeWidth!=null){const u=Ol(o.strokeWidth);i.style.webkitTextStrokeWidth=u,l.style.webkitTextStrokeWidth=u}if(o.strokeColor!=null&&(l.style.webkitTextStrokeColor=o.strokeColor),o.fontFamily!=null&&(i.style.fontFamily=o.fontFamily,a.style.fontFamily=o.fontFamily,l.style.fontFamily=o.fontFamily),o.fontSize!=null){const u=Ol(o.fontSize);i.style.fontSize=u,a.style.fontSize=u,l.style.fontSize=u}o.fontWeight!=null&&(i.style.fontWeight=o.fontWeight,a.style.fontWeight=o.fontWeight,l.style.fontWeight=o.fontWeight)};this.settings.recognition.display&&n(this.$refs["speech_text-imb"],this.$refs["speech_text-fg"],this.$refs["speech_text-bg"],e.recognition,t),this.settings.translation.enabled&&n(this.$refs["trans_text-imb"],this.$refs["trans_text-fg"],this.$refs["trans_text-bg"],e.translation,t)},initVoiceRecognition(){if(!this.controls)return;if(!this.settings){un.info("initVoiceRecognition(): settings empty");return}const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){alert("This widget does not work in this browser. Try a chrome based browser.");return}this.srObj&&(this.srObj.abort(),this.srObj.stop()),this.srObj=new e,this.srObj.lang=this.settings.recognition.lang,this.srObj.interimResults=this.recognition.interimResults,this.srObj.continuous=this.recognition.continuous,this.srObj.onsoundstart=()=>{this.status="Sound started"},this.srObj.onnomatch=()=>{this.status="No match"},this.srObj.onerror=t=>{this.status="Error",this.errors.unshift(t.error),this.errors=this.errors.slice(0,10),this.initVoiceRecognition()},this.srObj.onsoundend=()=>{this.status="Sound ended",this.initVoiceRecognition()},this.srObj.onspeechend=()=>{this.status="Speech ended",this.initVoiceRecognition()},this.srObj.onresult=async t=>{this.onVoiceResult(t),this.initVoiceRecognition()},this.srObj.start()},onVoiceResult(e){if(!this.ws){un.error("onVoiceResult: this.ws not set");return}let t=e.results;un.info({evt:e},"onVoiceResult()");for(var n=e.resultIndex;n<t.length;n++){if(!t[n].isFinal)continue;const i=t[n][0].transcript;if(this.lastRecognizedText!==i){this.ws.send(JSON.stringify({event:"onVoiceResult",text:i}));break}}}}}),i7={key:0,ref:"result_text",class:"big"},o7={key:0},a7={key:0},l7=s("div",null,"Latest errors:",-1),r7={ref:"text_table",class:"btm_table"},u7={align:"center",valign:"bottom"};function d7(e,t,n,i,a,l){return e.settings?(p(),y("div",i7,[e.settings.status.enabled?(p(),y("div",o7,[O(Y(e.status)+" ",1),e.errors.length>0?(p(),y("div",a7,[l7,s("ul",null,[(p(!0),y(ee,null,de(e.errors,(o,r)=>(p(),y("li",{key:r},Y(o),1))),128))])])):M("",!0)])):M("",!0),e.controls&&e.wantsSpeech&&!e.initedSpeech?(p(),y("button",{key:1,onClick:t[0]||(t[0]=(...o)=>e.initSpeech&&e.initSpeech(...o))}," Enable Speech Synthesis ")):M("",!0),s("table",r7,[s("tr",null,[s("td",u7,[e.settings.recognition.display?(p(),y("div",{key:0,ref:"speech_text-bg",class:"stroke-single-bg"},Y(e.recognizedText),513)):M("",!0),e.settings.recognition.display?(p(),y("div",{key:1,ref:"speech_text-fg",class:"stroke-single-fg"},Y(e.recognizedText),513)):M("",!0),e.settings.recognition.display?(p(),y("div",{key:2,ref:"speech_text-imb",class:"stroke-single-imb"},Y(e.recognizedText),513)):M("",!0),e.settings.translation.enabled?(p(),y("div",{key:3,ref:"trans_text-bg",class:"stroke-single-bg"},Y(e.translatedText),513)):M("",!0),e.settings.translation.enabled?(p(),y("div",{key:4,ref:"trans_text-fg",class:"stroke-single-fg"},Y(e.translatedText),513)):M("",!0),e.settings.translation.enabled?(p(),y("div",{key:5,ref:"trans_text-imb",class:"stroke-single-imb"},Y(e.translatedText),513)):M("",!0)])])],512)],512)):M("",!0)}var c7=Oe(s7,[["render",d7]]);const f7=le({props:{item:{type:Object,required:!0},showThumbnails:{required:!0}},computed:{thumbnail(){return`https://i.ytimg.com/vi/${this.item.yt}/mqdefault.jpg`}}}),h7=["data-user","data-yt"],m7={key:0,class:"thumbnail"},p7={class:"media-16-9"},g7=["src"],v7={class:"title"},y7={class:"title-content title-orig"},b7={class:"title-content title-dupl"},w7={class:"meta meta-left"},$7={class:"meta-user"},S7=s("span",{class:"meta-user-text-before"},"requested by ",-1),C7={class:"meta-user-name"},_7=s("span",{class:"meta-user-text-after"},null,-1),E7={class:"meta-plays"},k7=s("span",{class:"meta-plays-text-before"},"played ",-1),T7={class:"meta-plays-count"},I7={class:"meta-plays-text-after"},D7={class:"meta meta-right vote"},A7={class:"meta-plays"},O7=s("i",{class:"fa fa-repeat"},null,-1),P7={class:"vote-up"},R7=s("i",{class:"fa fa-thumbs-up"},null,-1),V7={class:"vote-down"},M7=s("i",{class:"fa fa-thumbs-down"},null,-1);function U7(e,t,n,i,a,l){return p(),y("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(p(),y("div",m7,[s("div",p7,[s("img",{src:e.thumbnail},null,8,g7)])])):M("",!0),s("div",v7,[s("span",y7,Y(e.item.title||e.item.yt),1),s("span",b7,Y(e.item.title||e.item.yt),1)]),s("div",w7,[s("span",$7,[S7,s("span",C7,Y(e.item.user),1),_7]),s("span",E7,[k7,s("span",T7,Y(e.item.plays),1),s("span",I7," time"+Y(e.item.plays===1?"":"s"),1)])]),s("div",D7,[s("span",A7,[O7,O(" "+Y(e.item.plays),1)]),s("span",P7,[R7,O(" "+Y(e.item.goods),1)]),s("span",V7,[M7,O(" "+Y(e.item.bads),1)])])],8,h7)}var N7=Oe(f7,[["render",U7]]);const L7=js("Page.vue"),F7=le({components:{ResponsiveImage:Bf,Youtube:Hf,ListItem:N7},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,filter:{tag:""},hasPlayed:!1,playlist:[],settings:vr(),progress:0,progressInterval:null,inited:!1}},computed:{thumbnailClass(){return this.settings.showThumbnails==="left"?"with-thumbnails-left":this.settings.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"},progressBarClass(){return this.settings.showProgressBar?"with-progress-bar":"without-progress-bar"},classes(){return[this.thumbnailClass,this.progressBarClass]},player(){return this.$refs.youtube},progressValueStyle(){return{width:`${this.progress*100}%`}},playlistItems(){const e=[];for(let t=0;t<this.playlist.length;t++){const n=this.playlist[t];this.isFilteredOut(n,t)||(e[t]=n)}return e},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},hidevideo(){return this.item?!!this.item.hidevideo:!1},item(){return this.filteredPlaylist.length===0?null:this.filteredPlaylist[0]}},watch:{playlist:function(e,t){e.find((n,i)=>!this.isFilteredOut(n,i))||this.player.stop()},filter:function(e,t){this.playlist.find((n,i)=>!this.isFilteredOut(n,i))||this.player.stop()}},created(){Vn(()=>Promise.resolve({}),["assets/main.ab84735b.css"])},mounted(){this.ws=$n.wsClient(this.wdata),this.ws.onMessage(["save","settings"],e=>{this.applySettings(e.settings)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const n=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==n&&this.play()}),this.ws.onMessage(["filter"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(n=>n.id===t)||this.play()}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||(this.hasPlayed?this.unpause():this.play())}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["stats","video","playIdx","shuffle"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.settings.initAutoplay&&this.play(),this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{isFilteredOut(e,t){return this.settings.maxItemsShown>=0&&this.settings.maxItemsShown-1<t?!0:this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},ended(){this.sendMsg({event:"ended"})},sendMsg(e){if(!this.ws){L7.error("sendMsg, ws not defined");return}this.ws.send(JSON.stringify(e))},play(){this.hasPlayed=!0,this.adjustVolume(),this.item&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.item&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.item&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(){this.player&&this.player.setVolume(this.settings.volume)},applySettings(e){if(this.settings.customCss!==e.customCss){let t=document.getElementById("customCss");t&&t.parentElement&&t.parentElement.removeChild(t),t=document.createElement("style"),t.id="customCss",t.textContent=e.customCss,document.head.appendChild(t)}this.settings.showProgressBar!==e.showProgressBar&&(this.progressInterval&&window.clearInterval(this.progressInterval),e.showProgressBar&&(this.progressInterval=window.setInterval(()=>{this.player&&(this.progress=this.player.getProgress())},500))),this.settings=e,this.adjustVolume()}}}),B7={class:"player video-16-9"},H7={key:1,class:"hide-video"},z7={key:2,class:"progress"},j7={class:"list"};function W7(e,t,n,i,a,l){const o=j("responsive-image"),r=j("youtube-player"),u=j("list-item");return p(),y("div",{class:Se(["wrapper",e.classes])},[s("div",B7,[e.hidevideo&&e.settings.hideVideoImage.file?(p(),Ce(o,{key:0,class:"hide-video",src:e.settings.hideVideoImage.urlpath},null,8,["src"])):e.hidevideo?(p(),y("div",H7)):M("",!0),e.settings.showProgressBar?(p(),y("div",z7,[s("div",{class:"progress-value",style:at(e.progressValueStyle)},null,4)])):M("",!0),K(r,{ref:"youtube",onEnded:e.ended},null,8,["onEnded"])]),s("ol",j7,[(p(!0),y(ee,null,de(e.playlistItems,(d,c)=>(p(),Ce(u,{key:c,class:Se(c===0?"playing":"not-playing"),item:d,"show-thumbnails":e.settings.showThumbnails},null,8,["class","item","show-thumbnails"]))),128))])],2)}var x7=Oe(F7,[["render",W7]]);const K7=le({components:{AvatarPage:gM,DrawcastDrawPage:wN,DrawcastControlPage:BN,DrawcastReceivePage:jN,MediaPage:KN,EmoteWallPage:YN,PomoPage:n7,SpeechToTextPage:c7,SrPage:x7},data:()=>({data:null,error:""}),computed:{widget(){return this.data?this.data.widget:null}},async created(){this.error="";const e=this.$route.name==="pub"?await vt.getPubData(`${this.$route.params.pub_id}`):await vt.getWidgetData(`${this.$route.params.widget_type}`,`${this.$route.params.widget_token}`);if(e.status!==200){this.error="Widget not found...";return}const t=await e.json();document.title=t.title,this.data=t}}),J7={key:11},G7={key:12};function Y7(e,t,n,i,a,l){const o=j("avatar-page"),r=j("drawcast-draw-page"),u=j("drawcast-control-page"),d=j("drawcast-receive-page"),c=j("media-page"),f=j("emote-wall-page"),h=j("pomo-page"),m=j("speech-to-text-page"),v=j("sr-page");return e.widget==="avatar"?(p(),Ce(o,{key:0,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="avatar_receive"?(p(),Ce(o,{key:1,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="drawcast_draw"?(p(),Ce(r,{key:2,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_control"?(p(),Ce(u,{key:3,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_receive"?(p(),Ce(d,{key:4,wdata:e.data},null,8,["wdata"])):e.widget==="media"?(p(),Ce(c,{key:5,wdata:e.data},null,8,["wdata"])):e.widget==="emote_wall"?(p(),Ce(f,{key:6,wdata:e.data},null,8,["wdata"])):e.widget==="pomo"?(p(),Ce(h,{key:7,wdata:e.data},null,8,["wdata"])):e.widget==="speech-to-text"?(p(),Ce(m,{key:8,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="speech-to-text_receive"?(p(),Ce(m,{key:9,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="sr"?(p(),Ce(v,{key:10,wdata:e.data},null,8,["wdata"])):e.error?(p(),y("div",G7,Y(e.error),1)):(p(),y("div",J7," Loading... "))}var ed=Oe(K7,[["render",Y7]]);const X7=async()=>{const e=av({history:Sg(),routes:[{name:"index",path:"/",component:vy,meta:{title:"Hyottoko.club",protected:!0}},{name:"login",path:"/login",component:Zy,meta:{title:"Login",protected:!1}},{name:"register",path:"/register",component:y0,meta:{title:"Register",protected:!1}},{name:"password-reset",path:"/password-reset",component:T_,meta:{title:"Password Reset",protected:!1}},{name:"forgot-password",path:"/forgot-password",component:j_,meta:{title:"Forgot Password",protected:!1}},{name:"commands",path:"/commands/",component:w$,meta:{title:"Commands",protected:!0}},{name:"variables",path:"/variables/",component:Lb,meta:{title:"Variables",protected:!0}},{name:"sr",path:"/sr/",component:r$,meta:{title:"Song Request",protected:!0}},{name:"speech-to-text",path:"/speech-to-text/",component:IC,meta:{title:"Speech to text",protected:!0}},{name:"avatar",path:"/avatar/",component:f_,meta:{title:"Avatar",protected:!0}},{name:"pomo",path:"/pomo/",component:V2,meta:{title:"Pomo",protected:!0}},{name:"drawcast",path:"/drawcast/",component:_b,meta:{title:"Drawcast",protected:!0}},{name:"settings",path:"/settings/",component:uw,meta:{title:"Settings",protected:!0}},{name:"widget",path:"/widget/:widget_type/:widget_token/",component:ed,meta:{title:"Widget",protected:!1}},{name:"pub",path:"/pub/:pub_id/",component:ed,meta:{title:"Pub",protected:!1}}]});let t=!1;e.beforeEach(async(i,a,l)=>{if(i.name==="widget"||i.name==="pub"){l();return}if(t||(Vn(()=>Promise.resolve({}),["assets/style.ad6cd699.css"]),dn.eventBus.on("login",()=>{xu.init()}),dn.eventBus.on("logout",()=>{xu.stop()}),dn.eventBus.on("darkmode",o=>{o?document.documentElement.classList.add("darkmode"):document.documentElement.classList.remove("darkmode")}),await Ff.init(),await bf.init(),await dn.init(),t=!0),i.meta.protected&&!dn.getMe()){l({name:"login"});return}if(!i.meta.protected&&dn.getMe()){l({name:"index"});return}a.name&&document.documentElement.classList.remove(`view-${String(a.name)}`),document.documentElement.classList.add(`view-${String(i.name)}`),document.title=`${i.meta.title}`,l()});const n=fr(ay);n.use(e),n.use(sy,{}),n.component("GlobalUserInfo",JE),n.component("DoubleclickButton",L2),n.component("DropdownButton",RE),n.component("DropdownInput",FE),n.component("CheckboxInput",M2),n.component("VueDraggable",EE),n.component("DurationInput",jE),n.component("DurationDisplay",zE),n.component("MacroSelect",rk),n.component("NavbarElement",Tk),n.component("AudioPlayer",Ik),n.component("ProblemsDialog",Bk),n.component("ResponsiveImage",Bf),n.component("SliderInput",Xk),n.component("UploadInput",cT),n.component("ImageUpload",tk),n.component("SoundUpload",iT),n.component("VolumeSlider",fT),n.component("YoutubePlayer",Hf),n.component("CommandsEditor",lO),n.component("CommandEditor",k4),n.component("MediaCommandEditor",s3),n.component("TextCommandEditor",iD),n.component("DictLookupCommandEditor",nA),n.component("MadochanCreatewordCommandEditor",ZA),n.component("CountdownEditor",QO),n.component("TriggerEditor",pP),n.component("TriggerInfo",NP),n.component("PlaylistEditor",AR),n.component("TagsEditor",P6),n.component("SongRequestSettings",_6),n.component("AvatarEditor",oV),n.component("AvatarSlotDefinitionEditor",yV),n.component("AvatarSlotItemEditor",VV),n.component("AvatarPreview",MV),n.component("AvatarSlotItemStateEditor",jV),n.component("AvatarFrameUpload",YV),n.component("AvatarAnimation",zf),n.mount("#app")};X7();
