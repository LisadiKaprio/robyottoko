const Kf=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}};Kf();const Jf="modulepreload",Er={},Gf="/",Ln=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${Gf}${o}`,o in Er)return;Er[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":Jf,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((u,r)=>{i.addEventListener("load",u),i.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function fa(e,t){const n=Object.create(null),o=e.split(",");for(let a=0;a<o.length;a++)n[o[a]]=!0;return t?a=>!!n[a.toLowerCase()]:a=>!!n[a]}const Yf="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Xf=fa(Yf),Qf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zf=fa(Qf);function sd(e){return!!e||e===""}function lt(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=yt(o)?th(o):lt(o);if(a)for(const l in a)t[l]=a[l]}return t}else{if(yt(e))return e;if(ut(e))return e}}const qf=/;(?![^(]*\))/g,eh=/:(.+)/;function th(e){const t={};return e.split(qf).forEach(n=>{if(n){const o=n.split(eh);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Se(e){let t="";if(yt(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const o=Se(e[n]);o&&(t+=o+" ")}else if(ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function nh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!yt(t)&&(e.class=Se(t)),n&&(e.style=lt(n)),e}function sh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=fs(e[o],t[o]);return n}function fs(e,t){if(e===t)return!0;let n=kr(e),o=kr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Zo(e),o=Zo(t),n||o)return e===t;if(n=ye(e),o=ye(t),n||o)return n&&o?sh(e,t):!1;if(n=ut(e),o=ut(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const i in e){const u=e.hasOwnProperty(i),r=t.hasOwnProperty(i);if(u&&!r||!u&&r||!fs(e[i],t[i]))return!1}}return String(e)===String(t)}function ha(e,t){return e.findIndex(n=>fs(n,t))}const x=e=>yt(e)?e:e==null?"":ye(e)||ut(e)&&(e.toString===id||!Pe(e.toString))?JSON.stringify(e,od,2):String(e),od=(e,t)=>t&&t.__v_isRef?od(e,t.value):so(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a])=>(n[`${o} =>`]=a,n),{})}:Bs(t)?{[`Set(${t.size})`]:[...t.values()]}:ut(t)&&!ye(t)&&!ad(t)?String(t):t,st={},no=[],_n=()=>{},oh=()=>!1,ih=/^on[^a-z]/,di=e=>ih.test(e),Bl=e=>e.startsWith("onUpdate:"),_t=Object.assign,Hl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ah=Object.prototype.hasOwnProperty,Ge=(e,t)=>ah.call(e,t),ye=Array.isArray,so=e=>ci(e)==="[object Map]",Bs=e=>ci(e)==="[object Set]",kr=e=>ci(e)==="[object Date]",Pe=e=>typeof e=="function",yt=e=>typeof e=="string",Zo=e=>typeof e=="symbol",ut=e=>e!==null&&typeof e=="object",zl=e=>ut(e)&&Pe(e.then)&&Pe(e.catch),id=Object.prototype.toString,ci=e=>id.call(e),lh=e=>ci(e).slice(8,-1),ad=e=>ci(e)==="[object Object]",jl=e=>yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lo=fa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ma=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},rh=/-(\w)/g,ln=ma(e=>e.replace(rh,(t,n)=>n?n.toUpperCase():"")),uh=/\B([A-Z])/g,Dn=ma(e=>e.replace(uh,"-$1").toLowerCase()),fi=ma(e=>e.charAt(0).toUpperCase()+e.slice(1)),Fo=ma(e=>e?`on${fi(e)}`:""),ro=(e,t)=>!Object.is(e,t),oo=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Gi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},hs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Tr;const dh=()=>Tr||(Tr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let tn;class Wl{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&tn&&(this.parent=tn,this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=tn;try{return tn=this,t()}finally{tn=n}}}on(){tn=this}off(){tn=this.parent}stop(t){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function ch(e){return new Wl(e)}function ld(e,t=tn){t&&t.active&&t.effects.push(e)}function fh(){return tn}function hh(e){tn&&tn.cleanups.push(e)}const xl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},rd=e=>(e.w&ms)>0,ud=e=>(e.n&ms)>0,mh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ms},ph=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const a=t[o];rd(a)&&!ud(a)?a.delete(e):t[n++]=a,a.w&=~ms,a.n&=~ms}t.length=n}},ul=new WeakMap;let Vo=0,ms=1;const dl=30;let $n;const Vs=Symbol(""),cl=Symbol("");class hi{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ld(this,o)}run(){if(!this.active)return this.fn();let t=$n,n=us;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=$n,$n=this,us=!0,ms=1<<++Vo,Vo<=dl?mh(this):Ir(this),this.fn()}finally{Vo<=dl&&ph(this),ms=1<<--Vo,$n=this.parent,us=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$n===this?this.deferStop=!0:this.active&&(Ir(this),this.onStop&&this.onStop(),this.active=!1)}}function Ir(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function gh(e,t){e.effect&&(e=e.effect.fn);const n=new hi(e);t&&(_t(n,t),t.scope&&ld(n,t.scope)),(!t||!t.lazy)&&n.run();const o=n.run.bind(n);return o.effect=n,o}function vh(e){e.effect.stop()}let us=!0;const dd=[];function Hs(){dd.push(us),us=!1}function zs(){const e=dd.pop();us=e===void 0?!0:e}function rn(e,t,n){if(us&&$n){let o=ul.get(e);o||ul.set(e,o=new Map);let a=o.get(n);a||o.set(n,a=xl()),cd(a)}}function cd(e,t){let n=!1;Vo<=dl?ud(e)||(e.n|=ms,n=!rd(e)):n=!e.has($n),n&&(e.add($n),$n.deps.push(e))}function Kn(e,t,n,o,a,l){const i=ul.get(e);if(!i)return;let u=[];if(t==="clear")u=[...i.values()];else if(n==="length"&&ye(e))i.forEach((r,d)=>{(d==="length"||d>=o)&&u.push(r)});else switch(n!==void 0&&u.push(i.get(n)),t){case"add":ye(e)?jl(n)&&u.push(i.get("length")):(u.push(i.get(Vs)),so(e)&&u.push(i.get(cl)));break;case"delete":ye(e)||(u.push(i.get(Vs)),so(e)&&u.push(i.get(cl)));break;case"set":so(e)&&u.push(i.get(Vs));break}if(u.length===1)u[0]&&fl(u[0]);else{const r=[];for(const d of u)d&&r.push(...d);fl(xl(r))}}function fl(e,t){const n=ye(e)?e:[...e];for(const o of n)o.computed&&Ar(o);for(const o of n)o.computed||Ar(o)}function Ar(e,t){(e!==$n||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const yh=fa("__proto__,__v_isRef,__isVue"),fd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zo)),bh=pa(),$h=pa(!1,!0),wh=pa(!0),_h=pa(!0,!0),Vr=Sh();function Sh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=Ke(this);for(let l=0,i=this.length;l<i;l++)rn(o,"get",l+"");const a=o[t](...n);return a===-1||a===!1?o[t](...n.map(Ke)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Hs();const o=Ke(this)[t].apply(this,n);return zs(),o}}),e}function pa(e=!1,t=!1){return function(o,a,l){if(a==="__v_isReactive")return!e;if(a==="__v_isReadonly")return e;if(a==="__v_isShallow")return t;if(a==="__v_raw"&&l===(e?t?bd:yd:t?vd:gd).get(o))return o;const i=ye(o);if(!e&&i&&Ge(Vr,a))return Reflect.get(Vr,a,l);const u=Reflect.get(o,a,l);return(Zo(a)?fd.has(a):yh(a))||(e||rn(o,"get",a),t)?u:Tt(u)?i&&jl(a)?u:u.value:ut(u)?e?Jl(u):yo(u):u}}const Ch=hd(),Eh=hd(!0);function hd(e=!1){return function(n,o,a,l){let i=n[o];if(Us(i)&&Tt(i)&&!Tt(a))return!1;if(!e&&(!qo(a)&&!Us(a)&&(i=Ke(i),a=Ke(a)),!ye(n)&&Tt(i)&&!Tt(a)))return i.value=a,!0;const u=ye(n)&&jl(o)?Number(o)<n.length:Ge(n,o),r=Reflect.set(n,o,a,l);return n===Ke(l)&&(u?ro(a,i)&&Kn(n,"set",o,a):Kn(n,"add",o,a)),r}}function kh(e,t){const n=Ge(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&Kn(e,"delete",t,void 0),o}function Th(e,t){const n=Reflect.has(e,t);return(!Zo(t)||!fd.has(t))&&rn(e,"has",t),n}function Ih(e){return rn(e,"iterate",ye(e)?"length":Vs),Reflect.ownKeys(e)}const md={get:bh,set:Ch,deleteProperty:kh,has:Th,ownKeys:Ih},pd={get:wh,set(e,t){return!0},deleteProperty(e,t){return!0}},Ah=_t({},md,{get:$h,set:Eh}),Vh=_t({},pd,{get:_h}),Kl=e=>e,ga=e=>Reflect.getPrototypeOf(e);function Si(e,t,n=!1,o=!1){e=e.__v_raw;const a=Ke(e),l=Ke(t);n||(t!==l&&rn(a,"get",t),rn(a,"get",l));const{has:i}=ga(a),u=o?Kl:n?Xl:ei;if(i.call(a,t))return u(e.get(t));if(i.call(a,l))return u(e.get(l));e!==a&&e.get(t)}function Ci(e,t=!1){const n=this.__v_raw,o=Ke(n),a=Ke(e);return t||(e!==a&&rn(o,"has",e),rn(o,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Ei(e,t=!1){return e=e.__v_raw,!t&&rn(Ke(e),"iterate",Vs),Reflect.get(e,"size",e)}function Dr(e){e=Ke(e);const t=Ke(this);return ga(t).has.call(t,e)||(t.add(e),Kn(t,"add",e,e)),this}function Or(e,t){t=Ke(t);const n=Ke(this),{has:o,get:a}=ga(n);let l=o.call(n,e);l||(e=Ke(e),l=o.call(n,e));const i=a.call(n,e);return n.set(e,t),l?ro(t,i)&&Kn(n,"set",e,t):Kn(n,"add",e,t),this}function Pr(e){const t=Ke(this),{has:n,get:o}=ga(t);let a=n.call(t,e);a||(e=Ke(e),a=n.call(t,e)),o&&o.call(t,e);const l=t.delete(e);return a&&Kn(t,"delete",e,void 0),l}function Rr(){const e=Ke(this),t=e.size!==0,n=e.clear();return t&&Kn(e,"clear",void 0,void 0),n}function ki(e,t){return function(o,a){const l=this,i=l.__v_raw,u=Ke(i),r=t?Kl:e?Xl:ei;return!e&&rn(u,"iterate",Vs),i.forEach((d,f)=>o.call(a,r(d),r(f),l))}}function Ti(e,t,n){return function(...o){const a=this.__v_raw,l=Ke(a),i=so(l),u=e==="entries"||e===Symbol.iterator&&i,r=e==="keys"&&i,d=a[e](...o),f=n?Kl:t?Xl:ei;return!t&&rn(l,"iterate",r?cl:Vs),{next(){const{value:c,done:h}=d.next();return h?{value:c,done:h}:{value:u?[f(c[0]),f(c[1])]:f(c),done:h}},[Symbol.iterator](){return this}}}}function qn(e){return function(...t){return e==="delete"?!1:this}}function Dh(){const e={get(l){return Si(this,l)},get size(){return Ei(this)},has:Ci,add:Dr,set:Or,delete:Pr,clear:Rr,forEach:ki(!1,!1)},t={get(l){return Si(this,l,!1,!0)},get size(){return Ei(this)},has:Ci,add:Dr,set:Or,delete:Pr,clear:Rr,forEach:ki(!1,!0)},n={get(l){return Si(this,l,!0)},get size(){return Ei(this,!0)},has(l){return Ci.call(this,l,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:ki(!0,!1)},o={get(l){return Si(this,l,!0,!0)},get size(){return Ei(this,!0)},has(l){return Ci.call(this,l,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:ki(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Ti(l,!1,!1),n[l]=Ti(l,!0,!1),t[l]=Ti(l,!1,!0),o[l]=Ti(l,!0,!0)}),[e,n,t,o]}const[Oh,Ph,Rh,Mh]=Dh();function va(e,t){const n=t?e?Mh:Rh:e?Ph:Oh;return(o,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(Ge(n,a)&&a in o?n:o,a,l)}const Uh={get:va(!1,!1)},Nh={get:va(!1,!0)},Lh={get:va(!0,!1)},Fh={get:va(!0,!0)},gd=new WeakMap,vd=new WeakMap,yd=new WeakMap,bd=new WeakMap;function Bh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hh(e){return e.__v_skip||!Object.isExtensible(e)?0:Bh(lh(e))}function yo(e){return Us(e)?e:ya(e,!1,md,Uh,gd)}function $d(e){return ya(e,!1,Ah,Nh,vd)}function Jl(e){return ya(e,!0,pd,Lh,yd)}function zh(e){return ya(e,!0,Vh,Fh,bd)}function ya(e,t,n,o,a){if(!ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const i=Hh(e);if(i===0)return e;const u=new Proxy(e,i===2?o:n);return a.set(e,u),u}function Ds(e){return Us(e)?Ds(e.__v_raw):!!(e&&e.__v_isReactive)}function Us(e){return!!(e&&e.__v_isReadonly)}function qo(e){return!!(e&&e.__v_isShallow)}function Gl(e){return Ds(e)||Us(e)}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Yl(e){return Gi(e,"__v_skip",!0),e}const ei=e=>ut(e)?yo(e):e,Xl=e=>ut(e)?Jl(e):e;function Ql(e){us&&$n&&(e=Ke(e),cd(e.dep||(e.dep=xl())))}function ba(e,t){e=Ke(e),e.dep&&fl(e.dep)}function Tt(e){return!!(e&&e.__v_isRef===!0)}function Ce(e){return _d(e,!1)}function wd(e){return _d(e,!0)}function _d(e,t){return Tt(e)?e:new jh(e,t)}class jh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ke(t),this._value=n?t:ei(t)}get value(){return Ql(this),this._value}set value(t){const n=this.__v_isShallow||qo(t)||Us(t);t=n?t:Ke(t),ro(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ei(t),ba(this))}}function Wh(e){ba(e)}function tt(e){return Tt(e)?e.value:e}const xh={get:(e,t,n)=>tt(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return Tt(a)&&!Tt(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function Zl(e){return Ds(e)?e:new Proxy(e,xh)}class Kh{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=t(()=>Ql(this),()=>ba(this));this._get=n,this._set=o}get value(){return this._get()}set value(t){this._set(t)}}function Jh(e){return new Kh(e)}function Gh(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=Sd(e,n);return t}class Yh{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Sd(e,t,n){const o=e[t];return Tt(o)?o:new Yh(e,t,n)}var Cd;class Xh{constructor(t,n,o,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Cd]=!1,this._dirty=!0,this.effect=new hi(t,()=>{this._dirty||(this._dirty=!0,ba(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=o}get value(){const t=Ke(this);return Ql(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Cd="__v_isReadonly";function Qh(e,t,n=!1){let o,a;const l=Pe(e);return l?(o=e,a=_n):(o=e.get,a=e.set),new Xh(o,a,l||!a,n)}const Bo=[];function Ed(e,...t){Hs();const n=Bo.length?Bo[Bo.length-1].component:null,o=n&&n.appContext.config.warnHandler,a=Zh();if(o)On(o,n,11,[e+t.join(""),n&&n.proxy,a.map(({vnode:l})=>`at <${pc(n,l.type)}>`).join(`
`),a]);else{const l=[`[Vue warn]: ${e}`,...t];a.length&&l.push(`
`,...qh(a)),console.warn(...l)}zs()}function Zh(){let e=Bo[Bo.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function qh(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...em(n))}),t}function em({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,a=` at <${pc(e.component,e.type,o)}`,l=">"+n;return e.props?[a,...tm(e.props),l]:[a+l]}function tm(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...kd(o,e[o]))}),n.length>3&&t.push(" ..."),t}function kd(e,t,n){return yt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Tt(t)?(t=kd(e,Ke(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Pe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ke(t),n?t:[`${e}=`,t])}function On(e,t,n,o){let a;try{a=o?e(...o):e()}catch(l){js(l,t,n)}return a}function an(e,t,n,o){if(Pe(e)){const l=On(e,t,n,o);return l&&zl(l)&&l.catch(i=>{js(i,t,n)}),l}const a=[];for(let l=0;l<e.length;l++)a.push(an(e[l],t,n,o));return a}function js(e,t,n,o=!0){const a=t?t.vnode:null;if(t){let l=t.parent;const i=t.proxy,u=n;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,i,u)===!1)return}l=l.parent}const r=t.appContext.config.errorHandler;if(r){On(r,null,10,[e,i,u]);return}}nm(e,n,a,o)}function nm(e,t,n,o=!0){console.error(e)}let ti=!1,hl=!1;const Rt=[];let An=0;const io=[];let zn=null,ks=0;const Td=Promise.resolve();let ql=null;function mi(e){const t=ql||Td;return e?t.then(this?e.bind(this):e):t}function sm(e){let t=An+1,n=Rt.length;for(;t<n;){const o=t+n>>>1;ni(Rt[o])<e?t=o+1:n=o}return t}function $a(e){(!Rt.length||!Rt.includes(e,ti&&e.allowRecurse?An+1:An))&&(e.id==null?Rt.push(e):Rt.splice(sm(e.id),0,e),Id())}function Id(){!ti&&!hl&&(hl=!0,ql=Td.then(Ad))}function om(e){const t=Rt.indexOf(e);t>An&&Rt.splice(t,1)}function er(e){ye(e)?io.push(...e):(!zn||!zn.includes(e,e.allowRecurse?ks+1:ks))&&io.push(e),Id()}function Mr(e,t=ti?An+1:0){for(;t<Rt.length;t++){const n=Rt[t];n&&n.pre&&(Rt.splice(t,1),t--,n())}}function Yi(e){if(io.length){const t=[...new Set(io)];if(io.length=0,zn){zn.push(...t);return}for(zn=t,zn.sort((n,o)=>ni(n)-ni(o)),ks=0;ks<zn.length;ks++)zn[ks]();zn=null,ks=0}}const ni=e=>e.id==null?1/0:e.id,im=(e,t)=>{const n=ni(e)-ni(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Ad(e){hl=!1,ti=!0,Rt.sort(im);const t=_n;try{for(An=0;An<Rt.length;An++){const n=Rt[An];n&&n.active!==!1&&On(n,null,14)}}finally{An=0,Rt.length=0,Yi(),ti=!1,ql=null,(Rt.length||io.length)&&Ad()}}let Qs,Ii=[];function Vd(e,t){var n,o;Qs=e,Qs?(Qs.enabled=!0,Ii.forEach(({event:a,args:l})=>Qs.emit(a,...l)),Ii=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((o=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Vd(l,t)}),setTimeout(()=>{Qs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ii=[])},3e3)):Ii=[]}function am(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||st;let a=n;const l=t.startsWith("update:"),i=l&&t.slice(7);if(i&&i in o){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:c,trim:h}=o[f]||st;h&&(a=n.map(m=>m.trim())),c&&(a=n.map(hs))}let u,r=o[u=Fo(t)]||o[u=Fo(ln(t))];!r&&l&&(r=o[u=Fo(Dn(t))]),r&&an(r,e,6,a);const d=o[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,an(d,e,6,a)}}function Dd(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(a!==void 0)return a;const l=e.emits;let i={},u=!1;if(!Pe(e)){const r=d=>{const f=Dd(d,t,!0);f&&(u=!0,_t(i,f))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!l&&!u?(ut(e)&&o.set(e,null),null):(ye(l)?l.forEach(r=>i[r]=null):_t(i,l),ut(e)&&o.set(e,i),i)}function wa(e,t){return!e||!di(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,Dn(t))||Ge(e,t))}let Ut=null,_a=null;function si(e){const t=Ut;return Ut=e,_a=e&&e.type.__scopeId||null,t}function En(e){_a=e}function kn(){_a=null}const lm=e=>rt;function rt(e,t=Ut,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&$l(-1);const l=si(t),i=e(...a);return si(l),o._d&&$l(1),i};return o._n=!0,o._c=!0,o._d=!0,o}function Fi(e){const{type:t,vnode:n,proxy:o,withProxy:a,props:l,propsOptions:[i],slots:u,attrs:r,emit:d,render:f,renderCache:c,data:h,setupState:m,ctx:g,inheritAttrs:b}=e;let w,_;const y=si(e);try{if(n.shapeFlag&4){const S=a||o;w=nn(f.call(S,S,c,l,m,h,g)),_=r}else{const S=t;w=nn(S.length>1?S(l,{attrs:r,slots:u,emit:d}):S(l,null)),_=t.props?r:um(r)}}catch(S){jo.length=0,js(S,e,1),w=V(Nt)}let $=w;if(_&&b!==!1){const S=Object.keys(_),{shapeFlag:E}=$;S.length&&E&7&&(i&&S.some(Bl)&&(_=dm(_,i)),$=Mn($,_))}return n.dirs&&($=Mn($),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),w=$,si(y),w}function rm(e){let t;for(let n=0;n<e.length;n++){const o=e[n];if(ps(o)){if(o.type!==Nt||o.children==="v-if"){if(t)return;t=o}}else return}return t}const um=e=>{let t;for(const n in e)(n==="class"||n==="style"||di(n))&&((t||(t={}))[n]=e[n]);return t},dm=(e,t)=>{const n={};for(const o in e)(!Bl(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function cm(e,t,n){const{props:o,children:a,component:l}=e,{props:i,children:u,patchFlag:r}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&r>=0){if(r&1024)return!0;if(r&16)return o?Ur(o,i,d):!!i;if(r&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const h=f[c];if(i[h]!==o[h]&&!wa(d,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:o===i?!1:o?i?Ur(o,i,d):!0:!!i;return!1}function Ur(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const l=o[a];if(t[l]!==e[l]&&!wa(n,l))return!0}return!1}function tr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Od=e=>e.__isSuspense,fm={name:"Suspense",__isSuspense:!0,process(e,t,n,o,a,l,i,u,r,d){e==null?mm(t,n,o,a,l,i,u,r,d):pm(e,t,n,o,a,i,u,r,d)},hydrate:gm,create:nr,normalize:vm},hm=fm;function oi(e,t){const n=e.props&&e.props[t];Pe(n)&&n()}function mm(e,t,n,o,a,l,i,u,r){const{p:d,o:{createElement:f}}=r,c=f("div"),h=e.suspense=nr(e,a,o,t,c,n,l,i,u,r);d(null,h.pendingBranch=e.ssContent,c,null,o,h,l,i),h.deps>0?(oi(e,"onPending"),oi(e,"onFallback"),d(null,e.ssFallback,t,n,o,null,l,i),ao(h,e.ssFallback)):h.resolve()}function pm(e,t,n,o,a,l,i,u,{p:r,um:d,o:{createElement:f}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const h=t.ssContent,m=t.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:w,isHydrating:_}=c;if(b)c.pendingBranch=h,Vn(h,b)?(r(b,h,c.hiddenContainer,null,a,c,l,i,u),c.deps<=0?c.resolve():w&&(r(g,m,n,o,a,null,l,i,u),ao(c,m))):(c.pendingId++,_?(c.isHydrating=!1,c.activeBranch=b):d(b,a,c),c.deps=0,c.effects.length=0,c.hiddenContainer=f("div"),w?(r(null,h,c.hiddenContainer,null,a,c,l,i,u),c.deps<=0?c.resolve():(r(g,m,n,o,a,null,l,i,u),ao(c,m))):g&&Vn(h,g)?(r(g,h,n,o,a,c,l,i,u),c.resolve(!0)):(r(null,h,c.hiddenContainer,null,a,c,l,i,u),c.deps<=0&&c.resolve()));else if(g&&Vn(h,g))r(g,h,n,o,a,c,l,i,u),ao(c,h);else if(oi(t,"onPending"),c.pendingBranch=h,c.pendingId++,r(null,h,c.hiddenContainer,null,a,c,l,i,u),c.deps<=0)c.resolve();else{const{timeout:y,pendingId:$}=c;y>0?setTimeout(()=>{c.pendingId===$&&c.fallback(m)},y):y===0&&c.fallback(m)}}function nr(e,t,n,o,a,l,i,u,r,d,f=!1){const{p:c,m:h,um:m,n:g,o:{parentNode:b,remove:w}}=d,_=hs(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:i,container:o,hiddenContainer:a,anchor:l,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve($=!1){const{vnode:S,activeBranch:E,pendingBranch:k,pendingId:M,effects:P,parentComponent:I,container:U}=y;if(y.isHydrating)y.isHydrating=!1;else if(!$){const z=E&&k.transition&&k.transition.mode==="out-in";z&&(E.transition.afterLeave=()=>{M===y.pendingId&&h(k,U,B,0)});let{anchor:B}=y;E&&(B=g(E),m(E,I,y,!0)),z||h(k,U,B,0)}ao(y,k),y.pendingBranch=null,y.isInFallback=!1;let H=y.parent,W=!1;for(;H;){if(H.pendingBranch){H.effects.push(...P),W=!0;break}H=H.parent}W||er(P),y.effects=[],oi(S,"onResolve")},fallback($){if(!y.pendingBranch)return;const{vnode:S,activeBranch:E,parentComponent:k,container:M,isSVG:P}=y;oi(S,"onFallback");const I=g(E),U=()=>{!y.isInFallback||(c(null,$,M,I,k,null,P,u,r),ao(y,$))},H=$.transition&&$.transition.mode==="out-in";H&&(E.transition.afterLeave=U),y.isInFallback=!0,m(E,k,null,!0),H||U()},move($,S,E){y.activeBranch&&h(y.activeBranch,$,S,E),y.container=$},next(){return y.activeBranch&&g(y.activeBranch)},registerDep($,S){const E=!!y.pendingBranch;E&&y.deps++;const k=$.vnode.el;$.asyncDep.catch(M=>{js(M,$,0)}).then(M=>{if($.isUnmounted||y.isUnmounted||y.pendingId!==$.suspenseId)return;$.asyncResolved=!0;const{vnode:P}=$;wl($,M,!1),k&&(P.el=k);const I=!k&&$.subTree.el;S($,P,b(k||$.subTree.el),k?null:g($.subTree),y,i,r),I&&w(I),tr($,P.el),E&&--y.deps===0&&y.resolve()})},unmount($,S){y.isUnmounted=!0,y.activeBranch&&m(y.activeBranch,n,$,S),y.pendingBranch&&m(y.pendingBranch,n,$,S)}};return y}function gm(e,t,n,o,a,l,i,u,r){const d=t.suspense=nr(t,o,n,e.parentNode,document.createElement("div"),null,a,l,i,u,!0),f=r(e,d.pendingBranch=t.ssContent,n,d,l,i);return d.deps===0&&d.resolve(),f}function vm(e){const{shapeFlag:t,children:n}=e,o=t&32;e.ssContent=Nr(o?n.default:n),e.ssFallback=o?Nr(n.fallback):V(Nt)}function Nr(e){let t;if(Pe(e)){const n=Ls&&e._c;n&&(e._d=!1,p()),e=e(),n&&(e._d=!0,t=Gt,ic())}return ye(e)&&(e=rm(e)),e=nn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Pd(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):er(e)}function ao(e,t){e.activeBranch=t;const{vnode:n,parentComponent:o}=e,a=n.el=t.el;o&&o.subTree===n&&(o.vnode.el=a,tr(o,a))}function Ho(e,t){if(kt){let n=kt.provides;const o=kt.parent&&kt.parent.provides;o===n&&(n=kt.provides=Object.create(o)),n[e]=t}}function hn(e,t,n=!1){const o=kt||Ut;if(o){const a=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Pe(t)?t.call(o.proxy):t}}function ym(e,t){return pi(e,null,t)}function Rd(e,t){return pi(e,null,{flush:"post"})}function bm(e,t){return pi(e,null,{flush:"sync"})}const Lr={};function It(e,t,n){return pi(e,t,n)}function pi(e,t,{immediate:n,deep:o,flush:a,onTrack:l,onTrigger:i}=st){const u=kt;let r,d=!1,f=!1;if(Tt(e)?(r=()=>e.value,d=qo(e)):Ds(e)?(r=()=>e,o=!0):ye(e)?(f=!0,d=e.some(_=>Ds(_)||qo(_)),r=()=>e.map(_=>{if(Tt(_))return _.value;if(Ds(_))return Is(_);if(Pe(_))return On(_,u,2)})):Pe(e)?t?r=()=>On(e,u,2):r=()=>{if(!(u&&u.isUnmounted))return c&&c(),an(e,u,3,[h])}:r=_n,t&&o){const _=r;r=()=>Is(_())}let c,h=_=>{c=w.onStop=()=>{On(_,u,4)}};if(fo)return h=_n,t?n&&an(t,u,3,[r(),f?[]:void 0,h]):r(),_n;let m=f?[]:Lr;const g=()=>{if(!!w.active)if(t){const _=w.run();(o||d||(f?_.some((y,$)=>ro(y,m[$])):ro(_,m)))&&(c&&c(),an(t,u,3,[_,m===Lr?void 0:m,h]),m=_)}else w.run()};g.allowRecurse=!!t;let b;a==="sync"?b=g:a==="post"?b=()=>Vt(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),b=()=>$a(g));const w=new hi(r,b);return t?n?g():m=w.run():a==="post"?Vt(w.run.bind(w),u&&u.suspense):w.run(),()=>{w.stop(),u&&u.scope&&Hl(u.scope.effects,w)}}function $m(e,t,n){const o=this.proxy,a=yt(e)?e.includes(".")?Md(o,e):()=>o[e]:e.bind(o,o);let l;Pe(t)?l=t:(l=t.handler,n=t);const i=kt;gs(this);const u=pi(a,l.bind(o),n);return i?gs(i):ds(),u}function Md(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}function Is(e,t){if(!ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Tt(e))Is(e.value,t);else if(ye(e))for(let n=0;n<e.length;n++)Is(e[n],t);else if(Bs(e)||so(e))e.forEach(n=>{Is(n,t)});else if(ad(e))for(const n in e)Is(e[n],t);return e}function sr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht(()=>{e.isMounted=!0}),ka(()=>{e.isUnmounting=!0}),e}const un=[Function,Array],wm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},setup(e,{slots:t}){const n=Xn(),o=sr();let a;return()=>{const l=t.default&&Sa(t.default(),!0);if(!l||!l.length)return;let i=l[0];if(l.length>1){for(const b of l)if(b.type!==Nt){i=b;break}}const u=Ke(e),{mode:r}=u;if(o.isLeaving)return za(i);const d=Fr(i);if(!d)return za(i);const f=uo(d,u,o,n);Ns(d,f);const c=n.subTree,h=c&&Fr(c);let m=!1;const{getTransitionKey:g}=d.type;if(g){const b=g();a===void 0?a=b:b!==a&&(a=b,m=!0)}if(h&&h.type!==Nt&&(!Vn(d,h)||m)){const b=uo(h,u,o,n);if(Ns(h,b),r==="out-in")return o.isLeaving=!0,b.afterLeave=()=>{o.isLeaving=!1,n.update()},za(i);r==="in-out"&&d.type!==Nt&&(b.delayLeave=(w,_,y)=>{const $=Ud(o,h);$[String(h.key)]=h,w._leaveCb=()=>{_(),w._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=y})}return i}}},or=wm;function Ud(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function uo(e,t,n,o){const{appear:a,mode:l,persisted:i=!1,onBeforeEnter:u,onEnter:r,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:c,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:w,onAfterAppear:_,onAppearCancelled:y}=t,$=String(e.key),S=Ud(n,e),E=(P,I)=>{P&&an(P,o,9,I)},k=(P,I)=>{const U=I[1];E(P,I),ye(P)?P.every(H=>H.length<=1)&&U():P.length<=1&&U()},M={mode:l,persisted:i,beforeEnter(P){let I=u;if(!n.isMounted)if(a)I=b||u;else return;P._leaveCb&&P._leaveCb(!0);const U=S[$];U&&Vn(e,U)&&U.el._leaveCb&&U.el._leaveCb(),E(I,[P])},enter(P){let I=r,U=d,H=f;if(!n.isMounted)if(a)I=w||r,U=_||d,H=y||f;else return;let W=!1;const z=P._enterCb=B=>{W||(W=!0,B?E(H,[P]):E(U,[P]),M.delayedLeave&&M.delayedLeave(),P._enterCb=void 0)};I?k(I,[P,z]):z()},leave(P,I){const U=String(e.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return I();E(c,[P]);let H=!1;const W=P._leaveCb=z=>{H||(H=!0,I(),z?E(g,[P]):E(m,[P]),P._leaveCb=void 0,S[U]===e&&delete S[U])};S[U]=e,h?k(h,[P,W]):W()},clone(P){return uo(P,t,n,o)}};return M}function za(e){if(gi(e))return e=Mn(e),e.children=null,e}function Fr(e){return gi(e)?e.children?e.children[0]:void 0:e}function Ns(e,t){e.shapeFlag&6&&e.component?Ns(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Sa(e,t=!1,n){let o=[],a=0;for(let l=0;l<e.length;l++){let i=e[l];const u=n==null?i.key:String(n)+String(i.key!=null?i.key:l);i.type===Y?(i.patchFlag&128&&a++,o=o.concat(Sa(i.children,t,u))):(t||i.type!==Nt)&&o.push(u!=null?Mn(i,{key:u}):i)}if(a>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function ae(e){return Pe(e)?{setup:e,name:e.name}:e}const Os=e=>!!e.type.__asyncLoader;function _m(e){Pe(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:a=200,timeout:l,suspensible:i=!0,onError:u}=e;let r=null,d,f=0;const c=()=>(f++,r=null,h()),h=()=>{let m;return r||(m=r=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),u)return new Promise((b,w)=>{u(g,()=>b(c()),()=>w(g),f+1)});throw g}).then(g=>m!==r&&r?r:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),d=g,g)))};return ae({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return d},setup(){const m=kt;if(d)return()=>ja(d,m);const g=y=>{r=null,js(y,m,13,!o)};if(i&&m.suspense||fo)return h().then(y=>()=>ja(y,m)).catch(y=>(g(y),()=>o?V(o,{error:y}):null));const b=Ce(!1),w=Ce(),_=Ce(!!a);return a&&setTimeout(()=>{_.value=!1},a),l!=null&&setTimeout(()=>{if(!b.value&&!w.value){const y=new Error(`Async component timed out after ${l}ms.`);g(y),w.value=y}},l),h().then(()=>{b.value=!0,m.parent&&gi(m.parent.vnode)&&$a(m.parent.update)}).catch(y=>{g(y),w.value=y}),()=>{if(b.value&&d)return ja(d,m);if(w.value&&o)return V(o,{error:w.value});if(n&&!_.value)return V(n)}}})}function ja(e,{vnode:{ref:t,props:n,children:o,shapeFlag:a},parent:l}){const i=V(e,n,o);return i.ref=t,i}const gi=e=>e.type.__isKeepAlive,Sm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Xn(),o=n.ctx;if(!o.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const a=new Map,l=new Set;let i=null;const u=n.suspense,{renderer:{p:r,m:d,um:f,o:{createElement:c}}}=o,h=c("div");o.activate=(y,$,S,E,k)=>{const M=y.component;d(y,$,S,0,u),r(M.vnode,y,$,S,M,u,E,y.slotScopeIds,k),Vt(()=>{M.isDeactivated=!1,M.a&&oo(M.a);const P=y.props&&y.props.onVnodeMounted;P&&Kt(P,M.parent,y)},u)},o.deactivate=y=>{const $=y.component;d(y,h,null,1,u),Vt(()=>{$.da&&oo($.da);const S=y.props&&y.props.onVnodeUnmounted;S&&Kt(S,$.parent,y),$.isDeactivated=!0},u)};function m(y){Wa(y),f(y,n,u,!0)}function g(y){a.forEach(($,S)=>{const E=ea($.type);E&&(!y||!y(E))&&b(S)})}function b(y){const $=a.get(y);!i||$.type!==i.type?m($):i&&Wa(i),a.delete(y),l.delete(y)}It(()=>[e.include,e.exclude],([y,$])=>{y&&g(S=>Do(y,S)),$&&g(S=>!Do($,S))},{flush:"post",deep:!0});let w=null;const _=()=>{w!=null&&a.set(w,xa(n.subTree))};return Ht(_),Ea(_),ka(()=>{a.forEach(y=>{const{subTree:$,suspense:S}=n,E=xa($);if(y.type===E.type){Wa(E);const k=E.component.da;k&&Vt(k,S);return}m(y)})}),()=>{if(w=null,!t.default)return null;const y=t.default(),$=y[0];if(y.length>1)return i=null,y;if(!ps($)||!($.shapeFlag&4)&&!($.shapeFlag&128))return i=null,$;let S=xa($);const E=S.type,k=ea(Os(S)?S.type.__asyncResolved||{}:E),{include:M,exclude:P,max:I}=e;if(M&&(!k||!Do(M,k))||P&&k&&Do(P,k))return i=S,$;const U=S.key==null?E:S.key,H=a.get(U);return S.el&&(S=Mn(S),$.shapeFlag&128&&($.ssContent=S)),w=U,H?(S.el=H.el,S.component=H.component,S.transition&&Ns(S,S.transition),S.shapeFlag|=512,l.delete(U),l.add(U)):(l.add(U),I&&l.size>parseInt(I,10)&&b(l.values().next().value)),S.shapeFlag|=256,i=S,Od($.type)?$:S}}},Cm=Sm;function Do(e,t){return ye(e)?e.some(n=>Do(n,t)):yt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Nd(e,t){Fd(e,"a",t)}function Ld(e,t){Fd(e,"da",t)}function Fd(e,t,n=kt){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Ca(t,o,n),n){let a=n.parent;for(;a&&a.parent;)gi(a.parent.vnode)&&Em(o,t,n,a),a=a.parent}}function Em(e,t,n,o){const a=Ca(t,e,o,!0);Yn(()=>{Hl(o[t],a)},n)}function Wa(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function xa(e){return e.shapeFlag&128?e.ssContent:e}function Ca(e,t,n=kt,o=!1){if(n){const a=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Hs(),gs(n);const u=an(t,n,e,i);return ds(),zs(),u});return o?a.unshift(l):a.push(l),l}}const Gn=e=>(t,n=kt)=>(!fo||e==="sp")&&Ca(e,t,n),Bd=Gn("bm"),Ht=Gn("m"),Hd=Gn("bu"),Ea=Gn("u"),ka=Gn("bum"),Yn=Gn("um"),zd=Gn("sp"),jd=Gn("rtg"),Wd=Gn("rtc");function xd(e,t=kt){Ca("ec",e,t)}function K(e,t){const n=Ut;if(n===null)return e;const o=Aa(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[i,u,r,d=st]=t[l];Pe(i)&&(i={mounted:i,updated:i}),i.deep&&Is(u),a.push({dir:i,instance:o,value:u,oldValue:void 0,arg:r,modifiers:d})}return e}function In(e,t,n,o){const a=e.dirs,l=t&&t.dirs;for(let i=0;i<a.length;i++){const u=a[i];l&&(u.oldValue=l[i].value);let r=u.dir[o];r&&(Hs(),an(r,n,8,[e.el,u,e,t]),zs())}}const ir="components",km="directives";function F(e,t){return ar(ir,e,!0,t)||e}const Kd=Symbol();function Ta(e){return yt(e)?ar(ir,e,!1)||e:e||Kd}function Tm(e){return ar(km,e)}function ar(e,t,n=!0,o=!1){const a=Ut||kt;if(a){const l=a.type;if(e===ir){const u=ea(l,!1);if(u&&(u===t||u===ln(t)||u===fi(ln(t))))return l}const i=Br(a[e]||l[e],t)||Br(a.appContext[e],t);return!i&&o?l:i}}function Br(e,t){return e&&(e[t]||e[ln(t)]||e[fi(ln(t))])}function oe(e,t,n,o){let a;const l=n&&n[o];if(ye(e)||yt(e)){a=new Array(e.length);for(let i=0,u=e.length;i<u;i++)a[i]=t(e[i],i,void 0,l&&l[i])}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,l&&l[i])}else if(ut(e))if(e[Symbol.iterator])a=Array.from(e,(i,u)=>t(i,u,void 0,l&&l[u]));else{const i=Object.keys(e);a=new Array(i.length);for(let u=0,r=i.length;u<r;u++){const d=i[u];a[u]=t(e[d],d,u,l&&l[u])}}else a=[];return n&&(n[o]=a),a}function Im(e,t){for(let n=0;n<t.length;n++){const o=t[n];if(ye(o))for(let a=0;a<o.length;a++)e[o[a].name]=o[a].fn;else o&&(e[o.name]=o.key?(...a)=>{const l=o.fn(...a);return l.key=o.key,l}:o.fn)}return e}function lr(e,t,n={},o,a){if(Ut.isCE||Ut.parent&&Os(Ut.parent)&&Ut.parent.isCE)return V("slot",t==="default"?null:{name:t},o&&o());let l=e[t];l&&l._c&&(l._d=!1),p();const i=l&&Jd(l(n)),u=_e(Y,{key:n.key||i&&i.key||`_${t}`},i||(o?o():[]),i&&e._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),l&&l._c&&(l._d=!0),u}function Jd(e){return e.some(t=>ps(t)?!(t.type===Nt||t.type===Y&&!Jd(t.children)):!0)?e:null}function Gd(e,t){const n={};for(const o in e)n[t&&/[A-Z]/.test(o)?`on:${o}`:Fo(o)]=e[o];return n}const ml=e=>e?cc(e)?Aa(e)||e.proxy:ml(e.parent):null,Xi=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ml(e.parent),$root:e=>ml(e.root),$emit:e=>e.emit,$options:e=>rr(e),$forceUpdate:e=>e.f||(e.f=()=>$a(e.update)),$nextTick:e=>e.n||(e.n=mi.bind(e.proxy)),$watch:e=>$m.bind(e)}),pl={get({_:e},t){const{ctx:n,setupState:o,data:a,props:l,accessCache:i,type:u,appContext:r}=e;let d;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(o!==st&&Ge(o,t))return i[t]=1,o[t];if(a!==st&&Ge(a,t))return i[t]=2,a[t];if((d=e.propsOptions[0])&&Ge(d,t))return i[t]=3,l[t];if(n!==st&&Ge(n,t))return i[t]=4,n[t];gl&&(i[t]=0)}}const f=Xi[t];let c,h;if(f)return t==="$attrs"&&rn(e,"get",t),f(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(n!==st&&Ge(n,t))return i[t]=4,n[t];if(h=r.config.globalProperties,Ge(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:l}=e;return a!==st&&Ge(a,t)?(a[t]=n,!0):o!==st&&Ge(o,t)?(o[t]=n,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:l}},i){let u;return!!n[i]||e!==st&&Ge(e,i)||t!==st&&Ge(t,i)||(u=l[0])&&Ge(u,i)||Ge(o,i)||Ge(Xi,i)||Ge(a.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Am=_t({},pl,{get(e,t){if(t!==Symbol.unscopables)return pl.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Xf(t)}});let gl=!0;function Vm(e){const t=rr(e),n=e.proxy,o=e.ctx;gl=!1,t.beforeCreate&&Hr(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:i,watch:u,provide:r,inject:d,created:f,beforeMount:c,mounted:h,beforeUpdate:m,updated:g,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:y,destroyed:$,unmounted:S,render:E,renderTracked:k,renderTriggered:M,errorCaptured:P,serverPrefetch:I,expose:U,inheritAttrs:H,components:W,directives:z,filters:B}=t;if(d&&Dm(d,o,null,e.appContext.config.unwrapInjectedRef),i)for(const re in i){const ve=i[re];Pe(ve)&&(o[re]=ve.bind(n))}if(a){const re=a.call(n,n);ut(re)&&(e.data=yo(re))}if(gl=!0,l)for(const re in l){const ve=l[re],ze=Pe(ve)?ve.bind(n,n):Pe(ve.get)?ve.get.bind(n,n):_n,ft=!Pe(ve)&&Pe(ve.set)?ve.set.bind(n):_n,Ze=ot({get:ze,set:ft});Object.defineProperty(o,re,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Ye=>Ze.value=Ye})}if(u)for(const re in u)Yd(u[re],o,n,re);if(r){const re=Pe(r)?r.call(n):r;Reflect.ownKeys(re).forEach(ve=>{Ho(ve,re[ve])})}f&&Hr(f,e,"c");function X(re,ve){ye(ve)?ve.forEach(ze=>re(ze.bind(n))):ve&&re(ve.bind(n))}if(X(Bd,c),X(Ht,h),X(Hd,m),X(Ea,g),X(Nd,b),X(Ld,w),X(xd,P),X(Wd,k),X(jd,M),X(ka,y),X(Yn,S),X(zd,I),ye(U))if(U.length){const re=e.exposed||(e.exposed={});U.forEach(ve=>{Object.defineProperty(re,ve,{get:()=>n[ve],set:ze=>n[ve]=ze})})}else e.exposed||(e.exposed={});E&&e.render===_n&&(e.render=E),H!=null&&(e.inheritAttrs=H),W&&(e.components=W),z&&(e.directives=z)}function Dm(e,t,n=_n,o=!1){ye(e)&&(e=vl(e));for(const a in e){const l=e[a];let i;ut(l)?"default"in l?i=hn(l.from||a,l.default,!0):i=hn(l.from||a):i=hn(l),Tt(i)&&o?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):t[a]=i}}function Hr(e,t,n){an(ye(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Yd(e,t,n,o){const a=o.includes(".")?Md(n,o):()=>n[o];if(yt(e)){const l=t[e];Pe(l)&&It(a,l)}else if(Pe(e))It(a,e.bind(n));else if(ut(e))if(ye(e))e.forEach(l=>Yd(l,t,n,o));else{const l=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(l)&&It(a,l,e)}}function rr(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,u=l.get(t);let r;return u?r=u:!a.length&&!n&&!o?r=t:(r={},a.length&&a.forEach(d=>Qi(r,d,i,!0)),Qi(r,t,i)),ut(t)&&l.set(t,r),r}function Qi(e,t,n,o=!1){const{mixins:a,extends:l}=t;l&&Qi(e,l,n,!0),a&&a.forEach(i=>Qi(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const u=Om[i]||n&&n[i];e[i]=u?u(e[i],t[i]):t[i]}return e}const Om={data:zr,props:Cs,emits:Cs,methods:Cs,computed:Cs,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:Cs,directives:Cs,watch:Rm,provide:zr,inject:Pm};function zr(e,t){return t?e?function(){return _t(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function Pm(e,t){return Cs(vl(e),vl(t))}function vl(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function Cs(e,t){return e?_t(_t(Object.create(null),e),t):t}function Rm(e,t){if(!e)return t;if(!t)return e;const n=_t(Object.create(null),e);for(const o in t)n[o]=Lt(e[o],t[o]);return n}function Mm(e,t,n,o=!1){const a={},l={};Gi(l,Ia,1),e.propsDefaults=Object.create(null),Xd(e,t,a,l);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);n?e.props=o?a:$d(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function Um(e,t,n,o){const{props:a,attrs:l,vnode:{patchFlag:i}}=e,u=Ke(a),[r]=e.propsOptions;let d=!1;if((o||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let h=f[c];if(wa(e.emitsOptions,h))continue;const m=t[h];if(r)if(Ge(l,h))m!==l[h]&&(l[h]=m,d=!0);else{const g=ln(h);a[g]=yl(r,u,g,m,e,!1)}else m!==l[h]&&(l[h]=m,d=!0)}}}else{Xd(e,t,a,l)&&(d=!0);let f;for(const c in u)(!t||!Ge(t,c)&&((f=Dn(c))===c||!Ge(t,f)))&&(r?n&&(n[c]!==void 0||n[f]!==void 0)&&(a[c]=yl(r,u,c,void 0,e,!0)):delete a[c]);if(l!==u)for(const c in l)(!t||!Ge(t,c)&&!0)&&(delete l[c],d=!0)}d&&Kn(e,"set","$attrs")}function Xd(e,t,n,o){const[a,l]=e.propsOptions;let i=!1,u;if(t)for(let r in t){if(Lo(r))continue;const d=t[r];let f;a&&Ge(a,f=ln(r))?!l||!l.includes(f)?n[f]=d:(u||(u={}))[f]=d:wa(e.emitsOptions,r)||(!(r in o)||d!==o[r])&&(o[r]=d,i=!0)}if(l){const r=Ke(n),d=u||st;for(let f=0;f<l.length;f++){const c=l[f];n[c]=yl(a,r,c,d[c],e,!Ge(d,c))}}return i}function yl(e,t,n,o,a,l){const i=e[n];if(i!=null){const u=Ge(i,"default");if(u&&o===void 0){const r=i.default;if(i.type!==Function&&Pe(r)){const{propsDefaults:d}=a;n in d?o=d[n]:(gs(a),o=d[n]=r.call(null,t),ds())}else o=r}i[0]&&(l&&!u?o=!1:i[1]&&(o===""||o===Dn(n))&&(o=!0))}return o}function Qd(e,t,n=!1){const o=t.propsCache,a=o.get(e);if(a)return a;const l=e.props,i={},u=[];let r=!1;if(!Pe(e)){const f=c=>{r=!0;const[h,m]=Qd(c,t,!0);_t(i,h),m&&u.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!l&&!r)return ut(e)&&o.set(e,no),no;if(ye(l))for(let f=0;f<l.length;f++){const c=ln(l[f]);jr(c)&&(i[c]=st)}else if(l)for(const f in l){const c=ln(f);if(jr(c)){const h=l[f],m=i[c]=ye(h)||Pe(h)?{type:h}:h;if(m){const g=Kr(Boolean,m.type),b=Kr(String,m.type);m[0]=g>-1,m[1]=b<0||g<b,(g>-1||Ge(m,"default"))&&u.push(c)}}}const d=[i,u];return ut(e)&&o.set(e,d),d}function jr(e){return e[0]!=="$"}function Wr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function xr(e,t){return Wr(e)===Wr(t)}function Kr(e,t){return ye(t)?t.findIndex(n=>xr(n,e)):Pe(t)&&xr(t,e)?0:-1}const Zd=e=>e[0]==="_"||e==="$stable",ur=e=>ye(e)?e.map(nn):[nn(e)],Nm=(e,t,n)=>{if(t._n)return t;const o=rt((...a)=>ur(t(...a)),n);return o._c=!1,o},qd=(e,t,n)=>{const o=e._ctx;for(const a in e){if(Zd(a))continue;const l=e[a];if(Pe(l))t[a]=Nm(a,l,o);else if(l!=null){const i=ur(l);t[a]=()=>i}}},ec=(e,t)=>{const n=ur(t);e.slots.default=()=>n},Lm=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ke(t),Gi(t,"_",n)):qd(t,e.slots={})}else e.slots={},t&&ec(e,t);Gi(e.slots,Ia,1)},Fm=(e,t,n)=>{const{vnode:o,slots:a}=e;let l=!0,i=st;if(o.shapeFlag&32){const u=t._;u?n&&u===1?l=!1:(_t(a,t),!n&&u===1&&delete a._):(l=!t.$stable,qd(t,a)),i=t}else t&&(ec(e,t),i={default:1});if(l)for(const u in a)!Zd(u)&&!(u in i)&&delete a[u]};function tc(){return{app:null,config:{isNativeTag:oh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bm=0;function Hm(e,t){return function(o,a=null){Pe(o)||(o=Object.assign({},o)),a!=null&&!ut(a)&&(a=null);const l=tc(),i=new Set;let u=!1;const r=l.app={_uid:Bm++,_component:o,_props:a,_container:null,_context:l,_instance:null,version:bc,get config(){return l.config},set config(d){},use(d,...f){return i.has(d)||(d&&Pe(d.install)?(i.add(d),d.install(r,...f)):Pe(d)&&(i.add(d),d(r,...f))),r},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),r},component(d,f){return f?(l.components[d]=f,r):l.components[d]},directive(d,f){return f?(l.directives[d]=f,r):l.directives[d]},mount(d,f,c){if(!u){const h=V(o,a);return h.appContext=l,f&&t?t(h,d):e(h,d,c),u=!0,r._container=d,d.__vue_app__=r,Aa(h.component)||h.component.proxy}},unmount(){u&&(e(null,r._container),delete r._container.__vue_app__)},provide(d,f){return l.provides[d]=f,r}};return r}}function Zi(e,t,n,o,a=!1){if(ye(e)){e.forEach((h,m)=>Zi(h,t&&(ye(t)?t[m]:t),n,o,a));return}if(Os(o)&&!a)return;const l=o.shapeFlag&4?Aa(o.component)||o.component.proxy:o.el,i=a?null:l,{i:u,r}=e,d=t&&t.r,f=u.refs===st?u.refs={}:u.refs,c=u.setupState;if(d!=null&&d!==r&&(yt(d)?(f[d]=null,Ge(c,d)&&(c[d]=null)):Tt(d)&&(d.value=null)),Pe(r))On(r,u,12,[i,f]);else{const h=yt(r),m=Tt(r);if(h||m){const g=()=>{if(e.f){const b=h?f[r]:r.value;a?ye(b)&&Hl(b,l):ye(b)?b.includes(l)||b.push(l):h?(f[r]=[l],Ge(c,r)&&(c[r]=f[r])):(r.value=[l],e.k&&(f[e.k]=r.value))}else h?(f[r]=i,Ge(c,r)&&(c[r]=i)):m&&(r.value=i,e.k&&(f[e.k]=i))};i?(g.id=-1,Vt(g,n)):g()}}}let es=!1;const Ai=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Vi=e=>e.nodeType===8;function zm(e){const{mt:t,p:n,o:{patchProp:o,createText:a,nextSibling:l,parentNode:i,remove:u,insert:r,createComment:d}}=e,f=(_,y)=>{if(!y.hasChildNodes()){n(null,_,y),Yi(),y._vnode=_;return}es=!1,c(y.firstChild,_,null,null,null),Yi(),y._vnode=_,es&&console.error("Hydration completed but contains mismatches.")},c=(_,y,$,S,E,k=!1)=>{const M=Vi(_)&&_.data==="[",P=()=>b(_,y,$,S,E,M),{type:I,ref:U,shapeFlag:H,patchFlag:W}=y,z=_.nodeType;y.el=_,W===-2&&(k=!1,y.dynamicChildren=null);let B=null;switch(I){case co:z!==3?y.children===""?(r(y.el=a(""),i(_),_),B=_):B=P():(_.data!==y.children&&(es=!0,_.data=y.children),B=l(_));break;case Nt:z!==8||M?B=P():B=l(_);break;case Ps:if(z!==1&&z!==3)B=P();else{B=_;const pe=!y.children.length;for(let X=0;X<y.staticCount;X++)pe&&(y.children+=B.nodeType===1?B.outerHTML:B.data),X===y.staticCount-1&&(y.anchor=B),B=l(B);return B}break;case Y:M?B=g(_,y,$,S,E,k):B=P();break;default:if(H&1)z!==1||y.type.toLowerCase()!==_.tagName.toLowerCase()?B=P():B=h(_,y,$,S,E,k);else if(H&6){y.slotScopeIds=E;const pe=i(_);if(t(y,pe,null,$,S,Ai(pe),k),B=M?w(_):l(_),B&&Vi(B)&&B.data==="teleport end"&&(B=l(B)),Os(y)){let X;M?(X=V(Y),X.anchor=B?B.previousSibling:pe.lastChild):X=_.nodeType===3?A(""):V("div"),X.el=_,y.component.subTree=X}}else H&64?z!==8?B=P():B=y.type.hydrate(_,y,$,S,E,k,e,m):H&128&&(B=y.type.hydrate(_,y,$,S,Ai(i(_)),E,k,e,c))}return U!=null&&Zi(U,null,S,y),B},h=(_,y,$,S,E,k)=>{k=k||!!y.dynamicChildren;const{type:M,props:P,patchFlag:I,shapeFlag:U,dirs:H}=y,W=M==="input"&&H||M==="option";if(W||I!==-1){if(H&&In(y,null,$,"created"),P)if(W||!k||I&48)for(const B in P)(W&&B.endsWith("value")||di(B)&&!Lo(B))&&o(_,B,null,P[B],!1,void 0,$);else P.onClick&&o(_,"onClick",null,P.onClick,!1,void 0,$);let z;if((z=P&&P.onVnodeBeforeMount)&&Kt(z,$,y),H&&In(y,null,$,"beforeMount"),((z=P&&P.onVnodeMounted)||H)&&Pd(()=>{z&&Kt(z,$,y),H&&In(y,null,$,"mounted")},S),U&16&&!(P&&(P.innerHTML||P.textContent))){let B=m(_.firstChild,y,_,$,S,E,k);for(;B;){es=!0;const pe=B;B=B.nextSibling,u(pe)}}else U&8&&_.textContent!==y.children&&(es=!0,_.textContent=y.children)}return _.nextSibling},m=(_,y,$,S,E,k,M)=>{M=M||!!y.dynamicChildren;const P=y.children,I=P.length;for(let U=0;U<I;U++){const H=M?P[U]:P[U]=nn(P[U]);if(_)_=c(_,H,S,E,k,M);else{if(H.type===co&&!H.children)continue;es=!0,n(null,H,$,null,S,E,Ai($),k)}}return _},g=(_,y,$,S,E,k)=>{const{slotScopeIds:M}=y;M&&(E=E?E.concat(M):M);const P=i(_),I=m(l(_),y,P,$,S,E,k);return I&&Vi(I)&&I.data==="]"?l(y.anchor=I):(es=!0,r(y.anchor=d("]"),P,I),I)},b=(_,y,$,S,E,k)=>{if(es=!0,y.el=null,k){const I=w(_);for(;;){const U=l(_);if(U&&U!==I)u(U);else break}}const M=l(_),P=i(_);return u(_),n(null,y,P,M,$,S,Ai(P),E),M},w=_=>{let y=0;for(;_;)if(_=l(_),_&&Vi(_)&&(_.data==="["&&y++,_.data==="]")){if(y===0)return l(_);y--}return _};return[f,c]}const Vt=Pd;function nc(e){return oc(e)}function sc(e){return oc(e,zm)}function oc(e,t){const n=dh();n.__VUE__=!0;const{insert:o,remove:a,patchProp:l,createElement:i,createText:u,createComment:r,setText:d,setElementText:f,parentNode:c,nextSibling:h,setScopeId:m=_n,cloneNode:g,insertStaticContent:b}=e,w=(C,T,N,G=null,J=null,ne=null,de=!1,ee=null,se=!!T.dynamicChildren)=>{if(C===T)return;C&&!Vn(C,T)&&(G=ce(C),qe(C,J,ne,!0),C=null),T.patchFlag===-2&&(se=!1,T.dynamicChildren=null);const{type:Z,ref:be,shapeFlag:he}=T;switch(Z){case co:_(C,T,N,G);break;case Nt:y(C,T,N,G);break;case Ps:C==null&&$(T,N,G,de);break;case Y:z(C,T,N,G,J,ne,de,ee,se);break;default:he&1?k(C,T,N,G,J,ne,de,ee,se):he&6?B(C,T,N,G,J,ne,de,ee,se):(he&64||he&128)&&Z.process(C,T,N,G,J,ne,de,ee,se,We)}be!=null&&J&&Zi(be,C&&C.ref,ne,T||C,!T)},_=(C,T,N,G)=>{if(C==null)o(T.el=u(T.children),N,G);else{const J=T.el=C.el;T.children!==C.children&&d(J,T.children)}},y=(C,T,N,G)=>{C==null?o(T.el=r(T.children||""),N,G):T.el=C.el},$=(C,T,N,G)=>{[C.el,C.anchor]=b(C.children,T,N,G,C.el,C.anchor)},S=({el:C,anchor:T},N,G)=>{let J;for(;C&&C!==T;)J=h(C),o(C,N,G),C=J;o(T,N,G)},E=({el:C,anchor:T})=>{let N;for(;C&&C!==T;)N=h(C),a(C),C=N;a(T)},k=(C,T,N,G,J,ne,de,ee,se)=>{de=de||T.type==="svg",C==null?M(T,N,G,J,ne,de,ee,se):U(C,T,J,ne,de,ee,se)},M=(C,T,N,G,J,ne,de,ee)=>{let se,Z;const{type:be,props:he,shapeFlag:$e,transition:Te,patchFlag:He,dirs:Xe}=C;if(C.el&&g!==void 0&&He===-1)se=C.el=g(C.el);else{if(se=C.el=i(C.type,ne,he&&he.is,he),$e&8?f(se,C.children):$e&16&&I(C.children,se,null,G,J,ne&&be!=="foreignObject",de,ee),Xe&&In(C,null,G,"created"),he){for(const O in he)O!=="value"&&!Lo(O)&&l(se,O,null,he[O],ne,C.children,G,J,Q);"value"in he&&l(se,"value",null,he.value),(Z=he.onVnodeBeforeMount)&&Kt(Z,G,C)}P(se,C,C.scopeId,de,G)}Xe&&In(C,null,G,"beforeMount");const D=(!J||J&&!J.pendingBranch)&&Te&&!Te.persisted;D&&Te.beforeEnter(se),o(se,T,N),((Z=he&&he.onVnodeMounted)||D||Xe)&&Vt(()=>{Z&&Kt(Z,G,C),D&&Te.enter(se),Xe&&In(C,null,G,"mounted")},J)},P=(C,T,N,G,J)=>{if(N&&m(C,N),G)for(let ne=0;ne<G.length;ne++)m(C,G[ne]);if(J){let ne=J.subTree;if(T===ne){const de=J.vnode;P(C,de,de.scopeId,de.slotScopeIds,J.parent)}}},I=(C,T,N,G,J,ne,de,ee,se=0)=>{for(let Z=se;Z<C.length;Z++){const be=C[Z]=ee?os(C[Z]):nn(C[Z]);w(null,be,T,N,G,J,ne,de,ee)}},U=(C,T,N,G,J,ne,de)=>{const ee=T.el=C.el;let{patchFlag:se,dynamicChildren:Z,dirs:be}=T;se|=C.patchFlag&16;const he=C.props||st,$e=T.props||st;let Te;N&&ys(N,!1),(Te=$e.onVnodeBeforeUpdate)&&Kt(Te,N,T,C),be&&In(T,C,N,"beforeUpdate"),N&&ys(N,!0);const He=J&&T.type!=="foreignObject";if(Z?H(C.dynamicChildren,Z,ee,N,G,He,ne):de||ze(C,T,ee,null,N,G,He,ne,!1),se>0){if(se&16)W(ee,T,he,$e,N,G,J);else if(se&2&&he.class!==$e.class&&l(ee,"class",null,$e.class,J),se&4&&l(ee,"style",he.style,$e.style,J),se&8){const Xe=T.dynamicProps;for(let D=0;D<Xe.length;D++){const O=Xe[D],L=he[O],q=$e[O];(q!==L||O==="value")&&l(ee,O,L,q,J,C.children,N,G,Q)}}se&1&&C.children!==T.children&&f(ee,T.children)}else!de&&Z==null&&W(ee,T,he,$e,N,G,J);((Te=$e.onVnodeUpdated)||be)&&Vt(()=>{Te&&Kt(Te,N,T,C),be&&In(T,C,N,"updated")},G)},H=(C,T,N,G,J,ne,de)=>{for(let ee=0;ee<T.length;ee++){const se=C[ee],Z=T[ee],be=se.el&&(se.type===Y||!Vn(se,Z)||se.shapeFlag&70)?c(se.el):N;w(se,Z,be,null,G,J,ne,de,!0)}},W=(C,T,N,G,J,ne,de)=>{if(N!==G){for(const ee in G){if(Lo(ee))continue;const se=G[ee],Z=N[ee];se!==Z&&ee!=="value"&&l(C,ee,Z,se,de,T.children,J,ne,Q)}if(N!==st)for(const ee in N)!Lo(ee)&&!(ee in G)&&l(C,ee,N[ee],null,de,T.children,J,ne,Q);"value"in G&&l(C,"value",N.value,G.value)}},z=(C,T,N,G,J,ne,de,ee,se)=>{const Z=T.el=C?C.el:u(""),be=T.anchor=C?C.anchor:u("");let{patchFlag:he,dynamicChildren:$e,slotScopeIds:Te}=T;Te&&(ee=ee?ee.concat(Te):Te),C==null?(o(Z,N,G),o(be,N,G),I(T.children,N,be,J,ne,de,ee,se)):he>0&&he&64&&$e&&C.dynamicChildren?(H(C.dynamicChildren,$e,N,J,ne,de,ee),(T.key!=null||J&&T===J.subTree)&&dr(C,T,!0)):ze(C,T,N,be,J,ne,de,ee,se)},B=(C,T,N,G,J,ne,de,ee,se)=>{T.slotScopeIds=ee,C==null?T.shapeFlag&512?J.ctx.activate(T,N,G,de,se):pe(T,N,G,J,ne,de,se):X(C,T,se)},pe=(C,T,N,G,J,ne,de)=>{const ee=C.component=dc(C,G,J);if(gi(C)&&(ee.ctx.renderer=We),fc(ee),ee.asyncDep){if(J&&J.registerDep(ee,re),!C.el){const se=ee.subTree=V(Nt);y(null,se,T,N)}return}re(ee,C,T,N,J,ne,de)},X=(C,T,N)=>{const G=T.component=C.component;if(cm(C,T,N))if(G.asyncDep&&!G.asyncResolved){ve(G,T,N);return}else G.next=T,om(G.update),G.update();else T.el=C.el,G.vnode=T},re=(C,T,N,G,J,ne,de)=>{const ee=()=>{if(C.isMounted){let{next:be,bu:he,u:$e,parent:Te,vnode:He}=C,Xe=be,D;ys(C,!1),be?(be.el=He.el,ve(C,be,de)):be=He,he&&oo(he),(D=be.props&&be.props.onVnodeBeforeUpdate)&&Kt(D,Te,be,He),ys(C,!0);const O=Fi(C),L=C.subTree;C.subTree=O,w(L,O,c(L.el),ce(L),C,J,ne),be.el=O.el,Xe===null&&tr(C,O.el),$e&&Vt($e,J),(D=be.props&&be.props.onVnodeUpdated)&&Vt(()=>Kt(D,Te,be,He),J)}else{let be;const{el:he,props:$e}=T,{bm:Te,m:He,parent:Xe}=C,D=Os(T);if(ys(C,!1),Te&&oo(Te),!D&&(be=$e&&$e.onVnodeBeforeMount)&&Kt(be,Xe,T),ys(C,!0),he&&ke){const O=()=>{C.subTree=Fi(C),ke(he,C.subTree,C,J,null)};D?T.type.__asyncLoader().then(()=>!C.isUnmounted&&O()):O()}else{const O=C.subTree=Fi(C);w(null,O,N,G,C,J,ne),T.el=O.el}if(He&&Vt(He,J),!D&&(be=$e&&$e.onVnodeMounted)){const O=T;Vt(()=>Kt(be,Xe,O),J)}(T.shapeFlag&256||Xe&&Os(Xe.vnode)&&Xe.vnode.shapeFlag&256)&&C.a&&Vt(C.a,J),C.isMounted=!0,T=N=G=null}},se=C.effect=new hi(ee,()=>$a(Z),C.scope),Z=C.update=()=>se.run();Z.id=C.uid,ys(C,!0),Z()},ve=(C,T,N)=>{T.component=C;const G=C.vnode.props;C.vnode=T,C.next=null,Um(C,T.props,G,N),Fm(C,T.children,N),Hs(),Mr(),zs()},ze=(C,T,N,G,J,ne,de,ee,se=!1)=>{const Z=C&&C.children,be=C?C.shapeFlag:0,he=T.children,{patchFlag:$e,shapeFlag:Te}=T;if($e>0){if($e&128){Ze(Z,he,N,G,J,ne,de,ee,se);return}else if($e&256){ft(Z,he,N,G,J,ne,de,ee,se);return}}Te&8?(be&16&&Q(Z,J,ne),he!==Z&&f(N,he)):be&16?Te&16?Ze(Z,he,N,G,J,ne,de,ee,se):Q(Z,J,ne,!0):(be&8&&f(N,""),Te&16&&I(he,N,G,J,ne,de,ee,se))},ft=(C,T,N,G,J,ne,de,ee,se)=>{C=C||no,T=T||no;const Z=C.length,be=T.length,he=Math.min(Z,be);let $e;for($e=0;$e<he;$e++){const Te=T[$e]=se?os(T[$e]):nn(T[$e]);w(C[$e],Te,N,null,J,ne,de,ee,se)}Z>be?Q(C,J,ne,!0,!1,he):I(T,N,G,J,ne,de,ee,se,he)},Ze=(C,T,N,G,J,ne,de,ee,se)=>{let Z=0;const be=T.length;let he=C.length-1,$e=be-1;for(;Z<=he&&Z<=$e;){const Te=C[Z],He=T[Z]=se?os(T[Z]):nn(T[Z]);if(Vn(Te,He))w(Te,He,N,null,J,ne,de,ee,se);else break;Z++}for(;Z<=he&&Z<=$e;){const Te=C[he],He=T[$e]=se?os(T[$e]):nn(T[$e]);if(Vn(Te,He))w(Te,He,N,null,J,ne,de,ee,se);else break;he--,$e--}if(Z>he){if(Z<=$e){const Te=$e+1,He=Te<be?T[Te].el:G;for(;Z<=$e;)w(null,T[Z]=se?os(T[Z]):nn(T[Z]),N,He,J,ne,de,ee,se),Z++}}else if(Z>$e)for(;Z<=he;)qe(C[Z],J,ne,!0),Z++;else{const Te=Z,He=Z,Xe=new Map;for(Z=He;Z<=$e;Z++){const Me=T[Z]=se?os(T[Z]):nn(T[Z]);Me.key!=null&&Xe.set(Me.key,Z)}let D,O=0;const L=$e-He+1;let q=!1,me=0;const Ee=new Array(L);for(Z=0;Z<L;Z++)Ee[Z]=0;for(Z=Te;Z<=he;Z++){const Me=C[Z];if(O>=L){qe(Me,J,ne,!0);continue}let et;if(Me.key!=null)et=Xe.get(Me.key);else for(D=He;D<=$e;D++)if(Ee[D-He]===0&&Vn(Me,T[D])){et=D;break}et===void 0?qe(Me,J,ne,!0):(Ee[et-He]=Z+1,et>=me?me=et:q=!0,w(Me,T[et],N,null,J,ne,de,ee,se),O++)}const Ue=q?jm(Ee):no;for(D=Ue.length-1,Z=L-1;Z>=0;Z--){const Me=He+Z,et=T[Me],Ae=Me+1<be?T[Me+1].el:G;Ee[Z]===0?w(null,et,N,Ae,J,ne,de,ee,se):q&&(D<0||Z!==Ue[D]?Ye(et,N,Ae,2):D--)}}},Ye=(C,T,N,G,J=null)=>{const{el:ne,type:de,transition:ee,children:se,shapeFlag:Z}=C;if(Z&6){Ye(C.component.subTree,T,N,G);return}if(Z&128){C.suspense.move(T,N,G);return}if(Z&64){de.move(C,T,N,We);return}if(de===Y){o(ne,T,N);for(let he=0;he<se.length;he++)Ye(se[he],T,N,G);o(C.anchor,T,N);return}if(de===Ps){S(C,T,N);return}if(G!==2&&Z&1&&ee)if(G===0)ee.beforeEnter(ne),o(ne,T,N),Vt(()=>ee.enter(ne),J);else{const{leave:he,delayLeave:$e,afterLeave:Te}=ee,He=()=>o(ne,T,N),Xe=()=>{he(ne,()=>{He(),Te&&Te()})};$e?$e(ne,He,Xe):Xe()}else o(ne,T,N)},qe=(C,T,N,G=!1,J=!1)=>{const{type:ne,props:de,ref:ee,children:se,dynamicChildren:Z,shapeFlag:be,patchFlag:he,dirs:$e}=C;if(ee!=null&&Zi(ee,null,N,C,!0),be&256){T.ctx.deactivate(C);return}const Te=be&1&&$e,He=!Os(C);let Xe;if(He&&(Xe=de&&de.onVnodeBeforeUnmount)&&Kt(Xe,T,C),be&6)ie(C.component,N,G);else{if(be&128){C.suspense.unmount(N,G);return}Te&&In(C,null,T,"beforeUnmount"),be&64?C.type.remove(C,T,N,J,We,G):Z&&(ne!==Y||he>0&&he&64)?Q(Z,T,N,!1,!0):(ne===Y&&he&384||!J&&be&16)&&Q(se,T,N),G&&ht(C)}(He&&(Xe=de&&de.onVnodeUnmounted)||Te)&&Vt(()=>{Xe&&Kt(Xe,T,C),Te&&In(C,null,T,"unmounted")},N)},ht=C=>{const{type:T,el:N,anchor:G,transition:J}=C;if(T===Y){j(N,G);return}if(T===Ps){E(C);return}const ne=()=>{a(N),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(C.shapeFlag&1&&J&&!J.persisted){const{leave:de,delayLeave:ee}=J,se=()=>de(N,ne);ee?ee(C.el,ne,se):se()}else ne()},j=(C,T)=>{let N;for(;C!==T;)N=h(C),a(C),C=N;a(T)},ie=(C,T,N)=>{const{bum:G,scope:J,update:ne,subTree:de,um:ee}=C;G&&oo(G),J.stop(),ne&&(ne.active=!1,qe(de,C,T,N)),ee&&Vt(ee,T),Vt(()=>{C.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},Q=(C,T,N,G=!1,J=!1,ne=0)=>{for(let de=ne;de<C.length;de++)qe(C[de],T,N,G,J)},ce=C=>C.shapeFlag&6?ce(C.component.subTree):C.shapeFlag&128?C.suspense.next():h(C.anchor||C.el),Re=(C,T,N)=>{C==null?T._vnode&&qe(T._vnode,null,null,!0):w(T._vnode||null,C,T,null,null,null,N),Mr(),Yi(),T._vnode=C},We={p:w,um:qe,m:Ye,r:ht,mt:pe,mc:I,pc:ze,pbc:H,n:ce,o:e};let Oe,ke;return t&&([Oe,ke]=t(We)),{render:Re,hydrate:Oe,createApp:Hm(Re,Oe)}}function ys({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function dr(e,t,n=!1){const o=e.children,a=t.children;if(ye(o)&&ye(a))for(let l=0;l<o.length;l++){const i=o[l];let u=a[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[l]=os(a[l]),u.el=i.el),n||dr(i,u))}}function jm(e){const t=e.slice(),n=[0];let o,a,l,i,u;const r=e.length;for(o=0;o<r;o++){const d=e[o];if(d!==0){if(a=n[n.length-1],e[a]<d){t[o]=a,n.push(o);continue}for(l=0,i=n.length-1;l<i;)u=l+i>>1,e[n[u]]<d?l=u+1:i=u;d<e[n[l]]&&(l>0&&(t[o]=n[l-1]),n[l]=o)}}for(l=n.length,i=n[l-1];l-- >0;)n[l]=i,i=t[i];return n}const Wm=e=>e.__isTeleport,zo=e=>e&&(e.disabled||e.disabled===""),Jr=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,bl=(e,t)=>{const n=e&&e.to;return yt(n)?t?t(n):null:n},xm={__isTeleport:!0,process(e,t,n,o,a,l,i,u,r,d){const{mc:f,pc:c,pbc:h,o:{insert:m,querySelector:g,createText:b,createComment:w}}=d,_=zo(t.props);let{shapeFlag:y,children:$,dynamicChildren:S}=t;if(e==null){const E=t.el=b(""),k=t.anchor=b("");m(E,n,o),m(k,n,o);const M=t.target=bl(t.props,g),P=t.targetAnchor=b("");M&&(m(P,M),i=i||Jr(M));const I=(U,H)=>{y&16&&f($,U,H,a,l,i,u,r)};_?I(n,k):M&&I(M,P)}else{t.el=e.el;const E=t.anchor=e.anchor,k=t.target=e.target,M=t.targetAnchor=e.targetAnchor,P=zo(e.props),I=P?n:k,U=P?E:M;if(i=i||Jr(k),S?(h(e.dynamicChildren,S,I,a,l,i,u),dr(e,t,!0)):r||c(e,t,I,U,a,l,i,u,!1),_)P||Di(t,n,E,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const H=t.target=bl(t.props,g);H&&Di(t,H,null,d,0)}else P&&Di(t,k,M,d,1)}},remove(e,t,n,o,{um:a,o:{remove:l}},i){const{shapeFlag:u,children:r,anchor:d,targetAnchor:f,target:c,props:h}=e;if(c&&l(f),(i||!zo(h))&&(l(d),u&16))for(let m=0;m<r.length;m++){const g=r[m];a(g,t,n,!0,!!g.dynamicChildren)}},move:Di,hydrate:Km};function Di(e,t,n,{o:{insert:o},m:a},l=2){l===0&&o(e.targetAnchor,t,n);const{el:i,anchor:u,shapeFlag:r,children:d,props:f}=e,c=l===2;if(c&&o(i,t,n),(!c||zo(f))&&r&16)for(let h=0;h<d.length;h++)a(d[h],t,n,2);c&&o(u,t,n)}function Km(e,t,n,o,a,l,{o:{nextSibling:i,parentNode:u,querySelector:r}},d){const f=t.target=bl(t.props,r);if(f){const c=f._lpa||f.firstChild;if(t.shapeFlag&16)if(zo(t.props))t.anchor=d(i(e),t,u(e),n,o,a,l),t.targetAnchor=c;else{t.anchor=i(e);let h=c;for(;h;)if(h=i(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,f._lpa=t.targetAnchor&&i(t.targetAnchor);break}d(c,t,f,n,o,a,l)}}return t.anchor&&i(t.anchor)}const Jm=xm,Y=Symbol(void 0),co=Symbol(void 0),Nt=Symbol(void 0),Ps=Symbol(void 0),jo=[];let Gt=null;function p(e=!1){jo.push(Gt=e?null:[])}function ic(){jo.pop(),Gt=jo[jo.length-1]||null}let Ls=1;function $l(e){Ls+=e}function ac(e){return e.dynamicChildren=Ls>0?Gt||no:null,ic(),Ls>0&&Gt&&Gt.push(e),e}function v(e,t,n,o,a,l){return ac(s(e,t,n,o,a,l,!0))}function _e(e,t,n,o,a){return ac(V(e,t,n,o,a,!0))}function ps(e){return e?e.__v_isVNode===!0:!1}function Vn(e,t){return e.type===t.type&&e.key===t.key}function Gm(e){}const Ia="__vInternal",lc=({key:e})=>e!=null?e:null,Bi=({ref:e,ref_key:t,ref_for:n})=>e!=null?yt(e)||Tt(e)||Pe(e)?{i:Ut,r:e,k:t,f:!!n}:e:null;function s(e,t=null,n=null,o=0,a=null,l=e===Y?0:1,i=!1,u=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lc(t),ref:t&&Bi(t),scopeId:_a,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null};return u?(cr(r,n),l&128&&e.normalize(r)):n&&(r.shapeFlag|=yt(n)?8:16),Ls>0&&!i&&Gt&&(r.patchFlag>0||l&6)&&r.patchFlag!==32&&Gt.push(r),r}const V=Ym;function Ym(e,t=null,n=null,o=0,a=null,l=!1){if((!e||e===Kd)&&(e=Nt),ps(e)){const u=Mn(e,t,!0);return n&&cr(u,n),Ls>0&&!l&&Gt&&(u.shapeFlag&6?Gt[Gt.indexOf(e)]=u:Gt.push(u)),u.patchFlag|=-2,u}if(op(e)&&(e=e.__vccOpts),t){t=rc(t);let{class:u,style:r}=t;u&&!yt(u)&&(t.class=Se(u)),ut(r)&&(Gl(r)&&!ye(r)&&(r=_t({},r)),t.style=lt(r))}const i=yt(e)?1:Od(e)?128:Wm(e)?64:ut(e)?4:Pe(e)?2:0;return s(e,t,n,o,a,i,l,!0)}function rc(e){return e?Gl(e)||Ia in e?_t({},e):e:null}function Mn(e,t,n=!1){const{props:o,ref:a,patchFlag:l,children:i}=e,u=t?vi(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&lc(u),ref:t&&t.ref?n&&a?ye(a)?a.concat(Bi(t)):[a,Bi(t)]:Bi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Y?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mn(e.ssContent),ssFallback:e.ssFallback&&Mn(e.ssFallback),el:e.el,anchor:e.anchor}}function A(e=" ",t=0){return V(co,null,e,t)}function uc(e,t){const n=V(Ps,null,e);return n.staticCount=t,n}function R(e="",t=!1){return t?(p(),_e(Nt,null,e)):V(Nt,null,e)}function nn(e){return e==null||typeof e=="boolean"?V(Nt):ye(e)?V(Y,null,e.slice()):typeof e=="object"?os(e):V(co,null,String(e))}function os(e){return e.el===null||e.memo?e:Mn(e)}function cr(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),cr(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(Ia in t)?t._ctx=Ut:a===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:Ut},n=32):(t=String(t),o&64?(n=16,t=[A(t)]):n=8);e.children=t,e.shapeFlag|=n}function vi(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=Se([t.class,o.class]));else if(a==="style")t.style=lt([t.style,o.style]);else if(di(a)){const l=t[a],i=o[a];i&&l!==i&&!(ye(l)&&l.includes(i))&&(t[a]=l?[].concat(l,i):i)}else a!==""&&(t[a]=o[a])}return t}function Kt(e,t,n,o=null){an(e,t,7,[n,o])}const Xm=tc();let Qm=0;function dc(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Xm,l={uid:Qm++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qd(o,a),emitsOptions:Dd(o,a),emit:null,emitted:null,propsDefaults:st,inheritAttrs:o.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=am.bind(null,l),e.ce&&e.ce(l),l}let kt=null;const Xn=()=>kt||Ut,gs=e=>{kt=e,e.scope.on()},ds=()=>{kt&&kt.scope.off(),kt=null};function cc(e){return e.vnode.shapeFlag&4}let fo=!1;function fc(e,t=!1){fo=t;const{props:n,children:o}=e.vnode,a=cc(e);Mm(e,n,a,t),Lm(e,o);const l=a?Zm(e,t):void 0;return fo=!1,l}function Zm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Yl(new Proxy(e.ctx,pl));const{setup:o}=n;if(o){const a=e.setupContext=o.length>1?mc(e):null;gs(e),Hs();const l=On(o,e,0,[e.props,a]);if(zs(),ds(),zl(l)){if(l.then(ds,ds),t)return l.then(i=>{wl(e,i,t)}).catch(i=>{js(i,e,0)});e.asyncDep=l}else wl(e,l,t)}else hc(e,t)}function wl(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ut(t)&&(e.setupState=Zl(t)),hc(e,n)}let qi,_l;function qm(e){qi=e,_l=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Am))}}const ep=()=>!qi;function hc(e,t,n){const o=e.type;if(!e.render){if(!t&&qi&&!o.render){const a=o.template||rr(e).template;if(a){const{isCustomElement:l,compilerOptions:i}=e.appContext.config,{delimiters:u,compilerOptions:r}=o,d=_t(_t({isCustomElement:l,delimiters:u},i),r);o.render=qi(a,d)}}e.render=o.render||_n,_l&&_l(e)}gs(e),Hs(),Vm(e),zs(),ds()}function tp(e){return new Proxy(e.attrs,{get(t,n){return rn(e,"get","$attrs"),t[n]}})}function mc(e){const t=o=>{e.exposed=o||{}};let n;return{get attrs(){return n||(n=tp(e))},slots:e.slots,emit:e.emit,expose:t}}function Aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Zl(Yl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xi)return Xi[n](e)}}))}const np=/(?:^|[-_])(\w)/g,sp=e=>e.replace(np,t=>t.toUpperCase()).replace(/[-_]/g,"");function ea(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function pc(e,t,n=!1){let o=ea(t);if(!o&&t.__file){const a=t.__file.match(/([^/\\]+)\.\w+$/);a&&(o=a[1])}if(!o&&e&&e.parent){const a=l=>{for(const i in l)if(l[i]===t)return i};o=a(e.components||e.parent.type.components)||a(e.appContext.components)}return o?sp(o):n?"App":"Anonymous"}function op(e){return Pe(e)&&"__vccOpts"in e}const ot=(e,t)=>Qh(e,t,fo);function ip(){return null}function ap(){return null}function lp(e){}function rp(e,t){return null}function up(){return gc().slots}function dp(){return gc().attrs}function gc(){const e=Xn();return e.setupContext||(e.setupContext=mc(e))}function cp(e,t){const n=ye(e)?e.reduce((o,a)=>(o[a]={},o),{}):e;for(const o in t){const a=n[o];a?ye(a)||Pe(a)?n[o]={type:a,default:t[o]}:a.default=t[o]:a===null&&(n[o]={default:t[o]})}return n}function fp(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}function hp(e){const t=Xn();let n=e();return ds(),zl(n)&&(n=n.catch(o=>{throw gs(t),o})),[n,()=>gs(t)]}function Va(e,t,n){const o=arguments.length;return o===2?ut(t)&&!ye(t)?ps(t)?V(e,null,[t]):V(e,t):V(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ps(n)&&(n=[n]),V(e,t,n))}const vc=Symbol(""),mp=()=>{{const e=hn(vc);return e||Ed("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function pp(){}function gp(e,t,n,o){const a=n[o];if(a&&yc(a,e))return a;const l=t();return l.memo=e.slice(),n[o]=l}function yc(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(ro(n[o],t[o]))return!1;return Ls>0&&Gt&&Gt.push(e),!0}const bc="3.2.39",vp={createComponentInstance:dc,setupComponent:fc,renderComponentRoot:Fi,setCurrentRenderingInstance:si,isVNode:ps,normalizeVNode:nn},yp=vp,bp=null,$p=null,wp="http://www.w3.org/2000/svg",Ts=typeof document!="undefined"?document:null,Gr=Ts&&Ts.createElement("template"),_p={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t?Ts.createElementNS(wp,e):Ts.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>Ts.createTextNode(e),createComment:e=>Ts.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ts.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,o,a,l){const i=n?n.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===l||!(a=a.nextSibling)););else{Gr.innerHTML=o?`<svg>${e}</svg>`:e;const u=Gr.content;if(o){const r=u.firstChild;for(;r.firstChild;)u.appendChild(r.firstChild);u.removeChild(r)}t.insertBefore(u,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Sp(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Cp(e,t,n){const o=e.style,a=yt(n);if(n&&!a){for(const l in n)Sl(o,l,n[l]);if(t&&!yt(t))for(const l in t)n[l]==null&&Sl(o,l,"")}else{const l=o.display;a?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=l)}}const Yr=/\s*!important$/;function Sl(e,t,n){if(ye(n))n.forEach(o=>Sl(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Ep(e,t);Yr.test(n)?e.setProperty(Dn(o),n.replace(Yr,""),"important"):e[o]=n}}const Xr=["Webkit","Moz","ms"],Ka={};function Ep(e,t){const n=Ka[t];if(n)return n;let o=ln(t);if(o!=="filter"&&o in e)return Ka[t]=o;o=fi(o);for(let a=0;a<Xr.length;a++){const l=Xr[a]+o;if(l in e)return Ka[t]=l}return t}const Qr="http://www.w3.org/1999/xlink";function kp(e,t,n,o,a){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Qr,t.slice(6,t.length)):e.setAttributeNS(Qr,t,n);else{const l=Zf(t);n==null||l&&!sd(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function Tp(e,t,n,o,a,l,i){if(t==="innerHTML"||t==="textContent"){o&&i(o,a,l),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const r=n==null?"":n;(e.value!==r||e.tagName==="OPTION")&&(e.value=r),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const r=typeof e[t];r==="boolean"?n=sd(n):n==null&&r==="string"?(n="",u=!0):r==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}const[$c,Ip]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Cl=0;const Ap=Promise.resolve(),Vp=()=>{Cl=0},Dp=()=>Cl||(Ap.then(Vp),Cl=$c());function jn(e,t,n,o){e.addEventListener(t,n,o)}function Op(e,t,n,o){e.removeEventListener(t,n,o)}function Pp(e,t,n,o,a=null){const l=e._vei||(e._vei={}),i=l[t];if(o&&i)i.value=o;else{const[u,r]=Rp(t);if(o){const d=l[t]=Mp(o,a);jn(e,u,d,r)}else i&&(Op(e,u,i,r),l[t]=void 0)}}const Zr=/(?:Once|Passive|Capture)$/;function Rp(e){let t;if(Zr.test(e)){t={};let o;for(;o=e.match(Zr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dn(e.slice(2)),t]}function Mp(e,t){const n=o=>{const a=o.timeStamp||$c();(Ip||a>=n.attached-1)&&an(Up(o,n.value),t,5,[o])};return n.value=e,n.attached=Dp(),n}function Up(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const qr=/^on[a-z]/,Np=(e,t,n,o,a=!1,l,i,u,r)=>{t==="class"?Sp(e,o,a):t==="style"?Cp(e,n,o):di(t)?Bl(t)||Pp(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lp(e,t,o,a))?Tp(e,t,o,l,i,u,r):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),kp(e,t,o,a))};function Lp(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&qr.test(t)&&Pe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||qr.test(t)&&yt(n)?!1:t in e}function wc(e,t){const n=ae(e);class o extends Da{constructor(l){super(n,l,t)}}return o.def=n,o}const Fp=e=>wc(e,Mc),Bp=typeof HTMLElement!="undefined"?HTMLElement:class{};class Da extends Bp{constructor(t,n={},o){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,mi(()=>{this._connected||(kl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const a of o)this._setAttr(a.attributeName)}).observe(this,{attributes:!0});const t=o=>{const{props:a,styles:l}=o,i=!ye(a),u=a?i?Object.keys(a):a:[];let r;if(i)for(const d in this._props){const f=a[d];(f===Number||f&&f.type===Number)&&(this._props[d]=hs(this._props[d]),(r||(r=Object.create(null)))[d]=!0)}this._numberProps=r;for(const d of Object.keys(this))d[0]!=="_"&&this._setProp(d,this[d],!0,!1);for(const d of u.map(ln))Object.defineProperty(this,d,{get(){return this._getProp(d)},set(f){this._setProp(d,f)}});this._applyStyles(l),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=hs(n)),this._setProp(ln(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,o=!0,a=!0){n!==this._props[t]&&(this._props[t]=n,a&&this._instance&&this._update(),o&&(n===!0?this.setAttribute(Dn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Dn(t),n+""):n||this.removeAttribute(Dn(t))))}_update(){kl(this._createVNode(),this.shadowRoot)}_createVNode(){const t=V(this._def,_t({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(a,...l)=>{this.dispatchEvent(new CustomEvent(a,{detail:l}))};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof Da){n.parent=o._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const o=document.createElement("style");o.textContent=n,this.shadowRoot.appendChild(o)})}}function Hp(e="$style"){{const t=Xn();if(!t)return st;const n=t.type.__cssModules;if(!n)return st;const o=n[e];return o||st}}function zp(e){const t=Xn();if(!t)return;const n=()=>El(t.subTree,e(t.proxy));Rd(n),Ht(()=>{const o=new MutationObserver(n);o.observe(t.subTree.el.parentNode,{childList:!0}),Yn(()=>o.disconnect())})}function El(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{El(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)eu(e.el,t);else if(e.type===Y)e.children.forEach(n=>El(n,t));else if(e.type===Ps){let{el:n,anchor:o}=e;for(;n&&(eu(n,t),n!==o);)n=n.nextSibling}}function eu(e,t){if(e.nodeType===1){const n=e.style;for(const o in t)n.setProperty(`--${o}`,t[o])}}const ts="transition",So="animation",fr=(e,{slots:t})=>Va(or,Sc(e),t);fr.displayName="Transition";const _c={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jp=fr.props=_t({},or.props,_c),bs=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},tu=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function Sc(e){const t={};for(const W in e)W in _c||(t[W]=e[W]);if(e.css===!1)return t;const{name:n="v",type:o,duration:a,enterFromClass:l=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:r=l,appearActiveClass:d=i,appearToClass:f=u,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,g=Wp(a),b=g&&g[0],w=g&&g[1],{onBeforeEnter:_,onEnter:y,onEnterCancelled:$,onLeave:S,onLeaveCancelled:E,onBeforeAppear:k=_,onAppear:M=y,onAppearCancelled:P=$}=t,I=(W,z,B)=>{ss(W,z?f:u),ss(W,z?d:i),B&&B()},U=(W,z)=>{W._isLeaving=!1,ss(W,c),ss(W,m),ss(W,h),z&&z()},H=W=>(z,B)=>{const pe=W?M:y,X=()=>I(z,W,B);bs(pe,[z,X]),nu(()=>{ss(z,W?r:l),Hn(z,W?f:u),tu(pe)||su(z,o,b,X)})};return _t(t,{onBeforeEnter(W){bs(_,[W]),Hn(W,l),Hn(W,i)},onBeforeAppear(W){bs(k,[W]),Hn(W,r),Hn(W,d)},onEnter:H(!1),onAppear:H(!0),onLeave(W,z){W._isLeaving=!0;const B=()=>U(W,z);Hn(W,c),Ec(),Hn(W,h),nu(()=>{!W._isLeaving||(ss(W,c),Hn(W,m),tu(S)||su(W,o,w,B))}),bs(S,[W,B])},onEnterCancelled(W){I(W,!1),bs($,[W])},onAppearCancelled(W){I(W,!0),bs(P,[W])},onLeaveCancelled(W){U(W),bs(E,[W])}})}function Wp(e){if(e==null)return null;if(ut(e))return[Ja(e.enter),Ja(e.leave)];{const t=Ja(e);return[t,t]}}function Ja(e){return hs(e)}function Hn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ss(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xp=0;function su(e,t,n,o){const a=e._endId=++xp,l=()=>{a===e._endId&&o()};if(n)return setTimeout(l,n);const{type:i,timeout:u,propCount:r}=Cc(e,t);if(!i)return o();const d=i+"end";let f=0;const c=()=>{e.removeEventListener(d,h),l()},h=m=>{m.target===e&&++f>=r&&c()};setTimeout(()=>{f<r&&c()},u+1),e.addEventListener(d,h)}function Cc(e,t){const n=window.getComputedStyle(e),o=g=>(n[g]||"").split(", "),a=o(ts+"Delay"),l=o(ts+"Duration"),i=ou(a,l),u=o(So+"Delay"),r=o(So+"Duration"),d=ou(u,r);let f=null,c=0,h=0;t===ts?i>0&&(f=ts,c=i,h=l.length):t===So?d>0&&(f=So,c=d,h=r.length):(c=Math.max(i,d),f=c>0?i>d?ts:So:null,h=f?f===ts?l.length:r.length:0);const m=f===ts&&/\b(transform|all)(,|$)/.test(n[ts+"Property"]);return{type:f,timeout:c,propCount:h,hasTransform:m}}function ou(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>iu(n)+iu(e[o])))}function iu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ec(){return document.body.offsetHeight}const kc=new WeakMap,Tc=new WeakMap,Kp={name:"TransitionGroup",props:_t({},jp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Xn(),o=sr();let a,l;return Ea(()=>{if(!a.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Xp(a[0].el,n.vnode.el,i))return;a.forEach(Jp),a.forEach(Gp);const u=a.filter(Yp);Ec(),u.forEach(r=>{const d=r.el,f=d.style;Hn(d,i),f.transform=f.webkitTransform=f.transitionDuration="";const c=d._moveCb=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",c),d._moveCb=null,ss(d,i))};d.addEventListener("transitionend",c)})}),()=>{const i=Ke(e),u=Sc(i);let r=i.tag||Y;a=l,l=t.default?Sa(t.default()):[];for(let d=0;d<l.length;d++){const f=l[d];f.key!=null&&Ns(f,uo(f,u,o,n))}if(a)for(let d=0;d<a.length;d++){const f=a[d];Ns(f,uo(f,u,o,n)),kc.set(f,f.el.getBoundingClientRect())}return V(r,null,l)}}},Ic=Kp;function Jp(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Gp(e){Tc.set(e,e.el.getBoundingClientRect())}function Yp(e){const t=kc.get(e),n=Tc.get(e),o=t.left-n.left,a=t.top-n.top;if(o||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${a}px)`,l.transitionDuration="0s",e}}function Xp(e,t,n){const o=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(u=>u&&o.classList.remove(u))}),n.split(/\s+/).forEach(i=>i&&o.classList.add(i)),o.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(o);const{hasTransform:l}=Cc(o);return a.removeChild(o),l}const vs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>oo(t,n):t};function Qp(e){e.target.composing=!0}function au(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const fe={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e._assign=vs(a);const l=o||a.props&&a.props.type==="number";jn(e,t?"change":"input",i=>{if(i.target.composing)return;let u=e.value;n&&(u=u.trim()),l&&(u=hs(u)),e._assign(u)}),n&&jn(e,"change",()=>{e.value=e.value.trim()}),t||(jn(e,"compositionstart",Qp),jn(e,"compositionend",au),jn(e,"change",au))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:a}},l){if(e._assign=vs(l),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(a||e.type==="number")&&hs(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},at={deep:!0,created(e,t,n){e._assign=vs(n),jn(e,"change",()=>{const o=e._modelValue,a=ho(e),l=e.checked,i=e._assign;if(ye(o)){const u=ha(o,a),r=u!==-1;if(l&&!r)i(o.concat(a));else if(!l&&r){const d=[...o];d.splice(u,1),i(d)}}else if(Bs(o)){const u=new Set(o);l?u.add(a):u.delete(a),i(u)}else i(Ac(e,l))})},mounted:lu,beforeUpdate(e,t,n){e._assign=vs(n),lu(e,t,n)}};function lu(e,{value:t,oldValue:n},o){e._modelValue=t,ye(t)?e.checked=ha(t,o.props.value)>-1:Bs(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=fs(t,Ac(e,!0)))}const Yt={created(e,{value:t},n){e.checked=fs(t,n.props.value),e._assign=vs(n),jn(e,"change",()=>{e._assign(ho(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e._assign=vs(o),t!==n&&(e.checked=fs(t,o.props.value))}},Un={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Bs(t);jn(e,"change",()=>{const l=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?hs(ho(i)):ho(i));e._assign(e.multiple?a?new Set(l):l:l[0])}),e._assign=vs(o)},mounted(e,{value:t}){ru(e,t)},beforeUpdate(e,t,n){e._assign=vs(n)},updated(e,{value:t}){ru(e,t)}};function ru(e,t){const n=e.multiple;if(!(n&&!ye(t)&&!Bs(t))){for(let o=0,a=e.options.length;o<a;o++){const l=e.options[o],i=ho(l);if(n)ye(t)?l.selected=ha(t,i)>-1:l.selected=t.has(i);else if(fs(ho(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ho(e){return"_value"in e?e._value:e.value}function Ac(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Vc={created(e,t,n){Oi(e,t,n,null,"created")},mounted(e,t,n){Oi(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){Oi(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){Oi(e,t,n,o,"updated")}};function Dc(e,t){switch(e){case"SELECT":return Un;case"TEXTAREA":return fe;default:switch(t){case"checkbox":return at;case"radio":return Yt;default:return fe}}}function Oi(e,t,n,o,a){const i=Dc(e.tagName,n.props&&n.props.type)[a];i&&i(e,t,n,o)}function Zp(){fe.getSSRProps=({value:e})=>({value:e}),Yt.getSSRProps=({value:e},t)=>{if(t.props&&fs(t.props.value,e))return{checked:!0}},at.getSSRProps=({value:e},t)=>{if(ye(e)){if(t.props&&ha(e,t.props.value)>-1)return{checked:!0}}else if(Bs(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Vc.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Dc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const qp=["ctrl","shift","alt","meta"],eg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qp.some(n=>e[`${n}Key`]&&!t.includes(n))},ta=(e,t)=>(n,...o)=>{for(let a=0;a<t.length;a++){const l=eg[t[a]];if(l&&l(n,t))return}return e(n,...o)},tg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jn=(e,t)=>n=>{if(!("key"in n))return;const o=Dn(n.key);if(t.some(a=>a===o||tg[a]===o))return e(n)},bo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Co(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Co(e,!0),o.enter(e)):o.leave(e,()=>{Co(e,!1)}):Co(e,t))},beforeUnmount(e,{value:t}){Co(e,t)}};function Co(e,t){e.style.display=t?e._vod:"none"}function ng(){bo.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Oc=_t({patchProp:Np},_p);let Wo,uu=!1;function Pc(){return Wo||(Wo=nc(Oc))}function Rc(){return Wo=uu?Wo:sc(Oc),uu=!0,Wo}const kl=(...e)=>{Pc().render(...e)},Mc=(...e)=>{Rc().hydrate(...e)},hr=(...e)=>{const t=Pc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=Uc(o);if(!a)return;const l=t._component;!Pe(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.innerHTML="";const i=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t},sg=(...e)=>{const t=Rc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=Uc(o);if(a)return n(a,!0,a instanceof SVGElement)},t};function Uc(e){return yt(e)?document.querySelector(e):e}let du=!1;const og=()=>{du||(du=!0,Zp(),ng())},ig=()=>{};var ag=Object.freeze(Object.defineProperty({__proto__:null,compile:ig,EffectScope:Wl,ReactiveEffect:hi,customRef:Jh,effect:gh,effectScope:ch,getCurrentScope:fh,isProxy:Gl,isReactive:Ds,isReadonly:Us,isRef:Tt,isShallow:qo,markRaw:Yl,onScopeDispose:hh,proxyRefs:Zl,reactive:yo,readonly:Jl,ref:Ce,shallowReactive:$d,shallowReadonly:zh,shallowRef:wd,stop:vh,toRaw:Ke,toRef:Sd,toRefs:Gh,triggerRef:Wh,unref:tt,camelize:ln,capitalize:fi,normalizeClass:Se,normalizeProps:nh,normalizeStyle:lt,toDisplayString:x,toHandlerKey:Fo,BaseTransition:or,Comment:Nt,Fragment:Y,KeepAlive:Cm,Static:Ps,Suspense:hm,Teleport:Jm,Text:co,callWithAsyncErrorHandling:an,callWithErrorHandling:On,cloneVNode:Mn,compatUtils:$p,computed:ot,createBlock:_e,createCommentVNode:R,createElementBlock:v,createElementVNode:s,createHydrationRenderer:sc,createPropsRestProxy:fp,createRenderer:nc,createSlots:Im,createStaticVNode:uc,createTextVNode:A,createVNode:V,defineAsyncComponent:_m,defineComponent:ae,defineEmits:ap,defineExpose:lp,defineProps:ip,get devtools(){return Qs},getCurrentInstance:Xn,getTransitionRawChildren:Sa,guardReactiveProps:rc,h:Va,handleError:js,initCustomFormatter:pp,inject:hn,isMemoSame:yc,isRuntimeOnly:ep,isVNode:ps,mergeDefaults:cp,mergeProps:vi,nextTick:mi,onActivated:Nd,onBeforeMount:Bd,onBeforeUnmount:ka,onBeforeUpdate:Hd,onDeactivated:Ld,onErrorCaptured:xd,onMounted:Ht,onRenderTracked:Wd,onRenderTriggered:jd,onServerPrefetch:zd,onUnmounted:Yn,onUpdated:Ea,openBlock:p,popScopeId:kn,provide:Ho,pushScopeId:En,queuePostFlushCb:er,registerRuntimeCompiler:qm,renderList:oe,renderSlot:lr,resolveComponent:F,resolveDirective:Tm,resolveDynamicComponent:Ta,resolveFilter:bp,resolveTransitionHooks:uo,setBlockTracking:$l,setDevtoolsHook:Vd,setTransitionHooks:Ns,ssrContextKey:vc,ssrUtils:yp,toHandlers:Gd,transformVNodeArgs:Gm,useAttrs:dp,useSSRContext:mp,useSlots:up,useTransitionState:sr,version:bc,warn:Ed,watch:It,watchEffect:ym,watchPostEffect:Rd,watchSyncEffect:bm,withAsyncContext:hp,withCtx:rt,withDefaults:rp,withDirectives:K,withMemo:gp,withScopeId:lm,Transition:fr,TransitionGroup:Ic,VueElement:Da,createApp:hr,createSSRApp:sg,defineCustomElement:wc,defineSSRCustomElement:Fp,hydrate:Mc,initDirectivesForSSR:og,render:kl,useCssModule:Hp,useCssVars:zp,vModelCheckbox:at,vModelDynamic:Vc,vModelRadio:Yt,vModelSelect:Un,vModelText:fe,vShow:bo,withKeys:Jn,withModifiers:ta},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Zs=typeof window!="undefined";function lg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const it=Object.assign;function Ga(e,t){const n={};for(const o in t){const a=t[o];n[o]=Sn(a)?a.map(e):e(a)}return n}const xo=()=>{},Sn=Array.isArray,rg=/\/$/,ug=e=>e.replace(rg,"");function Ya(e,t,n="/"){let o,a={},l="",i="";const u=t.indexOf("#");let r=t.indexOf("?");return u<r&&u>=0&&(r=-1),r>-1&&(o=t.slice(0,r),l=t.slice(r+1,u>-1?u:t.length),a=e(l)),u>-1&&(o=o||t.slice(0,u),i=t.slice(u,t.length)),o=hg(o!=null?o:t,n),{fullPath:o+(l&&"?")+l+i,path:o,query:a,hash:i}}function dg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function cu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cg(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&mo(t.matched[o],n.matched[a])&&Nc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function mo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!fg(e[n],t[n]))return!1;return!0}function fg(e,t){return Sn(e)?fu(e,t):Sn(t)?fu(t,e):e===t}function fu(e,t){return Sn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function hg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/");let a=n.length-1,l,i;for(l=0;l<o.length;l++)if(i=o[l],i!==".")if(i==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var ii;(function(e){e.pop="pop",e.push="push"})(ii||(ii={}));var Ko;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ko||(Ko={}));function mg(e){if(!e)if(Zs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ug(e)}const pg=/^[^#]+#/;function gg(e,t){return e.replace(pg,"#")+t}function vg(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Oa=()=>({left:window.pageXOffset,top:window.pageYOffset});function yg(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=vg(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function hu(e,t){return(history.state?history.state.position-t:-1)+e}const Tl=new Map;function bg(e,t){Tl.set(e,t)}function $g(e){const t=Tl.get(e);return Tl.delete(e),t}let wg=()=>location.protocol+"//"+location.host;function Lc(e,t){const{pathname:n,search:o,hash:a}=t,l=e.indexOf("#");if(l>-1){let u=a.includes(e.slice(l))?e.slice(l).length:1,r=a.slice(u);return r[0]!=="/"&&(r="/"+r),cu(r,"")}return cu(n,e)+o+a}function _g(e,t,n,o){let a=[],l=[],i=null;const u=({state:h})=>{const m=Lc(e,location),g=n.value,b=t.value;let w=0;if(h){if(n.value=m,t.value=h,i&&i===g){i=null;return}w=b?h.position-b.position:0}else o(m);a.forEach(_=>{_(n.value,g,{delta:w,type:ii.pop,direction:w?w>0?Ko.forward:Ko.back:Ko.unknown})})};function r(){i=n.value}function d(h){a.push(h);const m=()=>{const g=a.indexOf(h);g>-1&&a.splice(g,1)};return l.push(m),m}function f(){const{history:h}=window;!h.state||h.replaceState(it({},h.state,{scroll:Oa()}),"")}function c(){for(const h of l)h();l=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",f),{pauseListeners:r,listen:d,destroy:c}}function mu(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Oa():null}}function Sg(e){const{history:t,location:n}=window,o={value:Lc(e,n)},a={value:t.state};a.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(r,d,f){const c=e.indexOf("#"),h=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+r:wg()+e+r;try{t[f?"replaceState":"pushState"](d,"",h),a.value=d}catch(m){console.error(m),n[f?"replace":"assign"](h)}}function i(r,d){const f=it({},t.state,mu(a.value.back,r,a.value.forward,!0),d,{position:a.value.position});l(r,f,!0),o.value=r}function u(r,d){const f=it({},a.value,t.state,{forward:r,scroll:Oa()});l(f.current,f,!0);const c=it({},mu(o.value,r,null),{position:f.position+1},d);l(r,c,!1),o.value=r}return{location:o,state:a,push:u,replace:i}}function Cg(e){e=mg(e);const t=Sg(e),n=_g(e,t.state,t.location,t.replace);function o(l,i=!0){i||n.pauseListeners(),history.go(l)}const a=it({location:"",base:e,go:o,createHref:gg.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Eg(e){return typeof e=="string"||e&&typeof e=="object"}function Fc(e){return typeof e=="string"||typeof e=="symbol"}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Bc=Symbol("");var pu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(pu||(pu={}));function po(e,t){return it(new Error,{type:e,[Bc]:!0},t)}function Fn(e,t){return e instanceof Error&&Bc in e&&(t==null||!!(e.type&t))}const gu="[^/]+?",kg={sensitive:!1,strict:!1,start:!0,end:!0},Tg=/[.+*?^${}()[\]/\\]/g;function Ig(e,t){const n=it({},kg,t),o=[];let a=n.start?"^":"";const l=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(a+="/");for(let c=0;c<d.length;c++){const h=d[c];let m=40+(n.sensitive?.25:0);if(h.type===0)c||(a+="/"),a+=h.value.replace(Tg,"\\$&"),m+=40;else if(h.type===1){const{value:g,repeatable:b,optional:w,regexp:_}=h;l.push({name:g,repeatable:b,optional:w});const y=_||gu;if(y!==gu){m+=10;try{new RegExp(`(${y})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+S.message)}}let $=b?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;c||($=w&&d.length<2?`(?:/${$})`:"/"+$),w&&($+="?"),a+=$,m+=20,w&&(m+=-8),b&&(m+=-20),y===".*"&&(m+=-50)}f.push(m)}o.push(f)}if(n.strict&&n.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const i=new RegExp(a,n.sensitive?"":"i");function u(d){const f=d.match(i),c={};if(!f)return null;for(let h=1;h<f.length;h++){const m=f[h]||"",g=l[h-1];c[g.name]=m&&g.repeatable?m.split("/"):m}return c}function r(d){let f="",c=!1;for(const h of e){(!c||!f.endsWith("/"))&&(f+="/"),c=!1;for(const m of h)if(m.type===0)f+=m.value;else if(m.type===1){const{value:g,repeatable:b,optional:w}=m,_=g in d?d[g]:"";if(Sn(_)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=Sn(_)?_.join("/"):_;if(!y)if(w)h.length<2&&(f.endsWith("/")?f=f.slice(0,-1):c=!0);else throw new Error(`Missing required param "${g}"`);f+=y}}return f||"/"}return{re:i,score:o,keys:l,parse:u,stringify:r}}function Ag(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Vg(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const l=Ag(o[n],a[n]);if(l)return l;n++}if(Math.abs(a.length-o.length)===1){if(vu(o))return 1;if(vu(a))return-1}return a.length-o.length}function vu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Dg={type:0,value:""},Og=/[a-zA-Z0-9_]/;function Pg(e){if(!e)return[[]];if(e==="/")return[[Dg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,o=n;const a=[];let l;function i(){l&&a.push(l),l=[]}let u=0,r,d="",f="";function c(){!d||(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(r==="*"||r==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:f,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=r}for(;u<e.length;){if(r=e[u++],r==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:r==="/"?(d&&c(),i()):r===":"?(c(),n=1):h();break;case 4:h(),n=o;break;case 1:r==="("?n=2:Og.test(r)?h():(c(),n=0,r!=="*"&&r!=="?"&&r!=="+"&&u--);break;case 2:r===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+r:n=3:f+=r;break;case 3:c(),n=0,r!=="*"&&r!=="?"&&r!=="+"&&u--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),c(),i(),a}function Rg(e,t,n){const o=Ig(Pg(e.path),n),a=it(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Mg(e,t){const n=[],o=new Map;t=$u({strict:!1,end:!0,sensitive:!1},t);function a(f){return o.get(f)}function l(f,c,h){const m=!h,g=Ug(f);g.aliasOf=h&&h.record;const b=$u(t,f),w=[g];if("alias"in f){const $=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of $)w.push(it({},g,{components:h?h.record.components:g.components,path:S,aliasOf:h?h.record:g}))}let _,y;for(const $ of w){const{path:S}=$;if(c&&S[0]!=="/"){const E=c.record.path,k=E[E.length-1]==="/"?"":"/";$.path=c.record.path+(S&&k+S)}if(_=Rg($,c,b),h?h.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),m&&f.name&&!bu(_)&&i(f.name)),g.children){const E=g.children;for(let k=0;k<E.length;k++)l(E[k],_,h&&h.children[k])}h=h||_,r(_)}return y?()=>{i(y)}:xo}function i(f){if(Fc(f)){const c=o.get(f);c&&(o.delete(f),n.splice(n.indexOf(c),1),c.children.forEach(i),c.alias.forEach(i))}else{const c=n.indexOf(f);c>-1&&(n.splice(c,1),f.record.name&&o.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function u(){return n}function r(f){let c=0;for(;c<n.length&&Vg(f,n[c])>=0&&(f.record.path!==n[c].record.path||!Hc(f,n[c]));)c++;n.splice(c,0,f),f.record.name&&!bu(f)&&o.set(f.record.name,f)}function d(f,c){let h,m={},g,b;if("name"in f&&f.name){if(h=o.get(f.name),!h)throw po(1,{location:f});b=h.record.name,m=it(yu(c.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),f.params&&yu(f.params,h.keys.map(y=>y.name))),g=h.stringify(m)}else if("path"in f)g=f.path,h=n.find(y=>y.re.test(g)),h&&(m=h.parse(g),b=h.record.name);else{if(h=c.name?o.get(c.name):n.find(y=>y.re.test(c.path)),!h)throw po(1,{location:f,currentLocation:c});b=h.record.name,m=it({},c.params,f.params),g=h.stringify(m)}const w=[];let _=h;for(;_;)w.unshift(_.record),_=_.parent;return{name:b,path:g,params:m,matched:w,meta:Lg(w)}}return e.forEach(f=>l(f)),{addRoute:l,resolve:d,removeRoute:i,getRoutes:u,getRecordMatcher:a}}function yu(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Ug(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ng(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ng(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="boolean"?n:n[o];return t}function bu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Lg(e){return e.reduce((t,n)=>it(t,n.meta),{})}function $u(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Hc(e,t){return t.children.some(n=>n===e||Hc(e,n))}const zc=/#/g,Fg=/&/g,Bg=/\//g,Hg=/=/g,zg=/\?/g,jc=/\+/g,jg=/%5B/g,Wg=/%5D/g,Wc=/%5E/g,xg=/%60/g,xc=/%7B/g,Kg=/%7C/g,Kc=/%7D/g,Jg=/%20/g;function mr(e){return encodeURI(""+e).replace(Kg,"|").replace(jg,"[").replace(Wg,"]")}function Gg(e){return mr(e).replace(xc,"{").replace(Kc,"}").replace(Wc,"^")}function Il(e){return mr(e).replace(jc,"%2B").replace(Jg,"+").replace(zc,"%23").replace(Fg,"%26").replace(xg,"`").replace(xc,"{").replace(Kc,"}").replace(Wc,"^")}function Yg(e){return Il(e).replace(Hg,"%3D")}function Xg(e){return mr(e).replace(zc,"%23").replace(zg,"%3F")}function Qg(e){return e==null?"":Xg(e).replace(Bg,"%2F")}function na(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Zg(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const l=o[a].replace(jc," "),i=l.indexOf("="),u=na(i<0?l:l.slice(0,i)),r=i<0?null:na(l.slice(i+1));if(u in t){let d=t[u];Sn(d)||(d=t[u]=[d]),d.push(r)}else t[u]=r}return t}function wu(e){let t="";for(let n in e){const o=e[n];if(n=Yg(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Sn(o)?o.map(l=>l&&Il(l)):[o&&Il(o)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function qg(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Sn(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const ev=Symbol(""),_u=Symbol(""),Pa=Symbol(""),Jc=Symbol(""),Al=Symbol("");function Eo(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function is(e,t,n,o,a){const l=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((i,u)=>{const r=c=>{c===!1?u(po(4,{from:n,to:t})):c instanceof Error?u(c):Eg(c)?u(po(2,{from:t,to:c})):(l&&o.enterCallbacks[a]===l&&typeof c=="function"&&l.push(c),i())},d=e.call(o&&o.instances[a],t,n,r);let f=Promise.resolve(d);e.length<3&&(f=f.then(r)),f.catch(c=>u(c))})}function Xa(e,t,n,o){const a=[];for(const l of e)for(const i in l.components){let u=l.components[i];if(!(t!=="beforeRouteEnter"&&!l.instances[i]))if(tv(u)){const d=(u.__vccOpts||u)[t];d&&a.push(is(d,n,o,l,i))}else{let r=u();a.push(()=>r.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${l.path}"`));const f=lg(d)?d.default:d;l.components[i]=f;const h=(f.__vccOpts||f)[t];return h&&is(h,n,o,l,i)()}))}}return a}function tv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Su(e){const t=hn(Pa),n=hn(Jc),o=ot(()=>t.resolve(tt(e.to))),a=ot(()=>{const{matched:r}=o.value,{length:d}=r,f=r[d-1],c=n.matched;if(!f||!c.length)return-1;const h=c.findIndex(mo.bind(null,f));if(h>-1)return h;const m=Cu(r[d-2]);return d>1&&Cu(f)===m&&c[c.length-1].path!==m?c.findIndex(mo.bind(null,r[d-2])):h}),l=ot(()=>a.value>-1&&iv(n.params,o.value.params)),i=ot(()=>a.value>-1&&a.value===n.matched.length-1&&Nc(n.params,o.value.params));function u(r={}){return ov(r)?t[tt(e.replace)?"replace":"push"](tt(e.to)).catch(xo):Promise.resolve()}return{route:o,href:ot(()=>o.value.href),isActive:l,isExactActive:i,navigate:u}}const nv=ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Su,setup(e,{slots:t}){const n=yo(Su(e)),{options:o}=hn(Pa),a=ot(()=>({[Eu(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Eu(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:Va("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},l)}}}),sv=nv;function ov(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function iv(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!Sn(a)||a.length!==o.length||o.some((l,i)=>l!==a[i]))return!1}return!0}function Cu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Eu=(e,t,n)=>e!=null?e:t!=null?t:n,av=ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=hn(Al),a=ot(()=>e.route||o.value),l=hn(_u,0),i=ot(()=>{let d=tt(l);const{matched:f}=a.value;let c;for(;(c=f[d])&&!c.components;)d++;return d}),u=ot(()=>a.value.matched[i.value]);Ho(_u,ot(()=>i.value+1)),Ho(ev,u),Ho(Al,a);const r=Ce();return It(()=>[r.value,u.value,e.name],([d,f,c],[h,m,g])=>{f&&(f.instances[c]=d,m&&m!==f&&d&&d===h&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),d&&f&&(!m||!mo(f,m)||!h)&&(f.enterCallbacks[c]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=a.value,f=e.name,c=u.value,h=c&&c.components[f];if(!h)return ku(n.default,{Component:h,route:d});const m=c.props[f],g=m?m===!0?d.params:typeof m=="function"?m(d):m:null,w=Va(h,it({},g,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[f]=null)},ref:r}));return ku(n.default,{Component:w,route:d})||w}}});function ku(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const lv=av;function rv(e){const t=Mg(e.routes,e),n=e.parseQuery||Zg,o=e.stringifyQuery||wu,a=e.history,l=Eo(),i=Eo(),u=Eo(),r=wd(ns);let d=ns;Zs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ga.bind(null,j=>""+j),c=Ga.bind(null,Qg),h=Ga.bind(null,na);function m(j,ie){let Q,ce;return Fc(j)?(Q=t.getRecordMatcher(j),ce=ie):ce=j,t.addRoute(ce,Q)}function g(j){const ie=t.getRecordMatcher(j);ie&&t.removeRoute(ie)}function b(){return t.getRoutes().map(j=>j.record)}function w(j){return!!t.getRecordMatcher(j)}function _(j,ie){if(ie=it({},ie||r.value),typeof j=="string"){const ke=Ya(n,j,ie.path),C=t.resolve({path:ke.path},ie),T=a.createHref(ke.fullPath);return it(ke,C,{params:h(C.params),hash:na(ke.hash),redirectedFrom:void 0,href:T})}let Q;if("path"in j)Q=it({},j,{path:Ya(n,j.path,ie.path).path});else{const ke=it({},j.params);for(const C in ke)ke[C]==null&&delete ke[C];Q=it({},j,{params:c(j.params)}),ie.params=c(ie.params)}const ce=t.resolve(Q,ie),Re=j.hash||"";ce.params=f(h(ce.params));const We=dg(o,it({},j,{hash:Gg(Re),path:ce.path})),Oe=a.createHref(We);return it({fullPath:We,hash:Re,query:o===wu?qg(j.query):j.query||{}},ce,{redirectedFrom:void 0,href:Oe})}function y(j){return typeof j=="string"?Ya(n,j,r.value.path):it({},j)}function $(j,ie){if(d!==j)return po(8,{from:ie,to:j})}function S(j){return M(j)}function E(j){return S(it(y(j),{replace:!0}))}function k(j){const ie=j.matched[j.matched.length-1];if(ie&&ie.redirect){const{redirect:Q}=ie;let ce=typeof Q=="function"?Q(j):Q;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=y(ce):{path:ce},ce.params={}),it({query:j.query,hash:j.hash,params:"path"in ce?{}:j.params},ce)}}function M(j,ie){const Q=d=_(j),ce=r.value,Re=j.state,We=j.force,Oe=j.replace===!0,ke=k(Q);if(ke)return M(it(y(ke),{state:typeof ke=="object"?it({},Re,ke.state):Re,force:We,replace:Oe}),ie||Q);const C=Q;C.redirectedFrom=ie;let T;return!We&&cg(o,ce,Q)&&(T=po(16,{to:C,from:ce}),ft(ce,ce,!0,!1)),(T?Promise.resolve(T):I(C,ce)).catch(N=>Fn(N)?Fn(N,2)?N:ze(N):re(N,C,ce)).then(N=>{if(N){if(Fn(N,2))return M(it({replace:Oe},y(N.to),{state:typeof N.to=="object"?it({},Re,N.to.state):Re,force:We}),ie||C)}else N=H(C,ce,!0,Oe,Re);return U(C,ce,N),N})}function P(j,ie){const Q=$(j,ie);return Q?Promise.reject(Q):Promise.resolve()}function I(j,ie){let Q;const[ce,Re,We]=uv(j,ie);Q=Xa(ce.reverse(),"beforeRouteLeave",j,ie);for(const ke of ce)ke.leaveGuards.forEach(C=>{Q.push(is(C,j,ie))});const Oe=P.bind(null,j,ie);return Q.push(Oe),Js(Q).then(()=>{Q=[];for(const ke of l.list())Q.push(is(ke,j,ie));return Q.push(Oe),Js(Q)}).then(()=>{Q=Xa(Re,"beforeRouteUpdate",j,ie);for(const ke of Re)ke.updateGuards.forEach(C=>{Q.push(is(C,j,ie))});return Q.push(Oe),Js(Q)}).then(()=>{Q=[];for(const ke of j.matched)if(ke.beforeEnter&&!ie.matched.includes(ke))if(Sn(ke.beforeEnter))for(const C of ke.beforeEnter)Q.push(is(C,j,ie));else Q.push(is(ke.beforeEnter,j,ie));return Q.push(Oe),Js(Q)}).then(()=>(j.matched.forEach(ke=>ke.enterCallbacks={}),Q=Xa(We,"beforeRouteEnter",j,ie),Q.push(Oe),Js(Q))).then(()=>{Q=[];for(const ke of i.list())Q.push(is(ke,j,ie));return Q.push(Oe),Js(Q)}).catch(ke=>Fn(ke,8)?ke:Promise.reject(ke))}function U(j,ie,Q){for(const ce of u.list())ce(j,ie,Q)}function H(j,ie,Q,ce,Re){const We=$(j,ie);if(We)return We;const Oe=ie===ns,ke=Zs?history.state:{};Q&&(ce||Oe?a.replace(j.fullPath,it({scroll:Oe&&ke&&ke.scroll},Re)):a.push(j.fullPath,Re)),r.value=j,ft(j,ie,Q,Oe),ze()}let W;function z(){W||(W=a.listen((j,ie,Q)=>{if(!ht.listening)return;const ce=_(j),Re=k(ce);if(Re){M(it(Re,{replace:!0}),ce).catch(xo);return}d=ce;const We=r.value;Zs&&bg(hu(We.fullPath,Q.delta),Oa()),I(ce,We).catch(Oe=>Fn(Oe,12)?Oe:Fn(Oe,2)?(M(Oe.to,ce).then(ke=>{Fn(ke,20)&&!Q.delta&&Q.type===ii.pop&&a.go(-1,!1)}).catch(xo),Promise.reject()):(Q.delta&&a.go(-Q.delta,!1),re(Oe,ce,We))).then(Oe=>{Oe=Oe||H(ce,We,!1),Oe&&(Q.delta&&!Fn(Oe,8)?a.go(-Q.delta,!1):Q.type===ii.pop&&Fn(Oe,20)&&a.go(-1,!1)),U(ce,We,Oe)}).catch(xo)}))}let B=Eo(),pe=Eo(),X;function re(j,ie,Q){ze(j);const ce=pe.list();return ce.length?ce.forEach(Re=>Re(j,ie,Q)):console.error(j),Promise.reject(j)}function ve(){return X&&r.value!==ns?Promise.resolve():new Promise((j,ie)=>{B.add([j,ie])})}function ze(j){return X||(X=!j,z(),B.list().forEach(([ie,Q])=>j?Q(j):ie()),B.reset()),j}function ft(j,ie,Q,ce){const{scrollBehavior:Re}=e;if(!Zs||!Re)return Promise.resolve();const We=!Q&&$g(hu(j.fullPath,0))||(ce||!Q)&&history.state&&history.state.scroll||null;return mi().then(()=>Re(j,ie,We)).then(Oe=>Oe&&yg(Oe)).catch(Oe=>re(Oe,j,ie))}const Ze=j=>a.go(j);let Ye;const qe=new Set,ht={currentRoute:r,listening:!0,addRoute:m,removeRoute:g,hasRoute:w,getRoutes:b,resolve:_,options:e,push:S,replace:E,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:l.add,beforeResolve:i.add,afterEach:u.add,onError:pe.add,isReady:ve,install(j){const ie=this;j.component("RouterLink",sv),j.component("RouterView",lv),j.config.globalProperties.$router=ie,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>tt(r)}),Zs&&!Ye&&r.value===ns&&(Ye=!0,S(a.location).catch(Re=>{}));const Q={};for(const Re in ns)Q[Re]=ot(()=>r.value[Re]);j.provide(Pa,ie),j.provide(Jc,yo(Q)),j.provide(Al,r);const ce=j.unmount;qe.add(j),j.unmount=function(){qe.delete(j),qe.size<1&&(d=ns,W&&W(),W=null,r.value=ns,Ye=!1,X=!1),ce()}}};return ht}function Js(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function uv(e,t){const n=[],o=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const u=t.matched[i];u&&(e.matched.find(d=>mo(d,u))?o.push(u):n.push(u));const r=e.matched[i];r&&(t.matched.find(d=>mo(d,r))||a.push(r))}return[n,o,a]}function Gc(){return hn(Pa)}var dv=Object.defineProperty,Tu=Object.getOwnPropertySymbols,cv=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,Iu=(e,t,n)=>t in e?dv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yc=(e,t)=>{for(var n in t||(t={}))cv.call(t,n)&&Iu(e,n,t[n]);if(Tu)for(var n of Tu(t))fv.call(t,n)&&Iu(e,n,t[n]);return e},Ra=e=>typeof e=="function",Ma=e=>typeof e=="string",Xc=e=>Ma(e)&&e.trim().length>0,hv=e=>typeof e=="number",As=e=>typeof e=="undefined",ai=e=>typeof e=="object"&&e!==null,mv=e=>Pn(e,"tag")&&Xc(e.tag),Qc=e=>window.TouchEvent&&e instanceof TouchEvent,Zc=e=>Pn(e,"component")&&qc(e.component),pv=e=>Ra(e)||ai(e),qc=e=>!As(e)&&(Ma(e)||pv(e)||Zc(e)),Au=e=>ai(e)&&["height","width","right","left","top","bottom"].every(t=>hv(e[t])),Pn=(e,t)=>(ai(e)||Ra(e))&&t in e,gv=(e=>()=>e++)(0);function Qa(e){return Qc(e)?e.targetTouches[0].clientX:e.clientX}function Vu(e){return Qc(e)?e.targetTouches[0].clientY:e.clientY}var vv=e=>{As(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},yi=e=>Zc(e)?yi(e.component):mv(e)?ae({render(){return e}}):typeof e=="string"?e:Ke(tt(e)),yv=e=>{if(typeof e=="string")return e;const t=Pn(e,"props")&&ai(e.props)?e.props:{},n=Pn(e,"listeners")&&ai(e.listeners)?e.listeners:{};return{component:yi(e),props:t,listeners:n}},bv=()=>typeof window!="undefined",pr=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(o=>o(t))}},$v=e=>["on","off","emit"].every(t=>Pn(e,t)&&Ra(e[t])),sn;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(sn||(sn={}));var sa;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(sa||(sa={}));var on;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(on||(on={}));var wn="Vue-Toastification",bn={type:{type:String,default:sn.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ef={type:bn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Hi={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:bn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Vl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},tf={transition:{type:[Object,String],default:`${wn}__bounce`}},wv={position:{type:String,default:sa.TOP_RIGHT},draggable:bn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:bn.trueBoolean,pauseOnHover:bn.trueBoolean,closeOnClick:bn.trueBoolean,timeout:Vl.timeout,hideProgressBar:Vl.hideProgressBar,toastClassName:bn.classNames,bodyClassName:bn.classNames,icon:ef.customIcon,closeButton:Hi.component,closeButtonClassName:Hi.classNames,showCloseButtonOnHover:Hi.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new pr}},_v={id:{type:[String,Number],required:!0,default:0},type:bn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Sv={container:{type:[Object,Function],default:()=>document.body},newestOnTop:bn.trueBoolean,maxToasts:{type:Number,default:20},transition:tf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:bn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Wn={CORE_TOAST:wv,TOAST:_v,CONTAINER:Sv,PROGRESS_BAR:Vl,ICON:ef,TRANSITION:tf,CLOSE_BUTTON:Hi},nf=ae({name:"VtProgressBar",props:Wn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${wn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Cv(e,t){return p(),v("div",{style:lt(e.style),class:Se(e.cpClass)},null,6)}nf.render=Cv;var Ev=nf,sf=ae({name:"VtCloseButton",props:Wn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?yi(this.component):"button"},classes(){const e=[`${wn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),kv=A(" \xD7 ");function Tv(e,t){return p(),_e(Ta(e.buttonComponent),vi({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:rt(()=>[kv]),_:1},16,["aria-label","class"])}sf.render=Tv;var Iv=sf,of={},Av={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Vv=s("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Dv=[Vv];function Ov(e,t){return p(),v("svg",Av,Dv)}of.render=Ov;var Pv=of,af={},Rv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Mv=s("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Uv=[Mv];function Nv(e,t){return p(),v("svg",Rv,Uv)}af.render=Nv;var Du=af,lf={},Lv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Fv=s("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Bv=[Fv];function Hv(e,t){return p(),v("svg",Lv,Bv)}lf.render=Hv;var zv=lf,rf={},jv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Wv=s("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),xv=[Wv];function Kv(e,t){return p(),v("svg",jv,xv)}rf.render=Kv;var Jv=rf,uf=ae({name:"VtIcon",props:Wn.ICON,computed:{customIconChildren(){return Pn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Ma(this.customIcon)?this.trimValue(this.customIcon):Pn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Pn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:qc(this.customIcon)?yi(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[sn.DEFAULT]:Du,[sn.INFO]:Du,[sn.SUCCESS]:Pv,[sn.ERROR]:Jv,[sn.WARNING]:zv}[this.type]},iconClasses(){const e=[`${wn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Xc(e)?e.trim():t}}});function Gv(e,t){return p(),_e(Ta(e.component),{class:Se(e.iconClasses)},{default:rt(()=>[A(x(e.customIconChildren),1)]),_:1},8,["class"])}uf.render=Gv;var Yv=uf,df=ae({name:"VtToast",components:{ProgressBar:Ev,CloseButton:Iv,Icon:Yv},inheritAttrs:!1,props:Object.assign({},Wn.CORE_TOAST,Wn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${wn}__toast`,`${wn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${wn}__toast--rtl`),e},bodyClasses(){return[`${wn}__toast-${Ma(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Au(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Pn,getVueComponentFromObj:yi,closeToast(){this.eventBus.emit(on.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Qa(e),y:Vu(e)},this.dragStart=Qa(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Qa(e),y:Vu(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Au(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Xv=["role"];function Qv(e,t){const n=F("Icon"),o=F("CloseButton"),a=F("ProgressBar");return p(),v("div",{class:Se(e.classes),style:lt(e.draggableStyle),onClick:t[0]||(t[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:t[1]||(t[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:t[2]||(t[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(p(),_e(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):R("v-if",!0),s("div",{role:e.accessibility.toastRole||"alert",class:Se(e.bodyClasses)},[typeof e.content=="string"?(p(),v(Y,{key:0},[A(x(e.content),1)],2112)):(p(),_e(Ta(e.getVueComponentFromObj(e.content)),vi({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Gd(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Xv),e.closeButton?(p(),_e(o,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:ta(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):R("v-if",!0),e.timeout?(p(),_e(a,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):R("v-if",!0)],38)}df.render=Qv;var Zv=df,cf=ae({name:"VtTransition",props:Wn.TRANSITION,emits:["leave"],methods:{hasProp:Pn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function qv(e,t){return p(),_e(Ic,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:rt(()=>[lr(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}cf.render=qv;var ey=cf,ff=ae({name:"VueToastification",devtools:{hide:!0},components:{Toast:Zv,VtTransition:ey},props:Object.assign({},Wn.CORE_TOAST,Wn.CONTAINER,Wn.TRANSITION),data(){return{count:0,positions:Object.values(sa),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(on.ADD,this.addToast),e.on(on.CLEAR,this.clearToasts),e.on(on.DISMISS,this.dismissToast),e.on(on.UPDATE,this.updateToast),e.on(on.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ra(e)&&(e=await e()),vv(this.$el),e.appendChild(this.$el)},setToast(e){As(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=yv(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!As(t)&&!As(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){As(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${wn}__container`,e].concat(this.defaults.containerClassName)}}});function ty(e,t){const n=F("Toast"),o=F("VtTransition");return p(),v("div",null,[(p(!0),v(Y,null,oe(e.positions,a=>(p(),v("div",{key:a},[V(o,{transition:e.defaults.transition,class:Se(e.getClasses(a))},{default:rt(()=>[(p(!0),v(Y,null,oe(e.getPositionToasts(a),l=>(p(),_e(n,vi({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}ff.render=ty;var ny=ff,Ou=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new pr;t&&mi(()=>{const l=hr(ny,Yc({},e)),i=l.mount(document.createElement("div")),u=e.onMounted;if(As(u)||u(i,l),e.shareAppContext){const r=e.shareAppContext;r===!0?console.warn(`[${wn}] App to share context with was not provided.`):(l._context.components=r._context.components,l._context.directives=r._context.directives,l._context.mixins=r._context.mixins,l._context.provides=r._context.provides,l.config.globalProperties=r.config.globalProperties)}});const o=(l,i)=>{const u=Object.assign({},{id:gv(),type:sn.DEFAULT},i,{content:l});return n.emit(on.ADD,u),u.id};o.clear=()=>n.emit(on.CLEAR,void 0),o.updateDefaults=l=>{n.emit(on.UPDATE_DEFAULTS,l)},o.dismiss=l=>{n.emit(on.DISMISS,l)};function a(l,{content:i,options:u},r=!1){const d=Object.assign({},u,{content:i});n.emit(on.UPDATE,{id:l,options:d,create:r})}return o.update=a,o.success=(l,i)=>o(l,Object.assign({},i,{type:sn.SUCCESS})),o.info=(l,i)=>o(l,Object.assign({},i,{type:sn.INFO})),o.error=(l,i)=>o(l,Object.assign({},i,{type:sn.ERROR})),o.warning=(l,i)=>o(l,Object.assign({},i,{type:sn.WARNING})),o},sy=()=>{const e=()=>console.warn(`[${wn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Dl(e){return bv()?$v(e)?Ou({eventBus:e},!1):Ou(e,!0):sy()}var hf=Symbol("VueToastification"),mf=new pr,oy=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=Dl(Yc({eventBus:mf},t));e.provide(hf,n)},pf=e=>{if(e)return Dl(e);const t=Xn()?hn(hf,void 0):void 0;return t||Dl(mf)},iy=oy;var De=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const ay=ae({name:"app"});function ly(e,t,n,o,a,l){const i=F("router-view");return p(),_e(i)}var ry=De(ay,[["render",ly]]);const uy=1,Fs=1e3*uy,li=60*Fs,ri=60*li,oa=24*ri;let Oo=[];const dy=e=>{switch(e){case"error":Oo=["error"];break;case"warn":Oo=["error","warn"];break;case"info":Oo=["error","warn","info"];break;case"debug":Oo=["error","warn","info","debug"];break}};dy("info");const Ws=(e,...t)=>{const n=e,o=a=>(...l)=>{Oo.includes(a)&&console[a](fy("hh:mm:ss",new Date),`[${n}]`,...t,...l)};return{error:o("error"),warn:o("warn"),info:o("info"),debug:o("debug")}},cy=e=>[...e].length,fy=(e,t)=>e.replace(/(hh|mm|ss)/g,(n,o)=>{switch(o){case"hh":return cs(t.getHours(),"00");case"mm":return cs(t.getMinutes(),"00");case"ss":return cs(t.getSeconds(),"00");default:return n}}),cs=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n};function Be(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const gr=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const n=`${e}`.trim();if(!n)throw new Error("unable to parse duration");const o=h=>{if(h<0&&!t)throw new Error("negative value not allowed");return h};if(n.match(/^-?\d+$/))return o(parseInt(n,10));const a=n.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(a){const h=parseFloat(a[1]);if(isNaN(h))throw new Error("unable to parse duration");const m=a[2];let g=0;return m==="d"?g=h*oa:m==="h"?g=h*ri:m==="m"?g=h*li:m==="s"&&(g=h*Fs),o(Math.round(g))}const l=n.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!l)throw new Error("unable to parse duration");const i=l[1]?-1:1,u=l[2]?parseInt(l[2],10):0,r=l[3]?parseInt(l[3],10):0,d=l[4]?parseInt(l[4],10):0,f=l[5]?parseInt(l[5],10):0,c=l[6]?parseInt(l[6],10):0;return o(i*(f*Fs+d*li+r*ri+u*oa+c))},hy=(e,t=!1)=>{try{return gr(e,t)}catch{return 0}},my=(e,t=["ms","s","m","h","d"])=>{let n=e;const o=Math.floor(n/oa);n=n%oa;const a=Math.floor(n/ri);n=n%ri;const l=Math.floor(n/li);n=n%li;const i=Math.floor(n/Fs);n=n%Fs;const r=[n,i,l,a,o];let d=0;for(;d<r.length&&r[d]===0;)d++;let f=r.length-1;for(;f>=0&&r[f]===0;)f--;const c=[];for(let h=d;h<=f;h++)c.unshift(`${r[h]}${t[h]}`);return c.join(" ")};function py(e,t,n){if(n>=e.length){let o=n-e.length+1;for(;o--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e}const Ua=(e,t,n)=>{if(t===n||t<0||t>e.length-1||n<0||n>e.length-1)return!1;const o=e[t];return e[t]=e[n],e[n]=o,!0},gy=(e,t)=>{const n=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$daysuntil\("([^"]+)"\)/g,/\$daysuntil\("([^"]+)",\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let o=e,a;do{a=o;for(const l of n)o=o.replace(l,t)}while(a!==o);return o},vy=(e,t=",",n=-1)=>{const o=e.split(t);return n===-1||o.length<=n?o:[...o.slice(0,n-1),o.slice(n-1).join(t)]},yy=e=>{let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const o=e[t];e[t]=e[n],e[n]=o}return e};function gf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function vf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const by=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},Ol=(e,t="pt")=>{const n=`${e}`;return n.match(/^\d+$/)?`${n}${t}`:n},te=(e,t,n)=>{let o=e;for(const a of t){if(typeof o!="object"||o===null||!Object.keys(o).includes(a))return n;o=o[a]}return o},yf=(e,t,n)=>Math.max(e,Math.min(n,t)),Bt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),qs=e=>e[Bt(0,e.length-1)],$y=(e,t,n,o,a)=>{const l=i=>new Date(`${cs(i.getFullYear(),"0000")}-${cs(i.getMonth()+1,"00")}-${cs(i.getDate(),"00")}`);try{const i=new Date(e);if(isNaN(i.getTime()))return a;const u=new Date,r=l(i).getTime()-l(u).getTime(),d=Math.ceil(r/1e3/60/60/24);let f="{days}";return d===0?f=o:d===1?f=n:f=t,f.replace("{days}",`${d}`)}catch{return a}};var Xt={arrayMove:py,arraySwap:Ua,clamp:yf,daysUntil:$y,doDummyReplacements:gy,getRandom:qs,getRandomInt:Bt,humanDuration:my,mediaFileFromUploadedFile:gf,mustParseHumanDuration:gr,pad:cs,parseHumanDuration:hy,shuffle:yy,soundMediaFileFromUploadedFile:vf,split:vy,toNumberUnitString:Ol,unicodeLength:cy};const bf=(e=null)=>({name:te(e,["name"],""),width:te(e,["width"],64),height:te(e,["height"],64),stateDefinitions:te(e,["stateDefinitions"],[]),slotDefinitions:te(e,["slotDefinitions"],[]),state:te(e,["state"],{slots:{},lockedState:""})}),Pl=(e=null)=>({styles:{bgColor:te(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:te(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:te(e,["avatarDefinitions"],[]).map(bf)}),Na=async(e,t,n)=>new Promise((o,a)=>{const l=new window.XMLHttpRequest;l.open(e,t,!0),l.withCredentials=!0;const i=n.headers||{};for(const u in i)l.setRequestHeader(u,i[u]);l.addEventListener("load",function(u){o({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),l.addEventListener("error",function(u){a(new Error("xhr error"))}),l.upload&&n.onUploadProgress&&l.upload.addEventListener("progress",function(u){n.onUploadProgress&&n.onUploadProgress(u)}),l.send(n.body)}),pn=async(e,t={})=>Na("get",e,t),wy=async(e,t={})=>Na("post",e,t),$f=async(e,t)=>Na("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),Tn=async(e,t)=>$f(e,JSON.stringify(t));function _y(e){const t=[];for(const n in e){const o=[n,e[n]].map(encodeURIComponent);t.push(o.join("="))}return t.length===0?"":`?${t.join("&")}`}var ct={resendVerificationMail:async e=>Tn("/api/user/_resend_verification_mail",e),requestPasswordReset:async e=>Tn("/api/user/_request_password_reset",e),register:async e=>Tn("/api/user/_register",e),resetPassword:async e=>Tn("/api/user/_reset_password",e),handleToken:async e=>Tn("/api/_handle-token",e),saveVariables:async e=>Tn("/api/save-variables",e),twitchUserIdByName:async e=>Tn("/api/twitch/user-id-by-name",e),saveUserSettings:async e=>Tn("/api/save-settings",e),getPageVariablesData:async()=>pn("/api/page/variables"),getPageIndexData:async()=>pn("/api/page/index"),getPageSettingsData:async()=>pn("/api/page/settings"),getDataGlobal:async()=>pn("/api/data/global"),getMe:async()=>pn("/api/user/me"),logout:async()=>wy("/api/logout"),login:async e=>Tn("/api/auth",e),getConf:async()=>pn("/api/conf"),upload:async(e,t)=>{const n=new FormData;return n.append("file",e,e.name),Na("post","/api/upload",{body:n,onUploadProgress:t})},importPlaylist:async e=>$f("/api/sr/import",e),getDrawcastAllImages:async()=>pn("/api/drawcast/all-images/"),getGeneralGlobalEmotes:async()=>pn("/api/general/global-emotes"),getGeneralChannelEmotes:async e=>pn("/api/general/channel-emotes"+_y({channel_name:e})),createWidgetUrl:async e=>Tn("/api/widget/create_url",e),getWidgetData:async(e,t)=>pn(`/api/widget/${e}/${t}/`),getPubData:async e=>pn(`/api/pub/${e}`)};let wf=null;const Sy=async()=>{const e=await ct.getConf();wf=e.status===200?await e.json():null};var _f={init:Sy,getConf:()=>wf};function Sf(e){return{all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map(function(a){a(n)}),(o=e.get("*"))&&o.slice().map(function(a){a(t,n)})}}}let ia=null;const ui=Sf(),Cf=()=>localStorage.getItem("darkmode")==="1",Cy=e=>{localStorage.setItem("darkmode",e?"1":"0"),ui.emit("darkmode",e)};async function Ef(){ui.emit("darkmode",Cf());const e=await ct.getMe();ia=e.status===200?await e.json():null,ia&&ui.emit("login")}async function Ey(){return(await(await ct.logout()).json()).success?(ia=null,ui.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}async function ky(e,t){const n=await ct.login({user:e,pass:t});return n.status===200?(await Ef(),{error:!1}):n.status===401?{error:(await n.json()).reason}:{error:"Unknown error"}}var fn={getMe:()=>ia,isDarkmode:Cf,setDarkmode:Cy,eventBus:ui,logout:Ey,login:ky,init:Ef};const Ty=1001,ko=4e3,Bn=Ws("WsWrapper.ts");class Iy{constructor(t,n){this.addr=t,this.protocols=n,this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{}}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=Be(10);this.id=t;const n=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};Bn.info({id:t,addr:this.addr},"trying to connect");const o=new WebSocket(this.addr,this.protocols);o.onopen=a=>{if(Bn.info({id:t},"ws connected"),t!==this.id){Bn.info({id:t,this_id:this.id},"connected but it is not the last attempt"),o.close(ko);return}for(this.handle&&(Bn.error({e:a},"handle already existed, closing old one and replacing it"),this.handle.close(ko)),this.handle=o;this.sendBuffer.length>0;){const l=this.sendBuffer.shift();l&&this.handle.send(l)}this.onopen(a),this.keepAlive()},o.onmessage=a=>{try{const l=JSON.parse(a.data);if(l.type&&l.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(a)},o.onerror=a=>{this.cancelKeepAlive(),Bn.error({e:a,id:t})},o.onclose=a=>{this.cancelKeepAlive(),this.handle=null,this.onclose(a),a.code===ko?Bn.info({id:t},"custom disconnect, will not reconnect"):a.code===Ty?Bn.info({id:t},"going away, will not reconnect"):(Bn.info({id:t,code:a.code},"connection closed, trying to reconnect."),n())}}disconnect(){this.handle&&(Bn.info({code:ko},"handle existed, closing"),this.handle.close(ko))}}const Pu=Ws("WsClient.ts");class kf extends Iy{constructor(t,n){super(t,n),this._on={},this.onopen=o=>{this._dispatch("socket","open",o)},this.onmessage=o=>{if(this._dispatch("socket","message",o),this._on.message){const a=this._parseMessageData(o.data);a.event&&this._dispatch("message",`${a.event}`,a.data,a)}},this.onclose=o=>{this._dispatch("socket","close",o)}}onSocket(t,n){this.addEventListener("socket",t,n)}onMessage(t,n){this.addEventListener("message",t,n)}addEventListener(t,n,o){const a=Array.isArray(n)?n:[n];this._on[t]=this._on[t]||{};for(const l of a)this._on[t][l]=this._on[t][l]||[],this._on[t][l].push(o)}_parseMessageData(t){try{const n=JSON.parse(t);if(n.event)return n.data=n.data||null,n}catch(n){Pu.info({e:n})}return{event:null,data:null}}_dispatch(t,n,...o){const l=(this._on[t]||{})[n]||[];if(l.length!==0){Pu.info({type:t,tag:n},"ws dispatch");for(const i of l)i(...o)}}}const Ay=e=>{const t=_f.getConf(),n=fn.getMe();return new kf(`${t.wsBase}/${e}`,n?n.token:"")},bi=e=>{if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if(e.dataTransfer.items[t].kind==="file")return e.dataTransfer.items[t].getAsFile();return null}for(let t=0;t<e.dataTransfer.files.length;t++)return e.dataTransfer.files[t];return null};var Qn={wsClient:Ay,getFileFromDropEvent:bi,getParam:e=>new URLSearchParams(window.location.search).get(e)||""};const Vy={name:"Hyottoko-Chan",width:400,height:400,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1},{value:"brb",deletable:!0}],slotDefinitions:[{slot:"Base",defaultItemIndex:0,items:[{title:"Default Clothing",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bVyo1l-BASE.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/JFvasz-2022-01-30T01_30_40.133Z-xUI5QQ.png",duration:100}]}]},{title:"Neko Maid",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/CnWpBL-BASE 2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/xV8vXJ-brb2.png",duration:100}]}]}]},{slot:"Mouth",defaultItemIndex:0,items:[{title:"Confused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/GkDE45-mouth-confused-open.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/snKSAf-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Mild Smile",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/TTeOCx-mouth-mild-smile.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/gjs4vW-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bbpNaD-mouth-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Eyes",defaultItemIndex:1,items:[{title:"Calm",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/NO7zrl-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/nmUEqi-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/9eidC9-l2idid-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/pw1HJw-nmUEqi-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Interested",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/2wlpCr-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/DwiBor-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/5fP25n-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/PYiAtV-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/LQkiXq-eyes-down-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Hands + Table",defaultItemIndex:0,items:[{title:"Empty",states:[{state:"default",frames:[{url:"",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[]}]},{title:"Mouse Study",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/YJnPbG-mouse-study.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Tablet",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/MNHy2s-tablet-osu.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Knitting",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/pn9ZlM-knitting-hands2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Cross Stitch",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/XZRYyh-crossstitch-hands.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]}],state:{slots:{Mouth:1,Eyes:1,Base:1,"Hands + Table":1},lockedState:"default"}};const Dy=ae({data:()=>({editIdx:-1,editEntity:null,unchangedJson:"{}",changedJson:"{}",settings:Pl(),defaultSettings:Pl(),ws:null,inited:!1,tabDefinitions:[{tab:"avatars",title:"Avatars"},{tab:"settings",title:"Settings"}],tab:"avatars",controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Qn.wsClient("avatar"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{edit(e){if(!this.settings){console.warn("edit: this.settings not initialized");return}this.editIdx=e,this.editEntity=this.settings.avatarDefinitions[e]},remove(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.avatarDefinitions=this.settings.avatarDefinitions.filter((t,n)=>n!==e),this.sendSave()},duplicate(e){if(!this.settings){console.warn("duplicate: this.settings not initialized");return}this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=JSON.parse(JSON.stringify(this.settings.avatarDefinitions[e]))},updatedAvatar(e){if(!this.settings){console.warn("updateAvatar: this.settings not initialized");return}this.settings.avatarDefinitions[this.editIdx]=e,this.sendSave()},addAvatar(){if(!this.settings){console.warn("addAvatar: this.settings not initialized");return}const e={name:"Unnamed Avatar",width:64,height:64,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1}],slotDefinitions:[],state:{slots:{},lockedState:"default"}};this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},addExampleAvatar(){const e=JSON.parse(JSON.stringify(Vy));this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},dragEnd(e){if(!this.settings){console.warn("dragEnd: this.settings not initialized");return}this.settings.avatarDefinitions=Xt.arrayMove(this.settings.avatarDefinitions,e.oldIndex,e.newIndex),this.sendSave()}}}),Oy={class:"view"},Py={id:"top",ref:"top"},Ry={id:"actionbar",class:"p-1"},My=["href"],Uy=["href"],Ny={key:0,id:"main",ref:"main"},Ly={class:"tabs"},Fy=["onClick"],By={key:0,class:"table is-striped"},Hy=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),zy=s("td",null,[s("code",null,"settings.style.bgColor")],-1),jy=["disabled"],Wy=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),xy={key:1},Ky={class:"table is-striped"},Jy=s("thead",null,[s("tr",null,[s("th"),s("th"),s("th",null,"Preview"),s("th",null,"Name"),s("th",null,"Actions")])],-1),Gy=s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1),Yy={class:"pl-0 pr-0"},Xy=["onClick"],Qy=s("i",{class:"fa fa-pencil"},null,-1),Zy=[Qy],qy={class:"pl-0 pr-0"},eb=s("i",{class:"fa fa-trash"},null,-1),tb=["onClick"],nb=s("i",{class:"fa fa-clone"},null,-1),sb=[nb],ob=["href"],ib=s("i",{class:"fa fa-external-link mr-1"},null,-1),ab=A(" Control widget"),lb=[ib,ab],rb=["href"],ub=s("i",{class:"fa fa-external-link mr-1"},null,-1),db=A(" Display widget"),cb=[ub,db];function fb(e,t,n,o,a,l){const i=F("navbar-element"),u=F("avatar-preview"),r=F("doubleclick-button"),d=F("vue-draggable"),f=F("avatar-editor");return p(),v("div",Oy,[s("div",Py,[V(i),s("div",Ry,[s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,My),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,Uy)])],512),e.inited?(p(),v("div",Ny,[s("div",Ly,[s("ul",null,[(p(!0),v(Y,null,oe(e.tabDefinitions,(c,h)=>(p(),v("li",{key:h,class:Se({"is-active":e.tab===c.tab}),onClick:m=>e.tab=c.tab},[s("a",null,x(c.title),1)],10,Fy))),128))])]),e.tab==="settings"?(p(),v("table",By,[s("tbody",null,[Hy,s("tr",null,[zy,s("td",null,[K(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.settings.styles.bgColor=c),class:"input is-small",type:"color","on:update:modelValue":t[1]||(t[1]=(...c)=>e.sendSave&&e.sendSave(...c))},null,544),[[fe,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=c=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)}," Reset to default ",8,jy)])]),s("tr",null,[Wy,s("td",null,[K(s("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>e.settings.styles.bgColorEnabled=c),type:"checkbox","on:update:modelValue":t[4]||(t[4]=(...c)=>e.sendSave&&e.sendSave(...c))},null,544),[[at,e.settings.styles.bgColorEnabled]])])])])])):R("",!0),e.tab==="avatars"?(p(),v("div",xy,[s("table",Ky,[Jy,V(d,{"model-value":e.settings.avatarDefinitions,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:c,index:h})=>[s("tr",null,[Gy,s("td",Yy,[s("button",{class:"button is-small",onClick:m=>e.edit(h)},Zy,8,Xy)]),s("td",null,[V(u,{avatar:c},null,8,["avatar"])]),s("td",null,x(c.name),1),s("td",qy,[V(r,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:m=>e.remove(h)},{default:rt(()=>[eb]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small mr-1",onClick:m=>e.duplicate(h)},sb,8,tb),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl+"?avatar="+c.name,target:"_blank"},lb,8,ob),s("a",{class:"button is-small",href:e.displayWidgetUrl+"?avatar="+c.name,target:"_blank"},cb,8,rb)])])]),_:1},8,["model-value","onEnd"])]),e.editEntity?(p(),_e(f,{key:0,"model-value":e.editEntity,"onUpdate:modelValue":e.updatedAvatar,onCancel:t[5]||(t[5]=c=>e.editEntity=null)},null,8,["model-value","onUpdate:modelValue"])):R("",!0),s("span",{class:"button is-small mr-1",onClick:t[6]||(t[6]=(...c)=>e.addAvatar&&e.addAvatar(...c))},"Add new avatar"),s("span",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.addExampleAvatar&&e.addExampleAvatar(...c))},"Add example avatar (Hyottoko-Chan)")])):R("",!0)],512)):R("",!0)])}var hb=De(Dy,[["render",fb]]);const vr=()=>({volume:100}),mb=()=>({showImages:!0,autocommands:[]});var Pt=(e=>(e.BALLOON="balloon",e.BOUNCY="bouncy",e.EXPLODE="explode",e.FLOATING_SPACE="floatingSpace",e.FOUNTAIN="fountain",e.RAIN="rain",e.RANDOM_BEZIER="randomBezier",e))(Pt||{}),Jt=(e=>(e.COMMAND="command",e.REWARD_REDEMPTION="reward_redemption",e.FOLLOW="follow",e.SUB="sub",e.BITS="bits",e.RAID="raid",e.TIMER="timer",e.FIRST_CHAT="first_chat",e))(Jt||{}),ue=(e=>(e.TEXT="text",e.MEDIA="media",e.EMOTES="emotes",e.MEDIA_VOLUME="media_volume",e.COUNTDOWN="countdown",e.DICT_LOOKUP="dict_lookup",e.MADOCHAN_CREATEWORD="madochan_createword",e.CHATTERS="chatters",e.SET_CHANNEL_TITLE="set_channel_title",e.SET_CHANNEL_GAME_ID="set_channel_game_id",e.ADD_STREAM_TAGS="add_stream_tags",e.REMOVE_STREAM_TAGS="remove_stream_tags",e.SR_CURRENT="sr_current",e.SR_UNDO="sr_undo",e.SR_GOOD="sr_good",e.SR_BAD="sr_bad",e.SR_STATS="sr_stats",e.SR_PREV="sr_prev",e.SR_NEXT="sr_next",e.SR_JUMPTONEW="sr_jumptonew",e.SR_CLEAR="sr_clear",e.SR_RM="sr_rm",e.SR_SHUFFLE="sr_shuffle",e.SR_RESET_STATS="sr_reset_stats",e.SR_LOOP="sr_loop",e.SR_NOLOOP="sr_noloop",e.SR_PAUSE="sr_pause",e.SR_UNPAUSE="sr_unpause",e.SR_HIDEVIDEO="sr_hidevideo",e.SR_SHOWVIDEO="sr_showvideo",e.SR_REQUEST="sr_request",e.SR_RE_REQUEST="sr_re_request",e.SR_ADDTAG="sr_addtag",e.SR_RMTAG="sr_rmtag",e.SR_VOLUME="sr_volume",e.SR_FILTER="sr_filter",e.SR_PRESET="sr_preset",e.SR_QUEUE="sr_queue",e))(ue||{}),La=(e=>(e.TEXT="text",e.MEDIA="media",e.DELAY="delay",e))(La||{});const pb={class:"view"},gb={id:"top",ref:"top"},vb={id:"main",ref:"main"},yb={class:"tabs"},bb=["onClick"],$b=["href"],wb={key:1},_b={key:0,ref:"table",class:"table is-striped"},Sb=s("td",null,[s("code",null,"settings.volume")],-1),Cb=s("td",null,"Base volume for all media playing from commands",-1),Eb=ae({__name:"CommandsView",setup(e){const t=Ce([]),n=Ce(vr()),o=Ce(mb()),a=Ce([]),l=Ce({});let i=null;const u=[ue.TEXT,ue.MEDIA,ue.EMOTES,ue.MEDIA_VOLUME,ue.COUNTDOWN,ue.DICT_LOOKUP,ue.MADOCHAN_CREATEWORD,ue.CHATTERS,ue.SET_CHANNEL_TITLE,ue.SET_CHANNEL_GAME_ID,ue.ADD_STREAM_TAGS,ue.REMOVE_STREAM_TAGS],r=[{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"}],d=Ce(!1),f=Ce("commands"),c=Ce(""),h=ot(()=>n.value.volume),m=w=>{o.value.showImages=w,g()},g=()=>{b({event:"save",commands:t.value,settings:n.value,adminSettings:o.value})},b=w=>{if(!i){console.warn("sendMsg: this.ws not initialized");return}i.send(JSON.stringify(w))};return Ht(()=>{i=Qn.wsClient("general"),i.onMessage("init",w=>{t.value=w.commands,n.value=w.settings,c.value=w.mediaWidgetUrl,o.value=w.adminSettings,a.value=w.globalVariables,l.value=w.channelPointsCustomRewards,d.value=!0}),i.connect()}),Yn(()=>{i&&i.disconnect()}),(w,_)=>{const y=F("navbar-element"),$=F("commands-editor"),S=F("volume-slider");return p(),v("div",pb,[s("div",gb,[V(y)],512),s("div",vb,[s("div",yb,[s("ul",null,[(p(),v(Y,null,oe(r,(E,k)=>s("li",{key:k,class:Se({"is-active":f.value===E.tab}),onClick:M=>f.value=E.tab},[s("a",null,x(E.title),1)],10,bb)),64)),s("li",null,[s("a",{class:"button is-small mr-1",href:c.value,target:"_blank"},"Open Media widget",8,$b)])])]),d.value&&f.value==="commands"?(p(),_e($,{key:0,modelValue:t.value,"onUpdate:modelValue":[_[0]||(_[0]=E=>t.value=E),g],"global-variables":a.value,"channel-points-custom-rewards":l.value,"possible-actions":u,"base-volume":tt(h),"show-toggle-images":!0,"show-filter-actions":!0,"widget-url":c.value,"show-images":o.value.showImages,onShowImagesChange:m},null,8,["modelValue","global-variables","channel-points-custom-rewards","base-volume","widget-url","show-images"])):R("",!0),d.value&&f.value==="settings"?(p(),v("div",wb,[n.value?(p(),v("table",_b,[s("tbody",null,[s("tr",null,[Sb,s("td",null,[V(S,{modelValue:n.value.volume,"onUpdate:modelValue":[_[1]||(_[1]=E=>n.value.volume=E),g]},null,8,["modelValue"])]),Cb])])],512)):R("",!0)])):R("",!0)],512)])}}}),kb=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath}:null,Tb=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath,volume:e.volume}:null,Ru=(e=null)=>({submitButtonText:te(e,["submitButtonText"],"Submit"),submitConfirm:te(e,["submitConfirm"],""),recentImagesTitle:te(e,["recentImagesTitle"],""),canvasWidth:te(e,["canvasWidth"],720),canvasHeight:te(e,["canvasHeight"],405),customDescription:te(e,["customDescription"],""),customProfileImage:!e||typeof e.customProfileImage=="undefined"?null:kb(e.customProfileImage),palette:te(e,["palette"],["#000000","#808080","#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff8080","#80ff80","#ffffff","#c0c0c0","#800000","#804000","#808000","#008000","#008080","#000080","#800080","#8080ff","#ffff80"]),displayDuration:te(e,["displayDuration"],5e3),displayLatestForever:te(e,["displayLatestForever"],!1),displayLatestAutomatically:te(e,["displayLatestAutomatically"],!1),autofillLatest:te(e,["autofillLatest"],!1),notificationSound:!e||typeof e.notificationSound=="undefined"?null:Tb(e.notificationSound),requireManualApproval:te(e,["requireManualApproval"],!1),favoriteLists:te(e,["favoriteLists"],[{list:te(e,["favorites"],[]),title:te(e,["favoriteImagesTitle"],"")}])}),Ib=["placeholder"],Qt=ae({__name:"StringInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Ce(n.modelValue);return It(()=>n.modelValue,a=>{o.value=a}),It(o,a=>{t("update:modelValue",a)},{deep:!0}),(a,l)=>K((p(),v("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Ib)),[[fe,o.value]])}}),Ab=["placeholder"],yr=ae({__name:"IntegerInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Ce(`${n.modelValue}`);return It(()=>n.modelValue,a=>{o.value=`${a}`}),It(o,a=>{const l=parseInt(`${a}`,10);t("update:modelValue",isNaN(l)?0:l)},{deep:!0}),(a,l)=>K((p(),v("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Ab)),[[fe,o.value]])}});const Vb=ae({components:{StringInput:Qt,IntegerInput:yr},data:()=>({unchangedJson:"{}",changedJson:"{}",inited:!1,settings:Ru(),defaultSettings:Ru(),ws:null,drawUrl:"",notificationSoundAudio:null,manualApproval:{hovered:"",items:[]},favoriteSelection:{hovered:"",items:[],pagination:{page:1,perPage:20}},controlWidgetUrl:"",receiveWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson},favoriteSelectionTotalPages(){return Math.floor(this.favoriteSelection.items.length/this.favoriteSelection.pagination.perPage)+(this.favoriteSelection.items.length%this.favoriteSelection.pagination.perPage===0?0:1)},currentFavoriteSelectionItems(){const e=(this.favoriteSelection.pagination.page-1)*this.favoriteSelection.pagination.perPage;return this.favoriteSelection.items.slice(e,e+this.favoriteSelection.pagination.perPage)}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async created(){this.ws=Qn.wsClient("drawcast"),this.ws.onMessage("init",async e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.drawUrl=e.drawUrl,this.controlWidgetUrl=e.controlWidgetUrl,this.receiveWidgetUrl=e.receiveWidgetUrl;const n=await(await ct.getDrawcastAllImages()).json();this.favoriteSelection.items=n.map(o=>o.path),this.settings.notificationSound&&(this.notificationSoundAudio=new Audio(this.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=this.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(o=>!o.approved).map(o=>o.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice()}),this.ws.onMessage("denied_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice(),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},addFavoriteList(){if(!this.settings){console.warn("addFavoriteList: this.settings not initialized");return}this.settings.favoriteLists.push({list:[],title:""})},moveFavoriteListUp(e){this.swapItems(e-1,e)},moveFavoriteListDown(e){this.swapItems(e+1,e)},swapItems(e,t){Ua(this.settings.favoriteLists,e,t)},removeFavoriteList(e){if(!this.settings){console.warn("removeFavoriteList: this.settings not initialized");return}const t=[];for(let n in this.settings.favoriteLists)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.settings.favoriteLists[n]);this.settings.favoriteLists=t},toggleFavorite(e,t){if(!this.settings){console.warn("toggleFavorite: this.settings not initialized");return}this.settings.favoriteLists[e].list.includes(t)?this.settings.favoriteLists[e].list=this.settings.favoriteLists[e].list.filter(n=>n!==t):this.settings.favoriteLists[e].list.push(t)},customProfileImageChanged(e){if(!this.settings){console.warn("customProfileImageChanged: this.settings not initialized");return}this.settings.customProfileImage=e.file?e:null},notificationSoundChanged(e){if(!this.settings){console.warn("notificationSoundChanged: this.settings not initialized");return}this.settings.notificationSound=e.file?e:null},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:{canvasWidth:parseInt(`${this.settings.canvasWidth}`,10)||720,canvasHeight:parseInt(`${this.settings.canvasHeight}`,10)||405,submitButtonText:this.settings.submitButtonText,submitConfirm:this.settings.submitConfirm,recentImagesTitle:this.settings.recentImagesTitle,customDescription:this.settings.customDescription,customProfileImage:this.settings.customProfileImage,palette:this.settings.palette,displayDuration:parseInt(`${this.settings.displayDuration}`,10)||5e3,displayLatestForever:this.settings.displayLatestForever,displayLatestAutomatically:this.settings.displayLatestAutomatically,autofillLatest:this.settings.autofillLatest,requireManualApproval:this.settings.requireManualApproval,notificationSound:this.settings.notificationSound,favoriteLists:this.settings.favoriteLists}})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),Db={class:"view"},Ob={id:"top",ref:"top"},Pb={id:"actionbar",class:"p-1"},Rb=["disabled"],Mb=["href"],Ub=["href"],Nb={id:"main",ref:"main"},Lb={key:0,ref:"table",class:"table is-striped"},Fb=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),Bb=s("td",null,[s("code",null,"settings.canvasWidth")],-1),Hb=s("td",null,[A(" Width of the drawing area."),s("br"),A(" Caution: changing this will clear the area for currenty connected users. ")],-1),zb=s("td",null,[s("code",null,"settings.canvasHeight")],-1),jb=s("td",null,[A(" Height of the drawing area."),s("br"),A(" Caution: changing this will clear the area for currenty connected users. ")],-1),Wb=s("td",null,[s("code",null,"settings.displayDuration")],-1),xb=s("td",null," The duration in Milliseconds that each drawing will be shown ",-1),Kb=s("td",null,[s("code",null,"settings.requireManualApproval")],-1),Jb=s("td",null," If checked, new drawings need to be approved before being displayed for anyone. ",-1),Gb=A(" Pending approval "),Yb=s("br",null,null,-1),Xb=["href"],Qb={key:0},Zb={class:"card-body"},qb=["src"],e1={class:"card-footer"},t1=["onClick"],n1=["onClick"],s1={key:1},o1=s("td",null,null,-1),i1=s("td",null,[s("code",null,"settings.displayLatestForever")],-1),a1=s("td",null,"If checked, the latest drawing will be shown indefinately.",-1),l1=s("td",null,[s("code",null,"settings.displayLatestAutomatically")],-1),r1=s("td",null," If checked, the latest drawing will be shown in widget automatically. ",-1),u1=s("td",null,[s("code",null,"settings.autofillLatest")],-1),d1=s("td",null," Fill the latest submitted drawing into the draw panel when opening the draw page. ",-1),c1=s("td",null,[s("code",null,"settings.submitButtonText")],-1),f1=s("td",null,null,-1),h1=s("td",null,[s("code",null,"settings.submitConfirm")],-1),m1=s("td",null," Leave empty if no confirm is required by user before sending. ",-1),p1=s("td",null,[s("code",null,"settings.recentImagesTitle")],-1),g1=s("td",null,"Title for the recently submitted images gallery.",-1),v1=s("td",null,[s("code",null,"settings.customDescription")],-1),y1=s("td",null,"Description text below the drawing panel.",-1),b1=s("td",null,[s("code",null,"settings.customProfileImage")],-1),$1=s("td",null,[A(" Profile image that will be displayed next to the "),s("code",null,"settings.customDescription"),A(". ")],-1),w1=s("td",null,[s("code",null,"settings.palette")],-1),_1=["onUpdate:modelValue"],S1=s("br",null,null,-1),C1=s("br",null,null,-1),E1=s("td",null,[A(" Default colors appearing on the draw page."),s("br"),A(" Caution: Changing this will change selected color for currenty connected users. ")],-1),k1=s("td",null,[s("code",null,"settings.notificationSound")],-1),T1=s("td",null,[A(" Add a sound here that plays when new drawings arrive. "),s("br"),A(" This is played in this window, if approval is necessary, otherwise it will play in the display widget. It won't play in the draw widget. ")],-1),I1=s("div",null,[s("code",null,"settings.favoriteLists")],-1),A1={class:"preview"},V1=["src"],D1={key:0},O1=["onClick"],P1=s("i",{class:"fa fa-chevron-up"},null,-1),R1=[P1],M1=["onClick"],U1=s("i",{class:"fa fa-chevron-down"},null,-1),N1=[U1],L1=["onClick"],F1=s("i",{class:"fa fa-trash"},null,-1),B1=[F1],H1=s("td",null,"Title:",-1),z1=s("td",null,"Currently selected favorites:",-1),j1={class:"favorites"},W1=["src","onClick","onMouseover"],x1=s("td",null,"Select favorites:",-1),K1={class:"favorites-select"},J1=["src","onClick","onMouseover"],G1=["disabled"],Y1=["disabled"],X1=s("td",null," The favorites will always be displayed at the beginning of the gallery in the draw widget. ",-1);function Q1(e,t,n,o,a,l){const i=F("navbar-element"),u=F("IntegerInput"),r=F("StringInput"),d=F("image-upload"),f=F("sound-upload");return p(),v("div",Db,[s("div",Ob,[V(i),s("div",Pb,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...c)=>e.sendSave&&e.sendSave(...c))}," Save ",8,Rb),s("a",{class:"button is-small mr-1",href:e.receiveWidgetUrl,target:"_blank"},"Open widget",8,Mb),s("a",{class:"button is-small",href:e.drawUrl,target:"_blank"},"Open draw",8,Ub)])],512),s("div",Nb,[e.inited?(p(),v("table",Lb,[s("tbody",null,[Fb,s("tr",null,[Bb,s("td",null,[V(u,{modelValue:e.settings.canvasWidth,"onUpdate:modelValue":t[1]||(t[1]=c=>e.settings.canvasWidth=c)},null,8,["modelValue"])]),Hb]),s("tr",null,[zb,s("td",null,[V(u,{modelValue:e.settings.canvasHeight,"onUpdate:modelValue":t[2]||(t[2]=c=>e.settings.canvasHeight=c)},null,8,["modelValue"])]),jb]),s("tr",null,[Wb,s("td",null,[V(u,{modelValue:e.settings.displayDuration,"onUpdate:modelValue":t[3]||(t[3]=c=>e.settings.displayDuration=c)},null,8,["modelValue"])]),xb]),s("tr",null,[Kb,s("td",null,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.settings.requireManualApproval=c),type:"checkbox"},null,512),[[at,e.settings.requireManualApproval]])]),Jb]),s("tr",null,[s("td",null,[Gb,Yb,s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open in separate tab",8,Xb)]),s("td",null,[e.manualApproval.items.length?(p(),v("div",Qb,[(p(!0),v(Y,null,oe(e.manualApproval.items,(c,h)=>(p(),v("div",{key:h,class:"image-to-approve card mr-1"},[s("div",Zb,[s("img",{src:c,width:"250",class:"thumbnail mr-1"},null,8,qb)]),s("div",e1,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:m=>e.approveImage(c)}," Approve! ",8,t1),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:m=>e.denyImage(c)}," Deny! ",8,n1)])]))),128))])):(p(),v("div",s1," Currently there are no drawings awaiting approval. "))]),o1]),s("tr",null,[i1,s("td",null,[K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.settings.displayLatestForever=c),type:"checkbox"},null,512),[[at,e.settings.displayLatestForever]])]),a1]),s("tr",null,[l1,s("td",null,[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.settings.displayLatestAutomatically=c),type:"checkbox"},null,512),[[at,e.settings.displayLatestAutomatically]])]),r1]),s("tr",null,[u1,s("td",null,[K(s("input",{"onUpdate:modelValue":t[7]||(t[7]=c=>e.settings.autofillLatest=c),type:"checkbox"},null,512),[[at,e.settings.autofillLatest]])]),d1]),s("tr",null,[c1,s("td",null,[V(r,{modelValue:e.settings.submitButtonText,"onUpdate:modelValue":t[8]||(t[8]=c=>e.settings.submitButtonText=c)},null,8,["modelValue"])]),f1]),s("tr",null,[h1,s("td",null,[V(r,{modelValue:e.settings.submitConfirm,"onUpdate:modelValue":t[9]||(t[9]=c=>e.settings.submitConfirm=c)},null,8,["modelValue"])]),m1]),s("tr",null,[p1,s("td",null,[V(r,{modelValue:e.settings.recentImagesTitle,"onUpdate:modelValue":t[10]||(t[10]=c=>e.settings.recentImagesTitle=c)},null,8,["modelValue"])]),g1]),s("tr",null,[v1,s("td",null,[K(s("textarea",{"onUpdate:modelValue":t[11]||(t[11]=c=>e.settings.customDescription=c),class:"textarea"},null,512),[[fe,e.settings.customDescription]])]),y1]),s("tr",null,[b1,s("td",null,[V(d,{modelValue:e.settings.customProfileImage,"onUpdate:modelValue":[t[12]||(t[12]=c=>e.settings.customProfileImage=c),e.customProfileImageChanged],width:"100px",height:"50px",class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),$1]),s("tr",null,[w1,s("td",null,[(p(!0),v(Y,null,oe(e.settings.palette,(c,h)=>(p(),v("label",{key:h,class:"square"},[K(s("input",{"onUpdate:modelValue":m=>e.settings.palette[h]=m,type:"color"},null,8,_1),[[fe,e.settings.palette[h]]]),s("span",{class:"square-inner",style:lt({backgroundColor:c})},null,4)]))),128)),S1,C1,s("button",{class:"button is-small",onClick:t[13]||(t[13]=c=>e.settings.palette=e.defaultSettings.palette)}," Reset to default palette ")]),E1]),s("tr",null,[k1,s("td",null,[V(f,{modelValue:e.settings.notificationSound,"onUpdate:modelValue":[t[14]||(t[14]=c=>e.settings.notificationSound=c),e.notificationSoundChanged],class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),T1]),s("tr",null,[s("td",null,[I1,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=(...c)=>e.addFavoriteList&&e.addFavoriteList(...c))},"Add a list")]),s("div",A1,[e.favoriteSelection.hovered?(p(),v("img",{key:0,src:e.favoriteSelection.hovered},null,8,V1)):R("",!0)])]),s("td",null,[(p(!0),v(Y,null,oe(e.settings.favoriteLists,(c,h)=>(p(),v("div",{key:h,class:"card p-2 mb-2"},[e.settings.favoriteLists.length>1?(p(),v("div",D1,[s("span",{class:Se(["button is-small ml-1",{"is-disabled":h>0}]),onClick:m=>e.moveFavoriteListUp(h)},R1,10,O1),s("span",{class:Se(["button is-small ml-1",{"is-disabled":h<e.settings.favoriteLists.length-1}]),onClick:m=>e.moveFavoriteListDown(h)},N1,10,M1),s("span",{class:"button is-small ml-1",onClick:m=>e.removeFavoriteList(h)},B1,8,L1)])):R("",!0),s("table",null,[s("tr",null,[H1,s("td",null,[V(r,{modelValue:c.title,"onUpdate:modelValue":m=>c.title=m},null,8,["modelValue","onUpdate:modelValue"])])]),s("tr",null,[z1,s("td",null,[s("div",j1,[(p(!0),v(Y,null,oe(c.list,(m,g)=>(p(),v("img",{key:g,src:m,width:"50",height:"50",class:"thumbnail is-favorited mr-1",onClick:b=>e.toggleFavorite(h,m),onMouseover:b=>e.favoriteSelection.hovered=m,onMouseleave:t[16]||(t[16]=b=>e.favoriteSelection.hovered="")},null,40,W1))),128))])])]),s("tr",null,[x1,s("td",null,[s("div",K1,[(p(!0),v(Y,null,oe(e.currentFavoriteSelectionItems,(m,g)=>(p(),v("img",{key:g,src:m,width:"50",height:"50",class:Se(["thumbnail mr-1",{"is-favorited":c.list.includes(m)}]),onClick:b=>e.toggleFavorite(h,m),onMouseover:b=>e.favoriteSelection.hovered=m,onMouseleave:t[17]||(t[17]=b=>e.favoriteSelection.hovered="")},null,42,J1))),128))]),s("span",{class:"button is-small mr-1",disabled:e.favoriteSelection.pagination.page>1?void 0:!0,onClick:t[18]||(t[18]=m=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page-1)},"Prev",8,G1),s("span",{class:"button is-small",disabled:e.favoriteSelection.pagination.page<e.favoriteSelectionTotalPages?void 0:!0,onClick:t[19]||(t[19]=m=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page+1)},"Next",8,Y1)])])])]))),128))]),X1])])],512)):R("",!0)],512)])}var Z1=De(Vb,[["render",Q1]]);const q1={class:"view center-screen mt-2"},e0=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),t0={key:0,class:"field has-background-success-light has-text-success-dark"},n0=A(" Password-reset mail sent. Click "),s0=A(" here "),o0=A(" to login. "),i0={key:1},a0={key:0,class:"field has-background-danger-light has-text-danger-dark"},l0={class:"field"},r0={class:"control has-icons-left"},u0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),d0={class:"field"},c0=A(" Register an account "),f0=A(" | "),h0=A(" Login "),m0=ae({__name:"ForgotPasswordView",setup(e){const t=Ce(""),n=Ce(""),o=Ce(!1),a=async()=>{o.value=!1,n.value="";const l=await ct.requestPasswordReset({email:t.value});if(l.status===200)o.value=!0;else try{n.value=(await l.json()).reason}catch{n.value="Unknown error"}};return(l,i)=>{const u=F("router-link"),r=F("global-user-info");return p(),v("div",q1,[e0,o.value?(p(),v("div",t0,[n0,V(u,{to:{name:"login"}},{default:rt(()=>[s0]),_:1}),o0])):(p(),v("form",i0,[n.value?(p(),v("div",a0,x(n.value),1)):R("",!0),s("div",l0,[s("div",r0,[K(s("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>t.value=d),class:"input",type:"email",placeholder:"Email",onKeyup:i[1]||(i[1]=d=>n.value="")},null,544),[[fe,t.value]]),u0])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:a},"Request Password Reset")]),s("div",d0,[V(u,{to:{name:"register"}},{default:rt(()=>[c0]),_:1}),f0,V(u,{to:{name:"login"}},{default:rt(()=>[h0]),_:1})]),V(r)]))])}}}),p0=ae({data:()=>({widgets:[],toast:pf()}),async created(){const e=await ct.getPageIndexData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.widgets=t.widgets},methods:{async newUrl(e){const t=await ct.createWidgetUrl({type:e.type,pub:e.pub});if(t.status===200)try{const n=await t.json();n.url&&(this.widgets=this.widgets.map(o=>(o.type===e.type&&(o.url=n.url),o))),this.toast.success("New URL created")}catch{this.toast.error("New URL couldn't be created")}else this.toast.error("New URL couldn't be created")}}}),g0={key:0,class:"view"},v0={id:"top",ref:"top"},y0={id:"main",ref:"main"},b0={class:"table is-striped is-fullwidth"},$0=s("thead",null,[s("tr",null,[s("th",null,"Widget"),s("th",null,"Hint"),s("th")])],-1),w0=["href"],_0=["onClick"];function S0(e,t,n,o,a,l){const i=F("navbar-element");return e.widgets?(p(),v("div",g0,[s("div",v0,[V(i)],512),s("div",y0,[s("table",b0,[$0,s("tbody",null,[(p(!0),v(Y,null,oe(e.widgets,(u,r)=>(p(),v("tr",{key:r},[s("td",null,[s("a",{href:u.url,target:"blank"},x(u.title),9,w0)]),s("td",null,x(u.hint),1),s("td",null,[s("span",{class:"button is-small ml-1",onClick:d=>e.newUrl(u)},"Generate new url",8,_0)])]))),128))])])],512)])):R("",!0)}var C0=De(p0,[["render",S0]]);const E0={class:"view center-screen mt-2"},k0=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),T0={key:0,class:"field has-background-success-light has-text-success-dark"},I0={key:1,class:"field has-background-danger-light has-text-danger-dark"},A0={class:"field"},V0={class:"control has-icons-left"},D0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),O0={class:"field"},P0={class:"control has-icons-left"},R0=["onKeyup"],M0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),U0={class:"field"},N0=A(" Register an account "),L0=A(" | "),F0=A(" Forgot password? "),B0=ae({__name:"LoginView",setup(e){const t=Ce(""),n=Ce(""),o=Ce(""),a=Ce("");Ht(async()=>{const u=Qn.getParam("t");if(u){a.value="",o.value="";const r=await ct.handleToken({token:u});r.status===200?(await r.json()).type==="registration-verified"&&(a.value="Registration complete"):o.value="Unknown error"}});const l=Gc(),i=async()=>{a.value="",o.value="";const u=await fn.login(t.value,n.value);u.error?o.value=u.error:l.push({name:"index"})};return(u,r)=>{const d=F("router-link"),f=F("global-user-info");return p(),v("div",E0,[k0,s("form",null,[a.value?(p(),v("div",T0,x(a.value),1)):R("",!0),o.value?(p(),v("div",I0,x(o.value),1)):R("",!0),s("div",A0,[s("div",V0,[K(s("input",{"onUpdate:modelValue":r[0]||(r[0]=c=>t.value=c),class:"input",type:"text",placeholder:"User",onKeyup:r[1]||(r[1]=c=>o.value="")},null,544),[[fe,t.value]]),D0])]),s("div",O0,[s("div",P0,[K(s("input",{"onUpdate:modelValue":r[2]||(r[2]=c=>n.value=c),class:"input",type:"password",placeholder:"Password",onKeyup:[r[3]||(r[3]=c=>o.value=""),Jn(i,["enter"])]},null,40,R0),[[fe,n.value]]),M0])]),s("div",{class:"field"},[s("span",{class:"button is-primary is-fullwidth",onClick:i},"Login")]),s("div",U0,[V(d,{to:{name:"register"}},{default:rt(()=>[N0]),_:1}),L0,V(d,{to:{name:"forgot-password"}},{default:rt(()=>[F0]),_:1})]),V(f)])])}}}),H0={class:"view center-screen mt-2"},z0=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),j0={key:0,class:"field has-background-success-light has-text-success-dark"},W0=A(" Password successfully set. Click "),x0=A(" here "),K0=A(" to login. "),J0={key:1},G0={key:0,class:"field has-background-danger-light has-text-danger-dark"},Y0={class:"field"},X0={class:"control has-icons-left"},Q0=["onKeyup"],Z0=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),q0={class:"field"},e$=["disabled"],t$=ae({__name:"PasswordResetView",setup(e){const t=Ce(""),n=Ce(""),o=Ce(!1),a=ot(()=>t.value&&!n.value),l=async()=>{const i=Qn.getParam("t");o.value=!1,n.value="";const u=await ct.resetPassword({pass:t.value,token:i});if(u.status===200)o.value=!0;else try{n.value=(await u.json()).reason}catch{n.value="Unknown error"}};return(i,u)=>{const r=F("router-link");return p(),v("div",H0,[z0,o.value?(p(),v("div",j0,[W0,V(r,{to:{name:"login"}},{default:rt(()=>[x0]),_:1}),K0])):(p(),v("div",J0,[n.value?(p(),v("div",G0,x(n.value),1)):R("",!0),s("div",Y0,[s("div",X0,[K(s("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d),class:"input",type:"password",placeholder:"New Password",onKeyup:[u[1]||(u[1]=d=>n.value=""),Jn(l,["enter"])]},null,40,Q0),[[fe,t.value]]),Z0])]),s("div",q0,[s("button",{class:"button is-primary is-fullwidth",disabled:tt(a)?void 0:!0,onClick:l}," Save Password ",8,e$)])]))])}}}),zi=(e=null)=>({chatMessage:te(e,["chatMessage"],""),sound:te(e,["sound"],{file:"",filename:"",urlpath:"",volume:100})}),Tf=(e=null)=>({effect:zi(te(e,["effect"],null)),offsetMs:te(e,["offsetMs"],"")}),n$=(e=null)=>({fontFamily:te(e,["fontFamily"],""),fontSize:te(e,["fontSize"],"72px"),color:te(e,["color"],""),timerFormat:te(e,["timerFormat"],"{mm}:{ss}"),showTimerWhenFinished:te(e,["showTimerWhenFinished"],!0),finishedText:te(e,["finishedText"],""),startEffect:zi(te(e,["startEffect"],null)),endEffect:zi(te(e,["endEffect"],null)),stopEffect:zi(te(e,["stopEffect"],null)),notifications:te(e,["notifications"],[]).map(Tf)}),s$=ae({components:{StringInput:Qt},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:n$(),inited:!1,ws:null,widgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Qn.wsClient("pomo"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.widgetUrl=e.widgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},addNotification(){this.settings.notifications.push(Tf())},removeNotification(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.notifications=this.settings.notifications.filter((t,n)=>n!==e)}}}),o$={class:"view"},i$={id:"top",ref:"top"},a$={id:"actionbar",class:"p-1"},l$=["disabled"],r$=["href"],u$={id:"main",ref:"main"},d$={key:0,ref:"table",class:"table is-striped"},c$=s("tr",null,[s("td",{colspan:"2"}," Pomo ")],-1),f$=s("td",null,[s("code",null,"settings.color")],-1),h$=s("td",null,"The text color in the widget.",-1),m$=s("td",null,[s("code",null,"settings.fontFamily")],-1),p$=s("td",null,"The font in the widget.",-1),g$=s("td",null,[s("code",null,"settings.fontSize")],-1),v$=s("td",null,[A(" The text size in the widget, for example "),s("code",null,"12px"),A(", "),s("code",null,"20pt"),A(". ")],-1),y$=s("td",null,[s("code",null,"settings.timerFormat")],-1),b$=s("td",null,[A(" Format of the timer, you can use the following placeholders: "),s("code",{innerHTML:"{{hh}}"}),A(" for hours, "),s("code",{innerHTML:"{{mm}}"}),A(" for minutes, "),s("code",{innerHTML:"{{ss}}"}),A(" for seconds. ")],-1),$$=s("td",null,[s("code",null,"settings.finishedText")],-1),w$=s("td",null,"Text that is displayed when the timer reaches 0.",-1),_$=s("td",null,[s("code",null,"settings.showTimerWhenFinished")],-1),S$=s("td",null," If enabled, the timer will be displayed even when it reached 0. ",-1),C$=s("td",null,[s("code",null,"settings.startEffect.chatMessage")],-1),E$=s("td",null,"Chat message that is sent when pomo is started.",-1),k$=s("td",null,[s("code",null,"settings.startEffect.sound")],-1),T$=s("td",null,"Sound that will be displayed when pomo is started.",-1),I$=s("td",null,[s("code",null,"settings.endEffect.chatMessage")],-1),A$=s("td",null,"Chat message that is sent when pomo reaches 0.",-1),V$=s("td",null,[s("code",null,"settings.endEffect.sound")],-1),D$=s("td",null,"Sound that will be displayed when pomo reaches 0.",-1),O$=s("td",null,[s("code",null,"settings.stopEffect.chatMessage")],-1),P$=s("td",null," Chat message that is sent when pomo is stopped (via pomo exit). ",-1),R$=s("td",null,[s("code",null,"settings.stopEffect.sound")],-1),M$=s("td",null," Sound that will be displayed when pomo is stopped (via pomo exit). ",-1),U$=s("code",null,"settings.notifications",-1),N$=["onClick"],L$=s("td",null,[s("code",null,"offsetMs")],-1),F$=s("td",null," Offset to the end of pomo. Negative offset means time before end of pomo. ",-1),B$=s("td",null,[s("code",null,"chatMessage")],-1),H$=s("td",null,"Chat message sent at the set offset.",-1),z$=s("td",null,[s("code",null,"sound")],-1),j$=s("td",null,"Sound played at the set offset.",-1);function W$(e,t,n,o,a,l){const i=F("navbar-element"),u=F("StringInput"),r=F("sound-upload"),d=F("duration-input");return p(),v("div",o$,[s("div",i$,[V(i),s("div",a$,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...f)=>e.sendSave&&e.sendSave(...f))}," Save ",8,l$),s("a",{class:"button is-small mr-1",href:e.widgetUrl,target:"_blank"},"Open widget",8,r$)])],512),s("div",u$,[e.inited?(p(),v("table",d$,[s("tbody",null,[c$,s("tr",null,[f$,s("td",null,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=f=>e.settings.color=f),class:"input is-small",type:"color"},null,512),[[fe,e.settings.color]])]),h$]),s("tr",null,[m$,s("td",null,[V(u,{modelValue:e.settings.fontFamily,"onUpdate:modelValue":t[2]||(t[2]=f=>e.settings.fontFamily=f)},null,8,["modelValue"])]),p$]),s("tr",null,[g$,s("td",null,[V(u,{modelValue:e.settings.fontSize,"onUpdate:modelValue":t[3]||(t[3]=f=>e.settings.fontSize=f)},null,8,["modelValue"])]),v$]),s("tr",null,[y$,s("td",null,[V(u,{modelValue:e.settings.timerFormat,"onUpdate:modelValue":t[4]||(t[4]=f=>e.settings.timerFormat=f)},null,8,["modelValue"])]),b$]),s("tr",null,[$$,s("td",null,[V(u,{modelValue:e.settings.finishedText,"onUpdate:modelValue":t[5]||(t[5]=f=>e.settings.finishedText=f)},null,8,["modelValue"])]),w$]),s("tr",null,[_$,s("td",null,[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=f=>e.settings.showTimerWhenFinished=f),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.showTimerWhenFinished]])]),S$]),s("tr",null,[C$,s("td",null,[V(u,{modelValue:e.settings.startEffect.chatMessage,"onUpdate:modelValue":t[7]||(t[7]=f=>e.settings.startEffect.chatMessage=f)},null,8,["modelValue"])]),E$]),s("tr",null,[k$,s("td",null,[V(r,{modelValue:e.settings.startEffect.sound,"onUpdate:modelValue":t[8]||(t[8]=f=>e.settings.startEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),T$]),s("tr",null,[I$,s("td",null,[V(u,{modelValue:e.settings.endEffect.chatMessage,"onUpdate:modelValue":t[9]||(t[9]=f=>e.settings.endEffect.chatMessage=f)},null,8,["modelValue"])]),A$]),s("tr",null,[V$,s("td",null,[V(r,{modelValue:e.settings.endEffect.sound,"onUpdate:modelValue":t[10]||(t[10]=f=>e.settings.endEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),D$]),s("tr",null,[O$,s("td",null,[V(u,{modelValue:e.settings.stopEffect.chatMessage,"onUpdate:modelValue":t[11]||(t[11]=f=>e.settings.stopEffect.chatMessage=f)},null,8,["modelValue"])]),P$]),s("tr",null,[R$,s("td",null,[V(r,{modelValue:e.settings.stopEffect.sound,"onUpdate:modelValue":t[12]||(t[12]=f=>e.settings.stopEffect.sound=f),"base-volume":100},null,8,["modelValue"])]),M$]),s("tr",null,[s("td",null,[U$,s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...f)=>e.addNotification&&e.addNotification(...f))},"Add notification")]),s("td",null,[(p(!0),v(Y,null,oe(e.settings.notifications,(f,c)=>(p(),v("div",{key:c},[s("span",{class:"button is-small",onClick:h=>e.removeNotification(c)},"Remove",8,N$),s("table",null,[s("tr",null,[L$,s("td",null,[V(d,{modelValue:f.offsetMs,"onUpdate:modelValue":h=>f.offsetMs=h,"allow-negative":!0},null,8,["modelValue","onUpdate:modelValue"])]),F$]),s("tr",null,[B$,s("td",null,[V(u,{modelValue:f.effect.chatMessage,"onUpdate:modelValue":h=>f.effect.chatMessage=h},null,8,["modelValue","onUpdate:modelValue"])]),H$]),s("tr",null,[z$,s("td",null,[V(r,{modelValue:f.effect.sound,"onUpdate:modelValue":h=>f.effect.sound=h,"base-volume":100},null,8,["modelValue","onUpdate:modelValue"])]),j$])])]))),128))])])])],512)):R("",!0)],512)])}var x$=De(s$,[["render",W$]]);const K$={class:"view center-screen mt-2"},J$=s("h1",{class:"title is-4"}," Hyottoko.club ",-1),G$={key:0,class:"field has-background-success-light has-text-success-dark"},Y$=A(" Account registered. Please check your mail. Click "),X$=A(" here "),Q$=A(" to login. "),Z$={key:1},q$={key:0,class:"field has-background-danger-light has-text-danger-dark"},ew={key:0},tw=A(" A user with this email is already registered. "),nw=s("br",null,null,-1),sw=A(" Request a password reset. "),ow={key:1},iw=A(" A user with this email is already registered. "),aw=s("br",null,null,-1),lw={key:2},rw={key:3},uw={key:4},dw={class:"field"},cw={class:"control has-icons-left"},fw=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-user"})],-1),hw={class:"field"},mw={class:"control has-icons-left"},pw=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-envelope"})],-1),gw={class:"field"},vw={class:"control has-icons-left"},yw=["onKeyup"],bw=s("span",{class:"icon is-left"},[s("i",{class:"fa fa-lock"})],-1),$w={class:"field"},ww=["disabled"],_w={class:"field"},Sw=A(" Already have an account? "),Cw=A(" Login! "),Ew=ae({__name:"RegisterView",setup(e){const t=Ce(""),n=Ce(""),o=Ce(""),a=Ce(""),l=Ce(!1),i=ot(()=>t.value&&n.value&&o.value&&!a.value),u=async()=>{l.value=!1,a.value="";const d=await ct.resendVerificationMail({email:o.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}},r=async()=>{l.value=!1,a.value="";const d=await ct.register({user:t.value,pass:n.value,email:o.value});if(d.status===200)l.value=!0;else try{a.value=(await d.json()).reason}catch{a.value="Unknown error"}};return(d,f)=>{const c=F("router-link"),h=F("global-user-info");return p(),v("div",K$,[J$,l.value?(p(),v("div",G$,[Y$,V(c,{to:{name:"login"}},{default:rt(()=>[X$]),_:1}),Q$])):(p(),v("div",Z$,[a.value?(p(),v("div",q$,[a.value==="verified_mail_already_exists"?(p(),v("div",ew,[tw,nw,V(c,{to:{name:"forgot-password"}},{default:rt(()=>[sw]),_:1})])):a.value==="unverified_mail_already_exists"?(p(),v("div",ow,[iw,aw,s("span",{class:"button is-small",onClick:u},"Resend verification email")])):a.value==="verified_name_already_exists"?(p(),v("div",lw," A user with this name is already registered. ")):a.value==="unverified_name_already_exists"?(p(),v("div",rw," A user with this name is already registered. ")):(p(),v("span",uw,x(a.value),1))])):R("",!0),s("div",dw,[s("div",cw,[K(s("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>t.value=m),class:"input",type:"text",placeholder:"User","on:update:modelValue":f[1]||(f[1]=m=>a.value="")},null,544),[[fe,t.value]]),fw])]),s("div",hw,[s("div",mw,[K(s("input",{"onUpdate:modelValue":f[2]||(f[2]=m=>o.value=m),class:"input",type:"email",placeholder:"Email","on:update:modelValue":f[3]||(f[3]=m=>a.value="")},null,544),[[fe,o.value]]),pw])]),s("div",gw,[s("div",vw,[K(s("input",{"onUpdate:modelValue":f[4]||(f[4]=m=>n.value=m),class:"input",type:"password",placeholder:"Password","on:update:modelValue":f[5]||(f[5]=m=>a.value=""),onKeyup:Jn(r,["enter"])},null,40,yw),[[fe,n.value]]),bw])]),s("div",$w,[s("button",{class:"button is-primary is-fullwidth",disabled:tt(i)?void 0:!0,onClick:r}," Register ",8,ww)]),s("div",_w,[Sw,V(c,{to:{name:"login"}},{default:rt(()=>[Cw]),_:1})]),V(h)]))])}}}),kw=ae({components:{StringInput:Qt},data:()=>({unchangedJson:"[]",changedJson:"[]",user:{id:0,name:"",email:"",pass:"",groups:[],tmi_identity_client_id:"",tmi_identity_client_secret:"",tmi_identity_password:"",tmi_identity_username:""},twitch_channels:[]}),computed:{isAdmin(){return this.user.groups.includes("admin")},changed(){return this.unchangedJson!==this.changedJson},accessTokenLink(){if(!this.user.tmi_identity_client_id)return;const e=["analytics:read:extensions","analytics:read:games","bits:read","channel:edit:commercial","channel:manage:broadcast","channel:manage:extensions","channel:manage:redemptions","channel:manage:videos","channel:read:editors","channel:read:hype_train","channel:read:redemptions","channel:read:stream_key","channel:read:subscriptions","clips:edit","moderation:read","user:edit","user:edit:follows","user:read:blocked_users","user:manage:blocked_users","user:read:broadcast","user:read:email"],t=document.location,n=`${t.protocol}//${t.host}/twitch/redirect_uri`;return`https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=${this.user.tmi_identity_client_id}&redirect_uri=${n}&scope=${e.join("+")}`}},watch:{user:{deep:!0,handler(){this.setChanged()}},twitch_channels:{deep:!0,handler(){this.setChanged()}}},async mounted(){const e=await ct.getPageSettingsData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.user=t.user,this.twitch_channels=t.twitchChannels,this.setUnchanged()},methods:{openAuth(){window.open(this.accessTokenLink)},setChanged(){this.changedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels})},setUnchanged(){this.unchangedJson=JSON.stringify({user:this.user,twitch_channels:this.twitch_channels}),this.changedJson=this.unchangedJson},rmchannel(e){this.twitch_channels=this.twitch_channels.filter((t,n)=>n!==e)},addchannel(){this.twitch_channels.push({user_id:this.user.id,bot_status_messages:1,channel_id:"",channel_name:"",access_token:"",is_streaming:!1})},async loadid(e){this.twitch_channels[e].channel_id=await this.getTwitchUserIdByName(this.twitch_channels[e].channel_name)},async getTwitchUserIdByName(e){const t={name:e,client_id:this.user.tmi_identity_client_id||null,client_secret:this.user.tmi_identity_client_secret||null},n=await ct.twitchUserIdByName(t);try{return`${(await n.json()).id}`}catch{return""}},async sendSave(){await ct.saveUserSettings({user:this.user,twitch_channels:this.twitch_channels}),this.setUnchanged()}}}),Tw={class:"view"},Iw={id:"top",ref:"top"},Aw={id:"actionbar",class:"p-1"},Vw=["disabled"],Dw={id:"main"},Ow={class:"mb-4"},Pw=s("h1",{class:"title mb-2"}," User ",-1),Rw={class:"table is-striped"},Mw=s("td",null,"Name:",-1),Uw=s("td",null,"Email:",-1),Nw=s("td",null,"Password:",-1),Lw={key:0,class:"mb-4"},Fw=s("h1",{class:"title mb-2"}," Twitch-Bot ",-1),Bw=s("p",null,[A(" Please refer to "),s("a",{href:"https://dev.twitch.tv/docs/irc/#building-the-bot",target:"_blank"},"building the bot"),A(". ")],-1),Hw={class:"table is-striped"},zw=s("td",null,"Bot name:",-1),jw=s("td",null,"Bot oauth (pass):",-1),Ww=s("td",null,"Bot client_id:",-1),xw=s("td",null,"Bot client_secret:",-1),Kw={class:"mb-4"},Jw=s("h1",{class:"title mb-2"}," Twitch Channels ",-1),Gw=A(" List of twitch channels where the bot will connect to. "),Yw={key:0},Xw={key:0,class:"table is-striped"},Qw=s("thead",null,[s("tr",null,[s("td",null,"Channel name"),s("td",null,"Chat status updates"),s("td",null,"Channel id*"),s("td",null,"Access Token*"),s("td")])],-1),Zw=["onClick"],qw=["onUpdate:modelValue"],e_=["onClick"],t_=s("i",{class:"fa fa-remove"},null,-1),n_=[t_],s_={key:1,class:"content"},o_=s("p",null," Channel Id* and Access Token*: You may not need the client id or access token. They are required for channel point reward redemption triggers only. ",-1),i_={key:0},a_={key:1,class:"list"},l_=s("li",{class:"list-item"}," Login to twitch as the channel owner ",-1),r_={class:"list-item"},u_=A(" Click "),d_=A(" to authorize the bot with the channel "),c_=s("li",{class:"list-item"}," If authorized, you get redirected back to hyottoko.club. If there is a success message, the access token will have been set and this page should automatically reload. ",-1),f_={key:2};function h_(e,t,n,o,a,l){const i=F("navbar-element"),u=F("StringInput"),r=F("checkbox-input");return p(),v("div",Tw,[s("div",Iw,[V(i),s("div",Aw,[s("button",{class:"button is-small is-primary",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,Vw)])],512),s("div",Dw,[s("div",Ow,[Pw,s("table",Rw,[s("tbody",null,[s("tr",null,[Mw,s("td",null,x(e.user.name),1)]),s("tr",null,[Uw,s("td",null,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.user.email=d),type:"email"},null,512),[[fe,e.user.email]])])]),s("tr",null,[Nw,s("td",null,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>e.user.pass=d),type:"password"},null,512),[[fe,e.user.pass]])])])])])]),e.isAdmin?(p(),v("div",Lw,[Fw,Bw,s("table",Hw,[s("tbody",null,[s("tr",null,[zw,s("td",null,[V(u,{modelValue:e.user.tmi_identity_username,"onUpdate:modelValue":t[3]||(t[3]=d=>e.user.tmi_identity_username=d)},null,8,["modelValue"])])]),s("tr",null,[jw,s("td",null,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.user.tmi_identity_password=d),class:"input is-small",type:"password"},null,512),[[fe,e.user.tmi_identity_password]])])]),s("tr",null,[Ww,s("td",null,[V(u,{modelValue:e.user.tmi_identity_client_id,"onUpdate:modelValue":t[5]||(t[5]=d=>e.user.tmi_identity_client_id=d)},null,8,["modelValue"])])]),s("tr",null,[xw,s("td",null,[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>e.user.tmi_identity_client_secret=d),class:"input is-small",type:"password"},null,512),[[fe,e.user.tmi_identity_client_secret]])])])])])])):R("",!0),s("div",Kw,[Jw,s("p",null,[Gw,e.twitch_channels.length===0?(p(),v("span",Yw," Currently no channels are configured. ")):R("",!0)]),e.twitch_channels.length>0?(p(),v("table",Xw,[Qw,s("tbody",null,[(p(!0),v(Y,null,oe(e.twitch_channels,(d,f)=>(p(),v("tr",{key:f},[s("td",null,[V(u,{modelValue:d.channel_name,"onUpdate:modelValue":c=>d.channel_name=c},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(r,{modelValue:d.bot_status_messages,"onUpdate:modelValue":c=>d.bot_status_messages=c,class:"is-small","on-value":1,"off-value":0},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[d.channel_id?(p(),_e(u,{key:0,modelValue:d.channel_id,"onUpdate:modelValue":c=>d.channel_id=c},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),d.channel_id?R("",!0):(p(),v("button",{key:1,class:"button is-small",onClick:c=>e.loadid(f)}," Load id ",8,Zw))]),s("td",null,[K(s("input",{"onUpdate:modelValue":c=>d.access_token=c,class:"input is-small",type:"password"},null,8,qw),[[fe,d.access_token]])]),s("td",null,[s("button",{class:"button is-small",onClick:c=>e.rmchannel(f)},n_,8,e_)])]))),128))])])):R("",!0),s("button",{class:"button is-small",onClick:t[7]||(t[7]=d=>e.addchannel())}," Add channel ")]),e.twitch_channels.length>0?(p(),v("div",s_,[o_,e.accessTokenLink?(p(),v("p",i_," To get an access token, do the following: ")):R("",!0),e.accessTokenLink?(p(),v("ol",a_,[l_,s("li",r_,[u_,s("a",{target:"_blank",onClick:t[8]||(t[8]=(...d)=>e.openAuth&&e.openAuth(...d))},"here"),d_]),c_])):e.isAdmin?(p(),v("p",f_,' To configure an access token, please configure the "Bot client_id" above. ')):R("",!0)])):R("",!0)])])}var m_=De(kw,[["render",h_]]);const gt=["mod","broadcaster"],xs=[{value:"broadcaster",label:"Broadcaster"},{value:"mod",label:"Moderators"},{value:"sub",label:"Subscribers"}],p_=e=>{if(e.length===0)return"Everyone";const t=[];return xs.forEach(n=>{e.includes(n.value)&&t.push(n.label)}),t.join(", ")},br=()=>"",g_=(e=null)=>({filename:te(e,["filename"],""),file:te(e,["file"],""),urlpath:te(e,["urlpath"],""),volume:te(e,["volume"],100)}),v_=(e=null)=>({filename:te(e,["filename"],""),file:te(e,["file"],""),urlpath:te(e,["urlpath"],"")}),y_=(e=null)=>({url:te(e,["url"],""),volume:te(e,["volume"],100)}),go=(e=null)=>({widgetIds:te(e,["widgetIds"],[]),sound:g_(e==null?void 0:e.sound),image:v_(e==null?void 0:e.image),image_url:te(e,["image_url"],""),video:y_(e==null?void 0:e.video),minDurationMs:te(e,["minDurationMs"],"1s")}),b_=()=>({type:La.DELAY,value:"1s"}),$_=()=>({type:La.TEXT,value:br()}),w_=()=>({type:La.MEDIA,value:go()}),Ks=e=>({type:e,data:{command:"",commandExact:!1,minInterval:0,minLines:0,since:"stream"}}),Le=(e="",t=!1)=>{const n=Ks(Jt.COMMAND);return n.data.command=e,n.data.commandExact=t,n},$o=e=>{if(e.type===Jt.COMMAND)return!!e.data.command;if(e.type===Jt.TIMER){try{gr(e.data.minInterval)}catch{return!1}const t=parseInt(`${e.data.minLines}`,10);return!isNaN(t)}return!0},St={add_stream_tags:{Name:()=>"add_stream_tags command",Description:()=>"Add streamtag",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.ADD_STREAM_TAGS,restrict_to:gt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},chatters:{Name:()=>"chatters command",Description:()=>"Outputs the people who chatted during the stream.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.CHATTERS,restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},countdown:{Name:()=>"countdown",Description:()=>"Add a countdown or messages spaced by time intervals.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.COUNTDOWN,restrict_to:[],variables:[],variableChanges:[],data:{type:"auto",step:"",steps:"3",interval:"1s",intro:"Starting countdown...",outro:"Done!",actions:[]}}),RequiresAccessToken:()=>!1},dict_lookup:{Name:()=>"dictionary lookup",Description:()=>"Outputs the translation for the searched word.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.DICT_LOOKUP,restrict_to:[],variables:[],variableChanges:[],data:{lang:"ja",phrase:""}}),RequiresAccessToken:()=>!1},madochan_createword:{Name:()=>"madochan",Description:()=>"Creates a word for a definition.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MADOCHAN_CREATEWORD,restrict_to:[],variables:[],variableChanges:[],data:{model:"100epochs800lenhashingbidirectional.h5",weirdness:"1"}}),RequiresAccessToken:()=>!1},media:{Name:()=>"media command",Description:()=>"Display an image and/or play a sound.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MEDIA,restrict_to:[],variables:[],variableChanges:[],data:go()}),RequiresAccessToken:()=>!1},emotes:{Name:()=>"emote command",Description:()=>"Display emotes.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.EMOTES,restrict_to:[],variables:[],variableChanges:[],data:{displayFn:[],emotes:[]}}),RequiresAccessToken:()=>!1},media_volume:{Name:()=>"media volume command",Description:()=>`Sets the media volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.MEDIA_VOLUME,restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},text:{Name:()=>"command",Description:()=>"Send a message to chat",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.TEXT,restrict_to:[],variables:[],variableChanges:[],data:{text:[br()]}}),RequiresAccessToken:()=>!1},remove_stream_tags:{Name:()=>"remove_stream_tags command",Description:()=>"Remove streamtag",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.REMOVE_STREAM_TAGS,restrict_to:gt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!0},set_channel_game_id:{Name:()=>"change stream category command",Description:()=>"Change the stream category",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.SET_CHANNEL_GAME_ID,restrict_to:gt,variables:[],variableChanges:[],data:{game_id:""}}),RequiresAccessToken:()=>!0},set_channel_title:{Name:()=>"change stream title command",Description:()=>"Change the stream title",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),triggers:[Le()],action:ue.SET_CHANNEL_TITLE,restrict_to:gt,variables:[],variableChanges:[],data:{title:""}}),RequiresAccessToken:()=>!0},sr_current:{Name:()=>"sr_current",Description:()=>"Show what song is currently playing",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_CURRENT,triggers:[Le("!sr current",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_undo:{Name:()=>"sr_undo",Description:()=>"Remove the song that was last added by oneself.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_UNDO,triggers:[Le("!sr undo",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_good:{Name:()=>"sr_good",Description:()=>"Vote the current song up",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_GOOD,triggers:[Le("!sr good",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_bad:{Name:()=>"sr_bad",Description:()=>"Vote the current song down",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_BAD,triggers:[Le("!sr bad",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_stats:{Name:()=>"sr_stats",Description:()=>"Show stats about the playlist",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_STATS,triggers:[Le("!sr stats",!0),Le("!sr stat",!0)],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_prev:{Name:()=>"sr_prev",Description:()=>"Skip to the previous song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_PREV,triggers:[Le("!sr prev",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_next:{Name:()=>"sr_next",Description:()=>"Skip to the next song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_NEXT,triggers:[Le("!sr next",!0),Le("!sr skip",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_jumptonew:{Name:()=>"sr_jumptonew",Description:()=>"Jump to the next unplayed song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_JUMPTONEW,triggers:[Le("!sr jumptonew",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_clear:{Name:()=>"sr_clear",Description:()=>"Clear the playlist",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_CLEAR,triggers:[Le("!sr clear",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_rm:{Name:()=>"sr_rm",Description:()=>"Remove the current song from the playlist",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_RM,triggers:[Le("!sr rm",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_shuffle:{Name:()=>"sr_shuffle",Description:()=>`Shuffle the playlist (current song unaffected).
    <br />
    Non-played and played songs will be shuffled separately and non-played
    songs will be put after currently playing song.`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_SHUFFLE,triggers:[Le("!sr shuffle",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_reset_stats:{Name:()=>"sr_reset_stats",Description:()=>"Reset all statistics of all songs",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_RESET_STATS,triggers:[Le("!sr resetStats",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_loop:{Name:()=>"sr_loop",Description:()=>"Loop the current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_LOOP,triggers:[Le("!sr loop",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_noloop:{Name:()=>"sr_noloop",Description:()=>"Stop looping the current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_NOLOOP,triggers:[Le("!sr noloop",!0),Le("!sr unloop",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_pause:{Name:()=>"sr_pause",Description:()=>"Pause currently playing song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_PAUSE,triggers:[Le("!sr pause",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_unpause:{Name:()=>"sr_unpause",Description:()=>"Unpause currently paused song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_UNPAUSE,triggers:[Le("!sr nopause",!0),Le("!sr unpause",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_hidevideo:{Name:()=>"sr_hidevideo",Description:()=>"Hide video for current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_HIDEVIDEO,triggers:[Le("!sr hidevideo",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_showvideo:{Name:()=>"sr_showvideo",Description:()=>"Show video for current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_SHOWVIDEO,triggers:[Le("!sr showvideo",!0)],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_request:{Name:()=>"sr_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    at youtube (by id or by title)
    and queue the first result in the playlist (after the first found
    batch of unplayed songs).`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_REQUEST,triggers:[Le("!sr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_re_request:{Name:()=>"sr_re_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    in the current playlist and queue the first result in the playlist
    (after the first found batch of unplayed songs).`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_RE_REQUEST,triggers:[Le("!resr")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_addtag:{Name:()=>"sr_addtag",Description:()=>"Add tag <code>&lt;TAG&gt;</code> (argument to this command) to the current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_ADDTAG,triggers:[Le("!sr tag"),Le("!sr addtag")],restrict_to:gt,variables:[],variableChanges:[],data:{tag:""}}),RequiresAccessToken:()=>!1},sr_rmtag:{Name:()=>"sr_rmtag",Description:()=>"Remove tag <code>&lt;TAG&gt;</code> (argument to this command) from the current song",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_RMTAG,triggers:[Le("!sr rmtag")],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_volume:{Name:()=>"sr_volume",Description:()=>`Sets the song request volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_VOLUME,triggers:[Le("!sr volume")],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_filter:{Name:()=>"sr_filter",Description:()=>`Play only songs with the given tag <code>&lt;TAG&gt;</code> (argument to this command). If no tag
  is given, play all songs.`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_FILTER,triggers:[Le("!sr filter")],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_preset:{Name:()=>"sr_preset",Description:()=>`Switches to the preset <code>&lt;PRESET&gt;</code> (argument to this command) if it exists.
  If no arguments are given, outputs all available presets.`,NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_PRESET,triggers:[Le("!sr preset")],restrict_to:gt,variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1},sr_queue:{Name:()=>"sr_queue",Description:()=>"Shows the next 3 songs that will play.",NewCommand:()=>({id:Be(10),createdAt:JSON.stringify(new Date),action:ue.SR_QUEUE,triggers:[Le("!sr queue")],restrict_to:[],variables:[],variableChanges:[],data:{}}),RequiresAccessToken:()=>!1}},__=(e=null)=>({name:te(e,["name"],""),css:te(e,["css"],""),showProgressBar:te(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:te(e,["maxItemsShown"],-1)}),$r=(e=null)=>{var t,n;return{volume:te(e,["volume"],100),initAutoplay:te(e,["initAutoplay"],!0),hideVideoImage:{file:te(e,["hideVideoImage","file"],""),filename:te(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(n=e==null?void 0:e.hideVideoImage)!=null&&n.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:te(e,["maxSongLength","viewer"],0),mod:te(e,["maxSongLength","mod"],0),sub:te(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(te(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(te(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(te(e,["maxSongsQueued","sub"],0)),10)},customCss:te(e,["customCss"],""),customCssPresets:te(e,["customCssPresets"],[]).map(__),showProgressBar:te(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:te(e,["maxItemsShown"],-1)}};const $s=()=>{},S_=ae({data:()=>({playerVisible:!1,playlist:[],commands:[],globalVariables:[],channelPointsCustomRewards:{},settings:$r(),filter:{tag:""},ws:null,resrinput:"",srinput:"",inited:!1,tab:"playlist",importPlaylist:"",widgetUrl:"",toast:pf(),controlDefinitions:[{title:"Reset stats",ctrl:"resetStats",icon:"fa-eraser"},{title:"Clear playlist",ctrl:"clear",icon:"fa-eject"},{title:"Shuffle",ctrl:"shuffle",icon:"fa-random"},{title:"Play",ctrl:"unpause",icon:"fa-play"},{title:"Pause",ctrl:"pause",icon:"fa-pause"},{title:"Prev",ctrl:"prev",icon:"fa-step-backward"},{title:"Next",ctrl:"skip",icon:"fa-step-forward"}],tabDefinitions:[{tab:"playlist",title:"Playlist"},{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"},{tab:"tags",title:"Tags"},{tab:"import",title:"Import/Export"}],possibleActions:[ue.SR_CURRENT,ue.SR_UNDO,ue.SR_GOOD,ue.SR_BAD,ue.SR_STATS,ue.SR_PREV,ue.SR_NEXT,ue.SR_JUMPTONEW,ue.SR_CLEAR,ue.SR_RM,ue.SR_SHUFFLE,ue.SR_RESET_STATS,ue.SR_LOOP,ue.SR_NOLOOP,ue.SR_PAUSE,ue.SR_UNPAUSE,ue.SR_HIDEVIDEO,ue.SR_SHOWVIDEO,ue.SR_REQUEST,ue.SR_RE_REQUEST,ue.SR_ADDTAG,ue.SR_RMTAG,ue.SR_VOLUME,ue.SR_FILTER,ue.SR_PRESET,ue.SR_QUEUE]}),computed:{tags(){const e=[];return this.playlist.forEach(t=>{t.tags.forEach(n=>{const o=e.findIndex(a=>a.value===n);o===-1?e.push({value:n,count:1}):e[o].count++})}),e},player(){return this.$refs.youtube||{stop:$s,play:$s,pause:$s,unpause:$s,setVolume:$s,setLoop:$s,playing:$s}},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},item(){return this.filteredPlaylist[0]},hasItems(){return this.filteredPlaylist.length!==0},playerstyle(){return this.playerVisible?"":"width:0;height:0;padding:0;margin-bottom:0;"},togglePlayerButtonText(){return this.playerVisible?"Hide Player":"Show Player"},exportPlaylistUrl(){return`${location.protocol}//${location.host}/api/sr/export`}},async mounted(){this.$nextTick(()=>{this.ws=Qn.wsClient("sr"),this.ws.onMessage("save",e=>{this.settings=e.settings,this.widgetUrl=e.widgetUrl,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||this.unpause()}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards;const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const n=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==n&&this.play()}),this.ws.onMessage(["filter"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards;const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(n=>n.id===t)||this.play()}),this.ws.onMessage(["stats","video","playIdx","resetStats","shuffle"],e=>{this.settings=e.settings,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards,this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.settings=e.settings,this.widgetUrl=e.widgetUrl,this.commands=e.commands,this.globalVariables=e.globalVariables,this.channelPointsCustomRewards=e.channelPointsCustomRewards,this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.play(),this.inited=!0}),this.ws.connect(),this.play()})},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){this.sendMsg({event:"save",commands:this.commands,settings:this.settings})},onTagUpdated(e){this.updateTag(e[0],e[1])},onPlaylistCtrl(e){this.sendCtrl(e[0],e[1])},applyFilter(e){this.sendCtrl("filter",[{tag:e}])},async doImportPlaylist(){(await ct.importPlaylist(this.importPlaylist)).status===200?(this.tab="playlist",this.toast.success("Import successful")):this.toast.error("Import failed")},togglePlayer(){this.playerVisible=!this.playerVisible,this.playerVisible?this.player.playing()||this.play():this.player.stop()},resr(){this.resrinput!==""&&(this.sendCtrl("resr",[this.resrinput]),this.resrinput="")},sr(){this.srinput!==""&&(this.sendCtrl("sr",[this.srinput]),this.srinput="")},sendCtrl(e,t){this.sendMsg({event:"ctrl",ctrl:e,args:t})},ended(){this.sendMsg({event:"ended"})},sendMsg(e){this.ws?this.ws.send(JSON.stringify(e)):console.warn("sendMsg: this.ws not initialized")},play(){this.adjustVolume(this.settings.volume),this.playerVisible&&this.hasItems&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.hasItems&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.playerVisible&&this.hasItems&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(e){this.player.setVolume(e)},updateTag(e,t){e!==t&&this.sendCtrl("updatetag",[e,t])}}}),wo=e=>(En("data-v-0b82bedd"),e=e(),kn(),e),C_={class:"view"},E_={id:"top",ref:"top"},k_={id:"actionbar",class:"p-1"},T_=["disabled","title","onClick"],I_=["disabled"],A_=wo(()=>s("span",{class:"txt"},"Set all to played",-1)),V_=[A_],D_=["disabled","title"],O_=wo(()=>s("i",{class:"fa fa-tv mr-1"},null,-1)),P_={class:"txt"},R_={class:"field has-addons mr-1"},M_={class:"control"},U_=["disabled"],N_={class:"control"},L_=["disabled"],F_=wo(()=>s("i",{class:"fa fa-search mr-1"},null,-1)),B_=A(" from playlist "),H_=[F_,B_],z_={class:"field has-addons mr-1"},j_={class:"control"},W_=["disabled"],x_={class:"control"},K_=["disabled"],J_=wo(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),G_=A(" from YouTube "),Y_=[J_,G_],X_=["disabled","href"],Q_={id:"main",ref:"main"},Z_={style:{width:"640px","max-width":"100%"}},q_={class:"tabs"},eS=["onClick"],tS={key:0},nS={class:"mb-1"},sS=["href"],oS=wo(()=>s("i",{class:"fa fa-download mr-1"},null,-1)),iS=A(" Export playlist"),aS=[oS,iS],lS=wo(()=>s("i",{class:"fa fa-upload mr-1"},null,-1)),rS=A(" Import playlist "),uS=[lS,rS],dS={key:1,id:"tags"},cS={key:3,id:"playlist",class:"table-container"};function fS(e,t,n,o,a,l){const i=F("navbar-element"),u=F("youtube-player"),r=F("tags-editor"),d=F("song-request-settings"),f=F("playlist-editor"),c=F("commands-editor");return p(),v("div",C_,[s("div",E_,[V(i),s("div",k_,[(p(!0),v(Y,null,oe(e.controlDefinitions,(h,m)=>(p(),v("button",{key:m,class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:h.title,onClick:g=>e.sendCtrl(h.ctrl,[])},[s("i",{class:Se(["fa",h.icon])},null,2)],8,T_))),128)),s("button",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:"Sets all songs to at least 1x played",onClick:t[0]||(t[0]=h=>e.sendCtrl("setAllToPlayed",[]))},V_,8,I_),s("button",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,title:e.togglePlayerButtonText,onClick:t[1]||(t[1]=(...h)=>e.togglePlayer&&e.togglePlayer(...h))},[O_,s("span",P_,x(e.togglePlayerButtonText),1)],8,D_),s("div",R_,[s("div",M_,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=h=>e.resrinput=h),class:"input is-small",disabled:e.inited?void 0:!0,onKeyup:t[3]||(t[3]=Jn((...h)=>e.resr&&e.resr(...h),["enter"]))},null,40,U_),[[fe,e.resrinput]])]),s("div",N_,[s("button",{class:"button is-small",disabled:e.inited?void 0:!0,onClick:t[4]||(t[4]=(...h)=>e.resr&&e.resr(...h))},H_,8,L_)])]),s("div",z_,[s("div",j_,[K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=h=>e.srinput=h),class:"input is-small",disabled:e.inited?void 0:!0,onKeyup:t[6]||(t[6]=Jn((...h)=>e.sr&&e.sr(...h),["enter"]))},null,40,W_),[[fe,e.srinput]])]),s("div",x_,[s("button",{class:"button is-small",disabled:e.inited?void 0:!0,onClick:t[7]||(t[7]=(...h)=>e.sr&&e.sr(...h))},Y_,8,K_)])]),s("a",{class:"button is-small mr-1",disabled:e.inited?void 0:!0,href:e.widgetUrl,target:"_blank"},"Open SR widget",8,X_)])],512),s("div",Q_,[s("div",Z_,[s("div",{id:"player",class:"video-16-9",style:lt(e.playerstyle)},[V(u,{ref:"youtube",visible:e.playerVisible,onEnded:e.ended},null,8,["visible","onEnded"])],4)]),s("div",q_,[s("ul",null,[(p(!0),v(Y,null,oe(e.tabDefinitions,(h,m)=>(p(),v("li",{key:m,class:Se({"is-active":e.tab===h.tab}),onClick:g=>e.tab=h.tab},[s("a",null,x(h.title),1)],10,eS))),128))])]),e.inited&&e.tab==="import"?(p(),v("div",tS,[s("div",nS,[s("a",{class:"button is-small mr-1",href:e.exportPlaylistUrl,target:"_blank"},aS,8,sS),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...h)=>e.doImportPlaylist&&e.doImportPlaylist(...h))},uS)]),K(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.importPlaylist=h),class:"textarea mb-1"},null,512),[[fe,e.importPlaylist]])])):R("",!0),e.inited&&e.tab==="tags"?(p(),v("div",dS,[V(r,{tags:e.tags,onUpdateTag:e.onTagUpdated},null,8,["tags","onUpdateTag"])])):R("",!0),e.inited&&e.tab==="settings"?(p(),_e(d,{key:2,id:"settings",modelValue:e.settings,"onUpdate:modelValue":[t[10]||(t[10]=h=>e.settings=h),e.sendSave]},null,8,["modelValue","onUpdate:modelValue"])):R("",!0),e.inited&&e.tab==="playlist"?(p(),v("div",cS,[V(f,{playlist:e.playlist,filter:e.filter,onStopPlayer:t[11]||(t[11]=h=>e.player.stop()),onFilterChange:e.applyFilter,onCtrl:e.onPlaylistCtrl},null,8,["playlist","filter","onFilterChange","onCtrl"])])):R("",!0),e.inited&&e.tab==="commands"?(p(),_e(c,{key:4,modelValue:e.commands,"onUpdate:modelValue":[t[12]||(t[12]=h=>e.commands=h),e.sendSave],"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"possible-actions":e.possibleActions,"base-volume":100},null,8,["modelValue","global-variables","channel-points-custom-rewards","possible-actions","onUpdate:modelValue"])):R("",!0)],512)])}var hS=De(S_,[["render",fS],["__scopeId","data-v-0b82bedd"]]);const Mu=(e=null)=>({status:{enabled:te(e,["status","enabled"],!1)},styles:{bgColor:te(e,["styles","bgColor"],"#ff00ff"),bgColorEnabled:te(e,["styles","bgColorEnabled"],!0),vAlign:te(e,["styles","vAlign"],"bottom"),recognition:{fontFamily:te(e,["styles","recognition","fontFamily"],"sans-serif"),fontSize:te(e,["styles","recognition","fontSize"],"30pt"),fontWeight:te(e,["styles","recognition","fontWeight"],"400"),strokeWidth:te(e,["styles","recognition","strokeWidth"],"8pt"),strokeColor:te(e,["styles","recognition","strokeColor"],"#292929"),color:te(e,["styles","recognition","color"],"#ffff00")},translation:{fontFamily:te(e,["styles","translation","fontFamily"],"sans-serif"),fontSize:te(e,["styles","translation","fontSize"],"30pt"),fontWeight:te(e,["styles","translation","fontWeight"],"400"),strokeWidth:te(e,["styles","translation","strokeWidth"],"8pt"),strokeColor:te(e,["styles","translation","strokeColor"],"#292929"),color:te(e,["styles","translation","color"],"#cbcbcb")}},recognition:{display:te(e,["recognition","display"],!0),lang:te(e,["recognition","lang"],"ja"),synthesize:te(e,["recognition","synthesize"],!1),synthesizeLang:te(e,["recognition","synthesizeLang"],"")},translation:{enabled:te(e,["translation","enabled"],!0),langSrc:te(e,["translation","langSrc"],"ja"),langDst:te(e,["translation","langDst"],"en"),synthesize:te(e,["translation","synthesize"],!1),synthesizeLang:te(e,["translation","synthesizeLang"],"")}}),mS=ae({components:{StringInput:Qt},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:Mu(),defaultSettings:Mu(),ws:null,inited:!1,controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=Qn.wsClient("speech-to-text"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),pS={class:"view"},gS={id:"top",ref:"top"},vS={id:"actionbar",class:"p-1"},yS=["disabled"],bS=["href"],$S=["href"],wS={id:"main",ref:"main"},_S={key:0,ref:"table",class:"table is-striped"},SS=s("tr",null,[s("td",{colspan:"3"}," General ")],-1),CS=s("td",null,[s("code",null,"settings.style.bgColor")],-1),ES=["disabled"],kS=s("i",{class:"fa fa-remove"},null,-1),TS=[kS],IS=s("td",null,[s("code",null,"settings.style.bgColorEnabled")],-1),AS=s("td",null,[s("code",null,"settings.style.vAlign")],-1),VS={class:"select is-small"},DS=s("option",{value:"top"}," top ",-1),OS=s("option",{value:"bottom"}," bottom ",-1),PS=[DS,OS],RS=["disabled"],MS=s("i",{class:"fa fa-remove"},null,-1),US=[MS],NS=s("tr",null,[s("td",{colspan:"3"}," Recognition ")],-1),LS=s("td",null,[s("code",null,"settings.recognition.lang")],-1),FS=["disabled"],BS=s("i",{class:"fa fa-remove"},null,-1),HS=[BS],zS=s("td",null,[s("code",null,"settings.recognition.synthesize")],-1),jS=["disabled"],WS=s("i",{class:"fa fa-remove"},null,-1),xS=[WS],KS=s("td",null,[s("code",null,"settings.recognition.synthesizeLang")],-1),JS=["disabled"],GS=s("i",{class:"fa fa-remove"},null,-1),YS=[GS],XS=s("td",null,[s("code",null,"settings.recognition.display")],-1),QS=["disabled"],ZS=s("i",{class:"fa fa-remove"},null,-1),qS=[ZS],eC=s("td",null,[s("code",null,"settings.styles.recognition.color")],-1),tC=["disabled"],nC=s("i",{class:"fa fa-remove"},null,-1),sC=[nC],oC=s("td",null,[s("code",null,"settings.styles.recognition.strokeWidth")],-1),iC=["disabled"],aC=s("i",{class:"fa fa-remove"},null,-1),lC=[aC],rC=s("td",null,[s("code",null,"settings.styles.recognition.strokeColor")],-1),uC=["disabled"],dC=s("i",{class:"fa fa-remove"},null,-1),cC=[dC],fC=s("td",null,[s("code",null,"settings.styles.recognition.fontFamily")],-1),hC=["disabled"],mC=s("i",{class:"fa fa-remove"},null,-1),pC=[mC],gC=s("td",null,[s("code",null,"settings.styles.recognition.fontSize")],-1),vC=["disabled"],yC=s("i",{class:"fa fa-remove"},null,-1),bC=[yC],$C=s("td",null,[s("code",null,"settings.styles.recognition.fontWeight")],-1),wC=["disabled"],_C=s("i",{class:"fa fa-remove"},null,-1),SC=[_C],CC=s("tr",null,[s("td",{colspan:"3"}," Translation ")],-1),EC=s("td",null,[s("code",null,"settings.translation.enabled")],-1),kC=["disabled"],TC=s("i",{class:"fa fa-remove"},null,-1),IC=[TC],AC=s("td",null,[s("code",null,"settings.translation.synthesize")],-1),VC=["disabled"],DC=s("i",{class:"fa fa-remove"},null,-1),OC=[DC],PC=s("td",null,[s("code",null,"settings.translation.synthesizeLang")],-1),RC=["disabled"],MC=s("i",{class:"fa fa-remove"},null,-1),UC=[MC],NC=s("td",null,[s("code",null,"settings.translation.langSrc")],-1),LC=["disabled"],FC=s("i",{class:"fa fa-remove"},null,-1),BC=[FC],HC=s("td",null,[s("code",null,"settings.translation.langDst")],-1),zC=["disabled"],jC=s("i",{class:"fa fa-remove"},null,-1),WC=[jC],xC=s("td",null,[s("code",null,"settings.styles.translation.color")],-1),KC=["disabled"],JC=s("i",{class:"fa fa-remove"},null,-1),GC=[JC],YC=s("td",null,[s("code",null,"settings.styles.translation.strokeWidth")],-1),XC=["disabled"],QC=s("i",{class:"fa fa-remove"},null,-1),ZC=[QC],qC=s("td",null,[s("code",null,"settings.styles.translation.strokeColor")],-1),e2=["disabled"],t2=s("i",{class:"fa fa-remove"},null,-1),n2=[t2],s2=s("td",null,[s("code",null,"settings.styles.translation.fontFamily")],-1),o2=["disabled"],i2=s("i",{class:"fa fa-remove"},null,-1),a2=[i2],l2=s("td",null,[s("code",null,"settings.styles.translation.fontSize")],-1),r2=["disabled"],u2=s("i",{class:"fa fa-remove"},null,-1),d2=[u2],c2=s("td",null,[s("code",null,"settings.styles.translation.fontWeight")],-1),f2=["disabled"],h2=s("i",{class:"fa fa-remove"},null,-1),m2=[h2],p2=s("tr",null,[s("td",{colspan:"3"}," Debug ")],-1),g2=s("td",null,[s("code",null,"settings.status.enabled")],-1),v2=["disabled"],y2=s("i",{class:"fa fa-remove"},null,-1),b2=[y2];function $2(e,t,n,o,a,l){const i=F("navbar-element"),u=F("StringInput");return p(),v("div",pS,[s("div",gS,[V(i),s("div",vS,[s("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...r)=>e.sendSave&&e.sendSave(...r))}," Save ",8,yS),s("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,bS),s("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,$S)])],512),s("div",wS,[e.inited?(p(),v("table",_S,[s("tbody",null,[SS,s("tr",null,[CS,s("td",null,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.settings.styles.bgColor=r),class:"input is-small",type:"color"},null,512),[[fe,e.settings.styles.bgColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=r=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)},TS,8,ES)])]),s("tr",null,[IS,s("td",null,[K(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.settings.styles.bgColorEnabled=r),type:"checkbox"},null,512),[[at,e.settings.styles.bgColorEnabled]])])]),s("tr",null,[AS,s("td",null,[s("div",VS,[K(s("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.settings.styles.vAlign=r)},PS,512),[[Un,e.settings.styles.vAlign]])])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.vAlign===e.defaultSettings.styles.vAlign,onClick:t[5]||(t[5]=r=>e.settings.styles.vAlign=e.defaultSettings.styles.vAlign)},US,8,RS)])]),NS,s("tr",null,[LS,s("td",null,[V(u,{modelValue:e.settings.recognition.lang,"onUpdate:modelValue":t[6]||(t[6]=r=>e.settings.recognition.lang=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.lang===e.defaultSettings.recognition.lang,onClick:t[7]||(t[7]=r=>e.settings.recognition.lang=e.defaultSettings.recognition.lang)},HS,8,FS)])]),s("tr",null,[zS,s("td",null,[K(s("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>e.settings.recognition.synthesize=r),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.recognition.synthesize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesize===e.defaultSettings.recognition.synthesize,onClick:t[9]||(t[9]=r=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},xS,8,jS)])]),s("tr",null,[KS,s("td",null,[V(u,{modelValue:e.settings.recognition.synthesizeLang,"onUpdate:modelValue":t[10]||(t[10]=r=>e.settings.recognition.synthesizeLang=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.synthesizeLang===e.defaultSettings.recognition.synthesizeLang,onClick:t[11]||(t[11]=r=>e.settings.recognition.synthesizeLang=e.defaultSettings.recognition.synthesizeLang)},YS,8,JS)])]),s("tr",null,[XS,s("td",null,[K(s("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>e.settings.recognition.display=r),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.recognition.display]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.recognition.display===e.defaultSettings.recognition.display,onClick:t[13]||(t[13]=r=>e.settings.recognition.display=e.defaultSettings.recognition.display)},qS,8,QS)])]),s("tr",null,[eC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>e.settings.styles.recognition.color=r),class:"input is-small",type:"color"},null,512),[[fe,e.settings.styles.recognition.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.color===e.defaultSettings.styles.recognition.color,onClick:t[15]||(t[15]=r=>e.settings.styles.recognition.color=e.defaultSettings.styles.recognition.color)},sC,8,tC)])]),s("tr",null,[oC,s("td",null,[V(u,{modelValue:e.settings.styles.recognition.strokeWidth,"onUpdate:modelValue":t[16]||(t[16]=r=>e.settings.styles.recognition.strokeWidth=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeWidth===e.defaultSettings.styles.recognition.strokeWidth,onClick:t[17]||(t[17]=r=>e.settings.styles.recognition.strokeWidth=e.defaultSettings.styles.recognition.strokeWidth)},lC,8,iC)])]),s("tr",null,[rC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>e.settings.styles.recognition.strokeColor=r),class:"input is-small",type:"color"},null,512),[[fe,e.settings.styles.recognition.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeColor===e.defaultSettings.styles.recognition.strokeColor,onClick:t[19]||(t[19]=r=>e.settings.styles.recognition.strokeColor=e.defaultSettings.styles.recognition.strokeColor)},cC,8,uC)])]),s("tr",null,[fC,s("td",null,[V(u,{modelValue:e.settings.styles.recognition.fontFamily,"onUpdate:modelValue":t[20]||(t[20]=r=>e.settings.styles.recognition.fontFamily=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontFamily===e.defaultSettings.styles.recognition.fontFamily,onClick:t[21]||(t[21]=r=>e.settings.styles.recognition.fontFamily=e.defaultSettings.styles.recognition.fontFamily)},pC,8,hC)])]),s("tr",null,[gC,s("td",null,[V(u,{modelValue:e.settings.styles.recognition.fontSize,"onUpdate:modelValue":t[22]||(t[22]=r=>e.settings.styles.recognition.fontSize=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontSize===e.defaultSettings.styles.recognition.fontSize,onClick:t[23]||(t[23]=r=>e.settings.styles.recognition.fontSize=e.defaultSettings.styles.recognition.fontSize)},bC,8,vC)])]),s("tr",null,[$C,s("td",null,[V(u,{modelValue:e.settings.styles.recognition.fontWeight,"onUpdate:modelValue":t[24]||(t[24]=r=>e.settings.styles.recognition.fontWeight=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontWeight===e.defaultSettings.styles.recognition.fontWeight,onClick:t[25]||(t[25]=r=>e.settings.styles.recognition.fontWeight=e.defaultSettings.styles.recognition.fontWeight)},SC,8,wC)])]),CC,s("tr",null,[EC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[26]||(t[26]=r=>e.settings.translation.enabled=r),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.translation.enabled]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.enabled===e.defaultSettings.translation.enabled,onClick:t[27]||(t[27]=r=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},IC,8,kC)])]),s("tr",null,[AC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[28]||(t[28]=r=>e.settings.translation.synthesize=r),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.translation.synthesize]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesize===e.defaultSettings.translation.synthesize,onClick:t[29]||(t[29]=r=>e.settings.translation.synthesize=e.defaultSettings.translation.synthesize)},OC,8,VC)])]),s("tr",null,[PC,s("td",null,[V(u,{modelValue:e.settings.translation.synthesizeLang,"onUpdate:modelValue":t[30]||(t[30]=r=>e.settings.translation.synthesizeLang=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.synthesizeLang===e.defaultSettings.translation.synthesizeLang,onClick:t[31]||(t[31]=r=>e.settings.translation.synthesizeLang=e.defaultSettings.translation.synthesizeLang)},UC,8,RC)])]),s("tr",null,[NC,s("td",null,[V(u,{modelValue:e.settings.translation.langSrc,"onUpdate:modelValue":t[32]||(t[32]=r=>e.settings.translation.langSrc=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langSrc===e.defaultSettings.translation.langSrc,onClick:t[33]||(t[33]=r=>e.settings.translation.langSrc=e.defaultSettings.translation.langSrc)},BC,8,LC)])]),s("tr",null,[HC,s("td",null,[V(u,{modelValue:e.settings.translation.langDst,"onUpdate:modelValue":t[34]||(t[34]=r=>e.settings.translation.langDst=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.translation.langDst===e.defaultSettings.translation.langDst,onClick:t[35]||(t[35]=r=>e.settings.translation.langDst=e.defaultSettings.translation.langDst)},WC,8,zC)])]),s("tr",null,[xC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[36]||(t[36]=r=>e.settings.styles.translation.color=r),class:"input is-small",type:"color"},null,512),[[fe,e.settings.styles.translation.color]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.color===e.defaultSettings.styles.translation.color,onClick:t[37]||(t[37]=r=>e.settings.styles.translation.color=e.defaultSettings.styles.translation.color)},GC,8,KC)])]),s("tr",null,[YC,s("td",null,[V(u,{modelValue:e.settings.styles.translation.strokeWidth,"onUpdate:modelValue":t[38]||(t[38]=r=>e.settings.styles.translation.strokeWidth=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeWidth===e.defaultSettings.styles.translation.strokeWidth,onClick:t[39]||(t[39]=r=>e.settings.styles.translation.strokeWidth=e.defaultSettings.styles.translation.strokeWidth)},ZC,8,XC)])]),s("tr",null,[qC,s("td",null,[K(s("input",{"onUpdate:modelValue":t[40]||(t[40]=r=>e.settings.styles.translation.strokeColor=r),class:"input is-small",type:"color"},null,512),[[fe,e.settings.styles.translation.strokeColor]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeColor===e.defaultSettings.styles.translation.strokeColor,onClick:t[41]||(t[41]=r=>e.settings.styles.translation.strokeColor=e.defaultSettings.styles.translation.strokeColor)},n2,8,e2)])]),s("tr",null,[s2,s("td",null,[V(u,{modelValue:e.settings.styles.translation.fontFamily,"onUpdate:modelValue":t[42]||(t[42]=r=>e.settings.styles.translation.fontFamily=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontFamily===e.defaultSettings.styles.translation.fontFamily,onClick:t[43]||(t[43]=r=>e.settings.styles.translation.fontFamily=e.defaultSettings.styles.translation.fontFamily)},a2,8,o2)])]),s("tr",null,[l2,s("td",null,[V(u,{modelValue:e.settings.styles.translation.fontSize,"onUpdate:modelValue":t[44]||(t[44]=r=>e.settings.styles.translation.fontSize=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontSize===e.defaultSettings.styles.translation.fontSize,onClick:t[45]||(t[45]=r=>e.settings.styles.translation.fontSize=e.defaultSettings.styles.translation.fontSize)},d2,8,r2)])]),s("tr",null,[c2,s("td",null,[V(u,{modelValue:e.settings.styles.translation.fontWeight,"onUpdate:modelValue":t[46]||(t[46]=r=>e.settings.styles.translation.fontWeight=r)},null,8,["modelValue"])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.styles.translation.fontWeight===e.defaultSettings.styles.translation.fontWeight,onClick:t[47]||(t[47]=r=>e.settings.styles.translation.fontWeight=e.defaultSettings.styles.translation.fontWeight)},m2,8,f2)])]),p2,s("tr",null,[g2,s("td",null,[K(s("input",{"onUpdate:modelValue":t[48]||(t[48]=r=>e.settings.status.enabled=r),class:"is-small",type:"checkbox"},null,512),[[at,e.settings.status.enabled]])]),s("td",null,[s("button",{class:"button is-small",disabled:e.settings.status.enabled===e.defaultSettings.status.enabled,onClick:t[49]||(t[49]=r=>e.settings.status.enabled=e.defaultSettings.status.enabled)},b2,8,v2)])])])],512)):R("",!0)],512)])}var w2=De(mS,[["render",$2]]);const _2={class:"view"},S2={id:"top",ref:"top"},C2={id:"actionbar",class:"p-1"},E2=["disabled"],k2={id:"main"},T2={class:"mb-4"},I2=s("h1",{class:"title mb-2"}," Global Variables ",-1),A2=s("div",{class:"help"},[A(" Variables can be used from commands with "),s("code",null,"$var(variable_name)"),A(". In addition to the global variables defined here, commands can define their own local variables which have precedence over the global ones. ")],-1),V2={class:"table is-striped"},D2=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",null,"Value"),s("th")])],-1),O2=s("i",{class:"fa fa-trash"},null,-1),P2=ae({__name:"VariablesView",setup(e){const t=Ce("[]"),n=Ce("[]"),o=Ce([]),a=ot(()=>t.value!==n.value),l=c=>{o.value=o.value.filter((h,m)=>m!==c)},i=()=>{o.value.push({name:"",value:""})},u=()=>{n.value=JSON.stringify({variables:o.value})},r=()=>{t.value=JSON.stringify({variables:o.value}),n.value=t.value},d=async()=>{await ct.saveVariables({variables:o.value}),r()},f=Gc();return Ht(async()=>{const c=await ct.getPageVariablesData();if(c.status!==200){f.push({name:"login"});return}const h=await c.json();o.value=h.variables,r(),It(o,()=>{u()},{deep:!0})}),(c,h)=>{const m=F("navbar-element"),g=F("doubleclick-button");return p(),v("div",_2,[s("div",S2,[V(m),s("div",C2,[s("button",{class:"button is-small",onClick:i}," Add "),s("button",{class:"button is-small is-primary",disabled:!tt(a),onClick:d}," Save ",8,E2)])],512),s("div",k2,[s("div",T2,[I2,A2,s("table",V2,[D2,s("tbody",null,[(p(!0),v(Y,null,oe(o.value,(b,w)=>(p(),v("tr",{key:w},[s("td",null,[V(Qt,{modelValue:b.name,"onUpdate:modelValue":_=>b.name=_},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(Qt,{modelValue:b.value,"onUpdate:modelValue":_=>b.value=_},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(g,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:_=>l(w)},{default:rt(()=>[O2]),_:2},1032,["onDoubleclick"])])]))),128))])])])])])}}}),R2=ae({__name:"CheckboxInput",props:{modelValue:{type:Object,required:!0},onValue:{type:Object,default:!0},offValue:{type:Object,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Ce(n.modelValue===n.onValue),a=()=>{t("update:modelValue",o.value?n.onValue:n.offValue)};return(l,i)=>K((p(),v("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>o.value=u),type:"checkbox","on:update:modelValue":a},null,544)),[[at,o.value]])}});const M2={key:0,class:"doubleclick-button-message mr-2 p-1 has-text-danger"},U2=ae({__name:"DoubleclickButton",props:{message:null,timeout:null},emits:["click","doubleclick"],setup(e,{emit:t}){const n=e,o=Ce(null),a=Ce(null),l=ot(()=>a.value===null||o.value===null?{}:{width:`${o.value/n.timeout*100}%`}),i=()=>{a.value===null?(t("click"),o.value=n.timeout,a.value=setInterval(()=>{o.value&&(o.value-=10),(!o.value||o.value<=0)&&(clearInterval(a.value),a.value=null,o.value=null)},10)):(t("doubleclick"),a.value&&(clearInterval(a.value),a.value=null,o.value=null))};return(u,r)=>(p(),v("button",{class:"doubleclick-button",onClick:i},[lr(u.$slots,"default",{},void 0,!0),a.value?(p(),v("span",M2,[A(x(e.message)+" ",1),s("span",{class:"doubleclick-button-timout-indicator",style:lt(tt(l))},null,4)])):R("",!0)]))}});var N2=De(U2,[["__scopeId","data-v-3ab45fcf"]]),L2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function F2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function If(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var Af={exports:{}},B2=If(ag);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uu(Object(n),!0).forEach(function(o){H2(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uu(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ji(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ji=function(t){return typeof t}:ji=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function H2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(){return mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mn.apply(this,arguments)}function z2(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,l;for(l=0;l<o.length;l++)a=o[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function j2(e,t){if(e==null)return{};var n=z2(e,t),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)o=l[a],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}function W2(e){return x2(e)||K2(e)||J2(e)||G2()}function x2(e){if(Array.isArray(e))return Rl(e)}function K2(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J2(e,t){if(!!e){if(typeof e=="string")return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rl(e,t)}}function Rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function G2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Y2="1.14.0";function xn(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Zn=xn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$i=xn(/Edge/i),Nu=xn(/firefox/i),Jo=xn(/safari/i)&&!xn(/chrome/i)&&!xn(/android/i),Vf=xn(/iP(ad|od|hone)/i),X2=xn(/chrome/i)&&xn(/android/i),Df={capture:!1,passive:!1};function xe(e,t,n){e.addEventListener(t,n,!Zn&&Df)}function je(e,t,n){e.removeEventListener(t,n,!Zn&&Df)}function aa(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Q2(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function yn(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&aa(e,t):aa(e,t))||o&&e===n)return e;if(e===n)break}while(e=Q2(e))}return null}var Lu=/\s+/g;function vt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Lu," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Lu," ")}}function ge(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Rs(e,t){var n="";if(typeof e=="string")n=e;else do{var o=ge(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function Of(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,l=o.length;if(n)for(;a<l;a++)n(o[a],a);return o}return[]}function Rn(){var e=document.scrollingElement;return e||document.documentElement}function pt(e,t,n,o,a){if(!(!e.getBoundingClientRect&&e!==window)){var l,i,u,r,d,f,c;if(e!==window&&e.parentNode&&e!==Rn()?(l=e.getBoundingClientRect(),i=l.top,u=l.left,r=l.bottom,d=l.right,f=l.height,c=l.width):(i=0,u=0,r=window.innerHeight,d=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!Zn))do if(a&&a.getBoundingClientRect&&(ge(a,"transform")!=="none"||n&&ge(a,"position")!=="static")){var h=a.getBoundingClientRect();i-=h.top+parseInt(ge(a,"border-top-width")),u-=h.left+parseInt(ge(a,"border-left-width")),r=i+l.height,d=u+l.width;break}while(a=a.parentNode);if(o&&e!==window){var m=Rs(a||e),g=m&&m.a,b=m&&m.d;m&&(i/=b,u/=g,c/=g,f/=b,r=i+f,d=u+c)}return{top:i,left:u,bottom:r,right:d,width:c,height:f}}}function Fu(e,t,n){for(var o=rs(e,!0),a=pt(e)[t];o;){var l=pt(o)[n],i=void 0;if(n==="top"||n==="left"?i=a>=l:i=a<=l,!i)return o;if(o===Rn())break;o=rs(o,!1)}return!1}function vo(e,t,n,o){for(var a=0,l=0,i=e.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==Ve.ghost&&(o||i[l]!==Ve.dragged)&&yn(i[l],n.draggable,e,!1)){if(a===t)return i[l];a++}l++}return null}function wr(e,t){for(var n=e.lastElementChild;n&&(n===Ve.ghost||ge(n,"display")==="none"||t&&!aa(n,t));)n=n.previousElementSibling;return n||null}function wt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ve.clone&&(!t||aa(e,t))&&n++;return n}function Bu(e){var t=0,n=0,o=Rn();if(e)do{var a=Rs(e),l=a.a,i=a.d;t+=e.scrollLeft*l,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function Z2(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function rs(e,t){if(!e||!e.getBoundingClientRect)return Rn();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=ge(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Rn();if(o||t)return n;o=!0}}while(n=n.parentNode);return Rn()}function q2(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Za(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Go;function Pf(e,t){return function(){if(!Go){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Go=setTimeout(function(){Go=void 0},t)}}}function eE(){clearTimeout(Go),Go=void 0}function Rf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function _r(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Hu(e,t){ge(e,"position","absolute"),ge(e,"top",t.top),ge(e,"left",t.left),ge(e,"width",t.width),ge(e,"height",t.height)}function qa(e){ge(e,"position",""),ge(e,"top",""),ge(e,"left",""),ge(e,"width",""),ge(e,"height","")}var Mt="Sortable"+new Date().getTime();function tE(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(ge(a,"display")==="none"||a===Ve.ghost)){e.push({target:a,rect:pt(a)});var l=Nn({},e[e.length-1].rect);if(a.thisAnimationDuration){var i=Rs(a,!0);i&&(l.top-=i.f,l.left-=i.e)}a.fromRect=l}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Z2(e,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var l=!1,i=0;e.forEach(function(u){var r=0,d=u.target,f=d.fromRect,c=pt(d),h=d.prevFromRect,m=d.prevToRect,g=u.rect,b=Rs(d,!0);b&&(c.top-=b.f,c.left-=b.e),d.toRect=c,d.thisAnimationDuration&&Za(h,c)&&!Za(f,c)&&(g.top-c.top)/(g.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(r=sE(g,h,m,a.options)),Za(c,f)||(d.prevFromRect=f,d.prevToRect=c,r||(r=a.options.animation),a.animate(d,g,c,r)),r&&(l=!0,i=Math.max(i,r),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},r),d.thisAnimationDuration=r)}),clearTimeout(t),l?t=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,a,l,i){if(i){ge(o,"transition",""),ge(o,"transform","");var u=Rs(this.el),r=u&&u.a,d=u&&u.d,f=(a.left-l.left)/(r||1),c=(a.top-l.top)/(d||1);o.animatingX=!!f,o.animatingY=!!c,ge(o,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=nE(o),ge(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),ge(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){ge(o,"transition",""),ge(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function nE(e){return e.offsetWidth}function sE(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Gs=[],el={initializeByDefault:!0},wi={mount:function(t){for(var n in el)el.hasOwnProperty(n)&&!(n in t)&&(t[n]=el[n]);Gs.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Gs.push(t)},pluginEvent:function(t,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var l=t+"Global";Gs.forEach(function(i){!n[i.pluginName]||(n[i.pluginName][l]&&n[i.pluginName][l](Nn({sortable:n},o)),n.options[i.pluginName]&&n[i.pluginName][t]&&n[i.pluginName][t](Nn({sortable:n},o)))})},initializePlugins:function(t,n,o,a){Gs.forEach(function(u){var r=u.pluginName;if(!(!t.options[r]&&!u.initializeByDefault)){var d=new u(t,n,t.options);d.sortable=t,d.options=t.options,t[r]=d,mn(o,d.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var i=this.modifyOption(t,l,t.options[l]);typeof i!="undefined"&&(t.options[l]=i)}},getEventProperties:function(t,n){var o={};return Gs.forEach(function(a){typeof a.eventProperties=="function"&&mn(o,a.eventProperties.call(n[a.pluginName],t))}),o},modifyOption:function(t,n,o){var a;return Gs.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[n]=="function"&&(a=l.optionListeners[n].call(t[l.pluginName],o))}),a}};function Po(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,l=e.cloneEl,i=e.toEl,u=e.fromEl,r=e.oldIndex,d=e.newIndex,f=e.oldDraggableIndex,c=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Mt],!!t){var b,w=t.options,_="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Zn&&!$i?b=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(o,!0,!0)),b.to=i||n,b.from=u||n,b.item=a||n,b.clone=l,b.oldIndex=r,b.newIndex=d,b.oldDraggableIndex=f,b.newDraggableIndex=c,b.originalEvent=h,b.pullMode=m?m.lastPutMode:void 0;var y=Nn(Nn({},g),wi.getEventProperties(o,t));for(var $ in y)b[$]=y[$];n&&n.dispatchEvent(b),w[_]&&w[_].call(t,b)}}var oE=["evt"],Wt=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,l=j2(o,oE);wi.pluginEvent.bind(Ve)(t,n,Nn({dragEl:le,parentEl:bt,ghostEl:Fe,rootEl:mt,nextEl:Es,lastDownEl:Wi,cloneEl:$t,cloneHidden:ls,dragStarted:Ro,putSortable:At,activeSortable:Ve.active,originalEvent:a,oldIndex:to,oldDraggableIndex:Yo,newIndex:en,newDraggableIndex:as,hideGhostForTarget:Lf,unhideGhostForTarget:Ff,cloneNowHidden:function(){ls=!0},cloneNowShown:function(){ls=!1},dispatchSortableEvent:function(u){Ft({sortable:n,name:u,originalEvent:a})}},l))};function Ft(e){Po(Nn({putSortable:At,cloneEl:$t,targetEl:le,rootEl:mt,oldIndex:to,oldDraggableIndex:Yo,newIndex:en,newDraggableIndex:as},e))}var le,bt,Fe,mt,Es,Wi,$t,ls,to,en,Yo,as,Pi,At,eo=!1,la=!1,ra=[],ws,gn,tl,nl,zu,ju,Ro,Ys,Xo,Qo=!1,Ri=!1,xi,Ot,sl=[],Ml=!1,ua=[],Fa=typeof document!="undefined",Mi=Vf,Wu=$i||Zn?"cssFloat":"float",iE=Fa&&!X2&&!Vf&&"draggable"in document.createElement("div"),Mf=function(){if(!!Fa){if(Zn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Uf=function(t,n){var o=ge(t),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=vo(t,0,n),i=vo(t,1,n),u=l&&ge(l),r=i&&ge(i),d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+pt(l).width,f=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+pt(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&u.float&&u.float!=="none"){var c=u.float==="left"?"left":"right";return i&&(r.clear==="both"||r.clear===c)?"vertical":"horizontal"}return l&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||d>=a&&o[Wu]==="none"||i&&o[Wu]==="none"&&d+f>a)?"vertical":"horizontal"},aE=function(t,n,o){var a=o?t.left:t.top,l=o?t.right:t.bottom,i=o?t.width:t.height,u=o?n.left:n.top,r=o?n.right:n.bottom,d=o?n.width:n.height;return a===u||l===r||a+i/2===u+d/2},lE=function(t,n){var o;return ra.some(function(a){var l=a[Mt].options.emptyInsertThreshold;if(!(!l||wr(a))){var i=pt(a),u=t>=i.left-l&&t<=i.right+l,r=n>=i.top-l&&n<=i.bottom+l;if(u&&r)return o=a}}),o},Nf=function(t){function n(l,i){return function(u,r,d,f){var c=u.options.group.name&&r.options.group.name&&u.options.group.name===r.options.group.name;if(l==null&&(i||c))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return n(l(u,r,d,f),i)(u,r,d,f);var h=(i?u:r).options.group.name;return l===!0||typeof l=="string"&&l===h||l.join&&l.indexOf(h)>-1}}var o={},a=t.group;(!a||ji(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,t.group=o},Lf=function(){!Mf&&Fe&&ge(Fe,"display","none")},Ff=function(){!Mf&&Fe&&ge(Fe,"display","")};Fa&&document.addEventListener("click",function(e){if(la)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),la=!1,!1},!0);var _s=function(t){if(le){t=t.touches?t.touches[0]:t;var n=lE(t.clientX,t.clientY);if(n){var o={};for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[Mt]._onDragOver(o)}}},rE=function(t){le&&le.parentNode[Mt]._isOutsideThisEl(t.target)};function Ve(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=mn({},t),e[Mt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Uf(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,u){i.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ve.supportPointer!==!1&&"PointerEvent"in window&&!Jo,emptyInsertThreshold:5};wi.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Nf(t);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=t.forceFallback?!1:iE,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?xe(e,"pointerdown",this._onTapStart):(xe(e,"mousedown",this._onTapStart),xe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(xe(e,"dragover",this),xe(e,"dragenter",this)),ra.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),mn(this,tE())}Ve.prototype={constructor:Ve,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ys=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,le):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,a=this.options,l=a.preventOnFilter,i=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,r=(u||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||r,f=a.filter;if(gE(o),!le&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Jo&&r&&r.tagName.toUpperCase()==="SELECT")&&(r=yn(r,a.draggable,o,!1),!(r&&r.animated)&&Wi!==r)){if(to=wt(r),Yo=wt(r,a.draggable),typeof f=="function"){if(f.call(this,t,r,this)){Ft({sortable:n,rootEl:d,name:"filter",targetEl:r,toEl:o,fromEl:o}),Wt("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=yn(d,c.trim(),o,!1),c)return Ft({sortable:n,rootEl:c,name:"filter",targetEl:r,fromEl:o,toEl:o}),Wt("filter",n,{evt:t}),!0}),f)){l&&t.cancelable&&t.preventDefault();return}a.handle&&!yn(d,a.handle,o,!1)||this._prepareDragStart(t,u,r)}}},_prepareDragStart:function(t,n,o){var a=this,l=a.el,i=a.options,u=l.ownerDocument,r;if(o&&!le&&o.parentNode===l){var d=pt(o);if(mt=l,le=o,bt=le.parentNode,Es=le.nextSibling,Wi=o,Pi=i.group,Ve.dragged=le,ws={target:le,clientX:(n||t).clientX,clientY:(n||t).clientY},zu=ws.clientX-d.left,ju=ws.clientY-d.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,le.style["will-change"]="all",r=function(){if(Wt("delayEnded",a,{evt:t}),Ve.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Nu&&a.nativeDraggable&&(le.draggable=!0),a._triggerDragStart(t,n),Ft({sortable:a,name:"choose",originalEvent:t}),vt(le,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){Of(le,f.trim(),ol)}),xe(u,"dragover",_s),xe(u,"mousemove",_s),xe(u,"touchmove",_s),xe(u,"mouseup",a._onDrop),xe(u,"touchend",a._onDrop),xe(u,"touchcancel",a._onDrop),Nu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,le.draggable=!0),Wt("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!($i||Zn))){if(Ve.eventCanceled){this._onDrop();return}xe(u,"mouseup",a._disableDelayedDrag),xe(u,"touchend",a._disableDelayedDrag),xe(u,"touchcancel",a._disableDelayedDrag),xe(u,"mousemove",a._delayedDragTouchMoveHandler),xe(u,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&xe(u,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(r,i.delay)}else r()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){le&&ol(le),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;je(t,"mouseup",this._disableDelayedDrag),je(t,"touchend",this._disableDelayedDrag),je(t,"touchcancel",this._disableDelayedDrag),je(t,"mousemove",this._delayedDragTouchMoveHandler),je(t,"touchmove",this._delayedDragTouchMoveHandler),je(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?xe(document,"pointermove",this._onTouchMove):n?xe(document,"touchmove",this._onTouchMove):xe(document,"mousemove",this._onTouchMove):(xe(le,"dragend",this),xe(mt,"dragstart",this._onDragStart));try{document.selection?Ki(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(eo=!1,mt&&le){Wt("dragStarted",this,{evt:n}),this.nativeDraggable&&xe(document,"dragover",rE);var o=this.options;!t&&vt(le,o.dragClass,!1),vt(le,o.ghostClass,!0),Ve.active=this,t&&this._appendGhost(),Ft({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(gn){this._lastX=gn.clientX,this._lastY=gn.clientY,Lf();for(var t=document.elementFromPoint(gn.clientX,gn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(gn.clientX,gn.clientY),t!==n);)n=t;if(le.parentNode[Mt]._isOutsideThisEl(t),n)do{if(n[Mt]){var o=void 0;if(o=n[Mt]._onDragOver({clientX:gn.clientX,clientY:gn.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Ff()}},_onTouchMove:function(t){if(ws){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,l=t.touches?t.touches[0]:t,i=Fe&&Rs(Fe,!0),u=Fe&&i&&i.a,r=Fe&&i&&i.d,d=Mi&&Ot&&Bu(Ot),f=(l.clientX-ws.clientX+a.x)/(u||1)+(d?d[0]-sl[0]:0)/(u||1),c=(l.clientY-ws.clientY+a.y)/(r||1)+(d?d[1]-sl[1]:0)/(r||1);if(!Ve.active&&!eo){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(Fe){i?(i.e+=f-(tl||0),i.f+=c-(nl||0)):i={a:1,b:0,c:0,d:1,e:f,f:c};var h="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");ge(Fe,"webkitTransform",h),ge(Fe,"mozTransform",h),ge(Fe,"msTransform",h),ge(Fe,"transform",h),tl=f,nl=c,gn=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Fe){var t=this.options.fallbackOnBody?document.body:mt,n=pt(le,!0,Mi,!0,t),o=this.options;if(Mi){for(Ot=t;ge(Ot,"position")==="static"&&ge(Ot,"transform")==="none"&&Ot!==document;)Ot=Ot.parentNode;Ot!==document.body&&Ot!==document.documentElement?(Ot===document&&(Ot=Rn()),n.top+=Ot.scrollTop,n.left+=Ot.scrollLeft):Ot=Rn(),sl=Bu(Ot)}Fe=le.cloneNode(!0),vt(Fe,o.ghostClass,!1),vt(Fe,o.fallbackClass,!0),vt(Fe,o.dragClass,!0),ge(Fe,"transition",""),ge(Fe,"transform",""),ge(Fe,"box-sizing","border-box"),ge(Fe,"margin",0),ge(Fe,"top",n.top),ge(Fe,"left",n.left),ge(Fe,"width",n.width),ge(Fe,"height",n.height),ge(Fe,"opacity","0.8"),ge(Fe,"position",Mi?"absolute":"fixed"),ge(Fe,"zIndex","100000"),ge(Fe,"pointerEvents","none"),Ve.ghost=Fe,t.appendChild(Fe),ge(Fe,"transform-origin",zu/parseInt(Fe.style.width)*100+"% "+ju/parseInt(Fe.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,a=t.dataTransfer,l=o.options;if(Wt("dragStart",this,{evt:t}),Ve.eventCanceled){this._onDrop();return}Wt("setupClone",this),Ve.eventCanceled||($t=_r(le),$t.draggable=!1,$t.style["will-change"]="",this._hideClone(),vt($t,this.options.chosenClass,!1),Ve.clone=$t),o.cloneId=Ki(function(){Wt("clone",o),!Ve.eventCanceled&&(o.options.removeCloneOnHide||mt.insertBefore($t,le),o._hideClone(),Ft({sortable:o,name:"clone"}))}),!n&&vt(le,l.dragClass,!0),n?(la=!0,o._loopId=setInterval(o._emulateDragOver,50)):(je(document,"mouseup",o._onDrop),je(document,"touchend",o._onDrop),je(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(o,a,le)),xe(document,"drop",o),ge(le,"transform","translateZ(0)")),eo=!0,o._dragStartId=Ki(o._dragStarted.bind(o,n,t)),xe(document,"selectstart",o),Ro=!0,Jo&&ge(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,a,l,i,u=this.options,r=u.group,d=Ve.active,f=Pi===r,c=u.sort,h=At||d,m,g=this,b=!1;if(Ml)return;function w(ve,ze){Wt(ve,g,Nn({evt:t,isOwner:f,axis:m?"vertical":"horizontal",revert:i,dragRect:a,targetRect:l,canSort:c,fromSortable:h,target:o,completed:y,onMove:function(Ze,Ye){return Ui(mt,n,le,a,Ze,pt(Ze),t,Ye)},changed:$},ze))}function _(){w("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function y(ve){return w("dragOverCompleted",{insertion:ve}),ve&&(f?d._hideClone():d._showClone(g),g!==h&&(vt(le,At?At.options.ghostClass:d.options.ghostClass,!1),vt(le,u.ghostClass,!0)),At!==g&&g!==Ve.active?At=g:g===Ve.active&&At&&(At=null),h===g&&(g._ignoreWhileAnimating=o),g.animateAll(function(){w("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===le&&!le.animated||o===n&&!o.animated)&&(Ys=null),!u.dragoverBubble&&!t.rootEl&&o!==document&&(le.parentNode[Mt]._isOutsideThisEl(t.target),!ve&&_s(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function $(){en=wt(le),as=wt(le,u.draggable),Ft({sortable:g,name:"change",toEl:n,newIndex:en,newDraggableIndex:as,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=yn(o,u.draggable,n,!0),w("dragOver"),Ve.eventCanceled)return b;if(le.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||g._ignoreWhileAnimating===o)return y(!1);if(la=!1,d&&!u.disabled&&(f?c||(i=bt!==mt):At===this||(this.lastPutMode=Pi.checkPull(this,d,le,t))&&r.checkPut(this,d,le,t))){if(m=this._getDirection(t,o)==="vertical",a=pt(le),w("dragOverValid"),Ve.eventCanceled)return b;if(i)return bt=mt,_(),this._hideClone(),w("revert"),Ve.eventCanceled||(Es?mt.insertBefore(le,Es):mt.appendChild(le)),y(!0);var S=wr(n,u.draggable);if(!S||fE(t,m,this)&&!S.animated){if(S===le)return y(!1);if(S&&n===t.target&&(o=S),o&&(l=pt(o)),Ui(mt,n,le,a,o,l,t,!!o)!==!1)return _(),n.appendChild(le),bt=n,$(),y(!0)}else if(S&&cE(t,m,this)){var E=vo(n,0,u,!0);if(E===le)return y(!1);if(o=E,l=pt(o),Ui(mt,n,le,a,o,l,t,!1)!==!1)return _(),n.insertBefore(le,E),bt=n,$(),y(!0)}else if(o.parentNode===n){l=pt(o);var k=0,M,P=le.parentNode!==n,I=!aE(le.animated&&le.toRect||a,o.animated&&o.toRect||l,m),U=m?"top":"left",H=Fu(o,"top","top")||Fu(le,"top","top"),W=H?H.scrollTop:void 0;Ys!==o&&(M=l[U],Qo=!1,Ri=!I&&u.invertSwap||P),k=hE(t,o,l,m,I?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Ri,Ys===o);var z;if(k!==0){var B=wt(le);do B-=k,z=bt.children[B];while(z&&(ge(z,"display")==="none"||z===Fe))}if(k===0||z===o)return y(!1);Ys=o,Xo=k;var pe=o.nextElementSibling,X=!1;X=k===1;var re=Ui(mt,n,le,a,o,l,t,X);if(re!==!1)return(re===1||re===-1)&&(X=re===1),Ml=!0,setTimeout(dE,30),_(),X&&!pe?n.appendChild(le):o.parentNode.insertBefore(le,X?pe:o),H&&Rf(H,0,W-H.scrollTop),bt=le.parentNode,M!==void 0&&!Ri&&(xi=Math.abs(M-pt(o)[U])),$(),y(!0)}if(n.contains(le))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){je(document,"mousemove",this._onTouchMove),je(document,"touchmove",this._onTouchMove),je(document,"pointermove",this._onTouchMove),je(document,"dragover",_s),je(document,"mousemove",_s),je(document,"touchmove",_s)},_offUpEvents:function(){var t=this.el.ownerDocument;je(t,"mouseup",this._onDrop),je(t,"touchend",this._onDrop),je(t,"pointerup",this._onDrop),je(t,"touchcancel",this._onDrop),je(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(en=wt(le),as=wt(le,o.draggable),Wt("drop",this,{evt:t}),bt=le&&le.parentNode,en=wt(le),as=wt(le,o.draggable),Ve.eventCanceled){this._nulling();return}eo=!1,Ri=!1,Qo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ul(this.cloneId),Ul(this._dragStartId),this.nativeDraggable&&(je(document,"drop",this),je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jo&&ge(document.body,"user-select",""),ge(le,"transform",""),t&&(Ro&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),Fe&&Fe.parentNode&&Fe.parentNode.removeChild(Fe),(mt===bt||At&&At.lastPutMode!=="clone")&&$t&&$t.parentNode&&$t.parentNode.removeChild($t),le&&(this.nativeDraggable&&je(le,"dragend",this),ol(le),le.style["will-change"]="",Ro&&!eo&&vt(le,At?At.options.ghostClass:this.options.ghostClass,!1),vt(le,this.options.chosenClass,!1),Ft({sortable:this,name:"unchoose",toEl:bt,newIndex:null,newDraggableIndex:null,originalEvent:t}),mt!==bt?(en>=0&&(Ft({rootEl:bt,name:"add",toEl:bt,fromEl:mt,originalEvent:t}),Ft({sortable:this,name:"remove",toEl:bt,originalEvent:t}),Ft({rootEl:bt,name:"sort",toEl:bt,fromEl:mt,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:bt,originalEvent:t})),At&&At.save()):en!==to&&en>=0&&(Ft({sortable:this,name:"update",toEl:bt,originalEvent:t}),Ft({sortable:this,name:"sort",toEl:bt,originalEvent:t})),Ve.active&&((en==null||en===-1)&&(en=to,as=Yo),Ft({sortable:this,name:"end",toEl:bt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Wt("nulling",this),mt=le=bt=Fe=Es=$t=Wi=ls=ws=gn=Ro=en=as=to=Yo=Ys=Xo=At=Pi=Ve.dragged=Ve.ghost=Ve.clone=Ve.active=null,ua.forEach(function(t){t.checked=!0}),ua.length=tl=nl=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":le&&(this._onDragOver(t),uE(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,a=0,l=o.length,i=this.options;a<l;a++)n=o[a],yn(n,i.draggable,this.el,!1)&&t.push(n.getAttribute(i.dataIdAttr)||pE(n));return t},sort:function(t,n){var o={},a=this.el;this.toArray().forEach(function(l,i){var u=a.children[i];yn(u,this.options.draggable,a,!1)&&(o[l]=u)},this),n&&this.captureAnimationState(),t.forEach(function(l){o[l]&&(a.removeChild(o[l]),a.appendChild(o[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return yn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var a=wi.modifyOption(this,t,n);typeof a!="undefined"?o[t]=a:o[t]=n,t==="group"&&Nf(o)},destroy:function(){Wt("destroy",this);var t=this.el;t[Mt]=null,je(t,"mousedown",this._onTapStart),je(t,"touchstart",this._onTapStart),je(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(je(t,"dragover",this),je(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ra.splice(ra.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ls){if(Wt("hideClone",this),Ve.eventCanceled)return;ge($t,"display","none"),this.options.removeCloneOnHide&&$t.parentNode&&$t.parentNode.removeChild($t),ls=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ls){if(Wt("showClone",this),Ve.eventCanceled)return;le.parentNode==mt&&!this.options.group.revertClone?mt.insertBefore($t,le):Es?mt.insertBefore($t,Es):mt.appendChild($t),this.options.group.revertClone&&this.animate(le,$t),ge($t,"display",""),ls=!1}}};function uE(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ui(e,t,n,o,a,l,i,u){var r,d=e[Mt],f=d.options.onMove,c;return window.CustomEvent&&!Zn&&!$i?r=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(r=document.createEvent("Event"),r.initEvent("move",!0,!0)),r.to=t,r.from=e,r.dragged=n,r.draggedRect=o,r.related=a||t,r.relatedRect=l||pt(t),r.willInsertAfter=u,r.originalEvent=i,e.dispatchEvent(r),f&&(c=f.call(d,r,i)),c}function ol(e){e.draggable=!1}function dE(){Ml=!1}function cE(e,t,n){var o=pt(vo(n.el,0,n.options,!0)),a=10;return t?e.clientX<o.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-a||e.clientY<o.bottom&&e.clientX<o.left}function fE(e,t,n){var o=pt(wr(n.el,n.options.draggable)),a=10;return t?e.clientX>o.right+a||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+a}function hE(e,t,n,o,a,l,i,u){var r=o?e.clientY:e.clientX,d=o?n.height:n.width,f=o?n.top:n.left,c=o?n.bottom:n.right,h=!1;if(!i){if(u&&xi<d*a){if(!Qo&&(Xo===1?r>f+d*l/2:r<c-d*l/2)&&(Qo=!0),Qo)h=!0;else if(Xo===1?r<f+xi:r>c-xi)return-Xo}else if(r>f+d*(1-a)/2&&r<c-d*(1-a)/2)return mE(t)}return h=h||i,h&&(r<f+d*l/2||r>c-d*l/2)?r>f+d/2?1:-1:0}function mE(e){return wt(le)<wt(e)?1:-1}function pE(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function gE(e){ua.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&ua.push(o)}}function Ki(e){return setTimeout(e,0)}function Ul(e){return clearTimeout(e)}Fa&&xe(document,"touchmove",function(e){(Ve.active||eo)&&e.cancelable&&e.preventDefault()});Ve.utils={on:xe,off:je,css:ge,find:Of,is:function(t,n){return!!yn(t,n,t,!1)},extend:q2,throttle:Pf,closest:yn,toggleClass:vt,clone:_r,index:wt,nextTick:Ki,cancelNextTick:Ul,detectDirection:Uf,getChild:vo};Ve.get=function(e){return e[Mt]};Ve.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Ve.utils=Nn(Nn({},Ve.utils),o.utils)),wi.mount(o)})};Ve.create=function(e,t){return new Ve(e,t)};Ve.version=Y2;var Ct=[],Mo,Nl,Ll=!1,il,al,da,Uo;function vE(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?xe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xe(document,"pointermove",this._handleFallbackAutoScroll):o.touches?xe(document,"touchmove",this._handleFallbackAutoScroll):xe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?je(document,"dragover",this._handleAutoScroll):(je(document,"pointermove",this._handleFallbackAutoScroll),je(document,"touchmove",this._handleFallbackAutoScroll),je(document,"mousemove",this._handleFallbackAutoScroll)),xu(),Ji(),eE()},nulling:function(){da=Nl=Mo=Ll=Uo=il=al=null,Ct.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,l=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(l,i);if(da=n,o||this.options.forceAutoScrollFallback||$i||Zn||Jo){ll(n,this.options,u,o);var r=rs(u,!0);Ll&&(!Uo||l!==il||i!==al)&&(Uo&&xu(),Uo=setInterval(function(){var d=rs(document.elementFromPoint(l,i),!0);d!==r&&(r=d,Ji()),ll(n,a.options,d,o)},10),il=l,al=i)}else{if(!this.options.bubbleScroll||rs(u,!0)===Rn()){Ji();return}ll(n,this.options,rs(u,!1),!1)}}},mn(e,{pluginName:"scroll",initializeByDefault:!0})}function Ji(){Ct.forEach(function(e){clearInterval(e.pid)}),Ct=[]}function xu(){clearInterval(Uo)}var ll=Pf(function(e,t,n,o){if(!!t.scroll){var a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,u=t.scrollSpeed,r=Rn(),d=!1,f;Nl!==n&&(Nl=n,Ji(),Mo=t.scroll,f=t.scrollFn,Mo===!0&&(Mo=rs(n,!0)));var c=0,h=Mo;do{var m=h,g=pt(m),b=g.top,w=g.bottom,_=g.left,y=g.right,$=g.width,S=g.height,E=void 0,k=void 0,M=m.scrollWidth,P=m.scrollHeight,I=ge(m),U=m.scrollLeft,H=m.scrollTop;m===r?(E=$<M&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),k=S<P&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(E=$<M&&(I.overflowX==="auto"||I.overflowX==="scroll"),k=S<P&&(I.overflowY==="auto"||I.overflowY==="scroll"));var W=E&&(Math.abs(y-a)<=i&&U+$<M)-(Math.abs(_-a)<=i&&!!U),z=k&&(Math.abs(w-l)<=i&&H+S<P)-(Math.abs(b-l)<=i&&!!H);if(!Ct[c])for(var B=0;B<=c;B++)Ct[B]||(Ct[B]={});(Ct[c].vx!=W||Ct[c].vy!=z||Ct[c].el!==m)&&(Ct[c].el=m,Ct[c].vx=W,Ct[c].vy=z,clearInterval(Ct[c].pid),(W!=0||z!=0)&&(d=!0,Ct[c].pid=setInterval(function(){o&&this.layer===0&&Ve.active._onTouchMove(da);var pe=Ct[this.layer].vy?Ct[this.layer].vy*u:0,X=Ct[this.layer].vx?Ct[this.layer].vx*u:0;typeof f=="function"&&f.call(Ve.dragged.parentNode[Mt],X,pe,e,da,Ct[this.layer].el)!=="continue"||Rf(Ct[this.layer].el,X,pe)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&h!==r&&(h=rs(h,!1)));Ll=d}},30),Bf=function(t){var n=t.originalEvent,o=t.putSortable,a=t.dragEl,l=t.activeSortable,i=t.dispatchSortableEvent,u=t.hideGhostForTarget,r=t.unhideGhostForTarget;if(!!n){var d=o||l;u();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);r(),d&&!d.el.contains(c)&&(i("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function Sr(){}Sr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=vo(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Bf};mn(Sr,{pluginName:"revertOnSpill"});function Cr(){}Cr.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:Bf};mn(Cr,{pluginName:"removeOnSpill"});var dn;function yE(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var o=n.dragEl;dn=o},dragOverValid:function(n){var o=n.completed,a=n.target,l=n.onMove,i=n.activeSortable,u=n.changed,r=n.cancel;if(!!i.options.swap){var d=this.sortable.el,f=this.options;if(a&&a!==d){var c=dn;l(a)!==!1?(vt(a,f.swapClass,!0),dn=a):dn=null,c&&c!==dn&&vt(c,f.swapClass,!1)}u(),o(!0),r()}},drop:function(n){var o=n.activeSortable,a=n.putSortable,l=n.dragEl,i=a||this.sortable,u=this.options;dn&&vt(dn,u.swapClass,!1),dn&&(u.swap||a&&a.options.swap)&&l!==dn&&(i.captureAnimationState(),i!==o&&o.captureAnimationState(),bE(l,dn),i.animateAll(),i!==o&&o.animateAll())},nulling:function(){dn=null}},mn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:dn}}})}function bE(e,t){var n=e.parentNode,o=t.parentNode,a,l;!n||!o||n.isEqualNode(t)||o.isEqualNode(e)||(a=wt(e),l=wt(t),n.isEqualNode(o)&&a<l&&l++,n.insertBefore(t,n.children[a]),o.insertBefore(e,o.children[l]))}var Ne=[],qt=[],To,vn,Io=!1,xt=!1,Xs=!1,dt,Ao,Ni;function $E(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?xe(document,"pointerup",this._deselectMultiDrag):(xe(document,"mouseup",this._deselectMultiDrag),xe(document,"touchend",this._deselectMultiDrag)),xe(document,"keydown",this._checkKeyDown),xe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(a,l){var i="";Ne.length&&vn===t?Ne.forEach(function(u,r){i+=(r?", ":"")+u.textContent}):i=l.textContent,a.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var o=n.dragEl;dt=o},delayEnded:function(){this.isMultiDrag=~Ne.indexOf(dt)},setupClone:function(n){var o=n.sortable,a=n.cancel;if(!!this.isMultiDrag){for(var l=0;l<Ne.length;l++)qt.push(_r(Ne[l])),qt[l].sortableIndex=Ne[l].sortableIndex,qt[l].draggable=!1,qt[l].style["will-change"]="",vt(qt[l],this.options.selectedClass,!1),Ne[l]===dt&&vt(qt[l],this.options.chosenClass,!1);o._hideClone(),a()}},clone:function(n){var o=n.sortable,a=n.rootEl,l=n.dispatchSortableEvent,i=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Ne.length&&vn===o&&(Ku(!0,a),l("clone"),i())},showClone:function(n){var o=n.cloneNowShown,a=n.rootEl,l=n.cancel;!this.isMultiDrag||(Ku(!1,a),qt.forEach(function(i){ge(i,"display","")}),o(),Ni=!1,l())},hideClone:function(n){var o=this;n.sortable;var a=n.cloneNowHidden,l=n.cancel;!this.isMultiDrag||(qt.forEach(function(i){ge(i,"display","none"),o.options.removeCloneOnHide&&i.parentNode&&i.parentNode.removeChild(i)}),a(),Ni=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&vn&&vn.multiDrag._deselectMultiDrag(),Ne.forEach(function(o){o.sortableIndex=wt(o)}),Ne=Ne.sort(function(o,a){return o.sortableIndex-a.sortableIndex}),Xs=!0},dragStarted:function(n){var o=this,a=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(a.captureAnimationState(),this.options.animation)){Ne.forEach(function(i){i!==dt&&ge(i,"position","absolute")});var l=pt(dt,!1,!0,!0);Ne.forEach(function(i){i!==dt&&Hu(i,l)}),xt=!0,Io=!0}a.animateAll(function(){xt=!1,Io=!1,o.options.animation&&Ne.forEach(function(i){qa(i)}),o.options.sort&&Li()})}},dragOver:function(n){var o=n.target,a=n.completed,l=n.cancel;xt&&~Ne.indexOf(o)&&(a(!1),l())},revert:function(n){var o=n.fromSortable,a=n.rootEl,l=n.sortable,i=n.dragRect;Ne.length>1&&(Ne.forEach(function(u){l.addAnimationState({target:u,rect:xt?pt(u):i}),qa(u),u.fromRect=i,o.removeAnimationState(u)}),xt=!1,wE(!this.options.removeCloneOnHide,a))},dragOverCompleted:function(n){var o=n.sortable,a=n.isOwner,l=n.insertion,i=n.activeSortable,u=n.parentEl,r=n.putSortable,d=this.options;if(l){if(a&&i._hideClone(),Io=!1,d.animation&&Ne.length>1&&(xt||!a&&!i.options.sort&&!r)){var f=pt(dt,!1,!0,!0);Ne.forEach(function(h){h!==dt&&(Hu(h,f),u.appendChild(h))}),xt=!0}if(!a)if(xt||Li(),Ne.length>1){var c=Ni;i._showClone(o),i.options.animation&&!Ni&&c&&qt.forEach(function(h){i.addAnimationState({target:h,rect:Ao}),h.fromRect=Ao,h.thisAnimationDuration=null})}else i._showClone(o)}},dragOverAnimationCapture:function(n){var o=n.dragRect,a=n.isOwner,l=n.activeSortable;if(Ne.forEach(function(u){u.thisAnimationDuration=null}),l.options.animation&&!a&&l.multiDrag.isMultiDrag){Ao=mn({},o);var i=Rs(dt,!0);Ao.top-=i.f,Ao.left-=i.e}},dragOverAnimationComplete:function(){xt&&(xt=!1,Li())},drop:function(n){var o=n.originalEvent,a=n.rootEl,l=n.parentEl,i=n.sortable,u=n.dispatchSortableEvent,r=n.oldIndex,d=n.putSortable,f=d||this.sortable;if(!!o){var c=this.options,h=l.children;if(!Xs)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),vt(dt,c.selectedClass,!~Ne.indexOf(dt)),~Ne.indexOf(dt))Ne.splice(Ne.indexOf(dt),1),To=null,Po({sortable:i,rootEl:a,name:"deselect",targetEl:dt,originalEvt:o});else{if(Ne.push(dt),Po({sortable:i,rootEl:a,name:"select",targetEl:dt,originalEvt:o}),o.shiftKey&&To&&i.el.contains(To)){var m=wt(To),g=wt(dt);if(~m&&~g&&m!==g){var b,w;for(g>m?(w=m,b=g):(w=g,b=m+1);w<b;w++)~Ne.indexOf(h[w])||(vt(h[w],c.selectedClass,!0),Ne.push(h[w]),Po({sortable:i,rootEl:a,name:"select",targetEl:h[w],originalEvt:o}))}}else To=dt;vn=f}if(Xs&&this.isMultiDrag){if(xt=!1,(l[Mt].options.sort||l!==a)&&Ne.length>1){var _=pt(dt),y=wt(dt,":not(."+this.options.selectedClass+")");if(!Io&&c.animation&&(dt.thisAnimationDuration=null),f.captureAnimationState(),!Io&&(c.animation&&(dt.fromRect=_,Ne.forEach(function(S){if(S.thisAnimationDuration=null,S!==dt){var E=xt?pt(S):_;S.fromRect=E,f.addAnimationState({target:S,rect:E})}})),Li(),Ne.forEach(function(S){h[y]?l.insertBefore(S,h[y]):l.appendChild(S),y++}),r===wt(dt))){var $=!1;Ne.forEach(function(S){if(S.sortableIndex!==wt(S)){$=!0;return}}),$&&u("update")}Ne.forEach(function(S){qa(S)}),f.animateAll()}vn=f}(a===l||d&&d.lastPutMode!=="clone")&&qt.forEach(function(S){S.parentNode&&S.parentNode.removeChild(S)})}},nullingGlobal:function(){this.isMultiDrag=Xs=!1,qt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),je(document,"pointerup",this._deselectMultiDrag),je(document,"mouseup",this._deselectMultiDrag),je(document,"touchend",this._deselectMultiDrag),je(document,"keydown",this._checkKeyDown),je(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Xs!="undefined"&&Xs)&&vn===this.sortable&&!(n&&yn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Ne.length;){var o=Ne[0];vt(o,this.options.selectedClass,!1),Ne.shift(),Po({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},mn(e,{pluginName:"multiDrag",utils:{select:function(n){var o=n.parentNode[Mt];!o||!o.options.multiDrag||~Ne.indexOf(n)||(vn&&vn!==o&&(vn.multiDrag._deselectMultiDrag(),vn=o),vt(n,o.options.selectedClass,!0),Ne.push(n))},deselect:function(n){var o=n.parentNode[Mt],a=Ne.indexOf(n);!o||!o.options.multiDrag||!~a||(vt(n,o.options.selectedClass,!1),Ne.splice(a,1))}},eventProperties:function(){var n=this,o=[],a=[];return Ne.forEach(function(l){o.push({multiDragElement:l,index:l.sortableIndex});var i;xt&&l!==dt?i=-1:xt?i=wt(l,":not(."+n.options.selectedClass+")"):i=wt(l),a.push({multiDragElement:l,index:i})}),{items:W2(Ne),clones:[].concat(qt),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function wE(e,t){Ne.forEach(function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function Ku(e,t){qt.forEach(function(n,o){var a=t.children[n.sortableIndex+(e?Number(o):0)];a?t.insertBefore(n,a):t.appendChild(n)})}function Li(){Ne.forEach(function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)})}Ve.mount(new vE);Ve.mount(Cr,Sr);var _E=Object.freeze(Object.defineProperty({__proto__:null,default:Ve,MultiDrag:$E,Sortable:Ve,Swap:yE},Symbol.toStringTag,{value:"Module"})),SE=If(_E);(function(e,t){(function(o,a){e.exports=a(B2,SE)})(typeof self!="undefined"?self:L2,function(n,o){return function(a){var l={};function i(u){if(l[u])return l[u].exports;var r=l[u]={i:u,l:!1,exports:{}};return a[u].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=a,i.c=l,i.d=function(u,r,d){i.o(u,r)||Object.defineProperty(u,r,{enumerable:!0,get:d})},i.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},i.t=function(u,r){if(r&1&&(u=i(u)),r&8||r&4&&typeof u=="object"&&u&&u.__esModule)return u;var d=Object.create(null);if(i.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:u}),r&2&&typeof u!="string")for(var f in u)i.d(d,f,function(c){return u[c]}.bind(null,f));return d},i.n=function(u){var r=u&&u.__esModule?function(){return u.default}:function(){return u};return i.d(r,"a",r),r},i.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,r)},i.p="",i(i.s="fb15")}({"00ee":function(a,l,i){var u=i("b622"),r=u("toStringTag"),d={};d[r]="z",a.exports=String(d)==="[object z]"},"0366":function(a,l,i){var u=i("1c0b");a.exports=function(r,d,f){if(u(r),d===void 0)return r;switch(f){case 0:return function(){return r.call(d)};case 1:return function(c){return r.call(d,c)};case 2:return function(c,h){return r.call(d,c,h)};case 3:return function(c,h,m){return r.call(d,c,h,m)}}return function(){return r.apply(d,arguments)}}},"057f":function(a,l,i){var u=i("fc6a"),r=i("241c").f,d={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(h){try{return r(h)}catch{return f.slice()}};a.exports.f=function(m){return f&&d.call(m)=="[object Window]"?c(m):r(u(m))}},"06cf":function(a,l,i){var u=i("83ab"),r=i("d1e7"),d=i("5c6c"),f=i("fc6a"),c=i("c04e"),h=i("5135"),m=i("0cfb"),g=Object.getOwnPropertyDescriptor;l.f=u?g:function(w,_){if(w=f(w),_=c(_,!0),m)try{return g(w,_)}catch{}if(h(w,_))return d(!r.f.call(w,_),w[_])}},"0cfb":function(a,l,i){var u=i("83ab"),r=i("d039"),d=i("cc12");a.exports=!u&&!r(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(a,l,i){var u=i("23e7"),r=i("d58f").left,d=i("a640"),f=i("ae40"),c=d("reduce"),h=f("reduce",{1:0});u({target:"Array",proto:!0,forced:!c||!h},{reduce:function(g){return r(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(a,l,i){var u=i("c6b6"),r=i("9263");a.exports=function(d,f){var c=d.exec;if(typeof c=="function"){var h=c.call(d,f);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(u(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return r.call(d,f)}},"159b":function(a,l,i){var u=i("da84"),r=i("fdbc"),d=i("17c2"),f=i("9112");for(var c in r){var h=u[c],m=h&&h.prototype;if(m&&m.forEach!==d)try{f(m,"forEach",d)}catch{m.forEach=d}}},"17c2":function(a,l,i){var u=i("b727").forEach,r=i("a640"),d=i("ae40"),f=r("forEach"),c=d("forEach");a.exports=!f||!c?function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(a,l,i){var u=i("d066");a.exports=u("document","documentElement")},"1c0b":function(a,l){a.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},"1c7e":function(a,l,i){var u=i("b622"),r=u("iterator"),d=!1;try{var f=0,c={next:function(){return{done:!!f++}},return:function(){d=!0}};c[r]=function(){return this},Array.from(c,function(){throw 2})}catch{}a.exports=function(h,m){if(!m&&!d)return!1;var g=!1;try{var b={};b[r]=function(){return{next:function(){return{done:g=!0}}}},h(b)}catch{}return g}},"1d80":function(a,l){a.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},"1dde":function(a,l,i){var u=i("d039"),r=i("b622"),d=i("2d00"),f=r("species");a.exports=function(c){return d>=51||!u(function(){var h=[],m=h.constructor={};return m[f]=function(){return{foo:1}},h[c](Boolean).foo!==1})}},"23cb":function(a,l,i){var u=i("a691"),r=Math.max,d=Math.min;a.exports=function(f,c){var h=u(f);return h<0?r(h+c,0):d(h,c)}},"23e7":function(a,l,i){var u=i("da84"),r=i("06cf").f,d=i("9112"),f=i("6eeb"),c=i("ce4e"),h=i("e893"),m=i("94ca");a.exports=function(g,b){var w=g.target,_=g.global,y=g.stat,$,S,E,k,M,P;if(_?S=u:y?S=u[w]||c(w,{}):S=(u[w]||{}).prototype,S)for(E in b){if(M=b[E],g.noTargetGet?(P=r(S,E),k=P&&P.value):k=S[E],$=m(_?E:w+(y?".":"#")+E,g.forced),!$&&k!==void 0){if(typeof M==typeof k)continue;h(M,k)}(g.sham||k&&k.sham)&&d(M,"sham",!0),f(S,E,M,g)}}},"241c":function(a,l,i){var u=i("ca84"),r=i("7839"),d=r.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(c){return u(c,d)}},"25f0":function(a,l,i){var u=i("6eeb"),r=i("825a"),d=i("d039"),f=i("ad6d"),c="toString",h=RegExp.prototype,m=h[c],g=d(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),b=m.name!=c;(g||b)&&u(RegExp.prototype,c,function(){var _=r(this),y=String(_.source),$=_.flags,S=String($===void 0&&_ instanceof RegExp&&!("flags"in h)?f.call(_):$);return"/"+y+"/"+S},{unsafe:!0})},"2ca0":function(a,l,i){var u=i("23e7"),r=i("06cf").f,d=i("50c4"),f=i("5a34"),c=i("1d80"),h=i("ab13"),m=i("c430"),g="".startsWith,b=Math.min,w=h("startsWith"),_=!m&&!w&&!!function(){var y=r(String.prototype,"startsWith");return y&&!y.writable}();u({target:"String",proto:!0,forced:!_&&!w},{startsWith:function($){var S=String(c(this));f($);var E=d(b(arguments.length>1?arguments[1]:void 0,S.length)),k=String($);return g?g.call(S,k,E):S.slice(E,E+k.length)===k}})},"2d00":function(a,l,i){var u=i("da84"),r=i("342f"),d=u.process,f=d&&d.versions,c=f&&f.v8,h,m;c?(h=c.split("."),m=h[0]+h[1]):r&&(h=r.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=r.match(/Chrome\/(\d+)/),h&&(m=h[1]))),a.exports=m&&+m},"342f":function(a,l,i){var u=i("d066");a.exports=u("navigator","userAgent")||""},"35a1":function(a,l,i){var u=i("f5df"),r=i("3f8c"),d=i("b622"),f=d("iterator");a.exports=function(c){if(c!=null)return c[f]||c["@@iterator"]||r[u(c)]}},"37e8":function(a,l,i){var u=i("83ab"),r=i("9bf2"),d=i("825a"),f=i("df75");a.exports=u?Object.defineProperties:function(h,m){d(h);for(var g=f(m),b=g.length,w=0,_;b>w;)r.f(h,_=g[w++],m[_]);return h}},"3bbe":function(a,l,i){var u=i("861d");a.exports=function(r){if(!u(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype");return r}},"3ca3":function(a,l,i){var u=i("6547").charAt,r=i("69f3"),d=i("7dd0"),f="String Iterator",c=r.set,h=r.getterFor(f);d(String,"String",function(m){c(this,{type:f,string:String(m),index:0})},function(){var g=h(this),b=g.string,w=g.index,_;return w>=b.length?{value:void 0,done:!0}:(_=u(b,w),g.index+=_.length,{value:_,done:!1})})},"3f8c":function(a,l){a.exports={}},4160:function(a,l,i){var u=i("23e7"),r=i("17c2");u({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(a,l,i){var u=i("da84");a.exports=u},"44ad":function(a,l,i){var u=i("d039"),r=i("c6b6"),d="".split;a.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return r(f)=="String"?d.call(f,""):Object(f)}:Object},"44d2":function(a,l,i){var u=i("b622"),r=i("7c73"),d=i("9bf2"),f=u("unscopables"),c=Array.prototype;c[f]==null&&d.f(c,f,{configurable:!0,value:r(null)}),a.exports=function(h){c[f][h]=!0}},"44e7":function(a,l,i){var u=i("861d"),r=i("c6b6"),d=i("b622"),f=d("match");a.exports=function(c){var h;return u(c)&&((h=c[f])!==void 0?!!h:r(c)=="RegExp")}},4930:function(a,l,i){var u=i("d039");a.exports=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())})},"4d64":function(a,l,i){var u=i("fc6a"),r=i("50c4"),d=i("23cb"),f=function(c){return function(h,m,g){var b=u(h),w=r(b.length),_=d(g,w),y;if(c&&m!=m){for(;w>_;)if(y=b[_++],y!=y)return!0}else for(;w>_;_++)if((c||_ in b)&&b[_]===m)return c||_||0;return!c&&-1}};a.exports={includes:f(!0),indexOf:f(!1)}},"4de4":function(a,l,i){var u=i("23e7"),r=i("b727").filter,d=i("1dde"),f=i("ae40"),c=d("filter"),h=f("filter");u({target:"Array",proto:!0,forced:!c||!h},{filter:function(g){return r(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(a,l,i){var u=i("0366"),r=i("7b0b"),d=i("9bdd"),f=i("e95a"),c=i("50c4"),h=i("8418"),m=i("35a1");a.exports=function(b){var w=r(b),_=typeof this=="function"?this:Array,y=arguments.length,$=y>1?arguments[1]:void 0,S=$!==void 0,E=m(w),k=0,M,P,I,U,H,W;if(S&&($=u($,y>2?arguments[2]:void 0,2)),E!=null&&!(_==Array&&f(E)))for(U=E.call(w),H=U.next,P=new _;!(I=H.call(U)).done;k++)W=S?d(U,$,[I.value,k],!0):I.value,h(P,k,W);else for(M=c(w.length),P=new _(M);M>k;k++)W=S?$(w[k],k):w[k],h(P,k,W);return P.length=k,P}},"4fad":function(a,l,i){var u=i("23e7"),r=i("6f53").entries;u({target:"Object",stat:!0},{entries:function(f){return r(f)}})},"50c4":function(a,l,i){var u=i("a691"),r=Math.min;a.exports=function(d){return d>0?r(u(d),9007199254740991):0}},5135:function(a,l){var i={}.hasOwnProperty;a.exports=function(u,r){return i.call(u,r)}},5319:function(a,l,i){var u=i("d784"),r=i("825a"),d=i("7b0b"),f=i("50c4"),c=i("a691"),h=i("1d80"),m=i("8aa5"),g=i("14c3"),b=Math.max,w=Math.min,_=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,$=/\$([$&'`]|\d\d?)/g,S=function(E){return E===void 0?E:String(E)};u("replace",2,function(E,k,M,P){var I=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,U=P.REPLACE_KEEPS_$0,H=I?"$":"$0";return[function(B,pe){var X=h(this),re=B==null?void 0:B[E];return re!==void 0?re.call(B,X,pe):k.call(String(X),B,pe)},function(z,B){if(!I&&U||typeof B=="string"&&B.indexOf(H)===-1){var pe=M(k,z,this,B);if(pe.done)return pe.value}var X=r(z),re=String(this),ve=typeof B=="function";ve||(B=String(B));var ze=X.global;if(ze){var ft=X.unicode;X.lastIndex=0}for(var Ze=[];;){var Ye=g(X,re);if(Ye===null||(Ze.push(Ye),!ze))break;var qe=String(Ye[0]);qe===""&&(X.lastIndex=m(re,f(X.lastIndex),ft))}for(var ht="",j=0,ie=0;ie<Ze.length;ie++){Ye=Ze[ie];for(var Q=String(Ye[0]),ce=b(w(c(Ye.index),re.length),0),Re=[],We=1;We<Ye.length;We++)Re.push(S(Ye[We]));var Oe=Ye.groups;if(ve){var ke=[Q].concat(Re,ce,re);Oe!==void 0&&ke.push(Oe);var C=String(B.apply(void 0,ke))}else C=W(Q,re,ce,Re,Oe,B);ce>=j&&(ht+=re.slice(j,ce)+C,j=ce+Q.length)}return ht+re.slice(j)}];function W(z,B,pe,X,re,ve){var ze=pe+z.length,ft=X.length,Ze=$;return re!==void 0&&(re=d(re),Ze=y),k.call(ve,Ze,function(Ye,qe){var ht;switch(qe.charAt(0)){case"$":return"$";case"&":return z;case"`":return B.slice(0,pe);case"'":return B.slice(ze);case"<":ht=re[qe.slice(1,-1)];break;default:var j=+qe;if(j===0)return Ye;if(j>ft){var ie=_(j/10);return ie===0?Ye:ie<=ft?X[ie-1]===void 0?qe.charAt(1):X[ie-1]+qe.charAt(1):Ye}ht=X[j-1]}return ht===void 0?"":ht})}})},5692:function(a,l,i){var u=i("c430"),r=i("c6cd");(a.exports=function(d,f){return r[d]||(r[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:u?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(a,l,i){var u=i("d066"),r=i("241c"),d=i("7418"),f=i("825a");a.exports=u("Reflect","ownKeys")||function(h){var m=r.f(f(h)),g=d.f;return g?m.concat(g(h)):m}},"5a34":function(a,l,i){var u=i("44e7");a.exports=function(r){if(u(r))throw TypeError("The method doesn't accept regular expressions");return r}},"5c6c":function(a,l){a.exports=function(i,u){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:u}}},"5db7":function(a,l,i){var u=i("23e7"),r=i("a2bf"),d=i("7b0b"),f=i("50c4"),c=i("1c0b"),h=i("65f0");u({target:"Array",proto:!0},{flatMap:function(g){var b=d(this),w=f(b.length),_;return c(g),_=h(b,0),_.length=r(_,b,b,w,0,1,g,arguments.length>1?arguments[1]:void 0),_}})},6547:function(a,l,i){var u=i("a691"),r=i("1d80"),d=function(f){return function(c,h){var m=String(r(c)),g=u(h),b=m.length,w,_;return g<0||g>=b?f?"":void 0:(w=m.charCodeAt(g),w<55296||w>56319||g+1===b||(_=m.charCodeAt(g+1))<56320||_>57343?f?m.charAt(g):w:f?m.slice(g,g+2):(w-55296<<10)+(_-56320)+65536)}};a.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(a,l,i){var u=i("861d"),r=i("e8b5"),d=i("b622"),f=d("species");a.exports=function(c,h){var m;return r(c)&&(m=c.constructor,typeof m=="function"&&(m===Array||r(m.prototype))?m=void 0:u(m)&&(m=m[f],m===null&&(m=void 0))),new(m===void 0?Array:m)(h===0?0:h)}},"69f3":function(a,l,i){var u=i("7f9a"),r=i("da84"),d=i("861d"),f=i("9112"),c=i("5135"),h=i("f772"),m=i("d012"),g=r.WeakMap,b,w,_,y=function(I){return _(I)?w(I):b(I,{})},$=function(I){return function(U){var H;if(!d(U)||(H=w(U)).type!==I)throw TypeError("Incompatible receiver, "+I+" required");return H}};if(u){var S=new g,E=S.get,k=S.has,M=S.set;b=function(I,U){return M.call(S,I,U),U},w=function(I){return E.call(S,I)||{}},_=function(I){return k.call(S,I)}}else{var P=h("state");m[P]=!0,b=function(I,U){return f(I,P,U),U},w=function(I){return c(I,P)?I[P]:{}},_=function(I){return c(I,P)}}a.exports={set:b,get:w,has:_,enforce:y,getterFor:$}},"6eeb":function(a,l,i){var u=i("da84"),r=i("9112"),d=i("5135"),f=i("ce4e"),c=i("8925"),h=i("69f3"),m=h.get,g=h.enforce,b=String(String).split("String");(a.exports=function(w,_,y,$){var S=$?!!$.unsafe:!1,E=$?!!$.enumerable:!1,k=$?!!$.noTargetGet:!1;if(typeof y=="function"&&(typeof _=="string"&&!d(y,"name")&&r(y,"name",_),g(y).source=b.join(typeof _=="string"?_:"")),w===u){E?w[_]=y:f(_,y);return}else S?!k&&w[_]&&(E=!0):delete w[_];E?w[_]=y:r(w,_,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||c(this)})},"6f53":function(a,l,i){var u=i("83ab"),r=i("df75"),d=i("fc6a"),f=i("d1e7").f,c=function(h){return function(m){for(var g=d(m),b=r(g),w=b.length,_=0,y=[],$;w>_;)$=b[_++],(!u||f.call(g,$))&&y.push(h?[$,g[$]]:g[$]);return y}};a.exports={entries:c(!0),values:c(!1)}},"73d9":function(a,l,i){var u=i("44d2");u("flatMap")},7418:function(a,l){l.f=Object.getOwnPropertySymbols},"746f":function(a,l,i){var u=i("428f"),r=i("5135"),d=i("e538"),f=i("9bf2").f;a.exports=function(c){var h=u.Symbol||(u.Symbol={});r(h,c)||f(h,c,{value:d.f(c)})}},7839:function(a,l){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(a,l,i){var u=i("1d80");a.exports=function(r){return Object(u(r))}},"7c73":function(a,l,i){var u=i("825a"),r=i("37e8"),d=i("7839"),f=i("d012"),c=i("1be4"),h=i("cc12"),m=i("f772"),g=">",b="<",w="prototype",_="script",y=m("IE_PROTO"),$=function(){},S=function(I){return b+_+g+I+b+"/"+_+g},E=function(I){I.write(S("")),I.close();var U=I.parentWindow.Object;return I=null,U},k=function(){var I=h("iframe"),U="java"+_+":",H;return I.style.display="none",c.appendChild(I),I.src=String(U),H=I.contentWindow.document,H.open(),H.write(S("document.F=Object")),H.close(),H.F},M,P=function(){try{M=document.domain&&new ActiveXObject("htmlfile")}catch{}P=M?E(M):k();for(var I=d.length;I--;)delete P[w][d[I]];return P()};f[y]=!0,a.exports=Object.create||function(U,H){var W;return U!==null?($[w]=u(U),W=new $,$[w]=null,W[y]=U):W=P(),H===void 0?W:r(W,H)}},"7dd0":function(a,l,i){var u=i("23e7"),r=i("9ed3"),d=i("e163"),f=i("d2bb"),c=i("d44e"),h=i("9112"),m=i("6eeb"),g=i("b622"),b=i("c430"),w=i("3f8c"),_=i("ae93"),y=_.IteratorPrototype,$=_.BUGGY_SAFARI_ITERATORS,S=g("iterator"),E="keys",k="values",M="entries",P=function(){return this};a.exports=function(I,U,H,W,z,B,pe){r(H,U,W);var X=function(ie){if(ie===z&&Ze)return Ze;if(!$&&ie in ze)return ze[ie];switch(ie){case E:return function(){return new H(this,ie)};case k:return function(){return new H(this,ie)};case M:return function(){return new H(this,ie)}}return function(){return new H(this)}},re=U+" Iterator",ve=!1,ze=I.prototype,ft=ze[S]||ze["@@iterator"]||z&&ze[z],Ze=!$&&ft||X(z),Ye=U=="Array"&&ze.entries||ft,qe,ht,j;if(Ye&&(qe=d(Ye.call(new I)),y!==Object.prototype&&qe.next&&(!b&&d(qe)!==y&&(f?f(qe,y):typeof qe[S]!="function"&&h(qe,S,P)),c(qe,re,!0,!0),b&&(w[re]=P))),z==k&&ft&&ft.name!==k&&(ve=!0,Ze=function(){return ft.call(this)}),(!b||pe)&&ze[S]!==Ze&&h(ze,S,Ze),w[U]=Ze,z)if(ht={values:X(k),keys:B?Ze:X(E),entries:X(M)},pe)for(j in ht)($||ve||!(j in ze))&&m(ze,j,ht[j]);else u({target:U,proto:!0,forced:$||ve},ht);return ht}},"7f9a":function(a,l,i){var u=i("da84"),r=i("8925"),d=u.WeakMap;a.exports=typeof d=="function"&&/native code/.test(r(d))},"825a":function(a,l,i){var u=i("861d");a.exports=function(r){if(!u(r))throw TypeError(String(r)+" is not an object");return r}},"83ab":function(a,l,i){var u=i("d039");a.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(a,l,i){var u=i("c04e"),r=i("9bf2"),d=i("5c6c");a.exports=function(f,c,h){var m=u(c);m in f?r.f(f,m,d(0,h)):f[m]=h}},"861d":function(a,l){a.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},8875:function(a,l,i){var u,r,d;(function(f,c){r=[],u=c,d=typeof u=="function"?u.apply(l,r):u,d!==void 0&&(a.exports=d)})(typeof self!="undefined"?self:this,function(){function f(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==f&&document.currentScript)return document.currentScript;try{throw new Error}catch(M){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,g=h.exec(M.stack)||m.exec(M.stack),b=g&&g[1]||!1,w=g&&g[2]||!1,_=document.location.href.replace(document.location.hash,""),y,$,S,E=document.getElementsByTagName("script");b===_&&(y=document.documentElement.outerHTML,$=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),S=y.replace($,"$1").trim());for(var k=0;k<E.length;k++)if(E[k].readyState==="interactive"||E[k].src===b||b===_&&E[k].innerHTML&&E[k].innerHTML.trim()===S)return E[k];return null}}return f})},8925:function(a,l,i){var u=i("c6cd"),r=Function.toString;typeof u.inspectSource!="function"&&(u.inspectSource=function(d){return r.call(d)}),a.exports=u.inspectSource},"8aa5":function(a,l,i){var u=i("6547").charAt;a.exports=function(r,d,f){return d+(f?u(r,d).length:1)}},"8bbf":function(a,l){a.exports=n},"90e3":function(a,l){var i=0,u=Math.random();a.exports=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++i+u).toString(36)}},9112:function(a,l,i){var u=i("83ab"),r=i("9bf2"),d=i("5c6c");a.exports=u?function(f,c,h){return r.f(f,c,d(1,h))}:function(f,c,h){return f[c]=h,f}},9263:function(a,l,i){var u=i("ad6d"),r=i("9f7f"),d=RegExp.prototype.exec,f=String.prototype.replace,c=d,h=function(){var w=/a/,_=/b*/g;return d.call(w,"a"),d.call(_,"a"),w.lastIndex!==0||_.lastIndex!==0}(),m=r.UNSUPPORTED_Y||r.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,b=h||g||m;b&&(c=function(_){var y=this,$,S,E,k,M=m&&y.sticky,P=u.call(y),I=y.source,U=0,H=_;return M&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),H=String(_).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&_[y.lastIndex-1]!==`
`)&&(I="(?: "+I+")",H=" "+H,U++),S=new RegExp("^(?:"+I+")",P)),g&&(S=new RegExp("^"+I+"$(?!\\s)",P)),h&&($=y.lastIndex),E=d.call(M?S:y,H),M?E?(E.input=E.input.slice(U),E[0]=E[0].slice(U),E.index=y.lastIndex,y.lastIndex+=E[0].length):y.lastIndex=0:h&&E&&(y.lastIndex=y.global?E.index+E[0].length:$),g&&E&&E.length>1&&f.call(E[0],S,function(){for(k=1;k<arguments.length-2;k++)arguments[k]===void 0&&(E[k]=void 0)}),E}),a.exports=c},"94ca":function(a,l,i){var u=i("d039"),r=/#|\.prototype\./,d=function(g,b){var w=c[f(g)];return w==m?!0:w==h?!1:typeof b=="function"?u(b):!!b},f=d.normalize=function(g){return String(g).replace(r,".").toLowerCase()},c=d.data={},h=d.NATIVE="N",m=d.POLYFILL="P";a.exports=d},"99af":function(a,l,i){var u=i("23e7"),r=i("d039"),d=i("e8b5"),f=i("861d"),c=i("7b0b"),h=i("50c4"),m=i("8418"),g=i("65f0"),b=i("1dde"),w=i("b622"),_=i("2d00"),y=w("isConcatSpreadable"),$=9007199254740991,S="Maximum allowed index exceeded",E=_>=51||!r(function(){var I=[];return I[y]=!1,I.concat()[0]!==I}),k=b("concat"),M=function(I){if(!f(I))return!1;var U=I[y];return U!==void 0?!!U:d(I)},P=!E||!k;u({target:"Array",proto:!0,forced:P},{concat:function(U){var H=c(this),W=g(H,0),z=0,B,pe,X,re,ve;for(B=-1,X=arguments.length;B<X;B++)if(ve=B===-1?H:arguments[B],M(ve)){if(re=h(ve.length),z+re>$)throw TypeError(S);for(pe=0;pe<re;pe++,z++)pe in ve&&m(W,z,ve[pe])}else{if(z>=$)throw TypeError(S);m(W,z++,ve)}return W.length=z,W}})},"9bdd":function(a,l,i){var u=i("825a");a.exports=function(r,d,f,c){try{return c?d(u(f)[0],f[1]):d(f)}catch(m){var h=r.return;throw h!==void 0&&u(h.call(r)),m}}},"9bf2":function(a,l,i){var u=i("83ab"),r=i("0cfb"),d=i("825a"),f=i("c04e"),c=Object.defineProperty;l.f=u?c:function(m,g,b){if(d(m),g=f(g,!0),d(b),r)try{return c(m,g,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(m[g]=b.value),m}},"9ed3":function(a,l,i){var u=i("ae93").IteratorPrototype,r=i("7c73"),d=i("5c6c"),f=i("d44e"),c=i("3f8c"),h=function(){return this};a.exports=function(m,g,b){var w=g+" Iterator";return m.prototype=r(u,{next:d(1,b)}),f(m,w,!1,!0),c[w]=h,m}},"9f7f":function(a,l,i){var u=i("d039");function r(d,f){return RegExp(d,f)}l.UNSUPPORTED_Y=u(function(){var d=r("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),l.BROKEN_CARET=u(function(){var d=r("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(a,l,i){var u=i("e8b5"),r=i("50c4"),d=i("0366"),f=function(c,h,m,g,b,w,_,y){for(var $=b,S=0,E=_?d(_,y,3):!1,k;S<g;){if(S in m){if(k=E?E(m[S],S,h):m[S],w>0&&u(k))$=f(c,h,k,r(k.length),$,w-1)-1;else{if($>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[$]=k}$++}S++}return $};a.exports=f},a352:function(a,l){a.exports=o},a434:function(a,l,i){var u=i("23e7"),r=i("23cb"),d=i("a691"),f=i("50c4"),c=i("7b0b"),h=i("65f0"),m=i("8418"),g=i("1dde"),b=i("ae40"),w=g("splice"),_=b("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,$=Math.min,S=9007199254740991,E="Maximum allowed length exceeded";u({target:"Array",proto:!0,forced:!w||!_},{splice:function(M,P){var I=c(this),U=f(I.length),H=r(M,U),W=arguments.length,z,B,pe,X,re,ve;if(W===0?z=B=0:W===1?(z=0,B=U-H):(z=W-2,B=$(y(d(P),0),U-H)),U+z-B>S)throw TypeError(E);for(pe=h(I,B),X=0;X<B;X++)re=H+X,re in I&&m(pe,X,I[re]);if(pe.length=B,z<B){for(X=H;X<U-B;X++)re=X+B,ve=X+z,re in I?I[ve]=I[re]:delete I[ve];for(X=U;X>U-B+z;X--)delete I[X-1]}else if(z>B)for(X=U-B;X>H;X--)re=X+B-1,ve=X+z-1,re in I?I[ve]=I[re]:delete I[ve];for(X=0;X<z;X++)I[X+H]=arguments[X+2];return I.length=U-B+z,pe}})},a4d3:function(a,l,i){var u=i("23e7"),r=i("da84"),d=i("d066"),f=i("c430"),c=i("83ab"),h=i("4930"),m=i("fdbf"),g=i("d039"),b=i("5135"),w=i("e8b5"),_=i("861d"),y=i("825a"),$=i("7b0b"),S=i("fc6a"),E=i("c04e"),k=i("5c6c"),M=i("7c73"),P=i("df75"),I=i("241c"),U=i("057f"),H=i("7418"),W=i("06cf"),z=i("9bf2"),B=i("d1e7"),pe=i("9112"),X=i("6eeb"),re=i("5692"),ve=i("f772"),ze=i("d012"),ft=i("90e3"),Ze=i("b622"),Ye=i("e538"),qe=i("746f"),ht=i("d44e"),j=i("69f3"),ie=i("b727").forEach,Q=ve("hidden"),ce="Symbol",Re="prototype",We=Ze("toPrimitive"),Oe=j.set,ke=j.getterFor(ce),C=Object[Re],T=r.Symbol,N=d("JSON","stringify"),G=W.f,J=z.f,ne=U.f,de=B.f,ee=re("symbols"),se=re("op-symbols"),Z=re("string-to-symbol-registry"),be=re("symbol-to-string-registry"),he=re("wks"),$e=r.QObject,Te=!$e||!$e[Re]||!$e[Re].findChild,He=c&&g(function(){return M(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a!=7})?function(Ae,we,Ie){var Je=G(C,we);Je&&delete C[we],J(Ae,we,Ie),Je&&Ae!==C&&J(C,we,Je)}:J,Xe=function(Ae,we){var Ie=ee[Ae]=M(T[Re]);return Oe(Ie,{type:ce,tag:Ae,description:we}),c||(Ie.description=we),Ie},D=m?function(Ae){return typeof Ae=="symbol"}:function(Ae){return Object(Ae)instanceof T},O=function(we,Ie,Je){we===C&&O(se,Ie,Je),y(we);var Qe=E(Ie,!0);return y(Je),b(ee,Qe)?(Je.enumerable?(b(we,Q)&&we[Q][Qe]&&(we[Q][Qe]=!1),Je=M(Je,{enumerable:k(0,!1)})):(b(we,Q)||J(we,Q,k(1,{})),we[Q][Qe]=!0),He(we,Qe,Je)):J(we,Qe,Je)},L=function(we,Ie){y(we);var Je=S(Ie),Qe=P(Je).concat(Me(Je));return ie(Qe,function(jt){(!c||me.call(Je,jt))&&O(we,jt,Je[jt])}),we},q=function(we,Ie){return Ie===void 0?M(we):L(M(we),Ie)},me=function(we){var Ie=E(we,!0),Je=de.call(this,Ie);return this===C&&b(ee,Ie)&&!b(se,Ie)?!1:Je||!b(this,Ie)||!b(ee,Ie)||b(this,Q)&&this[Q][Ie]?Je:!0},Ee=function(we,Ie){var Je=S(we),Qe=E(Ie,!0);if(!(Je===C&&b(ee,Qe)&&!b(se,Qe))){var jt=G(Je,Qe);return jt&&b(ee,Qe)&&!(b(Je,Q)&&Je[Q][Qe])&&(jt.enumerable=!0),jt}},Ue=function(we){var Ie=ne(S(we)),Je=[];return ie(Ie,function(Qe){!b(ee,Qe)&&!b(ze,Qe)&&Je.push(Qe)}),Je},Me=function(we){var Ie=we===C,Je=ne(Ie?se:S(we)),Qe=[];return ie(Je,function(jt){b(ee,jt)&&(!Ie||b(C,jt))&&Qe.push(ee[jt])}),Qe};if(h||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor");var we=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ie=ft(we),Je=function(Qe){this===C&&Je.call(se,Qe),b(this,Q)&&b(this[Q],Ie)&&(this[Q][Ie]=!1),He(this,Ie,k(1,Qe))};return c&&Te&&He(C,Ie,{configurable:!0,set:Je}),Xe(Ie,we)},X(T[Re],"toString",function(){return ke(this).tag}),X(T,"withoutSetter",function(Ae){return Xe(ft(Ae),Ae)}),B.f=me,z.f=O,W.f=Ee,I.f=U.f=Ue,H.f=Me,Ye.f=function(Ae){return Xe(Ze(Ae),Ae)},c&&(J(T[Re],"description",{configurable:!0,get:function(){return ke(this).description}}),f||X(C,"propertyIsEnumerable",me,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:T}),ie(P(he),function(Ae){qe(Ae)}),u({target:ce,stat:!0,forced:!h},{for:function(Ae){var we=String(Ae);if(b(Z,we))return Z[we];var Ie=T(we);return Z[we]=Ie,be[Ie]=we,Ie},keyFor:function(we){if(!D(we))throw TypeError(we+" is not a symbol");if(b(be,we))return be[we]},useSetter:function(){Te=!0},useSimple:function(){Te=!1}}),u({target:"Object",stat:!0,forced:!h,sham:!c},{create:q,defineProperty:O,defineProperties:L,getOwnPropertyDescriptor:Ee}),u({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Ue,getOwnPropertySymbols:Me}),u({target:"Object",stat:!0,forced:g(function(){H.f(1)})},{getOwnPropertySymbols:function(we){return H.f($(we))}}),N){var et=!h||g(function(){var Ae=T();return N([Ae])!="[null]"||N({a:Ae})!="{}"||N(Object(Ae))!="{}"});u({target:"JSON",stat:!0,forced:et},{stringify:function(we,Ie,Je){for(var Qe=[we],jt=1,Ha;arguments.length>jt;)Qe.push(arguments[jt++]);if(Ha=Ie,!(!_(Ie)&&we===void 0||D(we)))return w(Ie)||(Ie=function(xf,_i){if(typeof Ha=="function"&&(_i=Ha.call(this,xf,_i)),!D(_i))return _i}),Qe[1]=Ie,N.apply(null,Qe)}})}T[Re][We]||pe(T[Re],We,T[Re].valueOf),ht(T,ce),ze[Q]=!0},a630:function(a,l,i){var u=i("23e7"),r=i("4df4"),d=i("1c7e"),f=!d(function(c){Array.from(c)});u({target:"Array",stat:!0,forced:f},{from:r})},a640:function(a,l,i){var u=i("d039");a.exports=function(r,d){var f=[][r];return!!f&&u(function(){f.call(null,d||function(){throw 1},1)})}},a691:function(a,l){var i=Math.ceil,u=Math.floor;a.exports=function(r){return isNaN(r=+r)?0:(r>0?u:i)(r)}},ab13:function(a,l,i){var u=i("b622"),r=u("match");a.exports=function(d){var f=/./;try{"/./"[d](f)}catch{try{return f[r]=!1,"/./"[d](f)}catch{}}return!1}},ac1f:function(a,l,i){var u=i("23e7"),r=i("9263");u({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(a,l,i){var u=i("825a");a.exports=function(){var r=u(this),d="";return r.global&&(d+="g"),r.ignoreCase&&(d+="i"),r.multiline&&(d+="m"),r.dotAll&&(d+="s"),r.unicode&&(d+="u"),r.sticky&&(d+="y"),d}},ae40:function(a,l,i){var u=i("83ab"),r=i("d039"),d=i("5135"),f=Object.defineProperty,c={},h=function(m){throw m};a.exports=function(m,g){if(d(c,m))return c[m];g||(g={});var b=[][m],w=d(g,"ACCESSORS")?g.ACCESSORS:!1,_=d(g,0)?g[0]:h,y=d(g,1)?g[1]:void 0;return c[m]=!!b&&!r(function(){if(w&&!u)return!0;var $={length:-1};w?f($,1,{enumerable:!0,get:h}):$[1]=1,b.call($,_,y)})}},ae93:function(a,l,i){var u=i("e163"),r=i("9112"),d=i("5135"),f=i("b622"),c=i("c430"),h=f("iterator"),m=!1,g=function(){return this},b,w,_;[].keys&&(_=[].keys(),"next"in _?(w=u(u(_)),w!==Object.prototype&&(b=w)):m=!0),b==null&&(b={}),!c&&!d(b,h)&&r(b,h,g),a.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:m}},b041:function(a,l,i){var u=i("00ee"),r=i("f5df");a.exports=u?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(a,l,i){var u=i("83ab"),r=i("9bf2").f,d=Function.prototype,f=d.toString,c=/^\s*function ([^ (]*)/,h="name";u&&!(h in d)&&r(d,h,{configurable:!0,get:function(){try{return f.call(this).match(c)[1]}catch{return""}}})},b622:function(a,l,i){var u=i("da84"),r=i("5692"),d=i("5135"),f=i("90e3"),c=i("4930"),h=i("fdbf"),m=r("wks"),g=u.Symbol,b=h?g:g&&g.withoutSetter||f;a.exports=function(w){return d(m,w)||(c&&d(g,w)?m[w]=g[w]:m[w]=b("Symbol."+w)),m[w]}},b64b:function(a,l,i){var u=i("23e7"),r=i("7b0b"),d=i("df75"),f=i("d039"),c=f(function(){d(1)});u({target:"Object",stat:!0,forced:c},{keys:function(m){return d(r(m))}})},b727:function(a,l,i){var u=i("0366"),r=i("44ad"),d=i("7b0b"),f=i("50c4"),c=i("65f0"),h=[].push,m=function(g){var b=g==1,w=g==2,_=g==3,y=g==4,$=g==6,S=g==5||$;return function(E,k,M,P){for(var I=d(E),U=r(I),H=u(k,M,3),W=f(U.length),z=0,B=P||c,pe=b?B(E,W):w?B(E,0):void 0,X,re;W>z;z++)if((S||z in U)&&(X=U[z],re=H(X,z,I),g)){if(b)pe[z]=re;else if(re)switch(g){case 3:return!0;case 5:return X;case 6:return z;case 2:h.call(pe,X)}else if(y)return!1}return $?-1:_||y?y:pe}};a.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},c04e:function(a,l,i){var u=i("861d");a.exports=function(r,d){if(!u(r))return r;var f,c;if(d&&typeof(f=r.toString)=="function"&&!u(c=f.call(r))||typeof(f=r.valueOf)=="function"&&!u(c=f.call(r))||!d&&typeof(f=r.toString)=="function"&&!u(c=f.call(r)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(a,l){a.exports=!1},c6b6:function(a,l){var i={}.toString;a.exports=function(u){return i.call(u).slice(8,-1)}},c6cd:function(a,l,i){var u=i("da84"),r=i("ce4e"),d="__core-js_shared__",f=u[d]||r(d,{});a.exports=f},c740:function(a,l,i){var u=i("23e7"),r=i("b727").findIndex,d=i("44d2"),f=i("ae40"),c="findIndex",h=!0,m=f(c);c in[]&&Array(1)[c](function(){h=!1}),u({target:"Array",proto:!0,forced:h||!m},{findIndex:function(b){return r(this,b,arguments.length>1?arguments[1]:void 0)}}),d(c)},c8ba:function(a,l){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}a.exports=i},c975:function(a,l,i){var u=i("23e7"),r=i("4d64").indexOf,d=i("a640"),f=i("ae40"),c=[].indexOf,h=!!c&&1/[1].indexOf(1,-0)<0,m=d("indexOf"),g=f("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:h||!m||!g},{indexOf:function(w){return h?c.apply(this,arguments)||0:r(this,w,arguments.length>1?arguments[1]:void 0)}})},ca84:function(a,l,i){var u=i("5135"),r=i("fc6a"),d=i("4d64").indexOf,f=i("d012");a.exports=function(c,h){var m=r(c),g=0,b=[],w;for(w in m)!u(f,w)&&u(m,w)&&b.push(w);for(;h.length>g;)u(m,w=h[g++])&&(~d(b,w)||b.push(w));return b}},caad:function(a,l,i){var u=i("23e7"),r=i("4d64").includes,d=i("44d2"),f=i("ae40"),c=f("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:!c},{includes:function(m){return r(this,m,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(a,l,i){var u=i("da84"),r=i("861d"),d=u.document,f=r(d)&&r(d.createElement);a.exports=function(c){return f?d.createElement(c):{}}},ce4e:function(a,l,i){var u=i("da84"),r=i("9112");a.exports=function(d,f){try{r(u,d,f)}catch{u[d]=f}return f}},d012:function(a,l){a.exports={}},d039:function(a,l){a.exports=function(i){try{return!!i()}catch{return!0}}},d066:function(a,l,i){var u=i("428f"),r=i("da84"),d=function(f){return typeof f=="function"?f:void 0};a.exports=function(f,c){return arguments.length<2?d(u[f])||d(r[f]):u[f]&&u[f][c]||r[f]&&r[f][c]}},d1e7:function(a,l,i){var u={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,d=r&&!u.call({1:2},1);l.f=d?function(c){var h=r(this,c);return!!h&&h.enumerable}:u},d28b:function(a,l,i){var u=i("746f");u("iterator")},d2bb:function(a,l,i){var u=i("825a"),r=i("3bbe");a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,f={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(f,[]),d=f instanceof Array}catch{}return function(m,g){return u(m),r(g),d?c.call(m,g):m.__proto__=g,m}}():void 0)},d3b7:function(a,l,i){var u=i("00ee"),r=i("6eeb"),d=i("b041");u||r(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(a,l,i){var u=i("9bf2").f,r=i("5135"),d=i("b622"),f=d("toStringTag");a.exports=function(c,h,m){c&&!r(c=m?c:c.prototype,f)&&u(c,f,{configurable:!0,value:h})}},d58f:function(a,l,i){var u=i("1c0b"),r=i("7b0b"),d=i("44ad"),f=i("50c4"),c=function(h){return function(m,g,b,w){u(g);var _=r(m),y=d(_),$=f(_.length),S=h?$-1:0,E=h?-1:1;if(b<2)for(;;){if(S in y){w=y[S],S+=E;break}if(S+=E,h?S<0:$<=S)throw TypeError("Reduce of empty array with no initial value")}for(;h?S>=0:$>S;S+=E)S in y&&(w=g(w,y[S],S,_));return w}};a.exports={left:c(!1),right:c(!0)}},d784:function(a,l,i){i("ac1f");var u=i("6eeb"),r=i("d039"),d=i("b622"),f=i("9263"),c=i("9112"),h=d("species"),m=!r(function(){var y=/./;return y.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(y,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),b=d("replace"),w=function(){return/./[b]?/./[b]("a","$0")==="":!1}(),_=!r(function(){var y=/(?:)/,$=y.exec;y.exec=function(){return $.apply(this,arguments)};var S="ab".split(y);return S.length!==2||S[0]!=="a"||S[1]!=="b"});a.exports=function(y,$,S,E){var k=d(y),M=!r(function(){var z={};return z[k]=function(){return 7},""[y](z)!=7}),P=M&&!r(function(){var z=!1,B=/a/;return y==="split"&&(B={},B.constructor={},B.constructor[h]=function(){return B},B.flags="",B[k]=/./[k]),B.exec=function(){return z=!0,null},B[k](""),!z});if(!M||!P||y==="replace"&&!(m&&g&&!w)||y==="split"&&!_){var I=/./[k],U=S(k,""[y],function(z,B,pe,X,re){return B.exec===f?M&&!re?{done:!0,value:I.call(B,pe,X)}:{done:!0,value:z.call(pe,B,X)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:w}),H=U[0],W=U[1];u(String.prototype,y,H),u(RegExp.prototype,k,$==2?function(z,B){return W.call(z,this,B)}:function(z){return W.call(z,this)})}E&&c(RegExp.prototype[k],"sham",!0)}},d81d:function(a,l,i){var u=i("23e7"),r=i("b727").map,d=i("1dde"),f=i("ae40"),c=d("map"),h=f("map");u({target:"Array",proto:!0,forced:!c||!h},{map:function(g){return r(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(a,l,i){(function(u){var r=function(d){return d&&d.Math==Math&&d};a.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof u=="object"&&u)||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(a,l,i){var u=i("23e7"),r=i("83ab"),d=i("56ef"),f=i("fc6a"),c=i("06cf"),h=i("8418");u({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(g){for(var b=f(g),w=c.f,_=d(b),y={},$=0,S,E;_.length>$;)E=w(b,S=_[$++]),E!==void 0&&h(y,S,E);return y}})},dbf1:function(a,l,i){(function(u){i.d(l,"a",function(){return d});function r(){return typeof window!="undefined"?window.console:u.console}var d=r()}).call(this,i("c8ba"))},ddb0:function(a,l,i){var u=i("da84"),r=i("fdbc"),d=i("e260"),f=i("9112"),c=i("b622"),h=c("iterator"),m=c("toStringTag"),g=d.values;for(var b in r){var w=u[b],_=w&&w.prototype;if(_){if(_[h]!==g)try{f(_,h,g)}catch{_[h]=g}if(_[m]||f(_,m,b),r[b]){for(var y in d)if(_[y]!==d[y])try{f(_,y,d[y])}catch{_[y]=d[y]}}}}},df75:function(a,l,i){var u=i("ca84"),r=i("7839");a.exports=Object.keys||function(f){return u(f,r)}},e01a:function(a,l,i){var u=i("23e7"),r=i("83ab"),d=i("da84"),f=i("5135"),c=i("861d"),h=i("9bf2").f,m=i("e893"),g=d.Symbol;if(r&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var b={},w=function(){var k=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),M=this instanceof w?new g(k):k===void 0?g():g(k);return k===""&&(b[M]=!0),M};m(w,g);var _=w.prototype=g.prototype;_.constructor=w;var y=_.toString,$=String(g("test"))=="Symbol(test)",S=/^Symbol\((.*)\)[^)]+$/;h(_,"description",{configurable:!0,get:function(){var k=c(this)?this.valueOf():this,M=y.call(k);if(f(b,k))return"";var P=$?M.slice(7,-1):M.replace(S,"$1");return P===""?void 0:P}}),u({global:!0,forced:!0},{Symbol:w})}},e163:function(a,l,i){var u=i("5135"),r=i("7b0b"),d=i("f772"),f=i("e177"),c=d("IE_PROTO"),h=Object.prototype;a.exports=f?Object.getPrototypeOf:function(m){return m=r(m),u(m,c)?m[c]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?h:null}},e177:function(a,l,i){var u=i("d039");a.exports=!u(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},e260:function(a,l,i){var u=i("fc6a"),r=i("44d2"),d=i("3f8c"),f=i("69f3"),c=i("7dd0"),h="Array Iterator",m=f.set,g=f.getterFor(h);a.exports=c(Array,"Array",function(b,w){m(this,{type:h,target:u(b),index:0,kind:w})},function(){var b=g(this),w=b.target,_=b.kind,y=b.index++;return!w||y>=w.length?(b.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:y,done:!1}:_=="values"?{value:w[y],done:!1}:{value:[y,w[y]],done:!1}},"values"),d.Arguments=d.Array,r("keys"),r("values"),r("entries")},e439:function(a,l,i){var u=i("23e7"),r=i("d039"),d=i("fc6a"),f=i("06cf").f,c=i("83ab"),h=r(function(){f(1)}),m=!c||h;u({target:"Object",stat:!0,forced:m,sham:!c},{getOwnPropertyDescriptor:function(b,w){return f(d(b),w)}})},e538:function(a,l,i){var u=i("b622");l.f=u},e893:function(a,l,i){var u=i("5135"),r=i("56ef"),d=i("06cf"),f=i("9bf2");a.exports=function(c,h){for(var m=r(h),g=f.f,b=d.f,w=0;w<m.length;w++){var _=m[w];u(c,_)||g(c,_,b(h,_))}}},e8b5:function(a,l,i){var u=i("c6b6");a.exports=Array.isArray||function(d){return u(d)=="Array"}},e95a:function(a,l,i){var u=i("b622"),r=i("3f8c"),d=u("iterator"),f=Array.prototype;a.exports=function(c){return c!==void 0&&(r.Array===c||f[d]===c)}},f5df:function(a,l,i){var u=i("00ee"),r=i("c6b6"),d=i("b622"),f=d("toStringTag"),c=r(function(){return arguments}())=="Arguments",h=function(m,g){try{return m[g]}catch{}};a.exports=u?r:function(m){var g,b,w;return m===void 0?"Undefined":m===null?"Null":typeof(b=h(g=Object(m),f))=="string"?b:c?r(g):(w=r(g))=="Object"&&typeof g.callee=="function"?"Arguments":w}},f772:function(a,l,i){var u=i("5692"),r=i("90e3"),d=u("keys");a.exports=function(f){return d[f]||(d[f]=r(f))}},fb15:function(a,l,i){if(i.r(l),typeof window!="undefined"){var u=window.document.currentScript;{var r=i("8875");u=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r})}var d=u&&u.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(i.p=d[1])}i("99af"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("a434"),i("159b"),i("a4d3"),i("e439"),i("dbb4"),i("b64b");function f(D,O,L){return O in D?Object.defineProperty(D,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[O]=L,D}function c(D,O){var L=Object.keys(D);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(D);O&&(q=q.filter(function(me){return Object.getOwnPropertyDescriptor(D,me).enumerable})),L.push.apply(L,q)}return L}function h(D){for(var O=1;O<arguments.length;O++){var L=arguments[O]!=null?arguments[O]:{};O%2?c(Object(L),!0).forEach(function(q){f(D,q,L[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(q){Object.defineProperty(D,q,Object.getOwnPropertyDescriptor(L,q))})}return D}function m(D){if(Array.isArray(D))return D}i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function g(D,O){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(D)))){var L=[],q=!0,me=!1,Ee=void 0;try{for(var Ue=D[Symbol.iterator](),Me;!(q=(Me=Ue.next()).done)&&(L.push(Me.value),!(O&&L.length===O));q=!0);}catch(et){me=!0,Ee=et}finally{try{!q&&Ue.return!=null&&Ue.return()}finally{if(me)throw Ee}}return L}}i("a630"),i("fb6a"),i("b0c0"),i("25f0");function b(D,O){(O==null||O>D.length)&&(O=D.length);for(var L=0,q=new Array(O);L<O;L++)q[L]=D[L];return q}function w(D,O){if(!!D){if(typeof D=="string")return b(D,O);var L=Object.prototype.toString.call(D).slice(8,-1);if(L==="Object"&&D.constructor&&(L=D.constructor.name),L==="Map"||L==="Set")return Array.from(D);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return b(D,O)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(D,O){return m(D)||g(D,O)||w(D,O)||_()}function $(D){if(Array.isArray(D))return b(D)}function S(D){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(D))return Array.from(D)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(D){return $(D)||S(D)||w(D)||E()}var M=i("a352"),P=i.n(M);function I(D){D.parentElement!==null&&D.parentElement.removeChild(D)}function U(D,O,L){var q=L===0?D.children[0]:D.children[L-1].nextSibling;D.insertBefore(O,q)}var H=i("dbf1");i("13d5"),i("4fad"),i("ac1f"),i("5319");function W(D){var O=Object.create(null);return function(q){var me=O[q];return me||(O[q]=D(q))}}var z=/-(\w)/g,B=W(function(D){return D.replace(z,function(O,L){return L.toUpperCase()})});i("5db7"),i("73d9");var pe=["Start","Add","Remove","Update","End"],X=["Choose","Unchoose","Sort","Filter","Clone"],re=["Move"],ve=[re,pe,X].flatMap(function(D){return D}).map(function(D){return"on".concat(D)}),ze={manage:re,manageAndEmit:pe,emit:X};function ft(D){return ve.indexOf(D)!==-1}i("caad"),i("2ca0");var Ze=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ye(D){return Ze.includes(D)}function qe(D){return["transition-group","TransitionGroup"].includes(D)}function ht(D){return["id","class","role","style"].includes(D)||D.startsWith("data-")||D.startsWith("aria-")||D.startsWith("on")}function j(D){return D.reduce(function(O,L){var q=y(L,2),me=q[0],Ee=q[1];return O[me]=Ee,O},{})}function ie(D){var O=D.$attrs,L=D.componentData,q=L===void 0?{}:L,me=j(Object.entries(O).filter(function(Ee){var Ue=y(Ee,2),Me=Ue[0];return Ue[1],ht(Me)}));return h(h({},me),q)}function Q(D){var O=D.$attrs,L=D.callBackBuilder,q=j(ce(O));Object.entries(L).forEach(function(Ee){var Ue=y(Ee,2),Me=Ue[0],et=Ue[1];ze[Me].forEach(function(Ae){q["on".concat(Ae)]=et(Ae)})});var me="[data-draggable]".concat(q.draggable||"");return h(h({},q),{},{draggable:me})}function ce(D){return Object.entries(D).filter(function(O){var L=y(O,2),q=L[0];return L[1],!ht(q)}).map(function(O){var L=y(O,2),q=L[0],me=L[1];return[B(q),me]}).filter(function(O){var L=y(O,2),q=L[0];return L[1],!ft(q)})}i("c740");function Re(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function We(D,O){for(var L=0;L<O.length;L++){var q=O[L];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}function Oe(D,O,L){return O&&We(D.prototype,O),L&&We(D,L),D}var ke=function(O){var L=O.el;return L},C=function(O,L){return O.__draggable_context=L},T=function(O){return O.__draggable_context},N=function(){function D(O){var L=O.nodes,q=L.header,me=L.default,Ee=L.footer,Ue=O.root,Me=O.realList;Re(this,D),this.defaultNodes=me,this.children=[].concat(k(q),k(me),k(Ee)),this.externalComponent=Ue.externalComponent,this.rootTransition=Ue.transition,this.tag=Ue.tag,this.realList=Me}return Oe(D,[{key:"render",value:function(L,q){var me=this.tag,Ee=this.children,Ue=this._isRootComponent,Me=Ue?{default:function(){return Ee}}:Ee;return L(me,q,Me)}},{key:"updated",value:function(){var L=this.defaultNodes,q=this.realList;L.forEach(function(me,Ee){C(ke(me),{element:q[Ee],index:Ee})})}},{key:"getUnderlyingVm",value:function(L){return T(L)}},{key:"getVmIndexFromDomIndex",value:function(L,q){var me=this.defaultNodes,Ee=me.length,Ue=q.children,Me=Ue.item(L);if(Me===null)return Ee;var et=T(Me);if(et)return et.index;if(Ee===0)return 0;var Ae=ke(me[0]),we=k(Ue).findIndex(function(Ie){return Ie===Ae});return L<we?0:Ee}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),D}(),G=i("8bbf");function J(D,O){var L=D[O];return L?L():[]}function ne(D){var O=D.$slots,L=D.realList,q=D.getKey,me=L||[],Ee=["header","footer"].map(function(Ie){return J(O,Ie)}),Ue=y(Ee,2),Me=Ue[0],et=Ue[1],Ae=O.item;if(!Ae)throw new Error("draggable element must have an item slot");var we=me.flatMap(function(Ie,Je){return Ae({element:Ie,index:Je}).map(function(Qe){return Qe.key=q(Ie),Qe.props=h(h({},Qe.props||{}),{},{"data-draggable":!0}),Qe})});if(we.length!==me.length)throw new Error("Item slot must have only one child");return{header:Me,footer:et,default:we}}function de(D){var O=qe(D),L=!Ye(D)&&!O;return{transition:O,externalComponent:L,tag:L?Object(G.resolveComponent)(D):O?G.TransitionGroup:D}}function ee(D){var O=D.$slots,L=D.tag,q=D.realList,me=D.getKey,Ee=ne({$slots:O,realList:q,getKey:me}),Ue=de(L);return new N({nodes:Ee,root:Ue,realList:q})}function se(D,O){var L=this;Object(G.nextTick)(function(){return L.$emit(D.toLowerCase(),O)})}function Z(D){var O=this;return function(L,q){if(O.realList!==null)return O["onDrag".concat(D)](L,q)}}function be(D){var O=this,L=Z.call(this,D);return function(q,me){L.call(O,q,me),se.call(O,D,q)}}var he=null,$e={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(O){return O}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Te=["update:modelValue","change"].concat(k([].concat(k(ze.manageAndEmit),k(ze.emit)).map(function(D){return D.toLowerCase()}))),He=Object(G.defineComponent)({name:"draggable",inheritAttrs:!1,props:$e,emits:Te,data:function(){return{error:!1}},render:function(){try{this.error=!1;var O=this.$slots,L=this.$attrs,q=this.tag,me=this.componentData,Ee=this.realList,Ue=this.getKey,Me=ee({$slots:O,tag:q,realList:Ee,getKey:Ue});this.componentStructure=Me;var et=ie({$attrs:L,componentData:me});return Me.render(G.h,et)}catch(Ae){return this.error=!0,Object(G.h)("pre",{style:{color:"red"}},Ae.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&H.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var O=this;if(!this.error){var L=this.$attrs,q=this.$el,me=this.componentStructure;me.updated();var Ee=Q({$attrs:L,callBackBuilder:{manageAndEmit:function(et){return be.call(O,et)},emit:function(et){return se.bind(O,et)},manage:function(et){return Z.call(O,et)}}}),Ue=q.nodeType===1?q:q.parentElement;this._sortable=new P.a(Ue,Ee),this.targetDomElement=Ue,Ue.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var O=this.list;return O||this.modelValue},getKey:function(){var O=this.itemKey;return typeof O=="function"?O:function(L){return L[O]}}},watch:{$attrs:{handler:function(O){var L=this._sortable;!L||ce(O).forEach(function(q){var me=y(q,2),Ee=me[0],Ue=me[1];L.option(Ee,Ue)})},deep:!0}},methods:{getUnderlyingVm:function(O){return this.componentStructure.getUnderlyingVm(O)||null},getUnderlyingPotencialDraggableComponent:function(O){return O.__draggable_component__},emitChanges:function(O){var L=this;Object(G.nextTick)(function(){return L.$emit("change",O)})},alterList:function(O){if(this.list){O(this.list);return}var L=k(this.modelValue);O(L),this.$emit("update:modelValue",L)},spliceList:function(){var O=arguments,L=function(me){return me.splice.apply(me,k(O))};this.alterList(L)},updatePosition:function(O,L){var q=function(Ee){return Ee.splice(L,0,Ee.splice(O,1)[0])};this.alterList(q)},getRelatedContextFromMoveEvent:function(O){var L=O.to,q=O.related,me=this.getUnderlyingPotencialDraggableComponent(L);if(!me)return{component:me};var Ee=me.realList,Ue={list:Ee,component:me};if(L!==q&&Ee){var Me=me.getUnderlyingVm(q)||{};return h(h({},Me),Ue)}return Ue},getVmIndexFromDomIndex:function(O){return this.componentStructure.getVmIndexFromDomIndex(O,this.targetDomElement)},onDragStart:function(O){this.context=this.getUnderlyingVm(O.item),O.item._underlying_vm_=this.clone(this.context.element),he=O.item},onDragAdd:function(O){var L=O.item._underlying_vm_;if(L!==void 0){I(O.item);var q=this.getVmIndexFromDomIndex(O.newIndex);this.spliceList(q,0,L);var me={element:L,newIndex:q};this.emitChanges({added:me})}},onDragRemove:function(O){if(U(this.$el,O.item,O.oldIndex),O.pullMode==="clone"){I(O.clone);return}var L=this.context,q=L.index,me=L.element;this.spliceList(q,1);var Ee={element:me,oldIndex:q};this.emitChanges({removed:Ee})},onDragUpdate:function(O){I(O.item),U(O.from,O.item,O.oldIndex);var L=this.context.index,q=this.getVmIndexFromDomIndex(O.newIndex);this.updatePosition(L,q);var me={element:this.context.element,oldIndex:L,newIndex:q};this.emitChanges({moved:me})},computeFutureIndex:function(O,L){if(!O.element)return 0;var q=k(L.to.children).filter(function(Me){return Me.style.display!=="none"}),me=q.indexOf(L.related),Ee=O.component.getVmIndexFromDomIndex(me),Ue=q.indexOf(he)!==-1;return Ue||!L.willInsertAfter?Ee:Ee+1},onDragMove:function(O,L){var q=this.move,me=this.realList;if(!q||!me)return!0;var Ee=this.getRelatedContextFromMoveEvent(O),Ue=this.computeFutureIndex(Ee,O),Me=h(h({},this.context),{},{futureIndex:Ue}),et=h(h({},O),{},{relatedContext:Ee,draggedContext:Me});return q(et,L)},onDragEnd:function(){he=null}}}),Xe=He;l.default=Xe},fb6a:function(a,l,i){var u=i("23e7"),r=i("861d"),d=i("e8b5"),f=i("23cb"),c=i("50c4"),h=i("fc6a"),m=i("8418"),g=i("b622"),b=i("1dde"),w=i("ae40"),_=b("slice"),y=w("slice",{ACCESSORS:!0,0:0,1:2}),$=g("species"),S=[].slice,E=Math.max;u({target:"Array",proto:!0,forced:!_||!y},{slice:function(M,P){var I=h(this),U=c(I.length),H=f(M,U),W=f(P===void 0?U:P,U),z,B,pe;if(d(I)&&(z=I.constructor,typeof z=="function"&&(z===Array||d(z.prototype))?z=void 0:r(z)&&(z=z[$],z===null&&(z=void 0)),z===Array||z===void 0))return S.call(I,H,W);for(B=new(z===void 0?Array:z)(E(W-H,0)),pe=0;H<W;H++,pe++)H in I&&m(B,pe,I[H]);return B.length=pe,B}})},fc6a:function(a,l,i){var u=i("44ad"),r=i("1d80");a.exports=function(d){return u(r(d))}},fdbc:function(a,l){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(a,l,i){var u=i("4930");a.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Af);var CE=F2(Af.exports);const EE=e=>(En("data-v-2b18867c"),e=e(),kn(),e),kE={class:"dropdown-trigger"},TE=EE(()=>s("span",{class:"icon is-small"},[s("i",{class:"fa fa-angle-down","aria-hidden":"true"})],-1)),IE={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},AE={class:"dropdown-content"},VE=["title","onClick"],DE=ae({__name:"DropdownButton",props:{label:{type:String,required:!0},actions:{type:Array,required:!0}},emits:["click"],setup(e,{emit:t}){const n=Ce(!1),o=Ce(),a=()=>{n.value=!0},l=()=>{n.value=!1},i=r=>{l(),t("click",r)},u=r=>{!o.value||o.value.contains(r.target)||l()};return Ht(()=>{window.addEventListener("click",u)}),Yn(()=>{window.removeEventListener("click",u)}),(r,d)=>(p(),v("div",{ref_key:"dropdown",ref:o,class:Se(["dropdown mr-1",{"is-active":n.value}])},[s("div",kE,[s("button",{class:"button is-small mr-1","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:a},[s("span",null,x(e.label),1),TE])]),s("div",IE,[s("div",AE,[(p(!0),v(Y,null,oe(e.actions,(f,c)=>(p(),v("span",{key:c,class:"dropdown-item is-clickable",title:f.title,onClick:h=>i(f)},x(f.label),9,VE))),128))])])],2))}});var OE=De(DE,[["__scopeId","data-v-2b18867c"]]);const PE={class:"dropdown-trigger"},RE={key:0,class:"icon is-small is-left"},ME={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},UE={class:"dropdown-content"},NE=["onClick","innerHTML"],LE=ae({__name:"DropdownInput",props:{modelValue:{type:String,required:!0},values:{type:Array,required:!0},icon:{type:String,default:""}},emits:["update:modelValue","focus"],setup(e,{emit:t}){const n=e,o=Ce(n.modelValue),a=c=>n.values.filter(h=>h.value.includes(c)),l=Ce(!1),i=Ce(),u=c=>{o.value=c.value,d()},r=()=>{l.value=!0},d=()=>{l.value=!1},f=c=>{!i.value||i.value.contains(c.target)||d()};return Ht(()=>{window.addEventListener("click",f),It(o,c=>{t("update:modelValue",c)}),It(()=>n.modelValue,c=>{o.value=c})}),Yn(()=>{window.removeEventListener("click",f)}),(c,h)=>(p(),v("div",{ref_key:"dropdown",ref:i,class:Se(["dropdown",{"is-active":l.value}])},[s("div",PE,[K(s("input",{"onUpdate:modelValue":h[0]||(h[0]=m=>o.value=m),type:"text",class:Se(["input is-small",c.$attrs.class]),onFocus:r},null,34),[[fe,o.value]]),e.icon?(p(),v("span",RE,[s("i",{class:Se(["fa",[`fa-${e.icon}`]])},null,2)])):R("",!0)]),s("div",ME,[s("div",UE,[(p(!0),v(Y,null,oe(a(o.value),(m,g)=>(p(),v("a",{key:g,class:"dropdown-item",onClick:b=>u(m),innerHTML:m.label},null,8,NE))),128))])])],2))}}),FE={key:0},BE={key:1},HE=ae({__name:"DurationDisplay",props:{value:{required:!0}},setup(e){const t=e,n=ot(()=>{try{return Xt.mustParseHumanDuration(`${t.value}`),"span"}catch{return"code"}}),o=ot(()=>{try{return Xt.humanDuration(Xt.mustParseHumanDuration(`${t.value}`))}catch{return t.value}});return(a,l)=>tt(n)==="span"?(p(),v("span",FE,x(tt(o)),1)):(p(),v("code",BE,x(tt(o)),1))}}),zE=ae({__name:"DurationInput",props:{modelValue:{required:!0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Ce(""),a=Ce(!0),l=ot(()=>a.value?[]:["has-background-danger-light","has-text-danger-dark"]);return Ht(()=>{o.value=`${n.modelValue}`,It(o,i=>{try{const u=Xt.doDummyReplacements(i,"0");Xt.mustParseHumanDuration(u,n.allowNegative),a.value=!0}catch{a.value=!1}t("update:modelValue",i)}),It(()=>n.modelValue,i=>{o.value=`${i}`})}),(i,u)=>K((p(),v("input",{"onUpdate:modelValue":u[0]||(u[0]=r=>o.value=r),class:Se(["input is-small spaceinput",tt(l)])},null,2)),[[fe,o.value]])}}),Fl={data:{registeredUserCount:0,streamingUserCount:0}},jE=async()=>{try{const t=await(await ct.getDataGlobal()).json();Fl.data.registeredUserCount=t.registeredUserCount,Fl.data.streamingUserCount=t.streamingUserCount}catch(e){console.error(e)}};var Hf={getData:()=>Fl.data,init:jE};const WE={key:0,class:"field has-text-grey-light"},xE={key:1,class:"field has-text-grey-light"},KE=ae({__name:"GlobalUserInfo",setup(e){const t=Hf.getData();return(n,o)=>(p(),v(Y,null,[tt(t).registeredUserCount?(p(),v("div",WE," There are currently "+x(tt(t).registeredUserCount)+" streamer"+x(tt(t).registeredUserCount>1?"s":"")+" registered \u2728. ",1)):R("",!0),tt(t).streamingUserCount?(p(),v("div",xE,x(tt(t).streamingUserCount)+" streamer "+x(tt(t).streamingUserCount>1?"are":"is")+" live right now. ",1)):R("",!0)],64))}});const JE=ae({props:{modelValue:{required:!0},width:{type:String,required:!1,default:"100%"},height:{type:String,required:!1,default:"90px"}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:""},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:""},this.emitUpdate()},onUploaded(e){this.value=gf(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=bi(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),GE=e=>(En("data-v-4bd85636"),e=e(),kn(),e),YE=GE(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),XE=A(" Remove "),QE=[YE,XE],ZE={key:2};function qE(e,t,n,o,a,l){const i=F("responsive-image"),u=F("upload-input");return p(),v("div",{class:Se(["image-upload",{"dragging-over":e.draggingOver}]),onDrop:t[1]||(t[1]=(...r)=>e.onDrop&&e.onDrop(...r)),onDragover:t[2]||(t[2]=(...r)=>e.onDragover&&e.onDragover(...r)),onDragleave:t[3]||(t[3]=(...r)=>e.onDragleave&&e.onDragleave(...r))},[e.value.file?(p(),_e(i,{key:0,src:e.value.urlpath,title:e.value.filename,width:e.width,height:e.height,style:{display:"block"}},null,8,["src","title","width","height"])):R("",!0),e.value.file?(p(),v("button",{key:1,class:"button is-small",onClick:t[0]||(t[0]=(...r)=>e.onRemove&&e.onRemove(...r))},QE)):R("",!0),e.value.file?(p(),v("br",ZE)):R("",!0),V(u,{ref:"uploadComponent",accept:"image/*",label:"Upload Image",class:Se({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var ek=De(JE,[["render",qE],["__scopeId","data-v-4bd85636"]]);const tk=ae({emits:["selected"],data:()=>({show:!1,macros:[{value:"$args",title:"All args, joined with spaces"},{value:"$args(1:)",title:"Args starting from the second one, joined with spaces"},{value:"$args(1:4)",title:"Second to fifth args, joined with spaces"},{value:"$args(:4)",title:"All args up to and including the fifth, joined with spaces"},{value:"$var(VARNAME)",title:"Value of variable VARNAME"},{value:"$bot.version",title:"Bot version"},{value:"$bot.date",title:"Bot build date"},{value:"$bot.website",title:"Bot website"},{value:"$bot.github",title:"Bot github link"},{value:"$bot.features",title:"Bot feature description"},{value:"$rand(1,100)",title:"Random number between (inclusive) 1 and 100"},{value:'$daysuntil("2023-12-24")',title:"Days until a specified date in the format YYYY-MM-DD."},{value:'$daysuntil("2023-12-24", "{days} days left", "One day left", "It is today")',title:"Days until a specified date in the format YYYY-MM-DD, with more control over output."},{value:"$user.name",title:"Name of user who executed the command"},{value:"$user.profile_image_url",title:"Profile image url of user who executed the command"},{value:"$user.username",title:"Username of user who executed the command"},{value:"$user.twitch_url",title:"Twitch url of user who executed the command"},{value:"$user.recent_clip_url",title:"Recent clip url of user who executed the command"},{value:"$user.last_stream_category",title:"Last stream category of user who executed the command"},{value:"$user(NAME).name",title:"Name of user identified by username NAME"},{value:"$user(NAME).username",title:"Username of user identified by username NAME"},{value:"$user(NAME).twitch_url",title:"Twitch url of user identified by username NAME"},{value:"$user(NAME).profile_image_url",title:"Profile image url of user identified by username NAME"},{value:"$user(NAME).recent_clip_url",title:"Recent clip url of user identified by username NAME"},{value:"$user(NAME).last_stream_category",title:"Last stream category of user identified by username NAME"},{value:"$customapi(URL)",title:"Text response of a GET request to URL."},{value:"$customapi(URL)['FIELD']",title:"Field FIELD of a json returned from GET request to URL."},{value:"$calc(NUM_1+NUM_2)",title:"The result of addition of NUM_1 and NUM_2"},{value:"$calc(NUM_1-NUM_2)",title:"The result of substraction of NUM_1 and NUM_2"},{value:"$calc(NUM_1*NUM_2)",title:"The result of multiplication of NUM_1 and NUM_2"},{value:"$calc(NUM_1/NUM_2)",title:"The result of division of NUM_1 and NUM_2"}]}),methods:{onMacroClicked(e){this.$emit("selected",e)}}}),nk={class:"macro-select"},sk={key:0,class:"table-holder"},ok=["title"],ik=["onClick"];function ak(e,t,n,o,a,l){return p(),v("div",nk,[s("a",{onClick:t[0]||(t[0]=i=>e.show=!e.show)},"Select macro"),e.show?(p(),v("div",sk,[s("table",null,[(p(!0),v(Y,null,oe(e.macros,(i,u)=>(p(),v("tr",{key:u},[s("td",{title:i.title},[s("code",{class:"is-clickable",onClick:r=>e.onMacroClicked(i)},x(i.value),9,ik)],8,ok),s("td",null,x(i.title),1)]))),128))])])):R("",!0)])}var lk=De(tk,[["render",ak]]);const ca=Sf();let lo,rl={problems:[]};function rk(){lo=Qn.wsClient("core"),lo.onMessage(["status"],e=>{JSON.stringify(rl)!==JSON.stringify(e)&&(rl=e,ca.emit("status",rl))}),lo.connect()}function uk(){lo&&(lo.disconnect(),lo=null)}var Ju={init:rk,stop:uk,eventBus:ca},dk="/assets/hyottoko.30d2bcb9.png";const ck=ae({data:()=>({me:null,showProblems:!1,linksStart:[{to:{name:"index"},text:"Widgets"},{to:{name:"commands"},text:"Commands"},{to:{name:"variables"},text:"Variables"},{to:{name:"sr"},text:"Song Request"},{to:{name:"speech-to-text"},text:"Speech-To-Text"},{to:{name:"avatar"},text:"Avatar"},{to:{name:"drawcast"},text:"Drawcast"},{to:{name:"pomo"},text:"Pomo"},{to:{name:"settings"},text:"Settings"}],problems:[],burgerActive:!1,darkmode:!1}),computed:{user(){var e,t;return((t=(e=this.me)==null?void 0:e.user)==null?void 0:t.name)||""}},created(){this.me=fn.getMe(),this.darkmode=fn.isDarkmode(),ca.on("status",this.statusChanged)},beforeUnmount(){ca.off("status",this.statusChanged)},methods:{onDarkmodeSwitch(){fn.setDarkmode(this.darkmode)},statusChanged(e){this.problems=e.problems},toggleBurgerMenu(){this.burgerActive=!this.burgerActive},async onLogoutClick(){const e=await fn.logout();if(e.error)throw new Error(e.error);this.$router.push({name:"login"})}}}),fk={class:"navbar",role:"navigation","aria-label":"main navigation"},hk={class:"navbar-brand"},mk=s("img",{src:dk,width:"32",height:"32",alt:"hyottoko.club",class:"flip-horizontal mr-1"},null,-1),pk={class:"greeting"},gk=s("span",{"aria-hidden":"true"},null,-1),vk=s("span",{"aria-hidden":"true"},null,-1),yk=s("span",{"aria-hidden":"true"},null,-1),bk=[gk,vk,yk],$k={class:"navbar-start"},wk={class:"navbar-end"},_k=s("i",{class:"fa fa-warning mr-1"},null,-1),Sk={class:"navbar-item"},Ck=s("label",{for:"darkmode-switch"},"Switch dark/light mode",-1);function Ek(e,t,n,o,a,l){const i=F("router-link"),u=F("problems-dialog");return p(),v(Y,null,[s("nav",fk,[s("div",hk,[V(i,{class:"navbar-item",to:{name:"index"}},{default:rt(()=>[mk,s("span",pk,"Welcome back, "+x(e.user),1)]),_:1}),s("a",{role:"button",class:Se(["navbar-burger",{"is-active":e.burgerActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[0]||(t[0]=(...r)=>e.toggleBurgerMenu&&e.toggleBurgerMenu(...r))},bk,2)]),s("div",{id:"navbarBasicExample",class:Se(["navbar-menu",{"is-active":e.burgerActive}])},[s("div",$k,[(p(!0),v(Y,null,oe(e.linksStart,(r,d)=>(p(),_e(i,{key:d,class:"navbar-item",to:r.to},{default:rt(()=>[A(x(r.text),1)]),_:2},1032,["to"]))),128))]),s("div",wk,[e.problems.length?(p(),v("a",{key:0,class:"navbar-item has-text-danger",onClick:t[1]||(t[1]=r=>e.showProblems=!0)},[_k,A(" "+x(e.problems.length)+" Problem"+x(e.problems.length>1?"s":""),1)])):R("",!0),s("span",Sk,[K(s("input",{id:"darkmode-switch","onUpdate:modelValue":t[2]||(t[2]=r=>e.darkmode=r),type:"checkbox",class:"mr-1",onChange:t[3]||(t[3]=(...r)=>e.onDarkmodeSwitch&&e.onDarkmodeSwitch(...r))},null,544),[[at,e.darkmode]]),Ck]),s("a",{class:"navbar-item",onClick:t[4]||(t[4]=(...r)=>e.onLogoutClick&&e.onLogoutClick(...r))},"Logout")])],2)]),e.showProblems?(p(),_e(u,{key:0,problems:e.problems,onClose:t[5]||(t[5]=r=>e.showProblems=!1)},null,8,["problems"])):R("",!0)],64)}var kk=De(ck,[["render",Ek]]);const Tk=ae({__name:"AudioPlayer",props:{src:String,name:String,volume:{required:!0},baseVolume:{default:100}},setup(e){const t=e,n=Ce(null),o=Ce(!1),a=ot(()=>o.value?"fa-stop":"fa-play"),l=()=>{if(!!n.value){if(o.value)n.value.pause(),n.value.currentTime=0;else{const u=parseInt(`${t.baseVolume}`,10)/100,r=parseInt(`${t.volume}`,10)/100;n.value.volume=u*r,n.value.play()}o.value=!o.value}},i=()=>{n.value&&(n.value.pause(),n.value=null),n.value=new Audio(t.src),n.value.addEventListener("ended",()=>{o.value=!1}),o.value=!1};return Ht(()=>{i(),It(()=>t.src,()=>{i()})}),(u,r)=>e.src?(p(),v("span",{key:0,class:"player",onClick:l},[A(x(e.name)+" ",1),s("i",{class:Se(["fa ml-1",tt(a)])},null,2)])):R("",!0)}}),Ik={class:"modal is-active"},Ak={class:"modal-card"},Vk=s("header",{class:"modal-card-head"},[s("p",{class:"modal-card-title"}," Problems ")],-1),Dk={class:"modal-card-body"},Ok={class:"pl-4"},Pk={key:0},Rk=A(" The Access Token for channel "),Mk=A(" is invalid. Please go to "),Uk=A(" Settings "),Nk=A(" and update the token. "),Lk={key:1},Fk=ae({__name:"ProblemsDialog",props:{problems:{type:Array,required:!0}},emits:["close"],setup(e,{emit:t}){const n=()=>{t("close")};return(o,a)=>{const l=F("router-link");return p(),v("div",Ik,[s("div",{class:"modal-background",onClick:n}),s("div",Ak,[Vk,s("section",Dk,[s("ol",Ok,[(p(!0),v(Y,null,oe(e.problems,(i,u)=>(p(),v("li",{key:u},[i.message==="access_token_invalid"?(p(),v("div",Pk,[Rk,s("b",null,x(i.details.channel_name),1),Mk,V(l,{to:{name:"settings"}},{default:rt(()=>[Uk]),_:1}),Nk])):(p(),v("div",Lk,x(i),1))]))),128))])]),s("footer",{class:"modal-card-foot"},[s("button",{class:"button is-small",onClick:n}," Close ")])])])}}}),Bk=["title"],zf=ae({__name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,n=ot(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(o,a)=>(p(),v("div",{class:"responsive-image",style:lt(tt(n)),title:e.title},null,12,Bk))}});const Hk={class:"columns"},zk={class:"column is-four-fifth"},jk={class:"control has-icons-left has-icons-right range slider"},Wk=["min","max"],xk={class:"icon is-small is-left"},Kk={class:"icon is-small is-right"},Jk={class:"column is-one-fifth"},Gk=ae({__name:"SliderInput",props:{modelValue:{type:Number,required:!0},iconLeft:String,iconRight:String,min:{type:Number,default:0},max:{type:Number,default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const o=Ce(e.modelValue),a=()=>{t("update:modelValue",parseInt(`${o.value}`,10))};return(l,i)=>(p(),v("div",Hk,[s("div",zk,[s("div",jk,[K(s("input",{"onUpdate:modelValue":i[0]||(i[0]=u=>o.value=u),type:"range",class:"input is-small",min:e.min,max:e.max,"on:update:modelValue":a},null,40,Wk),[[fe,o.value]]),s("span",xk,[s("i",{class:Se(["fa",e.iconLeft])},null,2)]),s("span",Kk,[s("i",{class:Se(["fa",e.iconRight])},null,2)])])]),s("div",Jk,[K(s("input",{"onUpdate:modelValue":i[1]||(i[1]=u=>o.value=u),type:"number",class:"input is-small","on:update:modelValue":a},null,544),[[fe,o.value]])])]))}});var Yk=De(Gk,[["__scopeId","data-v-0750215a"]]);const Xk=ae({props:{modelValue:{required:!0},baseVolume:{default:100}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:"",volume:100},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:"",volume:100},this.emitUpdate()},onUploaded(e){this.value=vf(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=bi(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),Qk=e=>(En("data-v-e59ef742"),e=e(),kn(),e),Zk=Qk(()=>s("i",{class:"fa fa-remove mr-1"},null,-1)),qk=A(" Remove "),eT=[Zk,qk],tT={key:3};function nT(e,t,n,o,a,l){const i=F("audio-player"),u=F("volume-slider"),r=F("upload-input");return p(),v("div",{class:Se(["sound-upload",{"dragging-over":e.draggingOver}]),onDrop:t[2]||(t[2]=(...d)=>e.onDrop&&e.onDrop(...d)),onDragover:t[3]||(t[3]=(...d)=>e.onDragover&&e.onDragover(...d)),onDragleave:t[4]||(t[4]=(...d)=>e.onDragleave&&e.onDragleave(...d))},[e.value.file?(p(),_e(i,{key:0,src:e.value.urlpath,name:e.value.filename,volume:e.value.volume,"base-volume":e.baseVolume,class:"button is-small"},null,8,["src","name","volume","base-volume"])):R("",!0),e.value.file?(p(),_e(u,{key:1,"model-value":e.value.volume,"onUpdate:modelValue":t[0]||(t[0]=d=>{e.value.volume=d,e.emitUpdate()})},null,8,["model-value"])):R("",!0),e.value.file?(p(),v("button",{key:2,class:"button is-small",onClick:t[1]||(t[1]=(...d)=>e.onRemove&&e.onRemove(...d))},eT)):R("",!0),e.value.file?(p(),v("br",tT)):R("",!0),V(r,{ref:"uploadComponent",accept:"audio/*",label:"Upload Sound",class:Se({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var sT=De(Xk,[["render",nT],["__scopeId","data-v-e59ef742"]]);const oT=ae({props:{accept:String,label:{type:String,default:"Upload File"}},data:()=>({uploading:!1,progress:0}),computed:{uploadPercent(){return Math.round(this.progress*100)},buttonText(){return this.uploading?` Uploading (${this.uploadPercent}%)`:this.label?` ${this.label}`:""},progressStyle(){if(!this.uploading)return{};const e=this.uploadPercent,t="rgba(0,255,0, .5)";return{background:`linear-gradient(90deg, ${t} 0%, ${t} ${e}%, transparent ${e}%)`}}},methods:{async uploadFile(e){this.uploading=!0;const t=await ct.upload(e,o=>{this.progress=o.loaded/o.total});this.uploading=!1;const n=await t.json();this.$emit("uploaded",n)},async upload(e){const t=e.target;!t.files||t.files.length===0||this.uploadFile(t.files[0])}}}),iT=oT,aT={class:"upload"},lT=["disabled","accept"],rT={class:"button is-small"};function uT(e,t,n,o,a,l){return p(),v("label",aT,[s("input",{type:"file",disabled:e.uploading,style:{display:"none"},accept:e.accept,onChange:t[0]||(t[0]=(...i)=>e.upload&&e.upload(...i))},null,40,lT),s("span",rT,[s("i",{class:Se(["fa fa-upload",{"mr-1":e.buttonText}])},null,2),A(x(e.buttonText),1)]),s("span",{class:"progress",style:lt(e.progressStyle)},null,4)])}var dT=De(iT,[["render",uT],["__scopeId","data-v-5541627f"]]);const cT=ae({__name:"VolumeSlider",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=Ce(parseInt(`${e.modelValue}`,10)),a=()=>{t("update:modelValue",parseInt(`${o.value}`,10))};return(l,i)=>{const u=F("slider-input");return p(),_e(u,{modelValue:o.value,"onUpdate:modelValue":[i[0]||(i[0]=r=>o.value=r),a],class:"volume-slider","icon-left":"fa-volume-down","icon-right":"fa-volume-up",min:0,max:100},null,8,["modelValue"])}}}),Ms=(...e)=>console.log("[youtube.js]",...e);let Gu=!1;function fT(){return Gu?(Ms("ytapi ALREADY ready"),Promise.resolve()):new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=()=>{Gu=!0,Ms("ytapi ready"),e()}})}function hT(e){return new Promise(t=>{Ms("create player on "+e);const n=new YT.Player(e,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{Ms("player ready"),t(n)}}})})}async function mT(e){return await fT(),await hT(e)}const pT=ae({props:{visible:{type:Boolean,default:!0}},data:()=>({id:"",yt:null,loop:!1,toplay:null,tovolume:null,tryPlayInterval:null}),created(){this.id=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`},async mounted(){this.yt=await mT(this.id),this.tovolume!==null&&this.yt.setVolume(this.tovolume),this.toplay!==null&&(Ms("trying to play.."),this.play(this.toplay)),this.yt.addEventListener("onStateChange",e=>{e.data===YT.PlayerState.CUED?this.tryPlay():e.data===YT.PlayerState.ENDED&&(this.loop?this.tryPlay():this.$emit("ended"))})},methods:{getDuration(){return this.yt?this.yt.getDuration():0},getCurrentTime(){return this.yt?this.yt.getCurrentTime():0},getProgress(){const e=this.getDuration(),t=this.getCurrentTime();return e?t/e:0},stop(){this.yt&&this.yt.stopVideo()},stopTryPlayInterval(){this.tryPlayInterval&&(clearInterval(this.tryPlayInterval),this.tryPlayInterval=null)},tryPlay(){if(this.stopTryPlayInterval(),!this.visible)return;this.yt&&this.yt.playVideo();let e=20;this.tryPlayInterval=setInterval(()=>{if(Ms("playing",this.playing(),"triesRemaining",e),--e,this.playing()||e<0){Ms("stopping interval"),this.stopTryPlayInterval();return}this.yt&&this.yt.playVideo()},250)},play(e){this.yt?(this.yt.cueVideoById(e),this.tryPlay()):this.toplay=e},pause(){this.yt&&this.yt.pauseVideo()},unpause(){this.yt&&this.tryPlay()},setVolume(e){this.yt?this.yt.setVolume(e):this.tovolume=e},setLoop(e){this.loop=e},playing(){return this.yt?this.yt.getPlayerState()===1:!1}}}),gT=pT,vT=["id"];function yT(e,t,n,o,a,l){return p(),v("div",{id:e.id},null,8,vT)}var jf=De(gT,[["render",yT]]);const _o=()=>[{type:Jt.COMMAND,label:"Add Command",title:"Command"},{type:Jt.FIRST_CHAT,label:"Add First Chat",title:"First Chat"},{type:Jt.REWARD_REDEMPTION,label:"Add Reward Redemption",title:"Reward Redemption"},{type:Jt.BITS,label:"Add Bits",title:"Bits"},{type:Jt.FOLLOW,label:"Add Follow",title:"Follow"},{type:Jt.RAID,label:"Add Raid",title:"Raid"},{type:Jt.SUB,label:"Add Sub",title:"Sub"},{type:Jt.TIMER,label:"Add Timer",title:"Timer"}],bT=ae({components:{StringInput:Qt},props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:xs}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),$T={key:0,class:"modal is-active"},wT={class:"modal-card"},_T={class:"modal-card-head"},ST={class:"modal-card-title"},CT={class:"modal-card-body"},ET={class:"table is-striped"},kT=s("td",null,"Triggers:",-1),TT={key:0},IT=s("td",null,"Description:",-1),AT=["innerHTML"],VT={key:1},DT=s("td",null,"Attention:",-1),OT=s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1),PT=[DT,OT],RT={key:2},MT=s("td",null,"Stream title:",-1),UT={key:3},NT=s("td",null,"Stream category:",-1),LT={key:4},FT=s("td",null,"Tag to add:",-1),BT={key:5},HT=s("td",null,"Tag to remove:",-1),zT={key:6},jT=s("td",null,"Tag:",-1),WT={key:7},xT=s("td",null,"Response:",-1),KT=s("td",null,"Outputs the people who chatted during the stream.",-1),JT=[xT,KT],GT={key:8},XT=s("td",null,"Settings",-1),QT=s("td",null,"Variables:",-1),ZT={key:0},qT=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),eI=["onClick"],tI=s("i",{class:"fa fa-remove"},null,-1),nI=[tI],sI=s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1),oI=s("td",null,"Variable changes:",-1),iI={key:0},aI=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),lI={class:"select is-small"},rI=["onUpdate:modelValue"],uI=s("option",{value:"set"}," set ",-1),dI=s("option",{value:"increase_by"}," increase by ",-1),cI=s("option",{value:"decrease_by"}," decrease by ",-1),fI=[uI,dI,cI],hI=["onClick"],mI=s("i",{class:"fa fa-remove"},null,-1),pI=[mI],gI=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),vI=s("td",null,"Permissions:",-1),yI=["value"],bI={class:"modal-card-foot"},$I=["disabled"];function wI(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("countdown-editor"),d=F("StringInput"),f=F("dropdown-input");return e.item?(p(),v("div",$T,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",wT,[s("header",_T,[s("p",ST,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",CT,[s("table",ET,[s("tbody",null,[s("tr",null,[kT,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(c,h)=>(p(),_e(i,{key:h,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":m=>e.item.triggers[h]=m,onRemove:m=>e.rmtrigger(h)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",TT,[IT,s("td",{innerHTML:e.actionDescription},null,8,AT)])):R("",!0),e.requiresAccessToken?(p(),v("tr",VT,PT)):R("",!0),e.item.action==="set_channel_title"?(p(),v("tr",RT,[MT,s("td",null,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.item.data.title=c),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.title]]),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=c=>e.item.data.title="")},"All args")])])):R("",!0),e.item.action==="set_channel_game_id"?(p(),v("tr",UT,[NT,s("td",null,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.item.data.game_id=c),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.game_id]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=c=>e.item.data.game_id="")},"All args")])])):R("",!0),e.item.action==="add_stream_tags"?(p(),v("tr",LT,[FT,s("td",null,[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[7]||(t[7]=c=>e.item.data.tag="")},"All args")])])):R("",!0),e.item.action==="remove_stream_tags"?(p(),v("tr",BT,[HT,s("td",null,[K(s("input",{"onUpdate:modelValue":t[8]||(t[8]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[9]||(t[9]=c=>e.item.data.tag="")},"All args")])])):R("",!0),e.item.action==="sr_addtag"?(p(),v("tr",zT,[jT,s("td",null,[K(s("input",{"onUpdate:modelValue":t[10]||(t[10]=c=>e.item.data.tag=c),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.tag]]),s("span",{class:"button is-small mr-1",onClick:t[11]||(t[11]=c=>e.item.data.tag="")},"All args")])])):R("",!0),e.item.action==="chatters"?(p(),v("tr",WT,JT)):R("",!0),e.item.action==="countdown"?(p(),v("tr",GT,[XT,s("td",null,[V(r,{modelValue:e.item.data,"onUpdate:modelValue":t[12]||(t[12]=c=>e.item.data=c),"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])])])):R("",!0),s("tr",null,[QT,s("td",null,[e.item.variables.length>0?(p(),v("table",ZT,[qT,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(c,h)=>(p(),v("tr",{key:h},[s("td",null,[V(d,{modelValue:c.name,"onUpdate:modelValue":m=>c.name=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(d,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariable(h)},nI,8,eI)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[13]||(t[13]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),sI])]),s("tr",null,[oI,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",iI,[aI,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(c,h)=>(p(),v("tr",{key:h},[s("td",null,[V(f,{modelValue:c.name,"onUpdate:modelValue":m=>c.name=m,values:e.autocompletableVariables().map(m=>({value:m.var.name,label:`${m.var.name} (${m.type}), <code>${m.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",lI,[K(s("select",{"onUpdate:modelValue":m=>c.change=m},fI,8,rI),[[Un,c.change]])])]),s("td",null,[V(d,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariableChange(h)},pI,8,hI)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[14]||(t[14]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),gI])]),s("tr",null,[vI,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(c,h)=>(p(),v("label",{key:h,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[15]||(t[15]=m=>e.item.restrict_to=m),type:"checkbox",value:c.value},null,8,yI),[[at,e.item.restrict_to]]),A(" "+x(c.label),1)]))),128))])])])])]),s("footer",bI,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[16]||(t[16]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,$I),s("button",{class:"button is-small",onClick:t[17]||(t[17]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):R("",!0)}var _I=De(bT,[["render",wI]]);const SI=ae({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},baseVolume:{default:100},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","cancel"],data:()=>({item:null,type:"",variableChangeFocusIdx:-1,possiblePermissions:xs}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.item&&(this.item.data.video.url?this.type="video":this.item.data.sound.file?this.item.data.image.file||this.item.data.image_url?this.type="image,sound":this.type="sound":this.type="image"),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addWidgetId(){if(!this.item){console.warn("addWidgetId: this.item not initialized");return}this.item.data.widgetIds.push("")},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},mediaSndChanged(e){if(!this.item){console.warn("mediaSndChanged: this.item not initialized");return}this.item.data.sound=e},mediaImgChanged(e){if(!this.item){console.warn("mediaImgUploaded: this.item not initialized");return}this.item.data.image=e},rmWidgetId(e){if(!this.item){console.warn("rmWidgetId: this.item not initialized");return}this.item.data.widgetIds=this.item.data.widgetIds.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Qt}}),CI={key:0,class:"modal is-active"},EI={class:"modal-card"},kI={class:"modal-card-head"},TI={class:"modal-card-title"},II={class:"modal-card-body"},AI={class:"table is-striped"},VI=s("td",null,"Triggers:",-1),DI={key:0},OI=s("td",null,"Description:",-1),PI=["innerHTML"],RI={key:1},MI=s("td",null,"Attention:",-1),UI=s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1),NI=[MI,UI],LI=s("td",null,"Widgets:",-1),FI={key:0,class:"field has-addons"},BI=A(" This media will show in the\xA0 "),HI=["href"],zI=A(". "),jI={class:"control mr-1"},WI=["href"],xI=["onClick"],KI=s("i",{class:"fa fa-remove"},null,-1),JI=[KI],GI={class:"field"},YI=s("i",{class:"fa fa-plus mr-1"},null,-1),XI=A(" Add widget "),QI=[YI,XI],ZI=s("div",null,[s("p",{class:"help"}," Define in which widgets this media should show up in. Leave the list empty to only show in the default widget. ")],-1),qI=s("td",null,"Type:",-1),e4={class:"mr-1"},t4=A(" Image"),n4={class:"mr-1"},s4=A(" Image + Sound"),o4={class:"mr-1"},i4=A(" Sound"),a4={class:"mr-1"},l4=A(" Video"),r4={key:2},u4=s("td",null,"Display-Duration:",-1),d4={class:"control has-icons-left"},c4=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),f4=s("div",{class:"help"}," The minimum duration that images will be displayed. Sound will always play for their full length regardless of this setting. ",-1),h4={key:3},m4=s("td",null,"Image:",-1),p4={key:4},g4=s("td",null,"Image (by URL):",-1),v4={key:5},y4=s("td",null,"Sound:",-1),b4={key:6},$4=s("td",null,"Video:",-1),w4=s("td",null,"Url:",-1),_4=s("td",null,"Volume:",-1),S4=s("div",{class:"help"},[A(" The video url has to be a twitch clip url ("),s("code",null,"https://clips.twitch.tv/..."),A(") or a URL to a video file (a URL usually ending in "),s("code",null,".mp4"),A(" or similar). Currently Youtube or other Video Hosters are not supported. ")],-1),C4=s("td",null,"Variables:",-1),E4={key:0},k4=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),T4=["onClick"],I4=s("i",{class:"fa fa-remove"},null,-1),A4=[I4],V4=s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1),D4=s("td",null,"Variable changes:",-1),O4={key:0},P4=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),R4={class:"select is-small"},M4=["onUpdate:modelValue"],U4=s("option",{value:"set"}," set ",-1),N4=s("option",{value:"increase_by"}," increase by ",-1),L4=s("option",{value:"decrease_by"}," decrease by ",-1),F4=[U4,N4,L4],B4=["onClick"],H4=s("i",{class:"fa fa-remove"},null,-1),z4=[H4],j4=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),W4=s("td",null,"Permissions:",-1),x4=["value"],K4={class:"modal-card-foot"},J4=["disabled"];function G4(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("StringInput"),d=F("duration-input"),f=F("image-upload"),c=F("sound-upload"),h=F("volume-slider"),m=F("dropdown-input");return e.item?(p(),v("div",CI,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...g)=>e.onOverlayClick&&e.onOverlayClick(...g))}),s("div",EI,[s("header",kI,[s("p",TI,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...g)=>e.onCloseClick&&e.onCloseClick(...g))})]),s("section",II,[s("table",AI,[s("tbody",null,[s("tr",null,[VI,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(g,b)=>(p(),_e(i,{key:b,class:"spacerow","model-value":g,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":w=>e.item.triggers[b]=w,onRemove:w=>e.rmtrigger(b)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",DI,[OI,s("td",{innerHTML:e.actionDescription},null,8,PI)])):R("",!0),e.requiresAccessToken?(p(),v("tr",RI,NI)):R("",!0),s("tr",null,[LI,s("td",null,[e.item.data.widgetIds.length===0?(p(),v("div",FI,[BI,s("a",{href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,HI),zI])):R("",!0),(p(!0),v(Y,null,oe(e.item.data.widgetIds,(g,b)=>(p(),v("div",{key:b,class:"field has-addons"},[s("div",jI,[V(r,{modelValue:e.item.data.widgetIds[b],"onUpdate:modelValue":w=>e.item.data.widgetIds[b]=w},null,8,["modelValue","onUpdate:modelValue"])]),s("a",{class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(g)}`,target:"_blank"},"Open widget",8,WI),s("button",{class:"button is-small",onClick:w=>e.rmWidgetId(b)},JI,8,xI)]))),128)),s("div",GI,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...g)=>e.addWidgetId&&e.addWidgetId(...g))},QI)]),ZI])]),s("tr",null,[qI,s("td",null,[s("label",e4,[K(s("input",{"onUpdate:modelValue":t[3]||(t[3]=g=>e.type=g),type:"radio",value:"image"},null,512),[[Yt,e.type]]),t4]),s("label",n4,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=g=>e.type=g),type:"radio",value:"image,sound"},null,512),[[Yt,e.type]]),s4]),s("label",o4,[K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=g=>e.type=g),type:"radio",value:"sound"},null,512),[[Yt,e.type]]),i4]),s("label",a4,[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=g=>e.type=g),type:"radio",value:"video"},null,512),[[Yt,e.type]]),l4])])]),e.type==="image"||e.type==="image,sound"?(p(),v("tr",r4,[u4,s("td",null,[s("div",d4,[V(d,{"model-value":e.item.data.minDurationMs,"onUpdate:modelValue":t[7]||(t[7]=g=>e.item.data.minDurationMs=g)},null,8,["model-value"]),c4]),f4])])):R("",!0),e.type==="image"||e.type==="image,sound"?(p(),v("tr",h4,[m4,s("td",null,[V(f,{modelValue:e.item.data.image,"onUpdate:modelValue":[t[8]||(t[8]=g=>e.item.data.image=g),e.mediaImgChanged]},null,8,["modelValue","onUpdate:modelValue"])])])):R("",!0),e.type==="image"||e.type==="image,sound"?(p(),v("tr",p4,[g4,s("td",null,[V(r,{modelValue:e.item.data.image_url,"onUpdate:modelValue":t[9]||(t[9]=g=>e.item.data.image_url=g)},null,8,["modelValue"]),s("div",null,[s("span",{class:"button is-small",onClick:t[10]||(t[10]=g=>e.item.data.image_url="$user($args).profile_image_url")},"Twitch profile image of user given by args"),s("span",{class:"button is-small",onClick:t[11]||(t[11]=g=>e.item.data.image_url="$user.profile_image_url")},"Twitch profile image of user who executes the command")])])])):R("",!0),e.type==="sound"||e.type==="image,sound"?(p(),v("tr",v4,[y4,s("td",null,[V(c,{modelValue:e.item.data.sound,"onUpdate:modelValue":[t[12]||(t[12]=g=>e.item.data.sound=g),e.mediaSndChanged],"base-volume":e.baseVolume},null,8,["modelValue","base-volume","onUpdate:modelValue"])])])):R("",!0),e.type==="video"?(p(),v("tr",b4,[$4,s("td",null,[s("table",null,[s("tr",null,[w4,s("td",null,[V(r,{modelValue:e.item.data.video.url,"onUpdate:modelValue":t[13]||(t[13]=g=>e.item.data.video.url=g)},null,8,["modelValue"])])]),s("tr",null,[_4,s("td",null,[V(h,{modelValue:e.item.data.video.volume,"onUpdate:modelValue":t[14]||(t[14]=g=>e.item.data.video.volume=g)},null,8,["modelValue"])])])]),S4,s("div",null,[s("span",{class:"button is-small",onClick:t[15]||(t[15]=g=>e.item.data.video.url="$user($args).recent_clip_url")},"A recent twitch clip of user given by args"),s("span",{class:"button is-small",onClick:t[16]||(t[16]=g=>e.item.data.video.url="$user.recent_clip_url")},"A recent twitch clip of user who executes the command")])])])):R("",!0),s("tr",null,[C4,s("td",null,[e.item.variables.length>0?(p(),v("table",E4,[k4,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(g,b)=>(p(),v("tr",{key:b},[s("td",null,[V(r,{modelValue:g.name,"onUpdate:modelValue":w=>g.name=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(r,{modelValue:g.value,"onUpdate:modelValue":w=>g.value=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:w=>e.rmVariable(b)},A4,8,T4)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[17]||(t[17]=(...g)=>e.onAddVariable&&e.onAddVariable(...g))},"Add Variable"),V4])]),s("tr",null,[D4,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",O4,[P4,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(g,b)=>(p(),v("tr",{key:b},[s("td",null,[V(m,{modelValue:g.name,"onUpdate:modelValue":w=>g.name=w,values:e.autocompletableVariables().map(w=>({value:w.var.name,label:`${w.var.name} (${w.type}), <code>${w.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",R4,[K(s("select",{"onUpdate:modelValue":w=>g.change=w},F4,8,M4),[[Un,g.change]])])]),s("td",null,[V(r,{modelValue:g.value,"onUpdate:modelValue":w=>g.value=w},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:w=>e.rmVariableChange(b)},z4,8,B4)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[18]||(t[18]=(...g)=>e.onAddVariableChange&&e.onAddVariableChange(...g))},"Add Variable Change"),j4])]),s("tr",null,[W4,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(g,b)=>(p(),v("label",{key:b,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[19]||(t[19]=w=>e.item.restrict_to=w),type:"checkbox",value:g.value},null,8,x4),[[at,e.item.restrict_to]]),A(" "+x(g.label),1)]))),128))])])])])]),s("footer",K4,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[20]||(t[20]=(...g)=>e.onSaveClick&&e.onSaveClick(...g))}," Save changes ",8,J4),s("button",{class:"button is-small",onClick:t[21]||(t[21]=(...g)=>e.onCancelClick&&e.onCancelClick(...g))}," Cancel ")])])])):R("",!0)}var Y4=De(SI,[["render",G4]]);const X4=ae({components:{StringInput:Qt},props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:xs,possibleEmoteDisplayFunctions:[Pt.BALLOON,Pt.BOUNCY,Pt.EXPLODE,Pt.FLOATING_SPACE,Pt.FOUNTAIN,Pt.RAIN,Pt.RANDOM_BEZIER],channelNameInput:"",possibleEmoteSets:[]}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},async created(){this.possibleEmoteSets=[];const t=await(await ct.getGeneralGlobalEmotes()).json();this.possibleEmoteSets.push({name:"global",emotes:t.data.map(n=>`https://static-cdn.jtvnw.net/emoticons/v2/${n.id}/default/dark/3.0`)})},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{async loadChannelEmotes(){const e=this.channelNameInput;if(this.possibleEmoteSets.find(o=>o.name===e))return;const n=await(await ct.getGeneralChannelEmotes(e)).json();this.possibleEmoteSets.unshift({name:e,emotes:n.data.map(o=>`https://static-cdn.jtvnw.net/emoticons/v2/${o.id}/default/dark/3.0`)})},rmFn(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.displayFn=this.item.data.displayFn.filter((t,n)=>n!==e)},addFn(){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.displayFn.push({fn:Pt.FLOATING_SPACE,args:[]})},removeEmote(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.emotes=this.item.data.emotes.filter((t,n)=>n!==e)},addEmote(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.data.emotes.push({url:e})},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}}}),Q4={key:0,class:"modal is-active"},Z4={class:"modal-card"},q4={class:"modal-card-head"},e3={class:"modal-card-title"},t3={class:"modal-card-body"},n3={class:"table is-striped"},s3=s("td",null,"Triggers:",-1),o3={key:0},i3=s("td",null,"Description:",-1),a3=["innerHTML"],l3=s("td",null,"Display Functions",-1),r3={class:"control"},u3={class:"select is-small"},d3=["onUpdate:modelValue"],c3=["value"],f3=["onClick"],h3=s("i",{class:"fa fa-remove"},null,-1),m3=[h3],p3=s("i",{class:"fa fa-plus mr-1"},null,-1),g3=A(" Add "),v3=[p3,g3],y3=s("td",null,"Emotes",-1),b3={class:"emote-select"},$3=["src","onClick"],w3={class:"field has-addons"},_3={class:"control"},S3=s("i",{class:"fa fa-plus mr-1"},null,-1),C3=A(" Add emotes from channel "),E3=[S3,C3],k3={class:"emote-select"},T3=A(" Select emotes to display: "),I3=["src","onClick"],A3={key:1},V3=s("td",null,"Attention:",-1),D3=s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1),O3=[V3,D3],P3=s("td",null,"Variables:",-1),R3={key:0},M3=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),U3=["onClick"],N3=s("i",{class:"fa fa-remove"},null,-1),L3=[N3],F3=s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1),B3=s("td",null,"Variable changes:",-1),H3={key:0},z3=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),j3={class:"select is-small"},W3=["onUpdate:modelValue"],x3=s("option",{value:"set"}," set ",-1),K3=s("option",{value:"increase_by"}," increase by ",-1),J3=s("option",{value:"decrease_by"}," decrease by ",-1),G3=[x3,K3,J3],Y3=["onClick"],X3=s("i",{class:"fa fa-remove"},null,-1),Q3=[X3],Z3=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),q3=s("td",null,"Permissions:",-1),e8=["value"],t8={class:"modal-card-foot"},n8=["disabled"];function s8(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("StringInput"),d=F("dropdown-input");return e.item?(p(),v("div",Q4,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...f)=>e.onOverlayClick&&e.onOverlayClick(...f))}),s("div",Z4,[s("header",q4,[s("p",e3,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...f)=>e.onCloseClick&&e.onCloseClick(...f))})]),s("section",t3,[s("table",n3,[s("tbody",null,[s("tr",null,[s3,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(f,c)=>(p(),_e(i,{key:c,class:"spacerow","model-value":f,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[c]=h,onRemove:h=>e.rmtrigger(c)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",o3,[i3,s("td",{innerHTML:e.actionDescription},null,8,a3)])):R("",!0),s("tr",null,[l3,s("td",null,[(p(!0),v(Y,null,oe(e.item.data.displayFn,(f,c)=>(p(),v("div",{key:c,class:"field has-addons mb-1"},[s("div",r3,[s("div",u3,[K(s("select",{"onUpdate:modelValue":h=>e.item.data.displayFn[c].fn=h},[(p(!0),v(Y,null,oe(e.possibleEmoteDisplayFunctions,(h,m)=>(p(),v("option",{key:m,value:h},x(h),9,c3))),128))],8,d3),[[Un,e.item.data.displayFn[c].fn]])])]),s("button",{class:"button is-small",onClick:h=>e.rmFn(c)},m3,8,f3)]))),128)),s("button",{class:"button is-small",onClick:t[2]||(t[2]=f=>e.addFn())},v3)])]),s("tr",null,[y3,s("td",null,[s("div",b3,[(p(!0),v(Y,null,oe(e.item.data.emotes,(f,c)=>(p(),v("img",{key:c,src:f.url,onClick:h=>e.removeEmote(c)},null,8,$3))),128))]),s("div",w3,[s("div",_3,[V(r,{modelValue:e.channelNameInput,"onUpdate:modelValue":t[3]||(t[3]=f=>e.channelNameInput=f)},null,8,["modelValue"])]),s("button",{class:"button is-small",onClick:t[4]||(t[4]=(...f)=>e.loadChannelEmotes&&e.loadChannelEmotes(...f))},E3)]),s("div",k3,[T3,(p(!0),v(Y,null,oe(e.possibleEmoteSets,(f,c)=>(p(),v("div",{key:c},[s("div",null,x(f.name),1),(p(!0),v(Y,null,oe(f.emotes,(h,m)=>(p(),v("img",{key:m,src:h,onClick:g=>e.addEmote(h)},null,8,I3))),128))]))),128))])])]),e.requiresAccessToken?(p(),v("tr",A3,O3)):R("",!0),s("tr",null,[P3,s("td",null,[e.item.variables.length>0?(p(),v("table",R3,[M3,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(r,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(c)},L3,8,U3)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[5]||(t[5]=(...f)=>e.onAddVariable&&e.onAddVariable(...f))},"Add Variable"),F3])]),s("tr",null,[B3,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",H3,[z3,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(d,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",j3,[K(s("select",{"onUpdate:modelValue":h=>f.change=h},G3,8,W3),[[Un,f.change]])])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(c)},Q3,8,Y3)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[6]||(t[6]=(...f)=>e.onAddVariableChange&&e.onAddVariableChange(...f))},"Add Variable Change"),Z3])]),s("tr",null,[q3,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(f,c)=>(p(),v("label",{key:c,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[7]||(t[7]=h=>e.item.restrict_to=h),type:"checkbox",value:f.value},null,8,e8),[[at,e.item.restrict_to]]),A(" "+x(f.label),1)]))),128))])])])])]),s("footer",t8,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[8]||(t[8]=(...f)=>e.onSaveClick&&e.onSaveClick(...f))}," Save changes ",8,n8),s("button",{class:"button is-small",onClick:t[9]||(t[9]=(...f)=>e.onCancelClick&&e.onCancelClick(...f))}," Cancel ")])])])):R("",!0)}var o8=De(X4,[["render",s8]]);const i8=ae({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:xs}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;for(const e of this.item.data.text)if(e==="")return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtxt(){if(!this.item){console.warn("addtxt: this.item not initialized");return}this.item.data.text.push(br())},addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtxt(e){if(!this.item){console.warn("rmtxt: this.item not initialized");return}this.item.data.text=this.item.data.text.filter((t,n)=>n!==e)},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},insertMacro(e,t){if(!this.item){console.warn("insertMacro: this.item not initialized");return}this.item.data.text[e]+=t.value},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Qt}}),Et=e=>(En("data-v-508a801e"),e=e(),kn(),e),a8={key:0,class:"modal is-active"},l8={class:"modal-card"},r8={class:"modal-card-head"},u8={class:"modal-card-title"},d8={class:"modal-card-body"},c8={class:"table is-striped"},f8=Et(()=>s("td",null,"Triggers:",-1)),h8={key:0},m8=Et(()=>s("td",null,"Description:",-1)),p8=["innerHTML"],g8={key:1},v8=Et(()=>s("td",null,"Attention:",-1)),y8=Et(()=>s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1)),b8=[v8,y8],$8=Et(()=>s("td",null,"Response:",-1)),w8=["onUpdate:modelValue"],_8={class:"help"},S8=["disabled","onClick"],C8=Et(()=>s("i",{class:"fa fa-remove"},null,-1)),E8=[C8],k8={class:"field"},T8=Et(()=>s("i",{class:"fa fa-plus mr-1"},null,-1)),I8=A(" Add response "),A8=[T8,I8],V8=Et(()=>s("div",null,[s("p",{class:"help"}," If multiple responses exist, a random one will be used when the command is triggered. ")],-1)),D8=Et(()=>s("td",null,"Variables:",-1)),O8={key:0},P8=Et(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1)),R8=["onClick"],M8=Et(()=>s("i",{class:"fa fa-remove"},null,-1)),U8=[M8],N8=Et(()=>s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1)),L8=Et(()=>s("td",null,"Variable changes:",-1)),F8={key:0},B8=Et(()=>s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1)),H8={class:"select is-small"},z8=["onUpdate:modelValue"],j8=Et(()=>s("option",{value:"set"}," set ",-1)),W8=Et(()=>s("option",{value:"increase_by"}," increase by ",-1)),x8=Et(()=>s("option",{value:"decrease_by"}," decrease by ",-1)),K8=[j8,W8,x8],J8=["onClick"],G8=Et(()=>s("i",{class:"fa fa-remove"},null,-1)),Y8=[G8],X8=Et(()=>s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1)),Q8=Et(()=>s("td",null,"Permissions:",-1)),Z8=["value"],q8={class:"modal-card-foot"},eA=["disabled"];function tA(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("macro-select"),d=F("StringInput"),f=F("dropdown-input");return e.item?(p(),v("div",a8,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...c)=>e.onOverlayClick&&e.onOverlayClick(...c))}),s("div",l8,[s("header",r8,[s("p",u8,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...c)=>e.onCloseClick&&e.onCloseClick(...c))})]),s("section",d8,[s("table",c8,[s("tbody",null,[s("tr",null,[f8,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(c,h)=>(p(),_e(i,{key:h,class:"spacerow","model-value":c,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":m=>e.item.triggers[h]=m,onRemove:m=>e.rmtrigger(h)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",h8,[m8,s("td",{innerHTML:e.actionDescription},null,8,p8)])):R("",!0),e.requiresAccessToken?(p(),v("tr",g8,b8)):R("",!0),s("tr",null,[$8,s("td",null,[(p(!0),v(Y,null,oe(e.item.data.text,(c,h)=>(p(),v("div",{key:h,class:"field textarea-holder"},[K(s("textarea",{"onUpdate:modelValue":m=>e.item.data.text[h]=m,class:Se(["textarea",{"has-background-danger-light":!e.item.data.text[h],"has-text-danger-dark":!e.item.data.text[h]}])},null,10,w8),[[fe,e.item.data.text[h]]]),s("div",_8,[V(r,{onSelected:m=>e.insertMacro(h,m)},null,8,["onSelected"])]),s("button",{class:"button is-small",disabled:e.item.data.text.length<=1,onClick:m=>e.rmtxt(h)},E8,8,S8)]))),128)),s("div",k8,[s("button",{class:"button is-small",onClick:t[2]||(t[2]=(...c)=>e.addtxt&&e.addtxt(...c))},A8)]),V8])]),s("tr",null,[D8,s("td",null,[e.item.variables.length>0?(p(),v("table",O8,[P8,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(c,h)=>(p(),v("tr",{key:h},[s("td",null,[V(d,{modelValue:c.name,"onUpdate:modelValue":m=>c.name=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(d,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariable(h)},U8,8,R8)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[3]||(t[3]=(...c)=>e.onAddVariable&&e.onAddVariable(...c))},"Add Variable"),N8])]),s("tr",null,[L8,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",F8,[B8,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(c,h)=>(p(),v("tr",{key:h},[s("td",null,[V(f,{modelValue:c.name,"onUpdate:modelValue":m=>c.name=m,values:e.autocompletableVariables().map(m=>({value:m.var.name,label:`${m.var.name} (${m.type}), <code>${m.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",H8,[K(s("select",{"onUpdate:modelValue":m=>c.change=m},K8,8,z8),[[Un,c.change]])])]),s("td",null,[V(d,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:m=>e.rmVariableChange(h)},Y8,8,J8)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...c)=>e.onAddVariableChange&&e.onAddVariableChange(...c))},"Add Variable Change"),X8])]),s("tr",null,[Q8,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(c,h)=>(p(),v("label",{key:h,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=m=>e.item.restrict_to=m),type:"checkbox",value:c.value},null,8,Z8),[[at,e.item.restrict_to]]),A(" "+x(c.label),1)]))),128))])])])])]),s("footer",q8,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[6]||(t[6]=(...c)=>e.onSaveClick&&e.onSaveClick(...c))}," Save changes ",8,eA),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onCancelClick&&e.onCancelClick(...c))}," Cancel ")])])])):R("",!0)}var nA=De(i8,[["render",tA],["__scopeId","data-v-508a801e"]]);const sA=ae({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,dictLangs:[{value:"ja",flag:"\u{1F1EF}\u{1F1F5}",title:"Japanese"},{value:"ru",flag:"\u{1F1F7}\u{1F1FA}",title:"Russian"},{value:"de",flag:"\u{1F1E9}\u{1F1EA}",title:"German"},{value:"es",flag:"\u{1F1EA}\u{1F1F8}",title:"Spanish"},{value:"fr",flag:"\u{1F1EB}\u{1F1F7}",title:"French"},{value:"it",flag:"\u{1F1EE}\u{1F1F9}",title:"Italian"},{value:"pt",flag:"\u{1F1F5}\u{1F1F9}/\u{1F1E7}\u{1F1F7}",title:"Portuguese"}],possiblePermissions:xs}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Qt}}),oA={key:0,class:"modal is-active"},iA={class:"modal-card"},aA={class:"modal-card-head"},lA={class:"modal-card-title"},rA={class:"modal-card-body"},uA={class:"table is-striped"},dA=s("td",null,"Triggers:",-1),cA={key:0},fA=s("td",null,"Description:",-1),hA=["innerHTML"],mA={key:1},pA=s("td",null,"Attention:",-1),gA=s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1),vA=[pA,gA],yA=s("td",null,"Language:",-1),bA=["title","onClick"],$A=s("code",null,"$args(0)",-1),wA=[$A],_A=s("td",null,"Phrase:",-1),SA=s("code",null,"$args(1:)",-1),CA=[SA],EA=s("tr",null,[s("td",null,"Response:"),s("td",null,[s("div",{class:"help"},[A(" Outputs the translation for the input phrase. The translation is always from/to english. "),s("br"),A(" To let the user decide on the language use "),s("code",null,"$args(0)"),A(" as language, and "),s("code",null,"$args(1:)"),A(" as phrase. "),s("br"),A(" If phrase is left empty, all arguments to the command will be used as the phrase. ")])])],-1),kA=s("td",null,"Variables:",-1),TA={key:0},IA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),AA=["onClick"],VA=s("i",{class:"fa fa-remove"},null,-1),DA=[VA],OA=s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1),PA=s("td",null,"Variable changes:",-1),RA={key:0},MA=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),UA={class:"select is-small"},NA=["onUpdate:modelValue"],LA=s("option",{value:"set"}," set ",-1),FA=s("option",{value:"increase_by"}," increase by ",-1),BA=s("option",{value:"decrease_by"}," decrease by ",-1),HA=[LA,FA,BA],zA=["onClick"],jA=s("i",{class:"fa fa-remove"},null,-1),WA=[jA],xA=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),KA=s("td",null,"Permissions:",-1),JA=["value"],GA={class:"modal-card-foot"},YA=["disabled"];function XA(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("StringInput"),d=F("dropdown-input");return e.item?(p(),v("div",oA,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...f)=>e.onOverlayClick&&e.onOverlayClick(...f))}),s("div",iA,[s("header",aA,[s("p",lA,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...f)=>e.onCloseClick&&e.onCloseClick(...f))})]),s("section",rA,[s("table",uA,[s("tbody",null,[s("tr",null,[dA,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(f,c)=>(p(),_e(i,{key:c,class:"spacerow","model-value":f,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[c]=h,onRemove:h=>e.rmtrigger(c)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",cA,[fA,s("td",{innerHTML:e.actionDescription},null,8,hA)])):R("",!0),e.requiresAccessToken?(p(),v("tr",mA,vA)):R("",!0),s("tr",null,[yA,s("td",null,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=f=>e.item.data.lang=f),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.lang]]),(p(!0),v(Y,null,oe(e.dictLangs,(f,c)=>(p(),v("span",{key:c,class:"button is-small mr-1",title:f.title,onClick:h=>e.item.data.lang=f.value},x(f.flag),9,bA))),128)),s("span",{class:"button is-small mr-1",onClick:t[3]||(t[3]=f=>e.item.data.lang="$args(0)")},wA)])]),s("tr",null,[_A,s("td",null,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=f=>e.item.data.phrase=f),class:"input is-small spaceinput mb-1"},null,512),[[fe,e.item.data.phrase]]),s("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=f=>e.item.data.phrase="")},"All args"),s("span",{class:"button is-small mr-1",onClick:t[6]||(t[6]=f=>e.item.data.phrase="$args(1:)")},CA)])]),EA,s("tr",null,[kA,s("td",null,[e.item.variables.length>0?(p(),v("table",TA,[IA,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(r,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(c)},DA,8,AA)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[7]||(t[7]=(...f)=>e.onAddVariable&&e.onAddVariable(...f))},"Add Variable"),OA])]),s("tr",null,[PA,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",RA,[MA,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(d,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",UA,[K(s("select",{"onUpdate:modelValue":h=>f.change=h},HA,8,NA),[[Un,f.change]])])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(c)},WA,8,zA)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...f)=>e.onAddVariableChange&&e.onAddVariableChange(...f))},"Add Variable Change"),xA])]),s("tr",null,[KA,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(f,c)=>(p(),v("label",{key:c,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.item.restrict_to=h),type:"checkbox",value:f.value},null,8,JA),[[at,e.item.restrict_to]]),A(" "+x(f.label),1)]))),128))])])])])]),s("footer",GA,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[10]||(t[10]=(...f)=>e.onSaveClick&&e.onSaveClick(...f))}," Save changes ",8,YA),s("button",{class:"button is-small",onClick:t[11]||(t[11]=(...f)=>e.onCancelClick&&e.onCancelClick(...f))}," Cancel ")])])])):R("",!0)}var QA=De(sA,[["render",XA]]);const ZA=ae({props:{modelValue:{type:Object,required:!0},mode:{type:String,required:!0},globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,variableChangeFocusIdx:-1,possiblePermissions:xs}),computed:{requiresAccessToken(){return this.item?St[this.item.action].RequiresAccessToken():!1},possibleTriggerActions(){return _o()},valid(){if(!this.item)return!1;for(const e of this.item.triggers)if(!$o(e))return!1;return!0},actionDescription(){return this.item?St[this.item.action].Description():""},title(){return this.item?`${{create:"Create new ",edit:"Edit "}[this.mode]}${St[this.item.action].Name()}`:""}},watch:{modelValue:{handler(e){this.item=JSON.parse(JSON.stringify(e))}}},mounted(){this.item=JSON.parse(JSON.stringify(this.modelValue)),this.$nextTick(()=>{this.$el.querySelector('input[type="text"]').focus()})},methods:{addtrigger(e){if(!this.item){console.warn("addtrigger: this.item not initialized");return}this.item.triggers.push(Ks(e.type))},onAddVariableChange(){if(!this.item){console.warn("onAddVariableChange: this.item not initialized");return}this.item.variableChanges.push({name:"",change:"set",value:""})},rmVariableChange(e){if(!this.item){console.warn("rmVariableChange: this.item not initialized");return}this.item.variableChanges=this.item.variableChanges.filter((t,n)=>n!==e)},onAddVariable(){if(!this.item){console.warn("onAddVariable: this.item not initialized");return}this.item.variables.push({name:"",value:""})},rmVariable(e){if(!this.item){console.warn("rmVariable: this.item not initialized");return}this.item.variables=this.item.variables.filter((t,n)=>n!==e)},onSaveClick(){this.$emit("update:modelValue",this.item)},onCancelClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},rmtrigger(e){if(!this.item){console.warn("rmtrigger: this.item not initialized");return}this.item.triggers=this.item.triggers.filter((t,n)=>n!==e)},autocompletableVariables(){if(!this.item)return console.warn("autocompletableVariables: this.item not initialized"),[];const e=this.item.variables.slice().map(t=>({var:t,type:"local"}));return this.globalVariables.forEach(t=>{e.find(n=>n.var.name===t.name)||e.push({var:t,type:"global"})}),e}},components:{StringInput:Qt}}),qA={key:0,class:"modal is-active"},eV={class:"modal-card"},tV={class:"modal-card-head"},nV={class:"modal-card-title"},sV={class:"modal-card-body"},oV={class:"table is-striped"},iV=s("td",null,"Triggers:",-1),aV={key:0},lV=s("td",null,"Description:",-1),rV=["innerHTML"],uV={key:1},dV=s("td",null,"Attention:",-1),cV=s("td",null,[s("div",{class:"help"},[A(" This requires "),s("code",null,"Access Token"),A(" to be set in the user settings. ")])],-1),fV=[dV,cV],hV=s("td",null,"Model:",-1),mV={class:"control"},pV=s("div",{class:"help"},[A(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),gV=s("td",null,"Weirdness:",-1),vV={class:"control"},yV=s("div",{class:"help"},[A(" For possible values refer to "),s("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),bV=s("td",null,"Variables:",-1),$V={key:0},wV=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Value")])],-1),_V=["onClick"],SV=s("i",{class:"fa fa-remove"},null,-1),CV=[SV],EV=s("div",{class:"help"},[A(" Variables can be used from the command with "),s("code",null,"$var(variable_name)"),A(". If the referenced variable is not defined here, "),s("a",{href:"/variables/",target:"_blank"},"global variables"),A(" are used. ")],-1),kV=s("td",null,"Variable changes:",-1),TV={key:0},IV=s("thead",null,[s("tr",null,[s("td",null,"Name"),s("td",null,"Change"),s("td",null,"Value"),s("td")])],-1),AV={class:"select is-small"},VV=["onUpdate:modelValue"],DV=s("option",{value:"set"}," set ",-1),OV=s("option",{value:"increase_by"}," increase by ",-1),PV=s("option",{value:"decrease_by"}," decrease by ",-1),RV=[DV,OV,PV],MV=["onClick"],UV=s("i",{class:"fa fa-remove"},null,-1),NV=[UV],LV=s("div",{class:"help"}," Variable changes are performed when the command is executed, before anything else. ",-1),FV=s("td",null,"Permissions:",-1),BV=["value"],HV={class:"modal-card-foot"},zV=["disabled"];function jV(e,t,n,o,a,l){const i=F("trigger-editor"),u=F("dropdown-button"),r=F("StringInput"),d=F("dropdown-input");return e.item?(p(),v("div",qA,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...f)=>e.onOverlayClick&&e.onOverlayClick(...f))}),s("div",eV,[s("header",tV,[s("p",nV,x(e.title),1),s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...f)=>e.onCloseClick&&e.onCloseClick(...f))})]),s("section",sV,[s("table",oV,[s("tbody",null,[s("tr",null,[iV,s("td",null,[(p(!0),v(Y,null,oe(e.item.triggers,(f,c)=>(p(),_e(i,{key:c,class:"spacerow","model-value":f,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:e.item.triggers.length>1,"onUpdate:modelValue":h=>e.item.triggers[c]=h,onRemove:h=>e.rmtrigger(c)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128)),V(u,{actions:e.possibleTriggerActions,label:"Add trigger",onClick:e.addtrigger},null,8,["actions","onClick"])])]),e.actionDescription?(p(),v("tr",aV,[lV,s("td",{innerHTML:e.actionDescription},null,8,rV)])):R("",!0),e.requiresAccessToken?(p(),v("tr",uV,fV)):R("",!0),s("tr",null,[hV,s("td",null,[s("div",mV,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=f=>e.item.data.model=f),class:"input is-small spaceinput"},null,512),[[fe,e.item.data.model]])]),pV])]),s("tr",null,[gV,s("td",null,[s("div",vV,[K(s("input",{"onUpdate:modelValue":t[3]||(t[3]=f=>e.item.data.weirdness=f),class:"input is-small spaceinput"},null,512),[[fe,e.item.data.weirdness]])]),yV])]),s("tr",null,[bV,s("td",null,[e.item.variables.length>0?(p(),v("table",$V,[wV,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variables,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(r,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariable(c)},CV,8,_V)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[4]||(t[4]=(...f)=>e.onAddVariable&&e.onAddVariable(...f))},"Add Variable"),EV])]),s("tr",null,[kV,s("td",null,[e.item.variableChanges.length>0?(p(),v("table",TV,[IV,s("tbody",null,[(p(!0),v(Y,null,oe(e.item.variableChanges,(f,c)=>(p(),v("tr",{key:c},[s("td",null,[V(d,{modelValue:f.name,"onUpdate:modelValue":h=>f.name=h,values:e.autocompletableVariables().map(h=>({value:h.var.name,label:`${h.var.name} (${h.type}), <code>${h.var.value}</code>`}))},null,8,["modelValue","onUpdate:modelValue","values"])]),s("td",null,[s("div",AV,[K(s("select",{"onUpdate:modelValue":h=>f.change=h},RV,8,VV),[[Un,f.change]])])]),s("td",null,[V(r,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("button",{class:"button is-small",onClick:h=>e.rmVariableChange(c)},NV,8,MV)])]))),128))])])):R("",!0),s("span",{class:"button is-small",onClick:t[5]||(t[5]=(...f)=>e.onAddVariableChange&&e.onAddVariableChange(...f))},"Add Variable Change"),LV])]),s("tr",null,[FV,s("td",null,[(p(!0),v(Y,null,oe(e.possiblePermissions,(f,c)=>(p(),v("label",{key:c,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[6]||(t[6]=h=>e.item.restrict_to=h),type:"checkbox",value:f.value},null,8,BV),[[at,e.item.restrict_to]]),A(" "+x(f.label),1)]))),128))])])])])]),s("footer",HV,[s("button",{class:"button is-small is-primary",disabled:!e.valid,onClick:t[7]||(t[7]=(...f)=>e.onSaveClick&&e.onSaveClick(...f))}," Save changes ",8,zV),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...f)=>e.onCancelClick&&e.onCancelClick(...f))}," Cancel ")])])])):R("",!0)}var WV=De(ZA,[["render",jV]]);const xV=ae({props:{globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},possibleActions:{type:Array,required:!0},baseVolume:{type:Number,required:!0},modelValue:{type:Array,required:!0},showToggleImages:{type:Boolean,required:!1,default:!1},showFilterActions:{type:Boolean,required:!1,default:!1},showImages:{type:Boolean,required:!1,default:!1},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","showImagesChange"],data(){return{commands:[],editIdx:null,editCommand:null,filter:{search:"",actions:[]},imagesVisible:!1}},computed:{possibleActionsMapped(){return this.possibleActions.map(e=>({type:e,title:this.actionDescription(e),label:`Add ${this.actionName(e)}`}))},possibleActionsWithCount(){return this.possibleActions.map(e=>({action:e,count:this.commandCount(e)})).filter(e=>e.count>0)}},created(){this.commands=JSON.parse(JSON.stringify(this.modelValue)),this.imagesVisible=this.showImages},methods:{onImageVisibleChange(){this.$emit("showImagesChange",this.imagesVisible)},emitChange(){this.$emit("update:modelValue",this.commands)},commandCount(e){let t=0;for(const n of this.commands)n.action===e&&t++;return t},filteredOut(e){if(this.filter.actions.length>0&&!this.filter.actions.includes(e.action))return!0;if(!this.filter.search)return!1;const t=this.filter.search.toLowerCase();return!(e.triggers.find(o=>o.type===Jt.COMMAND||o.type===Jt.REWARD_REDEMPTION?o.data.command.toLowerCase().indexOf(t)>=0:!1)||e.action===ue.TEXT&&e.data.text.find(a=>a.toLowerCase().indexOf(t)>=0))},permissionsStr(e){return p_(e.restrict_to)},remove(e){this.commands=this.commands.filter((t,n)=>n!==e),this.emitChange()},add(e){const t=e.type;this.editIdx=-1,this.editCommand=St[t].NewCommand()},edit(e){this.editIdx=e,this.editCommand=this.commands[e]},duplicate(e){this.editIdx=-1,this.editCommand=JSON.parse(JSON.stringify(this.commands[e]))},editedCommand(e){this.editIdx!==null&&(this.editIdx===-1?this.commands.unshift(e):this.commands[this.editIdx]=e,this.emitChange(),this.editIdx=null,this.editCommand=null)},dragEnd(e){this.commands=Xt.arrayMove(this.commands,e.oldIndex,e.newIndex),this.emitChange()},actionDescription(e){return St[e].Description()},actionName(e){return St[e].Name()}}}),zt=e=>(En("data-v-18a77f29"),e=e(),kn(),e),KV={class:"actions"},JV=zt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),GV={class:"field has-addons mr-1 mb-0"},YV={class:"control"},XV={key:0,class:"field"},QV=["value"],ZV={key:0,class:"table-container"},qV={ref:"table",class:"table is-striped"},eD=zt(()=>s("th",null,null,-1)),tD=zt(()=>s("th",null,null,-1)),nD=zt(()=>s("th",null,"Trigger",-1)),sD=A(" Response "),oD={key:0},iD=A(" Show images "),aD=zt(()=>s("th",null,"Type",-1)),lD=zt(()=>s("th",null,"Permissions",-1)),rD=zt(()=>s("th",null,"Widgets",-1)),uD=zt(()=>s("th",null,null,-1)),dD=zt(()=>s("th",null,null,-1)),cD=zt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),fD={class:"pl-0 pr-0"},hD=["onClick"],mD=zt(()=>s("i",{class:"fa fa-pencil"},null,-1)),pD=[mD],gD={class:"col-triggers"},vD={key:0},yD={key:0},bD={key:0,class:"spacerow media-holder media-holder-inline"},$D={key:1},wD={key:2,class:"fa fa-plus is-justify-content-center mr-2 ml-2"},_D={key:3,class:"ml-2"},SD=A("for at least "),CD={key:4,class:"ml-2"},ED=A("for "),kD={key:2},TD={key:0},ID=zt(()=>s("span",null,"\u2192",-1)),AD=A(" \u2715 "),VD=zt(()=>s("span",null,"\u2192",-1)),DD={key:1},OD={key:1},PD={key:2},RD=A(" Media("),MD={key:0},UD={key:1},ND={key:2},LD=A(") "),FD={key:3},BD=["innerHTML"],HD={key:0},zD=["href"],jD=["href"],WD=A(" Widget "),xD={key:1},KD={class:"pl-0 pr-0"},JD=zt(()=>s("i",{class:"fa fa-trash"},null,-1)),GD=["onClick"],YD=zt(()=>s("i",{class:"fa fa-clone"},null,-1)),XD=[YD],QD={key:1};function ZD(e,t,n,o,a,l){const i=F("dropdown-button"),u=F("trigger-info"),r=F("responsive-image"),d=F("audio-player"),f=F("duration-display"),c=F("doubleclick-button"),h=F("vue-draggable"),m=F("text-command-editor"),g=F("media-command-editor"),b=F("dict-lookup-command-editor"),w=F("madochan-createword-command-editor"),_=F("emotes-command-editor"),y=F("command-editor");return p(),v("div",null,[s("div",KV,[V(i,{actions:e.possibleActionsMapped,label:"Add command",onClick:e.add},null,8,["actions","onClick"]),JV,s("div",GV,[s("div",YV,[K(s("input",{"onUpdate:modelValue":t[0]||(t[0]=$=>e.filter.search=$),class:"input is-small"},null,512),[[fe,e.filter.search]])])]),e.showFilterActions?(p(),v("div",XV,[(p(!0),v(Y,null,oe(e.possibleActionsWithCount,($,S)=>(p(),v("label",{key:S,class:"mr-1"},[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=E=>e.filter.actions=E),class:"mr-1",type:"checkbox",value:$.action},null,8,QV),[[at,e.filter.actions]]),A(x($.action)+" ("+x($.count)+")",1)]))),128))])):R("",!0)]),e.commands.length>0?(p(),v("div",ZV,[s("table",qV,[s("thead",null,[s("tr",null,[eD,tD,nD,s("th",null,[sD,e.showToggleImages?(p(),v("label",oD,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=$=>e.imagesVisible=$),type:"checkbox","on:update:modelValue":t[3]||(t[3]=(...$)=>e.onImageVisibleChange&&e.onImageVisibleChange(...$))},null,544),[[at,e.imagesVisible]]),iD])):R("",!0)]),aD,lD,rD,uD,dD])]),V(h,{"model-value":e.commands,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:$,index:S})=>[K(s("tr",null,[cD,s("td",fD,[s("button",{class:"button is-small",onClick:E=>e.edit(S)},pD,8,hD)]),s("td",gD,[(p(!0),v(Y,null,oe($.triggers,(E,k)=>(p(),v("div",{key:k,class:"spacerow"},[V(u,{trigger:E},null,8,["trigger"])]))),128))]),s("td",null,[$.action==="text"?(p(),v("div",vD,[(p(!0),v(Y,null,oe($.data.text,(E,k)=>(p(),v(Y,{key:k},[s("code",null,x($.data.text[k]),1),k<$.data.text.length-1?(p(),v("span",yD,"or")):R("",!0)],64))),128))])):$.action==="media"?(p(),v("div",{key:1,class:Se($.action)},[$.data.image.file||$.data.sound.file?(p(),v("div",bD,[$.data.image.file&&e.imagesVisible?(p(),_e(r,{key:0,src:$.data.image.urlpath,title:$.data.image.filename,width:"100px",height:"50px",style:{display:"inline-block"}},null,8,["src","title"])):$.data.image.file?(p(),v("code",$D,x($.data.image.filename),1)):R("",!0),$.data.image.file&&$.data.sound.file?(p(),v("i",wD)):R("",!0),V(d,{src:$.data.sound.urlpath,name:$.data.sound.filename,volume:$.data.sound.volume,"base-volume":e.baseVolume,class:"button is-small is-justify-content-center"},null,8,["src","name","volume","base-volume"]),$.data.image.file&&$.data.sound.file?(p(),v("span",_D,[SD,V(f,{value:$.data.minDurationMs},null,8,["value"])])):$.data.image.file?(p(),v("span",CD,[ED,V(f,{value:$.data.minDurationMs},null,8,["value"])])):R("",!0)])):R("",!0)],2)):$.action==="countdown"?(p(),v("div",kD,[($.data.type||"auto")==="auto"?(p(),v("div",TD,[s("code",null,x($.data.intro),1),ID,s("code",null,x($.data.steps),1),AD,V(f,{value:$.data.interval},null,8,["value"]),VD,s("code",null,x($.data.outro),1)])):(p(),v("div",DD,[(p(!0),v(Y,null,oe($.data.actions,(E,k)=>(p(),v(Y,{key:k},[E.type==="delay"?(p(),_e(f,{key:0,value:E.value},null,8,["value"])):R("",!0),E.type==="text"?(p(),v("code",OD,x(E.value),1)):R("",!0),E.type==="media"?(p(),v("code",PD,[RD,E.value.image.file?(p(),v("span",MD,x(E.value.image.filename),1)):R("",!0),E.value.image.file&&E.value.sound.file?(p(),v("span",UD,"+")):R("",!0),E.value.sound.file?(p(),v("span",ND,x(E.value.sound.filename),1)):R("",!0),LD])):R("",!0),k<$.data.actions.length-1?(p(),v("span",FD,"\u2192")):R("",!0)],64))),128))]))])):e.actionDescription($.action)?(p(),v("div",{key:3,innerHTML:e.actionDescription($.action)},null,8,BD)):R("",!0)]),s("td",null,x($.action),1),s("td",null,x(e.permissionsStr($)),1),s("td",null,[$.action==="media"?(p(),v("div",HD,[$.data.widgetIds.length===0?(p(),v("a",{key:0,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"Default widget",8,zD)):R("",!0),(p(!0),v(Y,null,oe($.data.widgetIds,(E,k)=>(p(),v("a",{key:k,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(E)}`,target:"_blank"},[s("code",null,x(E),1),WD],8,jD))),128))])):(p(),v("div",xD," - "))]),s("td",KD,[V(c,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:E=>e.remove(S)},{default:rt(()=>[JD]),_:2},1032,["onDoubleclick"]),s("button",{class:"button is-small",onClick:E=>e.duplicate(S)},XD,8,GD)])],512),[[bo,!e.filteredOut($)]])]),_:1},8,["model-value","onEnd"])],512)])):(p(),v("div",QD," No commands set up ")),e.editIdx!==null&&e.editCommand&&e.editCommand.action==="text"?(p(),_e(m,{key:2,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[4]||(t[4]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="media"?(p(),_e(g,{key:3,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"widget-url":e.widgetUrl,"onUpdate:modelValue":e.editedCommand,onCancel:t[5]||(t[5]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","widget-url","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="dict_lookup"?(p(),_e(b,{key:4,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[6]||(t[6]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="madochan_createword"?(p(),_e(w,{key:5,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","onUpdate:modelValue":e.editedCommand,onCancel:t[7]||(t[7]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand&&e.editCommand.action==="emotes"?(p(),_e(_,{key:6,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"onUpdate:modelValue":e.editedCommand,onCancel:t[8]||(t[8]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","onUpdate:modelValue"])):e.editIdx!==null&&e.editCommand?(p(),_e(y,{key:7,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"onUpdate:modelValue":e.editedCommand,onCancel:t[9]||(t[9]=$=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","onUpdate:modelValue"])):R("",!0)])}var qD=De(xV,[["render",ZD],["__scopeId","data-v-18a77f29"]]);const eO=ae({props:{baseVolume:{default:100},modelValue:{type:Object,required:!0}},data:()=>({countdown:{type:"manual",actions:[],steps:3,interval:1e3,intro:"",outro:""}}),created(){this.countdown.type=this.modelValue.type||"auto",this.countdown.actions=this.modelValue.actions||[],this.countdown.steps=this.modelValue.steps,this.countdown.interval=this.modelValue.interval,this.countdown.intro=this.modelValue.intro,this.countdown.outro=this.modelValue.outro,this.$watch("countdown",()=>{this.$emit("update:modelValue",{type:this.countdown.type,actions:this.countdown.actions,steps:this.countdown.steps,interval:this.countdown.interval,intro:this.countdown.intro,outro:this.countdown.outro})},{deep:!0})},methods:{dragEnd(e){this.countdown.actions=Xt.arrayMove(this.countdown.actions,e.oldIndex,e.newIndex)},onAddDelay(){this.countdown.actions.push(b_())},onAddText(){this.countdown.actions.push($_())},onAddMedia(){this.countdown.actions.push(w_())},rmaction(e){this.countdown.actions=this.countdown.actions.filter((t,n)=>n!==e)},mediaSndChanged(e,t){this.countdown.actions[e].value.sound=t},mediaImgChanged(e,t){this.countdown.actions[e].value.image=t}},components:{StringInput:Qt}}),tO={class:"control"},nO={class:"radio"},sO=A(" Manual "),oO={class:"radio"},iO=A(" Auto "),aO={key:0},lO={class:"spacerow"},rO=s("label",{class:"spacelabel"},"Steps ",-1),uO={class:"spacerow"},dO=s("label",{class:"spacelabel"},"Interval ",-1),cO={class:"spacerow"},fO=s("label",{class:"spacelabel"},"Intro ",-1),hO={class:"spacerow"},mO=s("label",{class:"spacelabel"},"Outro ",-1),pO={key:1},gO={class:"field has-addons mr-1"},vO=s("span",{class:"handle p-2"},[s("i",{class:"fa fa-arrows"})],-1),yO={key:0,class:"control has-icons-left"},bO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),$O={key:1,class:"control has-icons-left"},wO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1),_O={key:2,class:"control has-icons-left"},SO=s("td",null,"Image:",-1),CO=s("td",null,"Sound:",-1),EO=s("td",null,"Duration:",-1),kO={class:"control has-icons-left"},TO=s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1),IO={class:"control"},AO=["onClick"],VO=s("i",{class:"fa fa-remove"},null,-1),DO=[VO],OO=s("i",{class:"fa fa-hourglass mr-1"},null,-1),PO=A(" Add Delay "),RO=[OO,PO],MO=s("i",{class:"fa fa-comments-o mr-1"},null,-1),UO=A(" Add Chat "),NO=[MO,UO],LO=s("i",{class:"fa fa-picture-o mr-1"},null,-1),FO=A(" Add Media "),BO=[LO,FO];function HO(e,t,n,o,a,l){const i=F("duration-input"),u=F("StringInput"),r=F("image-upload"),d=F("sound-upload"),f=F("vue-draggable");return p(),v("div",null,[s("div",tO,[s("label",nO,[K(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.countdown.type=c),type:"radio",value:"manual"},null,512),[[Yt,e.countdown.type]]),sO]),s("label",oO,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.countdown.type=c),type:"radio",value:"auto"},null,512),[[Yt,e.countdown.type]]),iO])]),e.countdown.type==="auto"?(p(),v("div",aO,[s("div",lO,[rO,K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.countdown.steps=c),class:"input is-small spaceinput"},null,512),[[fe,e.countdown.steps]])]),s("div",uO,[dO,V(i,{"model-value":e.countdown.interval,"onUpdate:modelValue":t[3]||(t[3]=c=>e.countdown.interval=c)},null,8,["model-value"])]),s("div",cO,[fO,K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.countdown.intro=c),class:"input is-small spaceinput"},null,512),[[fe,e.countdown.intro]])]),s("div",hO,[mO,K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.countdown.outro=c),class:"input is-small spaceinput"},null,512),[[fe,e.countdown.outro]])])])):(p(),v("div",pO,[V(f,{"model-value":e.countdown.actions,handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:c,index:h})=>[s("div",gO,[vO,c.type==="delay"?(p(),v("div",yO,[V(i,{"model-value":c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["model-value","onUpdate:modelValue"]),bO])):c.type==="text"?(p(),v("div",$O,[V(u,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"]),wO])):c.type==="media"?(p(),v("div",_O,[s("table",null,[s("tr",null,[SO,s("td",null,[V(r,{modelValue:c.value.image,"onUpdate:modelValue":[m=>c.value.image=m,m=>e.mediaImgChanged(h,m)]},null,8,["modelValue","onUpdate:modelValue"])])]),s("tr",null,[CO,s("td",null,[V(d,{modelValue:c.value.sound,"onUpdate:modelValue":[m=>c.value.sound=m,m=>e.mediaSndChanged(h,m)],"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])])]),s("tr",null,[EO,s("td",null,[s("div",kO,[V(i,{"model-value":c.value.minDurationMs,"onUpdate:modelValue":m=>c.value.minDurationMs=m},null,8,["model-value","onUpdate:modelValue"]),TO])])])])])):R("",!0),s("div",IO,[s("button",{class:"button is-small",onClick:m=>e.rmaction(h)},DO,8,AO)])])]),_:1},8,["model-value","onEnd"]),s("button",{class:"button is-small",onClick:t[6]||(t[6]=(...c)=>e.onAddDelay&&e.onAddDelay(...c))},RO),s("button",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onAddText&&e.onAddText(...c))},NO),s("button",{class:"button is-small",onClick:t[8]||(t[8]=(...c)=>e.onAddMedia&&e.onAddMedia(...c))},BO)]))])}var zO=De(eO,[["render",HO]]);const Dt=e=>(En("data-v-30781854"),e=e(),kn(),e),jO={class:"trigger-editor"},WO={key:0,class:"field has-addons"},xO=Dt(()=>s("span",{class:"mr-1"},"First chat by user",-1)),KO={class:"control"},JO={class:"mr-1"},GO=A(" Alltime "),YO={class:"mr-1"},XO=A(" Current Stream "),QO={class:"control"},ZO=["disabled"],qO=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),e5=[qO],t5={key:1,class:"field has-addons"},n5={class:"control has-icons-left mr-1"},s5=Dt(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),o5={class:"control mr-1",title:"Check if command should only be executed if it matches exactly (= no arguments come after it)."},i5=Dt(()=>s("span",{class:"is-small is-left"},"exact",-1)),a5={class:"control"},l5=["disabled"],r5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),u5=[r5],d5={key:2,class:"field has-addons"},c5={class:"control has-icons-left"},f5={class:"control"},h5=["disabled"],m5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),p5=[m5],g5={key:3,class:"timer-trigger"},v5={class:"control remove-control"},y5=["disabled"],b5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),$5=[b5],w5={class:"timer-trigger-inner"},_5=Dt(()=>s("label",{class:"mr-1"},"Messages \u2265",-1)),S5={class:"control has-icons-left mr-1"},C5=Dt(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-comments-o"})],-1)),E5=Dt(()=>s("label",{class:"mr-1"},"Interval \u2265",-1)),k5={class:"control has-icons-left has-icons-right mr-1"},T5=Dt(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa fa-hourglass"})],-1)),I5=Dt(()=>s("p",{class:"help"},[A(" Command will be triggered when at least "),s("code",null,"Messages"),A(" chat messages arrived AND "),s("code",null,"Interval"),A(" have passed. ")],-1)),A5={key:4,class:"field has-addons"},V5=A(" Sub "),D5={class:"control"},O5=["disabled"],P5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),R5=[P5],M5={key:5,class:"field has-addons"},U5=A(" Bits "),N5={class:"control"},L5=["disabled"],F5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),B5=[F5],H5={key:6,class:"field has-addons"},z5=A(" Follow "),j5={class:"control"},W5=["disabled"],x5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),K5=[x5],J5={key:7,class:"field has-addons"},G5=A(" Raid "),Y5={class:"control"},X5=["disabled"],Q5=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),Z5=[Q5],q5={key:8},eP={class:"control"},tP=["disabled"],nP=Dt(()=>s("i",{class:"fa fa-remove"},null,-1)),sP=[nP],oP=ae({__name:"TriggerEditor",props:{modelValue:null,removable:{type:Boolean},channelPointsCustomRewards:null},emits:["update:modelValue","remove"],setup(e,{emit:t}){const n=e,o=Ce({type:"",data:{since:"",command:"",commandExact:!1,minInterval:0,minLines:0}}),a=ot(()=>{const r=[];for(let d in n.channelPointsCustomRewards)r.push(...n.channelPointsCustomRewards[d].map(f=>({type:f,title:f,label:f})));return r.sort((d,f)=>d.title===f.title?0:d.title<f.title?-1:1),r}),l=()=>{t("remove")},i=()=>{console.log("update"),t("update:modelValue",o.value)};return(r=>{o.value=JSON.parse(JSON.stringify(r))})(n.modelValue),It(()=>n.modelValue,r=>{o.value=r}),(r,d)=>{const f=F("dropdown-input"),c=F("duration-input");return p(),v("div",jO,[o.value.type==="first_chat"?(p(),v("div",WO,[xO,s("div",KO,[s("label",JO,[K(s("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>o.value.data.since=h),type:"radio",class:"checkbox mr-1",value:"alltime",onInput:i},null,544),[[Yt,o.value.data.since]]),GO]),s("label",YO,[K(s("input",{"onUpdate:modelValue":d[1]||(d[1]=h=>o.value.data.since=h),type:"radio",class:"checkbox mr-1",value:"stream",onInput:i},null,544),[[Yt,o.value.data.since]]),XO])]),s("div",QO,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},e5,8,ZO)])])):o.value.type==="command"?(p(),v("div",t5,[s("div",n5,[K(s("input",{"onUpdate:modelValue":d[2]||(d[2]=h=>o.value.data.command=h),class:Se(["input is-small",{"has-background-danger-light":!o.value.data.command,"has-text-danger-dark":!o.value.data.command}]),type:"text",onInput:i},null,34),[[fe,o.value.data.command]]),s5]),s("div",o5,[s("label",null,[K(s("input",{"onUpdate:modelValue":d[3]||(d[3]=h=>o.value.data.commandExact=h),type:"checkbox",class:"checkbox mr-1",onInput:i},null,544),[[at,o.value.data.commandExact]]),i5])]),s("div",a5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},u5,8,l5)])])):o.value.type==="reward_redemption"?(p(),v("div",d5,[s("div",c5,[V(f,{modelValue:o.value.data.command,"onUpdate:modelValue":[d[4]||(d[4]=h=>o.value.data.command=h),i],values:tt(a).map(h=>({value:h.type,label:h.label})),class:Se({"has-background-danger-light":!o.value.data.command,"has-text-danger-dark":!o.value.data.command}),icon:"bullseye"},null,8,["modelValue","values","class"])]),s("div",f5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},p5,8,h5)])])):o.value.type==="timer"?(p(),v("div",g5,[s("div",v5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},$5,8,y5)]),s("div",w5,[_5,s("div",S5,[V(yr,{modelValue:o.value.data.minLines,"onUpdate:modelValue":[d[5]||(d[5]=h=>o.value.data.minLines=h),i]},null,8,["modelValue"]),C5]),E5,s("div",k5,[V(c,{"model-value":o.value.data.minInterval,"onUpdate:modelValue":d[6]||(d[6]=h=>{o.value.data.minInterval=h,i()})},null,8,["model-value"]),T5])]),I5])):o.value.type==="sub"?(p(),v("div",A5,[V5,s("div",D5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},R5,8,O5)])])):o.value.type==="bits"?(p(),v("div",M5,[U5,s("div",N5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},B5,8,L5)])])):o.value.type==="follow"?(p(),v("div",H5,[z5,s("div",j5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},K5,8,W5)])])):o.value.type==="raid"?(p(),v("div",J5,[G5,s("div",Y5,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},Z5,8,X5)])])):(p(),v("div",q5,[A(" Unknown trigger: "+x(o.value)+" ",1),s("div",eP,[s("button",{class:"button is-small",disabled:!e.removable,onClick:l},sP,8,tP)])]))])}}});var iP=De(oP,[["__scopeId","data-v-30781854"]]);const aP={key:0},lP=A(" First chat: "),rP={key:0},uP={key:1},dP={key:1},cP={key:2},fP=s("span",{class:"is-small",title:"Channel Point Reward"},[s("i",{class:"fa fa-bullseye"}),A(": ")],-1),hP={key:3},mP=s("span",{class:"is-small"},"Timer: ",-1),pP={key:4},gP=s("span",{class:"is-small"},"Sub",-1),vP=[gP],yP={key:5},bP=s("span",{class:"is-small"},"Follow",-1),$P=[bP],wP={key:6},_P=s("span",{class:"is-small"},"Bits",-1),SP=[_P],CP={key:7},EP=s("span",{class:"is-small"},"Raid",-1),kP=[EP],TP=ae({__name:"TriggerInfo",props:{trigger:null},setup(e){return(t,n)=>{const o=F("duration-display");return e.trigger.type==="first_chat"?(p(),v("div",aP,[lP,e.trigger.data.since==="alltime"?(p(),v("code",rP,"alltime")):R("",!0),e.trigger.data.since==="stream"?(p(),v("code",uP,"current stream")):R("",!0)])):e.trigger.type==="command"?(p(),v("div",dP,[s("code",null,x(e.trigger.data.command),1)])):e.trigger.type==="reward_redemption"?(p(),v("div",cP,[fP,s("code",null,x(e.trigger.data.command),1)])):e.trigger.type==="timer"?(p(),v("div",hP,[mP,s("code",null,[A(x(e.trigger.data.minLines)+" lines, ",1),V(o,{value:e.trigger.data.minInterval},null,8,["value"])])])):e.trigger.type==="sub"?(p(),v("div",pP,vP)):e.trigger.type==="follow"?(p(),v("div",yP,$P)):e.trigger.type==="bits"?(p(),v("div",wP,SP)):e.trigger.type==="raid"?(p(),v("div",CP,kP)):R("",!0)}}});const IP=ae({props:{playlist:{type:Array,required:!0},filter:{type:Object,required:!0}},data:()=>({hideFilteredOut:!0,filterTagInput:"",tagInput:"",tagInputIdx:-1,itemsDisplayed:20}),computed:{enhancedPlaylist(){return this.playlist.map(e=>({id:e.id,tags:e.tags,yt:e.yt,title:e.title,timestamp:e.timestamp,hidevideo:!!e.hidevideo,last_play:e.last_play,plays:e.plays,goods:e.goods,bads:e.bads,user:e.user,filteredOut:this.isFilteredOut(e)})).slice(0,this.itemsDisplayed)},firstIndex(){return this.filter.tag===""?0:this.playlist.findIndex(e=>e.tags.includes(this.filter.tag))}},watch:{playlist:function(e,t){e.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")},filter:function(e,t){this.playlist.find(n=>!this.isFilteredOut(n))||this.$emit("stopPlayer")}},methods:{toggleVisibility(e,t){const n=!!e.hidevideo;this.sendCtrl("videoVisibility",[n,t])},dragEnd(e){this.sendCtrl("move",[e.oldIndex,e.newIndex])},applyFilter(e){this.$emit("filterChange",e)},sendCtrl(e,t){this.$emit("ctrl",[e,t])},isFilteredOut(e){return this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},startAddTag(e){this.tagInputIdx=e,this.$nextTick(()=>{this.$el.querySelector("table .filter-tag-input").focus()})}}}),Zt=e=>(En("data-v-9de1211a"),e=e(),kn(),e),AP={class:"filters"},VP={class:"currentfilter"},DP=Zt(()=>s("div",{class:"mr-1"}," Filter: ",-1)),OP=Zt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),PP={key:1,class:"field has-addons mr-1 mb-0"},RP={class:"control"},MP={class:"control"},UP={class:"pt-1"},NP=A(" Hide filtered out"),LP={key:0},FP={class:"table is-striped"},BP=Zt(()=>s("thead",null,[s("tr",null,[s("th"),s("th"),s("th"),s("th",null,"Title"),s("th",null,"User"),s("th",null,"Plays"),s("th"),s("th"),s("th"),s("th")])],-1)),HP=Zt(()=>s("td",{class:"pt-4 handle"},[s("i",{class:"fa fa-arrows"})],-1)),zP=["disabled","onClick"],jP=Zt(()=>s("i",{class:"fa fa-play"},null,-1)),WP=[jP],xP=["href"],KP=Zt(()=>s("i",{class:"fa fa-external-link"},null,-1)),JP=["onClick"],GP=Zt(()=>s("i",{class:"fa fa-remove ml-1"},null,-1)),YP=["onClick"],XP=Zt(()=>s("i",{class:"fa fa-plus"},null,-1)),QP=[XP],ZP={key:0,class:"field has-addons"},qP={class:"control"},eR=["onKeyup"],tR={class:"control"},nR=["disabled","onClick"],sR=["onClick"],oR=Zt(()=>s("i",{class:"fa fa-eraser"},null,-1)),iR=[oR],aR=["title","onClick"],lR=["onClick"],rR=Zt(()=>s("i",{class:"fa fa-thumbs-up mr-1"},null,-1)),uR=["onClick"],dR=Zt(()=>s("i",{class:"fa fa-eraser"},null,-1)),cR=[dR],fR=["onClick"],hR=Zt(()=>s("i",{class:"fa fa-thumbs-down mr-1"},null,-1)),mR=["onClick"],pR=Zt(()=>s("i",{class:"fa fa-eraser"},null,-1)),gR=[pR],vR=Zt(()=>s("i",{class:"fa fa-trash"},null,-1)),yR={key:1};function bR(e,t,n,o,a,l){const i=F("doubleclick-button"),u=F("vue-draggable");return p(),v("div",null,[s("div",AP,[s("div",VP,[DP,e.filter.tag?(p(),v("span",{key:0,class:"tag mr-1",onClick:t[0]||(t[0]=r=>e.applyFilter(""))},[A(x(e.filter.tag)+" ",1),OP])):(p(),v("div",PP,[s("div",RP,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.filterTagInput=r),class:"input is-small filter-tag-input",type:"text",onKeyup:t[2]||(t[2]=Jn(r=>e.applyFilter(e.filterTagInput),["enter"]))},null,544),[[fe,e.filterTagInput]])]),s("div",MP,[s("span",{class:"button is-small",onClick:t[3]||(t[3]=r=>e.applyFilter(e.filterTagInput))},"Apply filter")])])),s("label",UP,[K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.hideFilteredOut=r),class:"checkbox",type:"checkbox"},null,512),[[at,e.hideFilteredOut]]),NP])])]),e.playlist.length>0?(p(),v("div",LP,[s("table",FP,[BP,V(u,{"model-value":e.enhancedPlaylist,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:rt(({element:r,index:d})=>[K(s("tr",null,[HP,s("td",null,x(d+1),1),s("td",null,[d!==e.firstIndex?(p(),v("button",{key:0,class:"button is-small",disabled:r.filteredOut?!0:void 0,title:"Play",onClick:f=>e.sendCtrl("playIdx",[d])},WP,8,zP)):R("",!0)]),s("td",null,[s("a",{href:"https://www.youtube.com/watch?v="+r.yt,target:"_blank"},[A(x(r.title||r.yt)+" ",1),KP],8,xP),s("div",null,[(p(!0),v(Y,null,oe(r.tags,(f,c)=>(p(),v("span",{key:c,class:"tag",onClick:h=>e.sendCtrl("rmtag",[f,d])},[A(x(f)+" ",1),GP],8,JP))),128)),s("span",{class:"button is-small",onClick:f=>e.startAddTag(d)},QP,8,YP)]),e.tagInputIdx===d?(p(),v("div",ZP,[s("div",qP,[K(s("input",{"onUpdate:modelValue":t[5]||(t[5]=f=>e.tagInput=f),class:"input is-small filter-tag-input",type:"text",onKeyup:Jn(f=>{e.sendCtrl("addtag",[e.tagInput,d]),e.tagInput=""},["enter"])},null,40,eR),[[fe,e.tagInput]])]),s("div",tR,[s("span",{class:"button is-small",disabled:e.tagInput?void 0:!0,onClick:f=>{e.sendCtrl("addtag",[e.tagInput,d]),e.tagInput=""}},"Add tag",8,nR)])])):R("",!0)]),s("td",null,x(r.user),1),s("td",null,[A(x(r.plays)+"x ",1),s("button",{class:"button is-small ml-1",title:"Reset plays",onClick:f=>e.sendCtrl("resetStatIdx",["plays",d])},iR,8,sR)]),s("td",null,[s("button",{class:"button is-small",title:r.hidevideo?"Video hidden":"Video visible",onClick:f=>e.toggleVisibility(r,d)},[s("i",{class:Se(["fa mr-1",{"fa-eye":!r.hidevideo,"fa-eye-slash":r.hidevideo}])},null,2)],8,aR)]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.sendCtrl("goodIdx",[d])},[rR,A(" "+x(r.goods),1)],8,lR),s("button",{class:"button is-small ml-1",title:"Reset upvotes",onClick:f=>e.sendCtrl("resetStatIdx",["goods",d])},cR,8,uR)]),s("td",null,[s("button",{class:"button is-small",onClick:f=>e.sendCtrl("badIdx",[d])},[hR,A(" "+x(r.bads),1)],8,fR),s("button",{class:"button is-small ml-1",title:"Reset downvotes",onClick:f=>e.sendCtrl("resetStatIdx",["bads",d])},gR,8,mR)]),s("td",null,[V(i,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,title:"Remove",onDoubleclick:f=>e.sendCtrl("rmIdx",[d])},{default:rt(()=>[vR]),_:2},1032,["onDoubleclick"])])],512),[[bo,!e.hideFilteredOut||!r.filteredOut]])]),_:1},8,["model-value","onEnd"])]),s("div",null,[e.itemsDisplayed<e.playlist.length?(p(),v("span",{key:0,class:"button is-small mr-1",onClick:t[6]||(t[6]=r=>e.itemsDisplayed+=20)},"Show more (+20)")):R("",!0),e.itemsDisplayed<e.playlist.length?(p(),v("span",{key:1,class:"button is-small",onClick:t[7]||(t[7]=r=>e.itemsDisplayed=e.playlist.length)},"Show all ("+x(e.playlist.length)+")",1)):R("",!0)])])):(p(),v("div",yR," Playlist is empty "))])}var $R=De(IP,[["render",bR],["__scopeId","data-v-9de1211a"]]);const wR=ae({props:{modelValue:{type:Object,required:!0}},emits:{"update:modelValue":null},data:()=>({cssPresetName:"",cssPresetDropdownActive:!1,settings:$r(),css:{classExamples:[{class:".wrapper",desc:"Wrapper for everything"},{class:".player",desc:"The player"},{class:".list",desc:"The playlist"},{class:".item",desc:"A playlist item"},{class:".playing",desc:"Currently playing item"},{class:".not-playing",desc:"Queued items"},{class:".title",desc:"Wrapper for the title of a playlist item"},{class:".title-content",desc:"Title texts"},{class:".title-orig",desc:"Title text displayed by default"},{class:".title-dupl",desc:"Title text duplicated, useful for marquee effect"},{class:".vote",desc:"Vote elements"},{class:".vote-up",desc:"Up vote element"},{class:".vote-down",desc:"Down vote element"},{class:".meta",desc:"Meta info about an item"},{class:".meta-user",desc:"User who requested the song"},{class:".meta-plays",desc:"How many times the song was played"}],codeExamples:[{desc:"Hide Player:",code:".player { position: absolute; }"},{desc:"Change font to external font:",code:`@import url('https://fonts.googleapis.com/css2?family=Shadows+Into+Light');
body { font-family: 'Shadows into Light'; font-size: 30px; }`},{desc:"Change colors of items:",code:`.playing { background: #222; color: #bbb; }
.not-playing { background: #eee; color: #444; }`},{desc:"Display something in front of the currently playing item title:",code:".playing .title:before { content: '\u{1F3B6} Now Playing \u{1F3B6} ' }"},{desc:"Add a margin between the items:",code:".item { margin-bottom: 20px; }"},{desc:"Hide votes and meta:",code:".vote, .meta { display: none; }"},{desc:"Hide down votes:",code:".vote-down { display: none; }"},{desc:"Hite all items starting from the 6th:",code:".item:nth-child(n+6) { display: none; }"},{desc:"Show only titles and marquee the current song:",code:`.playing .title { overflow: hidden; white-space: nowrap; height: 20px; line-height: 20px; }
.playing .title-content { position: absolute; padding: 0 10px; min-width: 100%; animation: init 5s linear, back 10s linear 5s infinite; }
.playing .title-content.title-dupl { display: block; animation: back 10s linear 0s infinite; }
.title { margin-bottom: 0; }
.meta-left, .meta-right, .thumbnail { display: none; }
@keyframes back {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
}
@keyframes init {
    to { transform: translateX(-100%); }
}`},{desc:"Replace icon for thumbs-up with an image",code:`.meta-right .vote-up { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }
.meta-right .vote-up .fa { display: none; }`},{desc:"Remove text before/after username",code:`.meta-user-text-before,
.meta-user-text-after {display: none}`},{desc:"Add a fontawesome icon before username (\\f075 is the icon unicode, refer to https://fontawesome.com/v4.7/icons/)",code:'.meta-user-name::before { content: "\\f075"; display: inline-block; font: normal normal normal 14px/1 FontAwesome; font-size: inherit; margin-right: .5em; }'},{desc:"Add an image icon before username",code:".meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }"},{desc:"Add an image icon before username for specific user only",code:`[data-user="nc_para_" i] .meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }`},{desc:"Change item display depending on username (this one changes background and makes thumbnails black boxes)",code:`[data-user="nc_para_" i] { background: #dd0066; }
[data-user="nc_para_" i] .thumbnail img { display: none; }
[data-user="nc_para_" i] .thumbnail { background: black; }`},{desc:"Show player left of the playlist (and limit its height to 320px)",code:`.wrapper { display: grid; grid-template-areas: "player playlist"; grid-template-columns: 50% auto; grid-template-rows: 320px; }
.player iframe { height: 320px; }`},{desc:"Show thumbnails only, and display meta info above them",code:`.item { display: block; position: relative; padding: 0; color: white; }
.title, .meta-left, .meta-right { position: absolute; padding: .2em; background: rgba(244,0,90,.9); }
.meta-left { top: 0; left: 0; font-size: 1em; }
.meta-right { top: 0; right: 0; font-size: 1em; }
.title { bottom: 0; left: 0; right: 0; margin-bottom: 0; }
.thumbnail { width: auto; }`},{desc:"Align thumbnails to the bottom",code:".thumbnail { align-self: end; }"},{desc:"Align thumbnails to the center",code:".thumbnail { align-self: center; }"},{desc:"Add a margin/padding to the thumbnails",code:".thumbnail { padding: 20px; }"},{desc:"Show number of plays not at player, but in icon form on the right near votes",code:`.meta-left .meta-user:after,
.meta-left .meta-plays { display: none; }
.meta-right .meta-plays { display: inline-block; }`},{desc:"Show the progress bar only, and no video (progress bar above list)",code:`
.player { height: 5px; padding-bottom: 0; }
.progress { height: 5px; }`},{desc:"Show the progress bar only, and no video (progress bar below list)",code:`
.wrapper { display: grid; grid-template-areas: "list" "player"; }
.player { height: 5px; padding-bottom: 0; grid-area: player }
.list { grid-area: list }
.progress { height: 5px; }`}]}}),created(){this.settings=this.modelValue},methods:{loadPreset(e){const t=this.settings.customCssPresets.find(n=>n.name===e);t?(this.settings.customCss=t.css,this.settings.showProgressBar=t.showProgressBar,this.settings.showThumbnails=t.showThumbnails,this.settings.maxItemsShown=t.maxItemsShown):console.warn(`preset not found: ${e}`),this.sendSettings()},removePreset(e){this.settings.customCssPresets=this.settings.customCssPresets.filter(t=>t.name!==e),this.sendSettings()},savePreset(){const e=this.settings.customCssPresets.findIndex(t=>t.name===this.cssPresetName);e>=0?(this.settings.customCssPresets[e].css=this.settings.customCss,this.settings.customCssPresets[e].showProgressBar=this.settings.showProgressBar,this.settings.customCssPresets[e].showThumbnails=this.settings.showThumbnails,this.settings.customCssPresets[e].maxItemsShown=this.settings.maxItemsShown):this.settings.customCssPresets.push({name:this.cssPresetName,css:this.settings.customCss,showProgressBar:this.settings.showProgressBar,showThumbnails:this.settings.showThumbnails,maxItemsShown:this.settings.maxItemsShown}),this.sendSettings()},hideVideoImageChanged(e){this.settings.hideVideoImage=e,this.sendSettings()},sendSettings(){this.$emit("update:modelValue",this.settings)}}}),nt=e=>(En("data-v-3d064d6c"),e=e(),kn(),e),_R={key:0,ref:"table",class:"table is-striped"},SR=nt(()=>s("tr",null,[s("td",{colspan:"3"}," General ")],-1)),CR=nt(()=>s("td",null,[s("code",null,"settings.volume")],-1)),ER=nt(()=>s("td",null,"Base volume for all songs played.",-1)),kR=nt(()=>s("td",null,[s("code",null,"settings.initAutoplay")],-1)),TR=nt(()=>s("td",null,"If checked, the widget will autoplay when first opened.",-1)),IR=nt(()=>s("td",null,[s("code",null,"settings.hideVideoImage")],-1)),AR=nt(()=>s("td",null,"Image to display when a video is hidden.",-1)),VR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.viewer")],-1)),DR=nt(()=>s("td",null,[A(" Limits the maximum duration of songs that viewers can add/request. ("),s("code",null,"0"),A(" = unlimited, for example: "),s("code",null,"5m"),A(", "),s("code",null,"1h"),A(", ...) ")],-1)),OR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.mod")],-1)),PR=nt(()=>s("td",null,[A(" Limits the maximum duration of songs that mods can add/request. ("),s("code",null,"0"),A(" = unlimited, for example: "),s("code",null,"5m"),A(", "),s("code",null,"1h"),A(", ...) ")],-1)),RR=nt(()=>s("td",null,[s("code",null,"settings.maxSongLength.sub")],-1)),MR=nt(()=>s("td",null,[A(" Limits the maximum duration of songs that subscribers can add/request. ("),s("code",null,"0"),A(" = unlimited, for example: "),s("code",null,"5m"),A(", "),s("code",null,"1h"),A(", ...) ")],-1)),UR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.viewer")],-1)),NR=nt(()=>s("td",null,"Number of new songs that viewers can request. (0 = unlimited)",-1)),LR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.mod")],-1)),FR=nt(()=>s("td",null,"Number of new songs that mods can request. (0 = unlimited)",-1)),BR=nt(()=>s("td",null,[s("code",null,"settings.maxSongsQueued.sub")],-1)),HR=nt(()=>s("td",null,"Number of new songs that subscribers can request. (0 = unlimited)",-1)),zR=nt(()=>s("tr",null,[s("td",{colspan:"3"}," Visuals ")],-1)),jR=nt(()=>s("td",null,[s("code",null,"settings.showProgressBar")],-1)),WR=nt(()=>s("td",null,"Render a progress bar in the bottom part of the video in the widget.",-1)),xR=nt(()=>s("td",null,[s("code",null,"settings.showThumbnails")],-1)),KR={class:"mr-1"},JR=A("Off"),GR={class:"mr-1"},YR=A("Left"),XR={class:"mr-1"},QR=A("Right"),ZR=nt(()=>s("td",null,"Render video thumbnails in the widget.",-1)),qR=nt(()=>s("td",null,[s("code",null,"settings.maxItemsShown")],-1)),e6=nt(()=>s("td",null,"Max. number of items displayed in the playlist. Set to -1 for no limit.",-1)),t6=nt(()=>s("code",null,"settings.customCss",-1)),n6={class:"field has-addons mr-1"},s6={class:"control is-expanded"},o6={class:"control"},i6=["onClick"],a6=["onClick"],l6=nt(()=>s("i",{class:"fa fa-remove"},null,-1)),r6=[l6],u6=nt(()=>s("p",null,"Classes that can be used for styling:",-1)),d6={class:"table"},c6=nt(()=>s("thead",null,[s("tr",null,[s("th",null,"Class"),s("th",null,"Description")])],-1)),f6=nt(()=>s("p",null,[s("b",null,"Examples:")],-1));function h6(e,t,n,o,a,l){const i=F("volume-slider"),u=F("image-upload"),r=F("duration-input");return p(),v("div",null,[e.settings?(p(),v("table",_R,[s("tbody",null,[SR,s("tr",null,[CR,s("td",null,[V(i,{modelValue:e.settings.volume,"onUpdate:modelValue":[t[0]||(t[0]=d=>e.settings.volume=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),ER]),s("tr",null,[kR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.initAutoplay=d),type:"checkbox","on:update:modelValue":t[2]||(t[2]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[at,e.settings.initAutoplay]])]),TR]),s("tr",null,[IR,s("td",null,[V(u,{modelValue:e.settings.hideVideoImage,"onUpdate:modelValue":[t[3]||(t[3]=d=>e.settings.hideVideoImage=d),e.hideVideoImageChanged],width:"100px",height:"50px",class:"mb-1"},null,8,["modelValue","onUpdate:modelValue"])]),AR]),s("tr",null,[VR,s("td",null,[V(r,{modelValue:e.settings.maxSongLength.viewer,"onUpdate:modelValue":[t[4]||(t[4]=d=>e.settings.maxSongLength.viewer=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),DR]),s("tr",null,[OR,s("td",null,[V(r,{modelValue:e.settings.maxSongLength.mod,"onUpdate:modelValue":[t[5]||(t[5]=d=>e.settings.maxSongLength.mod=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),PR]),s("tr",null,[RR,s("td",null,[V(r,{modelValue:e.settings.maxSongLength.sub,"onUpdate:modelValue":[t[6]||(t[6]=d=>e.settings.maxSongLength.sub=d),e.sendSettings]},null,8,["modelValue","onUpdate:modelValue"])]),MR]),s("tr",null,[UR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>e.settings.maxSongsQueued.viewer=d),class:"input is-small",type:"number","on:update:modelValue":t[8]||(t[8]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[fe,e.settings.maxSongsQueued.viewer]])]),NR]),s("tr",null,[LR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[9]||(t[9]=d=>e.settings.maxSongsQueued.mod=d),class:"input is-small",type:"number","on:update:modelValue":t[10]||(t[10]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[fe,e.settings.maxSongsQueued.mod]])]),FR]),s("tr",null,[BR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>e.settings.maxSongsQueued.sub=d),class:"input is-small",type:"number","on:update:modelValue":t[12]||(t[12]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[fe,e.settings.maxSongsQueued.sub]])]),HR]),zR,s("tr",null,[jR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[13]||(t[13]=d=>e.settings.showProgressBar=d),type:"checkbox","on:update:modelValue":t[14]||(t[14]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[at,e.settings.showProgressBar]])]),WR]),s("tr",null,[xR,s("td",null,[s("label",KR,[K(s("input",{"onUpdate:modelValue":t[15]||(t[15]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:!1,"on:update:modelValue":t[16]||(t[16]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Yt,e.settings.showThumbnails]]),JR]),s("label",GR,[K(s("input",{"onUpdate:modelValue":t[17]||(t[17]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:"left","on:update:modelValue":t[18]||(t[18]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Yt,e.settings.showThumbnails]]),YR]),s("label",XR,[K(s("input",{"onUpdate:modelValue":t[19]||(t[19]=d=>e.settings.showThumbnails=d),class:"mr-1",type:"radio",value:"right","on:update:modelValue":t[20]||(t[20]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[Yt,e.settings.showThumbnails]]),QR])]),ZR]),s("tr",null,[qR,s("td",null,[K(s("input",{"onUpdate:modelValue":t[21]||(t[21]=d=>e.settings.maxItemsShown=d),type:"number",min:"-1","on:update:modelValue":t[22]||(t[22]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[fe,e.settings.maxItemsShown]])]),e6]),s("tr",null,[s("td",null,[t6,s("div",n6,[s("div",s6,[K(s("input",{"onUpdate:modelValue":t[23]||(t[23]=d=>e.cssPresetName=d),class:"input is-small",onFocus:t[24]||(t[24]=d=>e.cssPresetDropdownActive=!0),onBlur:t[25]||(t[25]=d=>e.cssPresetDropdownActive=!1)},null,544),[[fe,e.cssPresetName]])]),s("div",o6,[s("span",{class:"button is-small",onClick:t[26]||(t[26]=(...d)=>e.savePreset&&e.savePreset(...d))},"Save preset")])]),(p(!0),v(Y,null,oe(e.settings.customCssPresets,(d,f)=>(p(),v("div",{key:f,class:"mb-1"},[s("span",{class:"button is-small",onClick:c=>e.loadPreset(d.name)},x(d.name),9,i6),s("span",{class:"button is-small ml-1",onClick:c=>e.removePreset(d.name)},r6,8,a6)]))),128))]),s("td",null,[K(s("textarea",{"onUpdate:modelValue":t[27]||(t[27]=d=>e.settings.customCss=d),class:"textarea","on:update:modelValue":t[28]||(t[28]=(...d)=>e.sendSettings&&e.sendSettings(...d))},null,544),[[fe,e.settings.customCss]])]),s("td",null,[u6,s("table",d6,[c6,s("tbody",null,[(p(!0),v(Y,null,oe(e.css.classExamples,(d,f)=>(p(),v("tr",{key:f},[s("td",null,[s("code",null,x(d.class),1)]),s("td",null,x(d.desc),1)]))),128))])]),f6,(p(!0),v(Y,null,oe(e.css.codeExamples,(d,f)=>(p(),v("p",{key:f},[A(x(d.desc)+" ",1),s("pre",null,[s("code",null,x(d.code),1)])]))),128))])])])],512)):R("",!0)])}var m6=De(wR,[["render",h6],["__scopeId","data-v-3d064d6c"]]);const p6=ae({props:{tags:Array},data:()=>({editTag:"",tagEditIdx:-1}),methods:{onInputFocus(e,t){this.editTag=e.value,this.tagEditIdx=t},updateTag(e,t){this.$emit("updateTag",[e,t])}}}),g6={class:"table is-striped"},v6=s("tr",null,[s("th",null,"Tag"),s("th"),s("th")],-1),y6=["onKeyup"],b6=["value","onFocus"],$6=["disabled","onClick"];function w6(e,t,n,o,a,l){return p(),v("table",g6,[v6,(p(!0),v(Y,null,oe(e.tags,(i,u)=>(p(),v("tr",{key:u},[s("td",null,[e.tagEditIdx===u?K((p(),v("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=r=>e.editTag=r),type:"text",class:"input is-small",onKeyup:Jn(r=>e.updateTag(i.value,e.editTag),["enter"])},null,40,y6)),[[fe,e.editTag]]):(p(),v("input",{key:1,type:"text",class:"input is-small",value:i.value,onFocus:r=>e.onInputFocus(i,u)},null,40,b6))]),s("td",null,[e.tagEditIdx===u?(p(),v("span",{key:0,class:"button is-small",disabled:i.value===e.editTag?!0:void 0,onClick:r=>e.updateTag(i.value,e.editTag)},"Save",8,$6)):R("",!0)]),s("td",null,x(i.count)+"x",1)]))),128))])}var _6=De(p6,[["render",w6]]);const S6=ae({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,itemStr:"null",newState:"",newSlotDefinitionName:""}),computed:{cardBody(){return this.$refs.cardBody?this.$refs.cardBody:null},allImagesDiv(){return this.$refs.allImagesDiv?this.$refs.allImagesDiv:null},allImages(){var t;const e=[];return(t=this.item)==null||t.slotDefinitions.forEach(n=>{n.items.forEach(o=>{o.states.forEach(a=>{a.frames.forEach(l=>{l.url&&!e.includes(l.url)&&e.push(l.url)})})})}),e},isStateAddable(){return!(!this.item||this.newState===""||this.item.stateDefinitions.find(({value:e})=>e===this.newState))}},watch:{modelValue:{handler(e){this.item=JSON.parse(this.itemStr)}},item:{handler(e){this.itemStr=JSON.stringify(e)},deep:!0},itemStr:{handler(e){const t=JSON.stringify(this.item);try{const n=JSON.parse(e);t!==n&&(this.item=n)}catch(n){console.warn(n)}}}},mounted(){this.itemStr=JSON.stringify(this.modelValue),this.item=JSON.parse(this.itemStr),this.adjustAllImagesDivSize(),window.addEventListener("resize",this.adjustAllImagesDivSize)},unmounted(){window.removeEventListener("resize",this.adjustAllImagesDivSize)},methods:{autoDetectDimensions(){if(this.allImages.length===0)return;const e=new Image;e.onload=()=>{!this.item||(this.item.width=e.width,this.item.height=e.height)},e.src=this.allImages[0]},adjustAllImagesDivSize(){this.$nextTick(()=>{if(!this.cardBody||!this.allImagesDiv)return;const e=this.cardBody.clientHeight;this.allImagesDiv.style.maxHeight=`${e}px`})},imageDragStart(e){if(!e.dataTransfer)return;const n=e.target.getAttribute("data-src");!n||e.dataTransfer.setData("avatar-image-url",n)},emitUpdate(){if(!this.item){console.warn("emitUpdate: this.item not initialized");return}this.$emit("update:modelValue",bf({name:this.item.name,width:parseInt(`${this.item.width}`,10),height:parseInt(`${this.item.height}`,10),stateDefinitions:this.item.stateDefinitions,slotDefinitions:this.item.slotDefinitions,state:this.item.state}))},onSaveClick(){this.emitUpdate()},onSaveAndCloseClick(){this.emitUpdate(),this.$emit("cancel")},onCancelClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},addStateDefinition(){if(!this.item){console.warn("addStateDefinition: this.item not initialized");return}const e={value:this.newState,deletable:!0};this.item.stateDefinitions.push(e);for(let t of this.item.slotDefinitions)for(let n of t.items)n.states.push({state:e.value,frames:[]})},removeStateDefinition(e){if(!this.item){console.warn("removeStateDefinition: this.item not initialized");return}const t=[];for(let o in this.item.stateDefinitions)parseInt(o,10)!==parseInt(`${e}`,10)&&t.push(this.item.stateDefinitions[o]);this.item.stateDefinitions=t;const n=t.map(o=>o.value);for(let o of this.item.slotDefinitions)for(let a of o.items)a.states=a.states.filter(l=>n.includes(l.state))},removeSlotDefinition(e){if(!this.item){console.warn("removeSlotDefinition: this.item not initialized");return}const t=[];for(let n in this.item.slotDefinitions)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.item.slotDefinitions[n]);this.item.slotDefinitions=t},updateSlotDefinition(e,t){if(!this.item){console.warn("updateSlotDefinition: this.item not initialized");return}this.item.slotDefinitions[parseInt(`${e}`,10)]=t},addSlotDefinition(){if(!this.item){console.warn("addSlotDefinition: this.item not initialized");return}const e={slot:"Unnamed slot",defaultItemIndex:-1,items:[]};this.item.slotDefinitions.push(e)},moveSlotUp(e){this.swapItems(e-1,e)},moveSlotDown(e){this.swapItems(e+1,e)},swapItems(e,t){if(!this.item){console.warn("swapItems: this.item not initialized");return}Ua(this.item.slotDefinitions,e,t)}},components:{StringInput:Qt}}),C6={key:0,class:"avatar-editor modal is-active"},E6={class:"modal-card"},k6={class:"modal-card-head"},T6=s("p",{class:"modal-card-title"}," Edit Avatar ",-1),I6={ref:"cardBody",class:"modal-card-body"},A6={class:"columns"},V6={class:"column is-three-quarters"},D6={class:"table is-striped"},O6=s("td",null,"Name:",-1),P6=s("td",null,"Dimensions:",-1),R6=A("\u2716"),M6=A(" Pixels "),U6=s("td",null,"States:",-1),N6=["onClick"],L6=s("i",{class:"fa fa-trash"},null,-1),F6=[L6],B6=["disabled"],H6=s("td",null,"Slots",-1),z6={class:"column"},j6=s("div",null,"JSON:",-1),W6=s("div",null,"All images in use:",-1),x6={ref:"allImagesDiv",class:"avatar-all-images"},K6=["src","data-src"],J6={class:"modal-card-foot"};function G6(e,t,n,o,a,l){const i=F("StringInput"),u=F("avatar-slot-definition-editor");return e.item?(p(),v("div",C6,[s("div",{class:"modal-background",onClick:t[0]||(t[0]=(...r)=>e.onOverlayClick&&e.onOverlayClick(...r))}),s("div",E6,[s("header",k6,[T6,s("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...r)=>e.onCloseClick&&e.onCloseClick(...r))})]),s("section",I6,[s("div",A6,[s("div",V6,[s("table",D6,[s("tbody",null,[s("tr",null,[O6,s("td",null,[K(s("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>e.item.name=r),class:"input is-small"},null,512),[[fe,e.item.name]])])]),s("tr",null,[P6,s("td",null,[K(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>e.item.width=r),class:"input is-small number-input"},null,512),[[fe,e.item.width]]),R6,K(s("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>e.item.height=r),class:"input is-small number-input"},null,512),[[fe,e.item.height]]),M6,e.allImages.length?(p(),v("span",{key:0,class:"button is-small",onClick:t[5]||(t[5]=(...r)=>e.autoDetectDimensions&&e.autoDetectDimensions(...r))},"Auto-detect")):R("",!0)])]),s("tr",null,[U6,s("td",null,[(p(!0),v(Y,null,oe(e.item.stateDefinitions,(r,d)=>(p(),v("span",{key:d,class:"tag"},[s("span",null,x(r.value),1),r.deletable?(p(),v("span",{key:0,class:"ml-1 is-clickable",onClick:f=>e.removeStateDefinition(d)},F6,8,N6)):R("",!0)]))),128)),V(i,{modelValue:e.newState,"onUpdate:modelValue":t[6]||(t[6]=r=>e.newState=r),placeholder:"State"},null,8,["modelValue"]),s("span",{class:"button is-small",disabled:e.isStateAddable?void 0:!0,onClick:t[7]||(t[7]=(...r)=>e.addStateDefinition&&e.addStateDefinition(...r))},"Add custom state",8,B6)])]),s("tr",null,[H6,s("td",null,[(p(!0),v(Y,null,oe(e.item.slotDefinitions,(r,d)=>(p(),_e(u,{key:d,class:"card mb-2","model-value":r,"avatar-def":e.item,"onUpdate:modelValue":f=>e.updateSlotDefinition(d,f),onMoveUp:f=>e.moveSlotUp(d),onMoveDown:f=>e.moveSlotDown(d),onRemove:f=>e.removeSlotDefinition(d)},null,8,["model-value","avatar-def","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"]))),128))])])])]),s("span",{class:"button is-small",onClick:t[8]||(t[8]=(...r)=>e.addSlotDefinition&&e.addSlotDefinition(...r))},"Add slot")]),s("div",z6,[j6,K(s("textarea",{"onUpdate:modelValue":t[9]||(t[9]=r=>e.itemStr=r),class:"textarea mb-2"},null,512),[[fe,e.itemStr]]),W6,s("div",x6,[(p(!0),v(Y,null,oe(e.allImages,(r,d)=>(p(),v("img",{key:d,src:r,draggable:"true",class:"mr-1 mb-1","data-src":r,onDragstart:t[10]||(t[10]=(...f)=>e.imageDragStart&&e.imageDragStart(...f))},null,40,K6))),128))],512)])])],512),s("footer",J6,[s("button",{class:"button is-small is-primary",onClick:t[11]||(t[11]=(...r)=>e.onSaveClick&&e.onSaveClick(...r))}," Save "),s("button",{class:"button is-small is-primary",onClick:t[12]||(t[12]=(...r)=>e.onSaveAndCloseClick&&e.onSaveAndCloseClick(...r))}," Save and close "),s("button",{class:"button is-small",onClick:t[13]||(t[13]=(...r)=>e.onCancelClick&&e.onCancelClick(...r))}," Cancel ")])])])):R("",!0)}var Y6=De(S6,[["render",G6]]);const X6={class:"avatar-slot-definition-editor"},Q6={class:"level avatar-slot-definition-editor-title p-1"},Z6={class:"level-left"},q6={class:"level-item"},eM={class:"level-item"},tM={class:"level-right"},nM={class:"level-item"},sM={class:"level-item"},oM={class:"level-item"},iM=s("i",{class:"fa fa-trash"},null,-1),aM=[iM],lM={class:"p-1"},rM=ae({__name:"AvatarSlotDefinitionEditor",props:{modelValue:{type:Object,required:!0},avatarDef:{type:Object,required:!0}},emits:["update:modelValue","remove","moveUp","moveDown"],setup(e,{emit:t}){const n=e,o=Ce(!1),a=ot(()=>n.modelValue.defaultItemIndex>=0&&n.modelValue.items.length>n.modelValue.defaultItemIndex?n.modelValue.items[n.modelValue.defaultItemIndex]:null),l=ot(()=>{if(!a.value)return[];const g=a.value.states.find(({state:b})=>b==="default");return g?g.frames:[]}),i=()=>{t("update:modelValue",n.modelValue)},u=(g,b)=>{n.modelValue.items[g]=b,i()},r=(g,b)=>{n.modelValue.items=n.modelValue.items.filter((w,_)=>_!==g),g<=n.modelValue.defaultItemIndex&&(n.modelValue.defaultItemIndex=n.modelValue.defaultItemIndex-1),n.modelValue.items.length>0&&n.modelValue.defaultItemIndex<0&&(n.modelValue.defaultItemIndex=0),i()},d=(g,b)=>{n.modelValue.defaultItemIndex=g,i()},f=()=>{const g={title:`${n.modelValue.slot} item ${n.modelValue.items.length+1}`,states:n.avatarDef.stateDefinitions.map(b=>({state:b.value,frames:[]}))};n.modelValue.items.push(g),n.modelValue.defaultItemIndex===-1&&(n.modelValue.defaultItemIndex=0),i()},c=g=>{m(g-1,g)},h=g=>{m(g+1,g)},m=(g,b)=>{Ua(n.modelValue.items,g,b)&&(n.modelValue.defaultItemIndex===g?n.modelValue.defaultItemIndex=b:n.modelValue.defaultItemIndex===b&&(n.modelValue.defaultItemIndex=g))};return(g,b)=>{const w=F("avatar-animation"),_=F("avatar-slot-item-editor");return p(),v("div",X6,[s("div",Q6,[s("div",Z6,[s("div",q6,[V(w,{frames:tt(l),width:32,height:32},null,8,["frames"])]),s("div",eM,[K(s("input",{"onUpdate:modelValue":b[0]||(b[0]=y=>e.modelValue.slot=y),class:Se(["input is-small avatar-slot-definition-editor-title-input",{"is-static":!o.value}]),onFocus:b[1]||(b[1]=y=>o.value=!0),onBlur:b[2]||(b[2]=y=>o.value=!1)},null,34),[[fe,e.modelValue.slot]])])]),s("div",tM,[s("div",nM,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:b[3]||(b[3]=y=>g.$emit("moveUp"))})]),s("div",sM,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:b[4]||(b[4]=y=>g.$emit("moveDown"))})]),s("div",oM,[s("span",{class:"button is-small",onClick:b[5]||(b[5]=y=>g.$emit("remove"))},aM)])])]),s("div",lM,[(p(!0),v(Y,null,oe(e.modelValue.items,(y,$)=>(p(),_e(_,{key:$,class:Se(["card mb-1",{"is-default":$===e.modelValue.defaultItemIndex}]),"model-value":y,"is-default":$===e.modelValue.defaultItemIndex,onMoveUp:S=>c($),onMoveDown:S=>h($),"onUpdate:modelValue":S=>u($,S),onRemove:S=>r($),onMakeDefault:S=>d($)},null,8,["class","model-value","is-default","onMoveUp","onMoveDown","onUpdate:modelValue","onRemove","onMakeDefault"]))),128))]),s("span",{class:"button is-small",onClick:f},"Add item")])}}});const uM={class:"avatar-slot-item-editor p-1"},dM={class:"level"},cM={class:"level-left"},fM={class:"level-item"},hM={class:"level-item"},mM={key:0,class:"has-text-success mr-1"},pM=s("i",{class:"fa fa-check"},null,-1),gM=A(" Default"),vM=[pM,gM],yM={class:"level-right"},bM={class:"level-item"},$M={class:"level-item"},wM={class:"level-item"},_M=s("i",{class:"fa fa-trash"},null,-1),SM=[_M],CM=ae({__name:"AvatarSlotItemEditor",props:{modelValue:{type:Object,required:!0},isDefault:{type:Boolean,required:!0}},emits:["update:modelValue","makeDefault","moveUp","moveDown","remove"],setup(e,{emit:t}){const n=e,o=Ce(!1),a=ot(()=>n.modelValue.states.find(({state:i})=>i==="default")),l=()=>{t("makeDefault",n.modelValue)};return(i,u)=>{const r=F("avatar-slot-item-state-editor");return p(),v("div",uM,[s("div",dM,[s("div",cM,[s("div",fM,[K(s("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>e.modelValue.title=d),type:"text",class:Se(["input is-small avatar-slot-item-editor-title",{"is-static":!o.value}]),onFocus:u[1]||(u[1]=d=>o.value=!0),onBlur:u[2]||(u[2]=d=>o.value=!1)},null,34),[[fe,e.modelValue.title]])]),s("div",hM,[e.isDefault?(p(),v("span",mM,vM)):(p(),v("span",{key:1,class:"button is-small",onClick:l},"Make default"))])]),s("div",yM,[s("div",bM,[s("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:u[3]||(u[3]=d=>i.$emit("moveUp"))})]),s("div",$M,[s("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:u[4]||(u[4]=d=>i.$emit("moveDown"))})]),s("div",wM,[s("span",{class:"button is-small",onClick:u[5]||(u[5]=d=>i.$emit("remove"))},SM)])])]),(p(!0),v(Y,null,oe(e.modelValue.states,(d,f)=>(p(),_e(r,{key:f,class:"mr-1","model-value":d,"default-state":tt(a)},null,8,["model-value","default-state"]))),128))])}}});const EM=ae({__name:"AvatarPreview",props:{avatar:{type:Object,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=ot(()=>t.avatar.slotDefinitions.map(o=>{const a=o.items[o.defaultItemIndex];if(!a)return{state:"",frames:[]};const l=a.states.find(({state:i})=>i==="default");return l||{state:"",frames:[]}}));return(o,a)=>{const l=F("avatar-animation");return p(),v("div",{class:"avatar-preview",style:lt({width:`${e.width}px`,height:`${e.height}px`})},[(p(!0),v(Y,null,oe(tt(n),(i,u)=>(p(),_e(l,{key:u,frames:i.frames,width:e.width,height:e.height},null,8,["frames","width","height"]))),128))],4)}}});const kM=ae({props:{modelValue:{type:Object,required:!0},defaultState:{type:Object,required:!0}},data(){return{draggingOver:!1,editing:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},methods:{onDragOver(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragLeave(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation()},onDragEnter(e){!e.dataTransfer||e.dataTransfer.getData("avatar-image-url")&&e.preventDefault()},onDrop(e){if(!!e.dataTransfer)if(this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("avatar-image-url")){const t={url:e.dataTransfer.getData("avatar-image-url"),duration:100};this.modelValue.frames.push(t)}else{const t=bi(e);t&&this.uploadComponent.uploadFile(t)}},onUploaded(e){this.modelValue.frames.push({url:e.urlpath,duration:100})},onOverlayClick(){this.editing=!1},frameChanged(e,t){t.url===""?this.modelValue.frames=this.modelValue.frames.filter((n,o)=>o!==e):this.modelValue.frames[e]=t},addFrame(){const e={url:"",duration:100};this.modelValue.frames.push(e)}}}),TM={class:"avatar-slot-item-state-editor-title"},IM={class:"avatar-animation-card mr-1"},AM={class:"avatar-animation-frame"},VM=s("i",{class:"fa fa-plus"},null,-1),DM=[VM];function OM(e,t,n,o,a,l){const i=F("avatar-animation"),u=F("avatar-frame-upload"),r=F("upload-input");return p(),v("div",{class:Se(["avatar-slot-item-state-editor card",{"dragging-over":e.draggingOver}]),onDragover:t[1]||(t[1]=(...d)=>e.onDragOver&&e.onDragOver(...d)),onDragenter:t[2]||(t[2]=(...d)=>e.onDragEnter&&e.onDragEnter(...d)),onDragleave:t[3]||(t[3]=(...d)=>e.onDragLeave&&e.onDragLeave(...d)),onDrop:t[4]||(t[4]=(...d)=>e.onDrop&&e.onDrop(...d))},[s("div",TM,x(e.modelValue.state),1),e.modelValue.frames.length?(p(),_e(i,{key:0,frames:e.modelValue.frames},null,8,["frames"])):(p(),_e(i,{key:1,frames:e.defaultState.frames,class:"avatar-fallback-animation"},null,8,["frames"])),s("div",null,[(p(!0),v(Y,null,oe(e.modelValue.frames,(d,f)=>(p(),v("div",{key:f,class:"avatar-animation-card mr-1"},[V(u,{"model-value":d,"onUpdate:modelValue":c=>e.frameChanged(f,c)},null,8,["model-value","onUpdate:modelValue"])]))),128)),s("div",IM,[s("span",AM,[s("span",{class:"button is-small",onClick:t[0]||(t[0]=(...d)=>e.addFrame&&e.addFrame(...d))},DM)])])]),K(V(r,{ref:"uploadComponent",accept:"image/*",label:"",onUploaded:e.onUploaded},null,8,["onUploaded"]),[[bo,!1]])],34)}var PM=De(kM,[["render",OM]]);const RM=e=>(En("data-v-864f7452"),e=e(),kn(),e),MM=RM(()=>s("i",{class:"fa fa-trash"},null,-1)),UM=[MM],NM=["src"],LM=ae({__name:"AvatarFrameUpload",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Ce({url:"",duration:100}),a=Ce(!1),l=Ce(),i=()=>{o.value=n.modelValue!==null?JSON.parse(JSON.stringify(n.modelValue)):{url:"",duration:100}},u=()=>{t("update:modelValue",JSON.parse(JSON.stringify(o.value)))},r=()=>{t("update:modelValue",JSON.parse(JSON.stringify(o.value)))},d=()=>{o.value={url:"",duration:100},u()},f=g=>{o.value={url:g.urlpath,duration:100},u()},c=g=>{a.value=!1,g.preventDefault(),g.stopPropagation();const b=bi(g);return b&&(o.value.url="",l.value.uploadFile(b)),!1},h=g=>(a.value=!0,g.preventDefault(),g.stopPropagation(),!1),m=g=>(a.value=!1,g.preventDefault(),g.stopPropagation(),!1);return Ht(()=>{It(()=>n.modelValue,()=>{i()}),i()}),(g,b)=>{const w=F("upload-input");return p(),v("span",{class:Se(["avatar-animation-frame",{"dragging-over":a.value}]),onDrop:c,onDragover:h,onDragleave:m},[s("div",{class:"avatar-animation-frame-remove"},[s("span",{class:"button is-small",onClick:d},UM)]),o.value.url?(p(),v("img",{key:0,src:o.value.url,width:"64",height:"64"},null,8,NM)):R("",!0),K(V(w,{ref_key:"uploadComponent",ref:l,accept:"image/*",label:"",class:"avatar-animation-frame-upload",onUploaded:f},null,512),[[bo,!o.value.url]]),V(yr,{modelValue:o.value.duration,"onUpdate:modelValue":[b[0]||(b[0]=_=>o.value.duration=_),r]},null,8,["modelValue"])],34)}}});var FM=De(LM,[["__scopeId","data-v-864f7452"]]);const BM=["src","width","height"],Wf=ae({__name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=Ce(null),o=Ce(-1),a=ot(()=>o.value>=0&&o.value<t.frames.length?t.frames[o.value].url:""),l=()=>{if(t.frames.length===0){o.value=-1;return}n.value&&(clearTimeout(n.value),n.value=null),o.value++,o.value>=t.frames.length&&(o.value=0),n.value=setTimeout(()=>{l()},t.frames[o.value].duration)};return Ht(()=>{l(),It(()=>t.frames,()=>{o.value=-1,l()},{deep:!0})}),Yn(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(i,u)=>(p(),v("span",{class:"avatar-animation",style:lt({width:`${e.width}px`,height:`${e.width}px`})},[tt(a)?(p(),v("img",{key:0,src:tt(a),width:e.width,height:e.height},null,8,BM)):(p(),v("span",{key:1,style:lt({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}});class HM{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const o=n.inputBuffer.getChannelData(0);let a,l=0,i=0;for(a=0;a<o.length;++a)l+=o[a]*o[a],Math.abs(o[a])>.99&&(i+=1);this.instant=Math.sqrt(l/o.length),this.slow=.95*this.slow+.05*this.instant,this.clip=i/o.length}}connectToSource(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof n!="undefined"&&n(null)}catch(o){console.error(o),typeof n!="undefined"&&n(o)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const zM=e=>new URLSearchParams(window.location.search).get(e)||"";var Cn={wsClient:e=>new kf(`${e.wsUrl}/widget_${e.widget}`,e.widgetToken),getParam:zM};const Ss=Ws("Page.vue"),No="default",jM="speaking",Yu={state:No,frames:[]},Xu=.05,WM=ae({components:{AvatarAnimation:Wf},props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data(){return{ws:null,speaking:!1,initialized:!1,audioInitialized:!1,tuberIdx:-1,avatarFixed:"",settings:Pl(),showControls:!0}},computed:{tuberDef(){return this.tuberIdx<0||this.tuberIdx>=this.settings.avatarDefinitions.length?null:this.settings.avatarDefinitions[this.tuberIdx]},slots(){const e=this.tuberDef;return e?e.state.slots:{}},lockedState(){var e;return((e=this.tuberDef)==null?void 0:e.state.lockedState)||No},animationName(){return this.lockedState!==No?this.lockedState:this.speaking?jM:No},animations(){return this.tuberDef?this.tuberDef.slotDefinitions.map(this.getSlotStateDefinition):[]}},created(){Ln(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]),this.avatarFixed=Cn.getParam("avatar")},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles()});let t=e.state.tuberIdx;this.avatarFixed&&(t=this.settings.avatarDefinitions.findIndex(n=>n.name===this.avatarFixed)),this.setTuber(t===-1?0:t),this.initialized=!0}),this.ws.onMessage("ctrl",({data:e})=>{if(e.ctrl==="setSlot"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1],o=e.args[2];this.setSlot(n,o)}}else if(e.ctrl==="setSpeaking"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.setSpeaking(n)}}else if(e.ctrl==="lockState"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.lockState(n)}}else if(e.ctrl==="setTuber"){const t=e.args[0];this.setTuber(t)}}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{getSlotStateDefinition(e){const t=this.getItem(e);if(!t)return Yu;const n=t.states.find(({state:o})=>o===this.animationName);return n&&n.frames.length>0?n:t.states.find(({state:o})=>o===No)||Yu},getItem(e){if(e.items.length===0)return null;let t=this.slots[e.slot];return typeof t=="undefined"&&(t=e.defaultItemIndex),(t<0||t>=e.items.length)&&(t=0),e.items[t]},ctrl(e,t){if(!this.ws){Ss.error("ctrl: this.ws not initialized");return}this.ws.send(JSON.stringify({event:"ctrl",data:{ctrl:e,args:t}}))},setSlot(e,t,n=!1){this.slots[e]!==t&&(this.settings.avatarDefinitions[this.tuberIdx].state.slots[e]=t,n&&this.ctrl("setSlot",[this.tuberIdx,e,t]))},setSpeaking(e,t=!1){this.speaking!==e&&(this.speaking=e,t&&this.ctrl("setSpeaking",[this.tuberIdx,e]))},lockState(e,t=!1){this.lockedState!==e&&(this.settings.avatarDefinitions[this.tuberIdx].state.lockedState=e,t&&this.ctrl("lockState",[this.tuberIdx,e]))},setTuber(e,t=!1){if(!this.settings){Ss.error("setTuber: this.settings not initialized");return}if(this.avatarFixed&&(e=this.settings.avatarDefinitions.findIndex(l=>l.name===this.avatarFixed)),e>=this.settings.avatarDefinitions.length&&(Ss.info("setTuber: index out of bounds. using index 0"),e=0),e<0||e>=this.settings.avatarDefinitions.length){Ss.error("setTuber: index out of bounds");return}const n=this.settings.avatarDefinitions[e],o=JSON.stringify(n),a=JSON.stringify(this.tuberDef);o!==a&&(this.tuberIdx=e,t&&this.ctrl("setTuber",[this.tuberIdx]))},startMic(){if(this.audioInitialized)return;if(this.audioInitialized=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const e=window.AudioContext||window.webkitAudioContext,t=new e;navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{const o=new HM(t);o.connectToSource(n,a=>{if(a){Ss.error({e:a});return}setInterval(()=>{const l=this.speaking?Xu/2:Xu;this.setSpeaking(o.instant>l,!0)},100)})}).catch(n=>{Ss.error({e:n}),alert("Error capturing audio.")})},applyStyles(){if(!this.settings){Ss.error("applyStyles: this.settings not initialized");return}const e=this.settings.styles;e.bgColorEnabled&&e.bgColor!=null?document.body.style.backgroundColor=e.bgColor:document.body.style.backgroundColor=""}}}),xM={key:0,class:"base"},KM={key:0},JM={key:0},GM=s("td",null,"Tubers:",-1),YM=["onClick"],XM={key:1},QM=s("td",{colspan:"2"},[s("hr")],-1),ZM=[QM],qM=s("td",null,"Start Mic",-1),eU=s("tr",null,[s("td",{colspan:"2"},[s("hr")])],-1),tU=["onClick"],nU=s("td",null,"State:",-1),sU=["onClick"],oU={key:1,class:"toggle-controls"};function iU(e,t,n,o,a,l){const i=F("avatar-animation");return e.initialized?(p(),v("div",xM,[s("div",{class:"avatar",style:lt({width:`${e.tuberDef.width}px`,height:`${e.tuberDef.height}px`})},[(p(!0),v(Y,null,oe(e.animations,(u,r)=>(p(),_e(i,{key:r,frames:u.frames,width:e.tuberDef.width,height:e.tuberDef.height},null,8,["frames","width","height"]))),128))],4),e.controls&&e.showControls?(p(),v("table",KM,[e.avatarFixed?R("",!0):(p(),v("tr",JM,[GM,s("td",null,[(p(!0),v(Y,null,oe(e.settings.avatarDefinitions,(u,r)=>(p(),v("button",{key:r,class:Se({active:e.tuberIdx===r}),onClick:d=>e.setTuber(r,!0)},x(u.name),11,YM))),128))])])),e.avatarFixed?R("",!0):(p(),v("tr",XM,ZM)),s("tr",null,[qM,s("td",null,[s("button",{onClick:t[0]||(t[0]=(...u)=>e.startMic&&e.startMic(...u))}," Start ")])]),eU,(p(!0),v(Y,null,oe(e.tuberDef.slotDefinitions,(u,r)=>(p(),v("tr",{key:r},[s("td",null,x(u.slot)+":",1),s("td",null,[(p(!0),v(Y,null,oe(u.items,(d,f)=>(p(),v("button",{key:f,class:Se({active:e.slots[u.slot]===f}),onClick:c=>e.setSlot(u.slot,f,!0)},x(d.title),11,tU))),128))])]))),128)),s("tr",null,[nU,s("td",null,[(p(!0),v(Y,null,oe(e.tuberDef.stateDefinitions,(u,r)=>(p(),v("button",{key:r,class:Se({active:e.lockedState===u.value}),onClick:d=>e.lockState(u.value,!0)},x(u.value),11,sU))),128))])])])):R("",!0),e.controls?(p(),v("div",oU,[s("button",{onClick:t[1]||(t[1]=u=>e.showControls=!e.showControls)}," Toggle controls ")])):R("",!0)])):R("",!0)}var aU=De(WM,[["render",iU]]);const lU=ae({}),rU={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},uU=s("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),dU=[uU];function cU(e,t,n,o,a,l){return p(),v("svg",rU,dU)}var fU=De(lU,[["render",cU]]);const hU=ae({}),mU={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pU=s("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),gU=[pU];function vU(e,t,n,o,a,l){return p(),v("svg",mU,gU)}var yU=De(hU,[["render",vU]]);const bU=ae({}),$U={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wU=s("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),_U=[wU];function SU(e,t,n,o,a,l){return p(),v("svg",$U,_U)}var CU=De(bU,[["render",SU]]);const EU=ae({}),kU={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},TU=s("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),IU=[TU];function AU(e,t,n,o,a,l){return p(),v("svg",kU,IU)}var VU=De(EU,[["render",AU]]);const DU=ae({}),OU={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},PU=s("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),RU=[PU];function MU(e,t,n,o,a,l){return p(),v("svg",OU,RU)}var UU=De(DU,[["render",MU]]);const NU=ae({}),LU={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},FU=s("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),BU=[FU];function HU(e,t,n,o,a,l){return p(),v("svg",LU,BU)}var zU=De(NU,[["render",HU]]);const Qu=Ws("Page.vue"),Zu=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-n.x,y:t.targetTouches[0].clientY-n.y}},qu=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.x,y:t.clientY-n.y}},jU=e=>{const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),o=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(n*299+o*587+a*114)/1e3>69},WU=(e,t,n)=>{if(e==="color-sampler")return"crosshair";const o=document.createElement("canvas"),a=o.getContext("2d"),l=10,i=3,u=t+l+i+l+i,r=Math.round(u/2);return o.width=u+1,o.height=u+1,a.fillStyle="#AAA",a.fillRect(0,r-1,l,3),a.fillRect(o.width-l,r-1,l,3),a.fillRect(r-1,0,3,l),a.fillRect(r-1,o.height-l,3,l),a.fillStyle="#666",a.fillRect(1,r,l-2,1),a.fillRect(o.width-l+1,r,l-2,1),a.fillRect(r,1,1,l-2),a.fillRect(r,o.height-l+1,1,l-2),a.beginPath(),a.translate(.5,.5),a.fillStyle=n,a.strokeStyle=jU(String(a.fillStyle))?"#000":"#fff",a.arc(r,r,t/2,0,2*Math.PI),a.translate(-.5,-.5),a.closePath(),e!=="eraser"&&a.fill(),a.stroke(),`url(${o.toDataURL()}) ${r} ${r}, default`},ed=(e,t,n,o)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=n,e.arc(t[0].x,t[0].y,o/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=n,e.lineWidth=o,e.moveTo(t[0].x,t[0].y);for(let a=1;a<t.length;a++)e.lineTo(t[a].x,t[a].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},xU=ae({components:{IconPen:fU,IconEyedropper:yU,IconSend:CU,IconUndo:VU,IconEraser:UU,IconClear:zU},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},canvasHolderStyle(){return{width:`${this.canvasWidth+4}px`,height:`${this.canvasHeight+4}px`}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},styles(){return{cursor:this.cursor}},cursor(){return WU(this.tool,this.size,this.color)}},created(){Ln(()=>Promise.resolve({}),["assets/main.2e35d04c.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=Cn.wsClient(this.wdata);const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{console.log("inited",t),this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(n=>n.path),this.images.length>0&&t.settings.autofillLatest&&this.stack.length===0&&!this.drawing&&this.modify(this.images[0])}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const o=new Date,a=this.sending.date.getTime()+500-o.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,a))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const o=new Date,a=this.sending.date.getTime()+500-o.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,a))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)},methods:{updateTransparency(){this.draftcanvas.style.opacity=`${this.transparency/100}`},opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(n=>{t.src=e,t.onload=()=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData()),n()}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",ed(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",ed(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(Zu(this.draftcanvas,e))},mousedown(e){this.startDraw(qu(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(Zu(this.draftcanvas,e))},mousemove(e){this.continueDraw(qu(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){Qu.error("submitImage: this.ws not set");return}if(this.sending.nonce){Qu.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=Be(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,n,o,a]=this.finalctx.getImageData(e.x,e.y,1,1).data,l=i=>cs(i.toString(16),"00");return a?`#${l(t)}${l(n)}${l(o)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}}}),KU={id:"drawcast"},JU={class:"streamer_message"},GU={class:"streamer_message_inner"},YU={class:"draw_panel"},XU={class:"draw_panel_inner"},QU={class:"draw_panel_top"},ZU={class:"draw_canvas_holder"},qU=["width","height"],eN=["width","height"],tN={class:"v355_1274"},nN={class:"card draw_tools_panel"},sN={class:"draw_tools_tool_buttons"},oN={class:"slider"},iN=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-small bubble-dark"})],-1),aN={class:"slider-input-holder"},lN=["max"],rN=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),uN={class:"slider"},dN=s("div",{class:"bubble bubble-left"},[s("div",{class:"bubble-big bubble-light"})],-1),cN={class:"slider-input-holder"},fN=["max"],hN=s("div",{class:"bubble bubble-right"},[s("div",{class:"bubble-big bubble-dark"})],-1),mN={class:"visual_background"},pN=s("div",{class:"visual_background_title"}," Visual Background: ",-1),gN={class:"visual_background_colors"},vN=["onClick"],yN={class:"hotkey-help"},bN=s("div",{class:"hotkey-help-title"}," Hotkeys ",-1),$N={class:"draw_panel_bottom"},wN={class:"draw_colors"},_N={class:"draw_colors_current"},SN={class:"draw_colors_current_label clickable"},CN={class:"draw_colors_current_icon"},EN={class:"draw_colors_palette"},kN=["onClick"],TN=s("div",null,null,-1),IN={class:"drawing_panel_bottom_right"},AN=s("span",{class:"send_button_text"},"\u23F3 Sending...",-1),VN=[AN],DN={class:"send_button_text"},ON={class:"drawings_panel_title"},PN={class:"drawings_panel_title_inner"},RN={key:0,class:"drawing_panel_drawings"},MN=["src","onClick"],UN={class:"drawings-panel recent-drawings-panel"},NN={class:"drawings_panel_title"},LN={class:"drawings_panel_title_inner"},FN={class:"drawing_panel_drawings"},BN=["src","onClick"],HN=s("div",{class:"dotdotdot"},null,-1),zN=uc('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),jN=[zN],WN={key:0,class:"dialog success-dialog"},xN={class:"dialog-container"},KN={class:"dialog-image"},JN=s("div",{class:"dialog-title"}," Success! ",-1),GN=["innerHTML"],YN={class:"dialog-footer"},XN={key:1,class:"dialog confirm-dialog"},QN={class:"dialog-container"},ZN=["innerHTML"],qN={class:"dialog-footer"},e7={key:2,class:"dialog confirm-dialog"},t7={class:"dialog-container"},n7=["innerHTML"],s7={class:"dialog-footer"},o7={key:3,class:"dialog clear-dialog"},i7={class:"dialog-container"},a7={class:"dialog-image"},l7=["innerHTML"],r7={class:"dialog-footer"};function u7(e,t,n,o,a,l){const i=F("icon-pen"),u=F("icon-eraser"),r=F("icon-eyedropper"),d=F("icon-undo"),f=F("icon-clear"),c=F("icon-send");return p(),v("div",KU,[s("div",{class:Se(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(p(),v("div",{key:0,class:Se(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(p(),v("div",{key:0,class:"streamer_avatar",style:lt({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):R("",!0),s("div",JU,[s("span",GU,x(e.customDescription),1)])],2)):R("",!0),s("div",YU,[s("div",XU,[s("div",QU,[s("div",ZU,[s("div",{class:Se(["draw_canvas_holder_inner",e.canvasClasses]),style:lt(e.canvasHolderStyle)},[s("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:lt(e.styles)},null,12,qU),s("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:lt(e.styles),onTouchstart:t[0]||(t[0]=ta((...h)=>e.touchstart&&e.touchstart(...h),["prevent"])),onTouchmove:t[1]||(t[1]=ta((...h)=>e.touchmove&&e.touchmove(...h),["prevent"])),onMousedown:t[2]||(t[2]=(...h)=>e.mousedown&&e.mousedown(...h))},null,44,eN)],6)]),s("div",tN,[s("div",nN,[s("div",sN,[s("div",{class:Se(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=h=>e.tool="pen")},[V(i)],2),s("div",{class:Se(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=h=>e.tool="eraser")},[V(u)],2),s("div",{class:Se(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=h=>e.tool="color-sampler")},[V(r)],2),s("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...h)=>e.undo&&e.undo(...h))},[V(d)]),s("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...h)=>e.showClearDialog&&e.showClearDialog(...h))},[V(f)])]),s("div",oN,[iN,s("div",aN,[K(s("input",{"onUpdate:modelValue":t[8]||(t[8]=h=>e.sizeIdx=h),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,lN),[[fe,e.sizeIdx]])]),rN]),s("div",uN,[dN,s("div",cN,[K(s("input",{"onUpdate:modelValue":t[9]||(t[9]=h=>e.transparencyIdx=h),type:"range",min:"0",max:e.transparencies.length-1,step:"1","on:update:modelValue":t[10]||(t[10]=(...h)=>e.updateTransparency&&e.updateTransparency(...h))},null,40,fN),[[fe,e.transparencyIdx]])]),hN]),s("div",mN,[pN,s("div",gN,[(p(),v(Y,null,oe(["transparent-light","transparent-dark"],(h,m)=>s("div",{key:m,class:Se(["visual_background_button clickable",{"is-current":e.canvasBg===h,[`bg-${h}`]:!0}]),onClick:g=>e.opt("canvasBg",h)},null,10,vN)),64))])])]),s("div",yN,[bN,(p(!0),v(Y,null,oe(e.hotkeys,(h,m)=>(p(),v("div",{key:m,class:"hotkey-help-item"},x(h),1))),128))])])]),s("div",$N,[s("div",wN,[s("div",_N,[s("label",SN,[K(s("input",{"onUpdate:modelValue":t[11]||(t[11]=h=>e.color=h),type:"color"},null,512),[[fe,e.color]]),s("span",{class:Se(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:lt(e.currentColorStyle)},null,6),s("div",CN,[V(r)])])]),s("div",EN,[(p(!0),v(Y,null,oe(e.palette,(h,m)=>(p(),v("div",{key:m,class:"palette_color clickable",style:lt({backgroundColor:h}),onClick:g=>{e.color=h,e.tool="pen"}},null,12,kN))),128))])]),TN,s("div",IN,[e.sending.nonce?(p(),v("div",{key:0,class:"button button-primary send_button",onClick:t[12]||(t[12]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},VN)):(p(),v("div",{key:1,class:"button button-primary send_button clickable",onClick:t[13]||(t[13]=(...h)=>e.prepareSubmitImage&&e.prepareSubmitImage(...h))},[V(c),s("span",DN,x(e.submitButtonText),1)]))])])])]),(p(!0),v(Y,null,oe(e.favoriteListsFiltered,(h,m)=>(p(),v("div",{key:m,class:"drawings-panel favorite-drawings-panel"},[s("div",ON,[s("span",PN,x(h.title||"Streamer's favorites:"),1)]),e.nonfavorites.length?(p(),v("div",RN,[(p(!0),v(Y,null,oe(h.list,(g,b)=>(p(),v("img",{key:b,class:"image favorite clickable",src:g,height:"190",onClick:w=>e.prepareModify(g)},null,8,MN))),128))])):R("",!0)]))),128)),s("div",UN,[s("div",NN,[s("span",LN,x(e.recentImagesTitle),1)]),s("div",FN,[(p(!0),v(Y,null,oe(e.nonfavorites,(h,m)=>(p(),v("img",{key:m,class:"image clickable",src:h,height:"190",onClick:g=>e.prepareModify(h)},null,8,BN))),128)),HN])])],2),s("div",{class:Se(["drawcast_footer",{blurred:e.dialog}])},jN,2),e.dialog==="success"?(p(),v("div",WN,[s("div",{class:"dialog-bg",onClick:t[14]||(t[14]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",xN,[s("div",KN,[s("div",{class:"responsive-image",style:lt(e.successImageUrlStyle)},null,4)]),JN,s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,GN),s("div",YN,[s("div",{class:"button button-ok clickable",onClick:t[15]||(t[15]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Draw another one ")])])])):R("",!0),e.dialog==="replace"?(p(),v("div",XN,[s("div",{class:"dialog-bg",onClick:t[16]||(t[16]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",QN,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,ZN),s("div",qN,[s("div",{class:"button button-no-button clickable",onClick:t[17]||(t[17]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[18]||(t[18]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Replace image ")])])])):R("",!0),e.dialog==="confirm-submit"?(p(),v("div",e7,[s("div",{class:"dialog-bg",onClick:t[19]||(t[19]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",t7,[s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,n7),s("div",s7,[s("div",{class:"button button-no-button clickable",onClick:t[20]||(t[20]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-ok clickable",onClick:t[21]||(t[21]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Send ")])])])):R("",!0),e.dialog==="clear"?(p(),v("div",o7,[s("div",{class:"dialog-bg",onClick:t[22]||(t[22]=(...h)=>e.dialogClose&&e.dialogClose(...h))}),s("div",i7,[s("div",a7,[s("div",{class:"responsive-image",style:lt(e.clearImageUrlStyle)},null,4)]),s("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,l7),s("div",r7,[s("div",{class:"button button-no-button clickable",onClick:t[23]||(t[23]=(...h)=>e.dialogClose&&e.dialogClose(...h))}," Cancel "),s("div",{class:"button button-danger clickable",onClick:t[24]||(t[24]=(...h)=>e.dialogConfirm&&e.dialogConfirm(...h))}," Clear ")])])])):R("",!0)])}var d7=De(xU,[["render",u7]]);const c7=Ws("MediaQueueElement.vue"),f7=(e,t)=>new Promise(n=>{const o=new Audio(e);o.addEventListener("ended",()=>{n()}),o.volume=Xt.clamp(0,t,1),o.play()}),td=e=>new Promise(t=>{setTimeout(t,e)}),h7=ae({props:{timeBetweenMediaMs:{type:Number,default:400},baseVolume:{type:Number,default:100},displayLatestForever:{type:Boolean,default:!1}},data(){return{queue:[],worker:null,showimage:!1,imgstyle:void 0,videosrc:"",latestResolved:!0}},methods:{async _playone(e){return new Promise(async t=>{this.latestResolved=!1;const n=[];e.video.url&&(this.videosrc=e.video.url,n.push(new Promise(a=>{this.$nextTick(()=>{const l=this.$refs.video,i=e.video.volume/100;l.addEventListener("error",u=>{c7.error({e:u},"error when playing video"),a()}),l.volume=Xt.clamp(0,i,1),l.addEventListener("ended",()=>{a()})})})));let o="";if(e.image_url?o=e.image_url:e.image&&e.image.file&&(o=e.image.urlpath),o&&(await this._prepareImage(o),this.showimage=!0,this.imgstyle={backgroundImage:`url(${o})`}),e.minDurationMs&&n.push(td(Xt.parseHumanDuration(e.minDurationMs))),e.sound&&e.sound.file){const a=e.sound.urlpath,l=this.baseVolume/100,i=e.sound.volume/100,u=l*i;n.push(f7(a,u))}n.length===0&&n.push(td(1e3)),Promise.all(n).then(a=>{this.displayLatestForever||(this.showimage=!1),this.latestResolved=!0,this.videosrc="",t()})})},_addQueue(e){if(this.queue.push(e),this.worker)return;const t=async()=>{if(this.queue.length===0){clearInterval(this.worker),this.worker=null;return}const n=this.queue.shift();if(!n){clearInterval(this.worker),this.worker=null;return}await this._playone(n),this.worker=setTimeout(t,this.timeBetweenMediaMs)};this.worker=setTimeout(t,this.timeBetweenMediaMs)},async _prepareImage(e){return new Promise(t=>{const n=new Image;n.src=e,this.$nextTick(()=>{n.complete?t():n.onload=()=>{t()}})})},playmedia(e){!this.displayLatestForever&&this.latestResolved&&(this.showimage=!1),this._addQueue(e)}}}),m7=h7,p7={key:0,class:"video-container"},g7={class:"video-16-9"},v7=["src"];function y7(e,t,n,o,a,l){return p(),v(Y,null,[s("div",{style:lt(e.imgstyle),class:Se(["image-container",{"m-fadeIn":e.showimage,"m-fadeOut":!e.showimage}])},null,6),e.videosrc?(p(),v("div",p7,[s("div",g7,[s("video",{ref:"video",src:e.videosrc,autoplay:""},null,8,v7)])])):R("",!0)],64)}var Ba=De(m7,[["render",y7],["__scopeId","data-v-1fdc604f"]]);const b7=ae({components:{MediaQueueElement:Ba},props:{wdata:{type:Object,required:!0}},data(){return{inited:!1,ws:null,notificationSoundAudio:null,manualApproval:{items:[]}}},created(){Ln(()=>Promise.resolve({}),["assets/main.6b6e9440.css"])},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("init",async e=>{const n=await(await ct.getDrawcastAllImages()).json();e.settings.notificationSound&&(this.notificationSoundAudio=new Audio(e.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=e.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(o=>!o.approved).map(o=>o.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),$7={class:"p-2"},w7=s("h1",{class:"title"}," Drawings awaiting approval ",-1),_7={key:0},S7={class:"card-body"},C7=["src"],E7={class:"card-footer"},k7=["onClick"],T7=["onClick"],I7={key:1};function A7(e,t,n,o,a,l){return p(),v("div",$7,[w7,e.manualApproval.items.length?(p(),v("div",_7,[(p(!0),v(Y,null,oe(e.manualApproval.items,(i,u)=>(p(),v("div",{key:u,class:"image-to-approve card mr-1"},[s("div",S7,[s("img",{src:i,class:"thumbnail mr-1"},null,8,C7)]),s("div",E7,[s("span",{class:"card-footer-item button is-small is-success is-light",onClick:r=>e.approveImage(i)}," Approve! ",8,k7),s("span",{class:"card-footer-item button is-small is-danger is-light",onClick:r=>e.denyImage(i)}," Deny! ",8,T7)])]))),128))])):(p(),v("div",I7," Currently there are no drawings awaiting approval. "))])}var V7=De(b7,[["render",A7]]);const D7=ae({components:{MediaQueueElement:Ba},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,displayDuration:5e3,displayLatestForever:!1,notificationSound:null,images:[]}},computed:{q(){return this.$refs.q}},created(){Ln(()=>Promise.resolve({}),["assets/main.b31286b1.css"])},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.displayLatestForever=e.settings.displayLatestForever,this.notificationSound=e.settings.notificationSound,this.images=e.images.map(t=>t.path),e.settings.displayLatestAutomatically&&this.images.length>0&&this.q.playmedia(go({image_url:this.images[0],minDurationMs:this.displayDuration}))}),this.ws.onMessage("approved_image_received",e=>{this.images.unshift(e.img),this.images=this.images.slice(0,20),this.q.playmedia(go({sound:e.mayNotify?this.notificationSound:null,image_url:e.img,minDurationMs:this.displayDuration}))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function O7(e,t,n,o,a,l){const i=F("media-queue-element");return p(),_e(i,{ref:"q","time-between-media-ms":500,"display-latest-forever":e.displayLatestForever},null,8,["display-latest-forever"])}var P7=De(D7,[["render",O7]]);const R7=ae({components:{MediaQueueElement:Ba},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,settings:vr(),widgetId:""}},computed:{q(){return this.$refs.q}},created(){Ln(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),this.widgetId=Cn.getParam("id")},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings}),this.ws.onMessage("playmedia",e=>{!this.widgetId&&e.widgetIds.length>0&&!e.widgetIds.includes("")||this.widgetId&&!e.widgetIds.includes(this.widgetId)||this.q.playmedia(go(e))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function M7(e,t,n,o,a,l){const i=F("media-queue-element");return p(),_e(i,{ref:"q","base-volume":e.settings.volume},null,8,["base-volume"])}var U7=De(R7,[["render",M7]]);const N7={class:"emote-wall"},L7=["src"],F7=ae({__name:"Page",props:{wdata:null},setup(e){const t=e;Ln(()=>Promise.resolve({}),["assets/main.d3550ad8.css"]);let n=42;const o=Ce(vr()),a=Ce([]),l=ot(()=>a.value.filter(y=>y.active)),i=64,u=window.requestAnimationFrame,r=()=>{for(const y of a.value)y.update();a.value=a.value.filter(y=>!y.dead),u(r)};u(r);const d=(y,$,S,E,k)=>{var M=3*(S.x-$.x),P=3*(E.x-S.x)-M,I=k.x-$.x-M-P,U=3*(S.y-$.y),H=3*(E.y-S.y)-U,W=k.y-$.y-U-H,z=I*Math.pow(y,3)+P*Math.pow(y,2)+M*y+$.x,B=W*Math.pow(y,3)+H*Math.pow(y,2)+U*y+$.y;return{x:z,y:B}},f=y=>-(Math.cos(Math.PI*y)-1)/2,c=y=>{const $=window.innerWidth,S=window.innerHeight,E=z=>Math.floor(Math.random()*z),k={x:E($),y:E(S)},M={x:E($),y:E(S)},P={x:E($),y:E(S)},I={x:E($),y:E(S)},U=Bt(0,50);let H=0,W=0;return{url:y,x:-i,y:-i,w:i,h:i,rot:0,active:!0,dead:!1,update:function(){if(H++,H<U)return;this.active=!0,W+=.005;const z=d(f(W),k,M,P,I);this.x=z.x,this.y=z.y,this.w=f(W)*i,this.h=f(W)*i,W>=2&&(this.dead=!0,console.log("bezier dead"))}}},h=y=>{const $=qs(["right","left"]);let S=Math.random()*2+2;$==="right"&&(S*=-1);let E=-10,k=.1,M=.7;const P=Bt(0,50);let I=0;const U=window.innerWidth,H=window.innerHeight;return{url:y,x:($==="right"?U:0)-i/2,y:Bt(0,H-i/2),w:i,h:i,rot:0,active:!1,dead:!1,update:function(){I++,!(I<P)&&(this.active=!0,this.x+=S,this.y+=E,E+=k,(this.x+this.w<=0||this.x>U)&&(this.dead=!0,console.log("bouncy dead")),this.y<=0&&(this.y=0,E=5),this.y+this.h>=H&&(this.y=H-this.h,E*=-M))}}},m=y=>{let $=4+Math.random()*4;const S=$;let E=Bt(-20,20),k=.1+E/50;const M=Bt(0,50);let P=0;const I=window.innerWidth,U=window.innerHeight;return{url:y,x:Bt(0,I)-i/2,y:0-i/2,w:i+E,h:i+E,rot:0,active:!1,dead:!1,update:function(){P++,!(P<M)&&(this.active=!0,this.y+=$,$+=k,$=Math.max(S,$),this.y>U&&(this.dead=!0,console.log("rain dead")))}}},g=y=>{let $=0,S=Bt(-10,10),E=-5+S/5,k=E/2,M=E;const P=Bt(0,50);let I=0;const U=window.innerWidth,H=window.innerHeight;return{url:y,x:Bt(0,U)-i/2,y:H-i/2,w:i+S,h:i+S,rot:0,active:!1,dead:!1,update:function(){I++,!(I<P)&&(this.active=!0,this.y+=M,this.x+=$,I%20===0&&Math.random()<.4&&($===0?($=Bt(-1,1),M=Math.min(k,M)):($=0,M+=.1)),this.y>H&&(this.dead=!0,console.log("rain dead")))}}},b=y=>{let $=(Math.random()*1.5+.5)*qs([-1,1]),S=(Math.random()*1.5+.5)*qs([-1,1]);const E=(Math.random()*2+1)*qs([-1,1]),k=Bt(0,50);let M=0;const P=window.innerWidth,I=window.innerHeight;return{url:y,x:P/2-i/2,y:I/2-i/2,w:i,h:i,rot:0,active:!1,dead:!1,update:function(){M++,!(M<k)&&(this.active=!0,this.rot+=E,this.x+=$,this.y+=S,(this.x+this.w<=0||this.x>P||this.y+this.h<=0||this.y>I)&&(this.dead=!0,console.log("floating space dead")))}}},w=y=>{let $=Math.random()*3.5+.5;Math.random()<.5&&($*=-1);let S=Math.random()*3.5+.5;Math.random()<.5&&(S*=-1);const E=Bt(0,50);let k=0;const M=window.innerWidth,P=window.innerHeight;return{url:y,x:M/2-i/2,y:P/2-i/2,w:i,h:i,rot:0,active:!1,dead:!1,update:function(){k++,!(k<E)&&(this.active=!0,this.x+=$,this.y+=S,(this.x+this.w<=0||this.x>M||this.y+this.h<=0||this.y>P)&&(this.dead=!0,console.log("explode dead")))}}},_=y=>{let $=Math.random()*3.5+.5;Math.random()<.5&&($*=-1);let S=-10+Math.random()*-5,E=.1,k=.7;const M=Bt(0,50);let P=0;const I=window.innerWidth,U=window.innerHeight;return{url:y,x:I/2-i/2,y:U-i,w:i,h:i,rot:0,active:!1,dead:!1,update:function(){P++,!(P<M)&&(this.active=!0,this.x+=$,this.y+=S,S+=E,(this.x+this.w<=0||this.x>I)&&(this.dead=!0,console.log("fountain dead")),this.y<=0&&(this.y=0,S=-S),this.y+this.h>=U&&(this.y=U-this.h,S*=-k))}}};return Ht(()=>{n=Cn.wsClient(t.wdata),n.onMessage("init",y=>{o.value=y.settings}),n.onMessage("emotes",y=>{const $=qs(y.displayFn);let S;switch($.fn){case Pt.BALLOON:S=g;break;case Pt.BOUNCY:S=h;break;case Pt.EXPLODE:S=w;break;case Pt.FLOATING_SPACE:S=b;break;case Pt.FOUNTAIN:S=_;break;case Pt.RAIN:S=m;break;case Pt.RANDOM_BEZIER:S=c;break;default:return}for(const E of y.emotes)a.value.push(S(E.url,$.args))}),n.connect()}),Yn(()=>{n&&n.disconnect()}),(y,$)=>(p(),v("div",N7,[(p(!0),v(Y,null,oe(tt(l),(S,E)=>(p(),v("img",{key:E,src:S.url,class:"emote",style:lt({top:`${S.y}px`,left:`${S.x}px`,width:S.w+"px",height:S.h+"px",transform:`rotate(${S.rot}deg)`})},null,12,L7))),128))]))}}),B7=ae({components:{MediaQueueElement:Ba},props:{wdata:{type:Object,required:!0}},data:()=>({ws:null,data:null,timeout:null,now:null}),computed:{showTimerWhenFinished(){return this.data?!!this.data.settings.showTimerWhenFinished:!1},finishedText(){return this.data?this.data.settings.finishedText:""},finishined(){return this.timeLeft<=0},running(){return this.data?!!this.data.state.running:!1},timeLeftHumanReadable(){if(!this.data)return"";const e=Math.max(this.timeLeft,0),n=1e3*1,o=60*n,a=60*o,l=Xt.pad(Math.floor(e/a),"00"),i=Xt.pad(Math.floor(e%a/o),"00"),u=Xt.pad(Math.floor(e%a%o/n),"00");let r=this.data.settings.timerFormat;return r=r.replace("{hh}",l),r=r.replace("{mm}",i),r=r.replace("{ss}",u),r},timeLeft(){return!this.dateEnd||!this.now?0:this.dateEnd.getTime()-this.now.getTime()},dateEnd(){return!this.dateStarted||!this.data?null:new Date(this.dateStarted.getTime()+this.data.state.durationMs)},dateStarted(){return this.data?new Date(JSON.parse(this.data.state.startTs)):null},widgetStyles(){return this.data?{fontFamily:this.data.settings.fontFamily,fontSize:this.data.settings.fontSize,color:this.data.settings.color}:null},q(){return this.$refs.q}},created(){Ln(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"])},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.data=e,this.tick()}),this.ws.onMessage("effect",e=>{this.q.playmedia(go({sound:e.sound,minDurationMs:0}))}),this.ws.connect()},unmounted(){this.timeout&&clearTimeout(this.timeout),this.ws&&this.ws.disconnect()},methods:{tick(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.now=new Date,this.data&&this.data.state.running&&this.tick()},1e3)}}}),H7={key:0},z7={key:1},j7={key:0},W7={key:1};function x7(e,t,n,o,a,l){const i=F("media-queue-element");return p(),v(Y,null,[e.running?(p(),v("div",{key:0,style:lt(e.widgetStyles)},[e.finishined?(p(),v("div",z7,[e.showTimerWhenFinished?(p(),v("span",j7,x(e.timeLeftHumanReadable),1)):R("",!0),e.finishedText?(p(),v("span",W7,x(e.finishedText),1)):R("",!0)])):(p(),v("div",H7,x(e.timeLeftHumanReadable),1))],4)):R("",!0),V(i,{ref:"q","time-between-media-ms":100},null,512)],64)}var K7=De(B7,[["render",x7]]);const cn=Ws("speech-to-text/Page.vue"),J7=ae({props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data:()=>({ws:null,status:"",errors:[],initedSpeech:!1,lastUtterance:"",recognition:{interimResults:!1,continuous:!0},texts:[],timeout:null,settings:null,srObj:null}),computed:{recognizedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].recognized},translatedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].translated},lastRecognizedText(){return this.texts.length===0?"":this.texts[this.texts.length-1].recognized},wantsSpeech(){return this.settings?this.settings.recognition.synthesize||this.settings.translation.synthesize:!1},textTable(){return this.$refs.text_table}},created(){Ln(()=>Promise.resolve({}),["assets/main.789973a0.css"])},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage("text",e=>{this.texts.push({recognized:e.recognized,translated:e.translated,ready:!0}),this._next()}),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles(),this.initVoiceRecognition()})}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{initSpeech(){cn.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),this.initedSpeech=!0},_next(){if(this.timeout){cn.info("_next(): timeout still active");return}if(!this.recognizedText&&!this.translatedText){cn.info("_next(): recognizedText and translatedText empty");return}if(!this.settings){cn.info("_next(): settings empty");return}this.recognizedText&&this.settings.recognition.synthesize&&(cn.info("synthesizing recognized text"),this.synthesize(this.recognizedText,this.settings.recognition.synthesizeLang)),this.translatedText&&this.settings.translation.synthesize&&(cn.info("synthesizing translated text"),this.synthesize(this.translatedText,this.settings.translation.synthesizeLang)),this.timeout=setTimeout(()=>{this.texts.shift(),this.timeout=null,this._next()},this.calculateSubtitleDisplayTime(`${this.recognizedText} ${this.translatedText}`))},calculateSubtitleDisplayTime(e){const t=by(e);return yf(2*Fs,t,10*Fs)},synthesize(e,t){if(cn.info({lastUtterance:this.lastUtterance,text:e,lang:t},"synthesize"),this.lastUtterance!==e){cn.info({speechSynthesis},"speechSynthesis"),this.lastUtterance=e;let n=new SpeechSynthesisUtterance(`${this.lastUtterance}`);t&&(n.lang=t),speechSynthesis.cancel(),speechSynthesis.speak(n)}},applyStyles(){if(!this.settings){cn.info("applyStyles(): settings empty");return}const e=this.settings.styles,t=e.bgColorEnabled&&e.bgColor!=null?e.bgColor:"";document.body.style.backgroundColor=t,e.vAlign==="top"?this.textTable.style.bottom=null:e.vAlign==="bottom"&&(this.textTable.style.bottom="0px");const n=(o,a,l,i,u)=>{if(i.color!=null&&(a.style.color=i.color),o.style.webkitTextStrokeColor=u,i.strokeWidth!=null){const r=Ol(i.strokeWidth);o.style.webkitTextStrokeWidth=r,l.style.webkitTextStrokeWidth=r}if(i.strokeColor!=null&&(l.style.webkitTextStrokeColor=i.strokeColor),i.fontFamily!=null&&(o.style.fontFamily=i.fontFamily,a.style.fontFamily=i.fontFamily,l.style.fontFamily=i.fontFamily),i.fontSize!=null){const r=Ol(i.fontSize);o.style.fontSize=r,a.style.fontSize=r,l.style.fontSize=r}i.fontWeight!=null&&(o.style.fontWeight=i.fontWeight,a.style.fontWeight=i.fontWeight,l.style.fontWeight=i.fontWeight)};this.settings.recognition.display&&n(this.$refs["speech_text-imb"],this.$refs["speech_text-fg"],this.$refs["speech_text-bg"],e.recognition,t),this.settings.translation.enabled&&n(this.$refs["trans_text-imb"],this.$refs["trans_text-fg"],this.$refs["trans_text-bg"],e.translation,t)},initVoiceRecognition(){if(!this.controls)return;if(!this.settings){cn.info("initVoiceRecognition(): settings empty");return}const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){alert("This widget does not work in this browser. Try a chrome based browser.");return}this.srObj&&(this.srObj.abort(),this.srObj.stop()),this.srObj=new e,this.srObj.lang=this.settings.recognition.lang,this.srObj.interimResults=this.recognition.interimResults,this.srObj.continuous=this.recognition.continuous,this.srObj.onsoundstart=()=>{this.status="Sound started"},this.srObj.onnomatch=()=>{this.status="No match"},this.srObj.onerror=t=>{this.status="Error",this.errors.unshift(t.error),this.errors=this.errors.slice(0,10),this.initVoiceRecognition()},this.srObj.onsoundend=()=>{this.status="Sound ended",this.initVoiceRecognition()},this.srObj.onspeechend=()=>{this.status="Speech ended",this.initVoiceRecognition()},this.srObj.onresult=async t=>{this.onVoiceResult(t),this.initVoiceRecognition()},this.srObj.start()},onVoiceResult(e){if(!this.ws){cn.error("onVoiceResult: this.ws not set");return}let t=e.results;cn.info({evt:e},"onVoiceResult()");for(var n=e.resultIndex;n<t.length;n++){if(!t[n].isFinal)continue;const o=t[n][0].transcript;if(this.lastRecognizedText!==o){this.ws.send(JSON.stringify({event:"onVoiceResult",text:o}));break}}}}}),G7={key:0,ref:"result_text",class:"big"},Y7={key:0},X7={key:0},Q7=s("div",null,"Latest errors:",-1),Z7={ref:"text_table",class:"btm_table"},q7={align:"center",valign:"bottom"};function e9(e,t,n,o,a,l){return e.settings?(p(),v("div",G7,[e.settings.status.enabled?(p(),v("div",Y7,[A(x(e.status)+" ",1),e.errors.length>0?(p(),v("div",X7,[Q7,s("ul",null,[(p(!0),v(Y,null,oe(e.errors,(i,u)=>(p(),v("li",{key:u},x(i),1))),128))])])):R("",!0)])):R("",!0),e.controls&&e.wantsSpeech&&!e.initedSpeech?(p(),v("button",{key:1,onClick:t[0]||(t[0]=(...i)=>e.initSpeech&&e.initSpeech(...i))}," Enable Speech Synthesis ")):R("",!0),s("table",Z7,[s("tr",null,[s("td",q7,[e.settings.recognition.display?(p(),v("div",{key:0,ref:"speech_text-bg",class:"stroke-single-bg"},x(e.recognizedText),513)):R("",!0),e.settings.recognition.display?(p(),v("div",{key:1,ref:"speech_text-fg",class:"stroke-single-fg"},x(e.recognizedText),513)):R("",!0),e.settings.recognition.display?(p(),v("div",{key:2,ref:"speech_text-imb",class:"stroke-single-imb"},x(e.recognizedText),513)):R("",!0),e.settings.translation.enabled?(p(),v("div",{key:3,ref:"trans_text-bg",class:"stroke-single-bg"},x(e.translatedText),513)):R("",!0),e.settings.translation.enabled?(p(),v("div",{key:4,ref:"trans_text-fg",class:"stroke-single-fg"},x(e.translatedText),513)):R("",!0),e.settings.translation.enabled?(p(),v("div",{key:5,ref:"trans_text-imb",class:"stroke-single-imb"},x(e.translatedText),513)):R("",!0)])])],512)],512)):R("",!0)}var t9=De(J7,[["render",e9]]);const n9=ae({props:{item:{type:Object,required:!0},showThumbnails:{required:!0}},computed:{thumbnail(){return`https://i.ytimg.com/vi/${this.item.yt}/mqdefault.jpg`}}}),s9=["data-user","data-yt"],o9={key:0,class:"thumbnail"},i9={class:"media-16-9"},a9=["src"],l9={class:"title"},r9={class:"title-content title-orig"},u9={class:"title-content title-dupl"},d9={class:"meta meta-left"},c9={class:"meta-user"},f9=s("span",{class:"meta-user-text-before"},"requested by ",-1),h9={class:"meta-user-name"},m9=s("span",{class:"meta-user-text-after"},null,-1),p9={class:"meta-plays"},g9=s("span",{class:"meta-plays-text-before"},"played ",-1),v9={class:"meta-plays-count"},y9={class:"meta-plays-text-after"},b9={class:"meta meta-right vote"},$9={class:"meta-plays"},w9=s("i",{class:"fa fa-repeat"},null,-1),_9={class:"vote-up"},S9=s("i",{class:"fa fa-thumbs-up"},null,-1),C9={class:"vote-down"},E9=s("i",{class:"fa fa-thumbs-down"},null,-1);function k9(e,t,n,o,a,l){return p(),v("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(p(),v("div",o9,[s("div",i9,[s("img",{src:e.thumbnail},null,8,a9)])])):R("",!0),s("div",l9,[s("span",r9,x(e.item.title||e.item.yt),1),s("span",u9,x(e.item.title||e.item.yt),1)]),s("div",d9,[s("span",c9,[f9,s("span",h9,x(e.item.user),1),m9]),s("span",p9,[g9,s("span",v9,x(e.item.plays),1),s("span",y9," time"+x(e.item.plays===1?"":"s"),1)])]),s("div",b9,[s("span",$9,[w9,A(" "+x(e.item.plays),1)]),s("span",_9,[S9,A(" "+x(e.item.goods),1)]),s("span",C9,[E9,A(" "+x(e.item.bads),1)])])],8,s9)}var T9=De(n9,[["render",k9]]);const I9=Ws("Page.vue"),A9=ae({components:{ResponsiveImage:zf,Youtube:jf,ListItem:T9},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,filter:{tag:""},hasPlayed:!1,playlist:[],settings:$r(),progress:0,progressInterval:null,inited:!1}},computed:{thumbnailClass(){return this.settings.showThumbnails==="left"?"with-thumbnails-left":this.settings.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"},progressBarClass(){return this.settings.showProgressBar?"with-progress-bar":"without-progress-bar"},classes(){return[this.thumbnailClass,this.progressBarClass]},player(){return this.$refs.youtube},progressValueStyle(){return{width:`${this.progress*100}%`}},playlistItems(){const e=[];for(let t=0;t<this.playlist.length;t++){const n=this.playlist[t];this.isFilteredOut(n,t)||(e[t]=n)}return e},filteredPlaylist(){return this.filter.tag===""?this.playlist:this.playlist.filter(e=>e.tags.includes(this.filter.tag))},hidevideo(){return this.item?!!this.item.hidevideo:!1},item(){return this.filteredPlaylist.length===0?null:this.filteredPlaylist[0]}},watch:{playlist:function(e,t){e.find((n,o)=>!this.isFilteredOut(n,o))||this.player.stop()},filter:function(e,t){this.playlist.find((n,o)=>!this.isFilteredOut(n,o))||this.player.stop()}},created(){Ln(()=>Promise.resolve({}),["assets/main.ab84735b.css"])},mounted(){this.ws=Cn.wsClient(this.wdata),this.ws.onMessage(["save","settings"],e=>{this.applySettings(e.settings)}),this.ws.onMessage(["onEnded","prev","skip","remove","move","tags"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist;const n=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;t!==n&&this.play()}),this.ws.onMessage(["filter"],e=>{this.applySettings(e.settings);const t=this.filteredPlaylist.length>0?this.filteredPlaylist[0].id:null;this.filter=e.filter,this.playlist=e.playlist,this.filteredPlaylist.find(n=>n.id===t)||this.play()}),this.ws.onMessage(["pause"],e=>{this.player.playing()&&this.pause()}),this.ws.onMessage(["unpause"],e=>{this.player.playing()||(this.hasPlayed?this.unpause():this.play())}),this.ws.onMessage(["loop"],e=>{this.player.setLoop(!0)}),this.ws.onMessage(["noloop"],e=>{this.player.setLoop(!1)}),this.ws.onMessage(["stats","video","playIdx","shuffle"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist}),this.ws.onMessage(["add","init"],e=>{this.applySettings(e.settings),this.filter=e.filter,this.playlist=e.playlist,!this.inited&&!this.player.playing()&&this.settings.initAutoplay&&this.play(),this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{isFilteredOut(e,t){return this.settings.maxItemsShown>=0&&this.settings.maxItemsShown-1<t?!0:this.filter.tag!==""&&!e.tags.includes(this.filter.tag)},ended(){this.sendMsg({event:"ended"})},sendMsg(e){if(!this.ws){I9.error("sendMsg, ws not defined");return}this.ws.send(JSON.stringify(e))},play(){this.hasPlayed=!0,this.adjustVolume(),this.item&&(this.player.play(this.item.yt),this.sendMsg({event:"play",id:this.item.id}))},unpause(){this.item&&(this.player.unpause(),this.sendMsg({event:"unpause",id:this.item.id}))},pause(){this.item&&(this.player.pause(),this.sendMsg({event:"pause"}))},adjustVolume(){this.player&&this.player.setVolume(this.settings.volume)},applySettings(e){if(this.settings.customCss!==e.customCss){let t=document.getElementById("customCss");t&&t.parentElement&&t.parentElement.removeChild(t),t=document.createElement("style"),t.id="customCss",t.textContent=e.customCss,document.head.appendChild(t)}this.settings.showProgressBar!==e.showProgressBar&&(this.progressInterval&&window.clearInterval(this.progressInterval),e.showProgressBar&&(this.progressInterval=window.setInterval(()=>{this.player&&(this.progress=this.player.getProgress())},500))),this.settings=e,this.adjustVolume()}}}),V9={class:"player video-16-9"},D9={key:1,class:"hide-video"},O9={key:2,class:"progress"},P9={class:"list"};function R9(e,t,n,o,a,l){const i=F("responsive-image"),u=F("youtube-player"),r=F("list-item");return p(),v("div",{class:Se(["wrapper",e.classes])},[s("div",V9,[e.hidevideo&&e.settings.hideVideoImage.file?(p(),_e(i,{key:0,class:"hide-video",src:e.settings.hideVideoImage.urlpath},null,8,["src"])):e.hidevideo?(p(),v("div",D9)):R("",!0),e.settings.showProgressBar?(p(),v("div",O9,[s("div",{class:"progress-value",style:lt(e.progressValueStyle)},null,4)])):R("",!0),V(u,{ref:"youtube",onEnded:e.ended},null,8,["onEnded"])]),s("ol",P9,[(p(!0),v(Y,null,oe(e.playlistItems,(d,f)=>(p(),_e(r,{key:f,class:Se(f===0?"playing":"not-playing"),item:d,"show-thumbnails":e.settings.showThumbnails},null,8,["class","item","show-thumbnails"]))),128))])],2)}var M9=De(A9,[["render",R9]]);const U9=ae({components:{AvatarPage:aU,DrawcastDrawPage:d7,DrawcastControlPage:V7,DrawcastReceivePage:P7,MediaPage:U7,EmoteWallPage:F7,PomoPage:K7,SpeechToTextPage:t9,SrPage:M9},data:()=>({data:null,error:""}),computed:{widget(){return this.data?this.data.widget:null}},async created(){this.error="";const e=this.$route.name==="pub"?await ct.getPubData(`${this.$route.params.pub_id}`):await ct.getWidgetData(`${this.$route.params.widget_type}`,`${this.$route.params.widget_token}`);if(e.status!==200){this.error="Widget not found...";return}const t=await e.json();document.title=t.title,this.data=t}}),N9={key:11},L9={key:12};function F9(e,t,n,o,a,l){const i=F("avatar-page"),u=F("drawcast-draw-page"),r=F("drawcast-control-page"),d=F("drawcast-receive-page"),f=F("media-page"),c=F("emote-wall-page"),h=F("pomo-page"),m=F("speech-to-text-page"),g=F("sr-page");return e.widget==="avatar"?(p(),_e(i,{key:0,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="avatar_receive"?(p(),_e(i,{key:1,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="drawcast_draw"?(p(),_e(u,{key:2,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_control"?(p(),_e(r,{key:3,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_receive"?(p(),_e(d,{key:4,wdata:e.data},null,8,["wdata"])):e.widget==="media"?(p(),_e(f,{key:5,wdata:e.data},null,8,["wdata"])):e.widget==="emote_wall"?(p(),_e(c,{key:6,wdata:e.data},null,8,["wdata"])):e.widget==="pomo"?(p(),_e(h,{key:7,wdata:e.data},null,8,["wdata"])):e.widget==="speech-to-text"?(p(),_e(m,{key:8,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="speech-to-text_receive"?(p(),_e(m,{key:9,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="sr"?(p(),_e(g,{key:10,wdata:e.data},null,8,["wdata"])):e.error?(p(),v("div",L9,x(e.error),1)):(p(),v("div",N9," Loading... "))}var nd=De(U9,[["render",F9]]);const B9=async()=>{const e=rv({history:Cg(),routes:[{name:"index",path:"/",component:C0,meta:{title:"Hyottoko.club",protected:!0}},{name:"login",path:"/login",component:B0,meta:{title:"Login",protected:!1}},{name:"register",path:"/register",component:Ew,meta:{title:"Register",protected:!1}},{name:"password-reset",path:"/password-reset",component:t$,meta:{title:"Password Reset",protected:!1}},{name:"forgot-password",path:"/forgot-password",component:m0,meta:{title:"Forgot Password",protected:!1}},{name:"commands",path:"/commands/",component:Eb,meta:{title:"Commands",protected:!0}},{name:"variables",path:"/variables/",component:P2,meta:{title:"Variables",protected:!0}},{name:"sr",path:"/sr/",component:hS,meta:{title:"Song Request",protected:!0}},{name:"speech-to-text",path:"/speech-to-text/",component:w2,meta:{title:"Speech to text",protected:!0}},{name:"avatar",path:"/avatar/",component:hb,meta:{title:"Avatar",protected:!0}},{name:"pomo",path:"/pomo/",component:x$,meta:{title:"Pomo",protected:!0}},{name:"drawcast",path:"/drawcast/",component:Z1,meta:{title:"Drawcast",protected:!0}},{name:"settings",path:"/settings/",component:m_,meta:{title:"Settings",protected:!0}},{name:"widget",path:"/widget/:widget_type/:widget_token/",component:nd,meta:{title:"Widget",protected:!1}},{name:"pub",path:"/pub/:pub_id/",component:nd,meta:{title:"Pub",protected:!1}}]});let t=!1;e.beforeEach(async(o,a,l)=>{if(o.name==="widget"||o.name==="pub"){l();return}if(t||(Ln(()=>Promise.resolve({}),["assets/style.ad6cd699.css"]),fn.eventBus.on("login",()=>{Ju.init()}),fn.eventBus.on("logout",()=>{Ju.stop()}),fn.eventBus.on("darkmode",i=>{i?document.documentElement.classList.add("darkmode"):document.documentElement.classList.remove("darkmode")}),await Hf.init(),await _f.init(),await fn.init(),t=!0),o.meta.protected&&!fn.getMe()){l({name:"login"});return}if(!o.meta.protected&&fn.getMe()){l({name:"index"});return}a.name&&document.documentElement.classList.remove(`view-${String(a.name)}`),document.documentElement.classList.add(`view-${String(o.name)}`),document.title=`${o.meta.title}`,l()});const n=hr(ry);n.use(e),n.use(iy,{}),n.component("GlobalUserInfo",KE),n.component("DoubleclickButton",N2),n.component("DropdownButton",OE),n.component("DropdownInput",LE),n.component("CheckboxInput",R2),n.component("VueDraggable",CE),n.component("DurationInput",zE),n.component("DurationDisplay",HE),n.component("MacroSelect",lk),n.component("NavbarElement",kk),n.component("AudioPlayer",Tk),n.component("ProblemsDialog",Fk),n.component("ResponsiveImage",zf),n.component("SliderInput",Yk),n.component("UploadInput",dT),n.component("ImageUpload",ek),n.component("SoundUpload",sT),n.component("VolumeSlider",cT),n.component("YoutubePlayer",jf),n.component("CommandsEditor",qD),n.component("CommandEditor",_I),n.component("MediaCommandEditor",Y4),n.component("EmotesCommandEditor",o8),n.component("TextCommandEditor",nA),n.component("DictLookupCommandEditor",QA),n.component("MadochanCreatewordCommandEditor",WV),n.component("CountdownEditor",zO),n.component("TriggerEditor",iP),n.component("TriggerInfo",TP),n.component("PlaylistEditor",$R),n.component("TagsEditor",_6),n.component("SongRequestSettings",m6),n.component("AvatarEditor",Y6),n.component("AvatarSlotDefinitionEditor",rM),n.component("AvatarSlotItemEditor",CM),n.component("AvatarPreview",EM),n.component("AvatarSlotItemStateEditor",PM),n.component("AvatarFrameUpload",FM),n.component("AvatarAnimation",Wf),n.mount("#app")};B9();
