const ih=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};ih();const ah="modulepreload",Fr={},lh="/",Un=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${lh}${s}`,s in Fr)return;Fr[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":ah,o||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),o)return new Promise((r,u)=>{i.addEventListener("load",r),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function ga(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const rh="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",uh=ga(rh);function at(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=pt(s)?hh(s):at(s);if(o)for(const l in o)t[l]=o[l]}return t}else{if(pt(e))return e;if(ut(e))return e}}const dh=/;(?![^(]*\))/g,ch=/:([^]+)/,fh=/\/\*.*?\*\//gs;function hh(e){const t={};return e.replace(fh,"").split(dh).forEach(n=>{if(n){const s=n.split(ch);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ae(e){let t="";if(pt(e))t=e;else if(_e(e))for(let n=0;n<e.length;n++){const s=Ae(e[n]);s&&(t+=s+" ")}else if(ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function mh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!pt(t)&&(e.class=Ae(t)),n&&(e.style=at(n)),e}const ph="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gh=ga(ph);function gd(e){return!!e||e===""}function vh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ms(e[s],t[s]);return n}function ms(e,t){if(e===t)return!0;let n=Br(e),s=Br(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=qo(e),s=qo(t),n||s)return e===t;if(n=_e(e),s=_e(t),n||s)return n&&s?vh(e,t):!1;if(n=ut(e),s=ut(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,l=Object.keys(t).length;if(o!==l)return!1;for(const i in e){const r=e.hasOwnProperty(i),u=t.hasOwnProperty(i);if(r&&!u||!r&&u||!ms(e[i],t[i]))return!1}}return String(e)===String(t)}function va(e,t){return e.findIndex(n=>ms(n,t))}const G=e=>pt(e)?e:e==null?"":_e(e)||ut(e)&&(e.toString===yd||!Le(e.toString))?JSON.stringify(e,vd,2):String(e),vd=(e,t)=>t&&t.__v_isRef?vd(e,t.value):to(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o])=>(n[`${s} =>`]=o,n),{})}:Ws(t)?{[`Set(${t.size})`]:[...t.values()]}:ut(t)&&!_e(t)&&!bd(t)?String(t):t,lt={},eo=[],$n=()=>{},yh=()=>!1,bh=/^on[^a-z]/,mi=e=>bh.test(e),ql=e=>e.startsWith("onUpdate:"),bt=Object.assign,er=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wh=Object.prototype.hasOwnProperty,tt=(e,t)=>wh.call(e,t),_e=Array.isArray,to=e=>pi(e)==="[object Map]",Ws=e=>pi(e)==="[object Set]",Br=e=>pi(e)==="[object Date]",Le=e=>typeof e=="function",pt=e=>typeof e=="string",qo=e=>typeof e=="symbol",ut=e=>e!==null&&typeof e=="object",tr=e=>ut(e)&&Le(e.then)&&Le(e.catch),yd=Object.prototype.toString,pi=e=>yd.call(e),Sh=e=>pi(e).slice(8,-1),bd=e=>pi(e)==="[object Object]",nr=e=>pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xo=ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ya=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$h=/-(\w)/g,Kt=ya(e=>e.replace($h,(t,n)=>n?n.toUpperCase():"")),Ch=/\B([A-Z])/g,ln=ya(e=>e.replace(Ch,"-$1").toLowerCase()),gi=ya(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lo=ya(e=>e?`on${gi(e)}`:""),ao=(e,t)=>!Object.is(e,t),no=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ea=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Hr;const Eh=()=>Hr||(Hr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Qt;class sr{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Qt,!t&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Qt;try{return Qt=this,t()}finally{Qt=n}}}on(){Qt=this}off(){Qt=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function _h(e){return new sr(e)}function wd(e,t=Qt){t&&t.active&&t.effects.push(e)}function Ih(){return Qt}function Th(e){Qt&&Qt.cleanups.push(e)}const or=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Sd=e=>(e.w&ps)>0,$d=e=>(e.n&ps)>0,Dh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ps},Ah=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];Sd(o)&&!$d(o)?o.delete(e):t[n++]=o,o.w&=~ps,o.n&=~ps}t.length=n}},wl=new WeakMap;let Ao=0,ps=1;const Sl=30;let wn;const ks=Symbol(""),$l=Symbol("");class vi{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,wd(this,s)}run(){if(!this.active)return this.fn();let t=wn,n=cs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=wn,wn=this,cs=!0,ps=1<<++Ao,Ao<=Sl?Dh(this):Wr(this),this.fn()}finally{Ao<=Sl&&Ah(this),ps=1<<--Ao,wn=this.parent,cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){wn===this?this.deferStop=!0:this.active&&(Wr(this),this.onStop&&this.onStop(),this.active=!1)}}function Wr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Oh(e,t){e.effect&&(e=e.effect.fn);const n=new vi(e);t&&(bt(n,t),t.scope&&wd(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function kh(e){e.effect.stop()}let cs=!0;const Cd=[];function go(){Cd.push(cs),cs=!1}function vo(){const e=Cd.pop();cs=e===void 0?!0:e}function nn(e,t,n){if(cs&&wn){let s=wl.get(e);s||wl.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=or()),Ed(o)}}function Ed(e,t){let n=!1;Ao<=Sl?$d(e)||(e.n|=ps,n=!Sd(e)):n=!e.has(wn),n&&(e.add(wn),wn.deps.push(e))}function Yn(e,t,n,s,o,l){const i=wl.get(e);if(!i)return;let r=[];if(t==="clear")r=[...i.values()];else if(n==="length"&&_e(e)){const u=Jn(s);i.forEach((d,h)=>{(h==="length"||h>=u)&&r.push(d)})}else switch(n!==void 0&&r.push(i.get(n)),t){case"add":_e(e)?nr(n)&&r.push(i.get("length")):(r.push(i.get(ks)),to(e)&&r.push(i.get($l)));break;case"delete":_e(e)||(r.push(i.get(ks)),to(e)&&r.push(i.get($l)));break;case"set":to(e)&&r.push(i.get(ks));break}if(r.length===1)r[0]&&Cl(r[0]);else{const u=[];for(const d of r)d&&u.push(...d);Cl(or(u))}}function Cl(e,t){const n=_e(e)?e:[...e];for(const s of n)s.computed&&jr(s);for(const s of n)s.computed||jr(s)}function jr(e,t){(e!==wn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ph=ga("__proto__,__v_isRef,__isVue"),_d=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qo)),Vh=ba(),Rh=ba(!1,!0),Mh=ba(!0),Uh=ba(!0,!0),zr=Nh();function Nh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=qe(this);for(let l=0,i=this.length;l<i;l++)nn(s,"get",l+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(qe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){go();const s=qe(this)[t].apply(this,n);return vo(),s}}),e}function ba(e=!1,t=!1){return function(s,o,l){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&l===(e?t?Pd:kd:t?Od:Ad).get(s))return s;const i=_e(s);if(!e&&i&&tt(zr,o))return Reflect.get(zr,o,l);const r=Reflect.get(s,o,l);return(qo(o)?_d.has(o):Ph(o))||(e||nn(s,"get",o),t)?r:_t(r)?i&&nr(o)?r:r.value:ut(r)?e?ar(r):yo(r):r}}const xh=Id(),Lh=Id(!0);function Id(e=!1){return function(n,s,o,l){let i=n[s];if(Ns(i)&&_t(i)&&!_t(o))return!1;if(!e&&(!ei(o)&&!Ns(o)&&(i=qe(i),o=qe(o)),!_e(n)&&_t(i)&&!_t(o)))return i.value=o,!0;const r=_e(n)&&nr(s)?Number(s)<n.length:tt(n,s),u=Reflect.set(n,s,o,l);return n===qe(l)&&(r?ao(o,i)&&Yn(n,"set",s,o):Yn(n,"add",s,o)),u}}function Fh(e,t){const n=tt(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&Yn(e,"delete",t,void 0),s}function Bh(e,t){const n=Reflect.has(e,t);return(!qo(t)||!_d.has(t))&&nn(e,"has",t),n}function Hh(e){return nn(e,"iterate",_e(e)?"length":ks),Reflect.ownKeys(e)}const Td={get:Vh,set:xh,deleteProperty:Fh,has:Bh,ownKeys:Hh},Dd={get:Mh,set(e,t){return!0},deleteProperty(e,t){return!0}},Wh=bt({},Td,{get:Rh,set:Lh}),jh=bt({},Dd,{get:Uh}),ir=e=>e,wa=e=>Reflect.getPrototypeOf(e);function Di(e,t,n=!1,s=!1){e=e.__v_raw;const o=qe(e),l=qe(t);n||(t!==l&&nn(o,"get",t),nn(o,"get",l));const{has:i}=wa(o),r=s?ir:n?ur:ti;if(i.call(o,t))return r(e.get(t));if(i.call(o,l))return r(e.get(l));e!==o&&e.get(t)}function Ai(e,t=!1){const n=this.__v_raw,s=qe(n),o=qe(e);return t||(e!==o&&nn(s,"has",e),nn(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Oi(e,t=!1){return e=e.__v_raw,!t&&nn(qe(e),"iterate",ks),Reflect.get(e,"size",e)}function Kr(e){e=qe(e);const t=qe(this);return wa(t).has.call(t,e)||(t.add(e),Yn(t,"add",e,e)),this}function Gr(e,t){t=qe(t);const n=qe(this),{has:s,get:o}=wa(n);let l=s.call(n,e);l||(e=qe(e),l=s.call(n,e));const i=o.call(n,e);return n.set(e,t),l?ao(t,i)&&Yn(n,"set",e,t):Yn(n,"add",e,t),this}function Jr(e){const t=qe(this),{has:n,get:s}=wa(t);let o=n.call(t,e);o||(e=qe(e),o=n.call(t,e)),s&&s.call(t,e);const l=t.delete(e);return o&&Yn(t,"delete",e,void 0),l}function Yr(){const e=qe(this),t=e.size!==0,n=e.clear();return t&&Yn(e,"clear",void 0,void 0),n}function ki(e,t){return function(s,o){const l=this,i=l.__v_raw,r=qe(i),u=t?ir:e?ur:ti;return!e&&nn(r,"iterate",ks),i.forEach((d,h)=>s.call(o,u(d),u(h),l))}}function Pi(e,t,n){return function(...s){const o=this.__v_raw,l=qe(o),i=to(l),r=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,d=o[e](...s),h=n?ir:t?ur:ti;return!t&&nn(l,"iterate",u?$l:ks),{next(){const{value:c,done:f}=d.next();return f?{value:c,done:f}:{value:r?[h(c[0]),h(c[1])]:h(c),done:f}},[Symbol.iterator](){return this}}}}function ts(e){return function(...t){return e==="delete"?!1:this}}function zh(){const e={get(l){return Di(this,l)},get size(){return Oi(this)},has:Ai,add:Kr,set:Gr,delete:Jr,clear:Yr,forEach:ki(!1,!1)},t={get(l){return Di(this,l,!1,!0)},get size(){return Oi(this)},has:Ai,add:Kr,set:Gr,delete:Jr,clear:Yr,forEach:ki(!1,!0)},n={get(l){return Di(this,l,!0)},get size(){return Oi(this,!0)},has(l){return Ai.call(this,l,!0)},add:ts("add"),set:ts("set"),delete:ts("delete"),clear:ts("clear"),forEach:ki(!0,!1)},s={get(l){return Di(this,l,!0,!0)},get size(){return Oi(this,!0)},has(l){return Ai.call(this,l,!0)},add:ts("add"),set:ts("set"),delete:ts("delete"),clear:ts("clear"),forEach:ki(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{e[l]=Pi(l,!1,!1),n[l]=Pi(l,!0,!1),t[l]=Pi(l,!1,!0),s[l]=Pi(l,!0,!0)}),[e,n,t,s]}const[Kh,Gh,Jh,Yh]=zh();function Sa(e,t){const n=t?e?Yh:Jh:e?Gh:Kh;return(s,o,l)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(tt(n,o)&&o in s?n:s,o,l)}const Xh={get:Sa(!1,!1)},Qh={get:Sa(!1,!0)},Zh={get:Sa(!0,!1)},qh={get:Sa(!0,!0)},Ad=new WeakMap,Od=new WeakMap,kd=new WeakMap,Pd=new WeakMap;function em(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tm(e){return e.__v_skip||!Object.isExtensible(e)?0:em(Sh(e))}function yo(e){return Ns(e)?e:$a(e,!1,Td,Xh,Ad)}function Vd(e){return $a(e,!1,Wh,Qh,Od)}function ar(e){return $a(e,!0,Dd,Zh,kd)}function nm(e){return $a(e,!0,jh,qh,Pd)}function $a(e,t,n,s,o){if(!ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=o.get(e);if(l)return l;const i=tm(e);if(i===0)return e;const r=new Proxy(e,i===2?s:n);return o.set(e,r),r}function Ps(e){return Ns(e)?Ps(e.__v_raw):!!(e&&e.__v_isReactive)}function Ns(e){return!!(e&&e.__v_isReadonly)}function ei(e){return!!(e&&e.__v_isShallow)}function lr(e){return Ps(e)||Ns(e)}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function rr(e){return ea(e,"__v_skip",!0),e}const ti=e=>ut(e)?yo(e):e,ur=e=>ut(e)?ar(e):e;function dr(e){cs&&wn&&(e=qe(e),Ed(e.dep||(e.dep=or())))}function Ca(e,t){e=qe(e),e.dep&&Cl(e.dep)}function _t(e){return!!(e&&e.__v_isRef===!0)}function se(e){return Md(e,!1)}function Rd(e){return Md(e,!0)}function Md(e,t){return _t(e)?e:new sm(e,t)}class sm{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:qe(t),this._value=n?t:ti(t)}get value(){return dr(this),this._value}set value(t){const n=this.__v_isShallow||ei(t)||Ns(t);t=n?t:qe(t),ao(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ti(t),Ca(this))}}function om(e){Ca(e)}function ce(e){return _t(e)?e.value:e}const im={get:(e,t,n)=>ce(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return _t(o)&&!_t(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function cr(e){return Ps(e)?e:new Proxy(e,im)}class am{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>dr(this),()=>Ca(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function lm(e){return new am(e)}function rm(e){const t=_e(e)?new Array(e.length):{};for(const n in e)t[n]=Ud(e,n);return t}class um{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Ud(e,t,n){const s=e[t];return _t(s)?s:new um(e,t,n)}var Nd;class dm{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Nd]=!1,this._dirty=!0,this.effect=new vi(t,()=>{this._dirty||(this._dirty=!0,Ca(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=qe(this);return dr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Nd="__v_isReadonly";function cm(e,t,n=!1){let s,o;const l=Le(e);return l?(s=e,o=$n):(s=e.get,o=e.set),new dm(s,o,l||!o,n)}function fm(e,...t){}function zn(e,t,n,s){let o;try{o=s?e(...s):e()}catch(l){js(l,t,n)}return o}function tn(e,t,n,s){if(Le(e)){const l=zn(e,t,n,s);return l&&tr(l)&&l.catch(i=>{js(i,t,n)}),l}const o=[];for(let l=0;l<e.length;l++)o.push(tn(e[l],t,n,s));return o}function js(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let l=t.parent;const i=t.proxy,r=n;for(;l;){const d=l.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,i,r)===!1)return}l=l.parent}const u=t.appContext.config.errorHandler;if(u){zn(u,null,10,[e,i,r]);return}}hm(e,n,o,s)}function hm(e,t,n,s=!0){console.error(e)}let ni=!1,El=!1;const Rt=[];let On=0;const so=[];let Wn=null,Ts=0;const xd=Promise.resolve();let fr=null;function Nn(e){const t=fr||xd;return e?t.then(this?e.bind(this):e):t}function mm(e){let t=On+1,n=Rt.length;for(;t<n;){const s=t+n>>>1;si(Rt[s])<e?t=s+1:n=s}return t}function Ea(e){(!Rt.length||!Rt.includes(e,ni&&e.allowRecurse?On+1:On))&&(e.id==null?Rt.push(e):Rt.splice(mm(e.id),0,e),Ld())}function Ld(){!ni&&!El&&(El=!0,fr=xd.then(Fd))}function pm(e){const t=Rt.indexOf(e);t>On&&Rt.splice(t,1)}function hr(e){_e(e)?so.push(...e):(!Wn||!Wn.includes(e,e.allowRecurse?Ts+1:Ts))&&so.push(e),Ld()}function Xr(e,t=ni?On+1:0){for(;t<Rt.length;t++){const n=Rt[t];n&&n.pre&&(Rt.splice(t,1),t--,n())}}function ta(e){if(so.length){const t=[...new Set(so)];if(so.length=0,Wn){Wn.push(...t);return}for(Wn=t,Wn.sort((n,s)=>si(n)-si(s)),Ts=0;Ts<Wn.length;Ts++)Wn[Ts]();Wn=null,Ts=0}}const si=e=>e.id==null?1/0:e.id,gm=(e,t)=>{const n=si(e)-si(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Fd(e){El=!1,ni=!0,Rt.sort(gm);const t=$n;try{for(On=0;On<Rt.length;On++){const n=Rt[On];n&&n.active!==!1&&zn(n,null,14)}}finally{On=0,Rt.length=0,ta(),ni=!1,fr=null,(Rt.length||so.length)&&Fd()}}let Xs,Vi=[];function Bd(e,t){var n,s;Xs=e,Xs?(Xs.enabled=!0,Vi.forEach(({event:o,args:l})=>Xs.emit(o,...l)),Vi=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Bd(l,t)}),setTimeout(()=>{Xs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Vi=[])},3e3)):Vi=[]}function vm(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||lt;let o=n;const l=t.startsWith("update:"),i=l&&t.slice(7);if(i&&i in s){const h=`${i==="modelValue"?"model":i}Modifiers`,{number:c,trim:f}=s[h]||lt;f&&(o=n.map(m=>pt(m)?m.trim():m)),c&&(o=n.map(Jn))}let r,u=s[r=Lo(t)]||s[r=Lo(Kt(t))];!u&&l&&(u=s[r=Lo(ln(t))]),u&&tn(u,e,6,o);const d=s[r+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,tn(d,e,6,o)}}function Hd(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const l=e.emits;let i={},r=!1;if(!Le(e)){const u=d=>{const h=Hd(d,t,!0);h&&(r=!0,bt(i,h))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!l&&!r?(ut(e)&&s.set(e,null),null):(_e(l)?l.forEach(u=>i[u]=null):bt(i,l),ut(e)&&s.set(e,i),i)}function _a(e,t){return!e||!mi(t)?!1:(t=t.slice(2).replace(/Once$/,""),tt(e,t[0].toLowerCase()+t.slice(1))||tt(e,ln(t))||tt(e,t))}let Ot=null,Ia=null;function oi(e){const t=Ot;return Ot=e,Ia=e&&e.type.__scopeId||null,t}function _n(e){Ia=e}function In(){Ia=null}const ym=e=>wt;function wt(e,t=Ot,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&kl(-1);const l=oi(t);let i;try{i=e(...o)}finally{oi(l),s._d&&kl(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function zi(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:l,propsOptions:[i],slots:r,attrs:u,emit:d,render:h,renderCache:c,data:f,setupState:m,ctx:p,inheritAttrs:g}=e;let S,w;const y=oi(e);try{if(n.shapeFlag&4){const C=o||s;S=Zt(h.call(C,C,c,l,m,f,p)),w=u}else{const C=t;S=Zt(C.length>1?C(l,{attrs:u,slots:r,emit:d}):C(l,null)),w=t.props?u:wm(u)}}catch(C){Wo.length=0,js(C,e,1),S=R(Ut)}let $=S;if(w&&g!==!1){const C=Object.keys(w),{shapeFlag:I}=$;C.length&&I&7&&(i&&C.some(ql)&&(w=Sm(w,i)),$=Rn($,w))}return n.dirs&&($=Rn($),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),S=$,oi(y),S}function bm(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(gs(s)){if(s.type!==Ut||s.children==="v-if"){if(t)return;t=s}}else return}return t}const wm=e=>{let t;for(const n in e)(n==="class"||n==="style"||mi(n))&&((t||(t={}))[n]=e[n]);return t},Sm=(e,t)=>{const n={};for(const s in e)(!ql(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function $m(e,t,n){const{props:s,children:o,component:l}=e,{props:i,children:r,patchFlag:u}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Qr(s,i,d):!!i;if(u&8){const h=t.dynamicProps;for(let c=0;c<h.length;c++){const f=h[c];if(i[f]!==s[f]&&!_a(d,f))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:s===i?!1:s?i?Qr(s,i,d):!0:!!i;return!1}function Qr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const l=s[o];if(t[l]!==e[l]&&!_a(n,l))return!0}return!1}function mr({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Wd=e=>e.__isSuspense,Cm={name:"Suspense",__isSuspense:!0,process(e,t,n,s,o,l,i,r,u,d){e==null?_m(t,n,s,o,l,i,r,u,d):Im(e,t,n,s,o,i,r,u,d)},hydrate:Tm,create:pr,normalize:Dm},Em=Cm;function ii(e,t){const n=e.props&&e.props[t];Le(n)&&n()}function _m(e,t,n,s,o,l,i,r,u){const{p:d,o:{createElement:h}}=u,c=h("div"),f=e.suspense=pr(e,o,s,t,c,n,l,i,r,u);d(null,f.pendingBranch=e.ssContent,c,null,s,f,l,i),f.deps>0?(ii(e,"onPending"),ii(e,"onFallback"),d(null,e.ssFallback,t,n,s,null,l,i),oo(f,e.ssFallback)):f.resolve()}function Im(e,t,n,s,o,l,i,r,{p:u,um:d,o:{createElement:h}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const f=t.ssContent,m=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:S,isHydrating:w}=c;if(g)c.pendingBranch=f,kn(f,g)?(u(g,f,c.hiddenContainer,null,o,c,l,i,r),c.deps<=0?c.resolve():S&&(u(p,m,n,s,o,null,l,i,r),oo(c,m))):(c.pendingId++,w?(c.isHydrating=!1,c.activeBranch=g):d(g,o,c),c.deps=0,c.effects.length=0,c.hiddenContainer=h("div"),S?(u(null,f,c.hiddenContainer,null,o,c,l,i,r),c.deps<=0?c.resolve():(u(p,m,n,s,o,null,l,i,r),oo(c,m))):p&&kn(f,p)?(u(p,f,n,s,o,c,l,i,r),c.resolve(!0)):(u(null,f,c.hiddenContainer,null,o,c,l,i,r),c.deps<=0&&c.resolve()));else if(p&&kn(f,p))u(p,f,n,s,o,c,l,i,r),oo(c,f);else if(ii(t,"onPending"),c.pendingBranch=f,c.pendingId++,u(null,f,c.hiddenContainer,null,o,c,l,i,r),c.deps<=0)c.resolve();else{const{timeout:y,pendingId:$}=c;y>0?setTimeout(()=>{c.pendingId===$&&c.fallback(m)},y):y===0&&c.fallback(m)}}function pr(e,t,n,s,o,l,i,r,u,d,h=!1){const{p:c,m:f,um:m,n:p,o:{parentNode:g,remove:S}}=d,w=Jn(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:i,container:s,hiddenContainer:o,anchor:l,deps:0,pendingId:0,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve($=!1){const{vnode:C,activeBranch:I,pendingBranch:T,pendingId:A,effects:O,parentComponent:D,container:x}=y;if(y.isHydrating)y.isHydrating=!1;else if(!$){const L=I&&T.transition&&T.transition.mode==="out-in";L&&(I.transition.afterLeave=()=>{A===y.pendingId&&f(T,x,k,0)});let{anchor:k}=y;I&&(k=p(I),m(I,D,y,!0)),L||f(T,x,k,0)}oo(y,T),y.pendingBranch=null,y.isInFallback=!1;let W=y.parent,K=!1;for(;W;){if(W.pendingBranch){W.effects.push(...O),K=!0;break}W=W.parent}K||hr(O),y.effects=[],ii(C,"onResolve")},fallback($){if(!y.pendingBranch)return;const{vnode:C,activeBranch:I,parentComponent:T,container:A,isSVG:O}=y;ii(C,"onFallback");const D=p(I),x=()=>{!y.isInFallback||(c(null,$,A,D,T,null,O,r,u),oo(y,$))},W=$.transition&&$.transition.mode==="out-in";W&&(I.transition.afterLeave=x),y.isInFallback=!0,m(I,T,null,!0),W||x()},move($,C,I){y.activeBranch&&f(y.activeBranch,$,C,I),y.container=$},next(){return y.activeBranch&&p(y.activeBranch)},registerDep($,C){const I=!!y.pendingBranch;I&&y.deps++;const T=$.vnode.el;$.asyncDep.catch(A=>{js(A,$,0)}).then(A=>{if($.isUnmounted||y.isUnmounted||y.pendingId!==$.suspenseId)return;$.asyncResolved=!0;const{vnode:O}=$;Pl($,A,!1),T&&(O.el=T);const D=!T&&$.subTree.el;C($,O,g(T||$.subTree.el),T?null:p($.subTree),y,i,u),D&&S(D),mr($,O.el),I&&--y.deps===0&&y.resolve()})},unmount($,C){y.isUnmounted=!0,y.activeBranch&&m(y.activeBranch,n,$,C),y.pendingBranch&&m(y.pendingBranch,n,$,C)}};return y}function Tm(e,t,n,s,o,l,i,r,u){const d=t.suspense=pr(t,s,n,e.parentNode,document.createElement("div"),null,o,l,i,r,!0),h=u(e,d.pendingBranch=t.ssContent,n,d,l,i);return d.deps===0&&d.resolve(),h}function Dm(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Zr(s?n.default:n),e.ssFallback=s?Zr(n.fallback):R(Ut)}function Zr(e){let t;if(Le(e)){const n=Fs&&e._c;n&&(e._d=!1,v()),e=e(),n&&(e._d=!0,t=zt,gc())}return _e(e)&&(e=bm(e)),e=Zt(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function jd(e,t){t&&t.pendingBranch?_e(e)?t.effects.push(...e):t.effects.push(e):hr(e)}function oo(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,o=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=o,mr(s,o))}function Fo(e,t){if(Ct){let n=Ct.provides;const s=Ct.parent&&Ct.parent.provides;s===n&&(n=Ct.provides=Object.create(s)),n[e]=t}}function un(e,t,n=!1){const s=Ct||Ot;if(s){const o=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Le(t)?t.call(s.proxy):t}}function Am(e,t){return yi(e,null,t)}function zd(e,t){return yi(e,null,{flush:"post"})}function Om(e,t){return yi(e,null,{flush:"sync"})}const Ri={};function Xe(e,t,n){return yi(e,t,n)}function yi(e,t,{immediate:n,deep:s,flush:o,onTrack:l,onTrigger:i}=lt){const r=Ct;let u,d=!1,h=!1;if(_t(e)?(u=()=>e.value,d=ei(e)):Ps(e)?(u=()=>e,s=!0):_e(e)?(h=!0,d=e.some($=>Ps($)||ei($)),u=()=>e.map($=>{if(_t($))return $.value;if(Ps($))return As($);if(Le($))return zn($,r,2)})):Le(e)?t?u=()=>zn(e,r,2):u=()=>{if(!(r&&r.isUnmounted))return c&&c(),tn(e,r,3,[f])}:u=$n,t&&s){const $=u;u=()=>As($())}let c,f=$=>{c=w.onStop=()=>{zn($,r,4)}},m;if(ro)if(f=$n,t?n&&tn(t,r,3,[u(),h?[]:void 0,f]):u(),o==="sync"){const $=Dc();m=$.__watcherHandles||($.__watcherHandles=[])}else return $n;let p=h?new Array(e.length).fill(Ri):Ri;const g=()=>{if(!!w.active)if(t){const $=w.run();(s||d||(h?$.some((C,I)=>ao(C,p[I])):ao($,p)))&&(c&&c(),tn(t,r,3,[$,p===Ri?void 0:h&&p[0]===Ri?[]:p,f]),p=$)}else w.run()};g.allowRecurse=!!t;let S;o==="sync"?S=g:o==="post"?S=()=>At(g,r&&r.suspense):(g.pre=!0,r&&(g.id=r.uid),S=()=>Ea(g));const w=new vi(u,S);t?n?g():p=w.run():o==="post"?At(w.run.bind(w),r&&r.suspense):w.run();const y=()=>{w.stop(),r&&r.scope&&er(r.scope.effects,w)};return m&&m.push(y),y}function km(e,t,n){const s=this.proxy,o=pt(e)?e.includes(".")?Kd(s,e):()=>s[e]:e.bind(s,s);let l;Le(t)?l=t:(l=t.handler,n=t);const i=Ct;vs(this);const r=yi(o,l.bind(s),n);return i?vs(i):fs(),r}function Kd(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function As(e,t){if(!ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_t(e))As(e.value,t);else if(_e(e))for(let n=0;n<e.length;n++)As(e[n],t);else if(Ws(e)||to(e))e.forEach(n=>{As(n,t)});else if(bd(e))for(const n in e)As(e[n],t);return e}function gr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tt(()=>{e.isMounted=!0}),ka(()=>{e.isUnmounting=!0}),e}const sn=[Function,Array],Pm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:sn,onEnter:sn,onAfterEnter:sn,onEnterCancelled:sn,onBeforeLeave:sn,onLeave:sn,onAfterLeave:sn,onLeaveCancelled:sn,onBeforeAppear:sn,onAppear:sn,onAfterAppear:sn,onAppearCancelled:sn},setup(e,{slots:t}){const n=Zn(),s=gr();let o;return()=>{const l=t.default&&Ta(t.default(),!0);if(!l||!l.length)return;let i=l[0];if(l.length>1){for(const g of l)if(g.type!==Ut){i=g;break}}const r=qe(e),{mode:u}=r;if(s.isLeaving)return Xa(i);const d=qr(i);if(!d)return Xa(i);const h=lo(d,r,s,n);xs(d,h);const c=n.subTree,f=c&&qr(c);let m=!1;const{getTransitionKey:p}=d.type;if(p){const g=p();o===void 0?o=g:g!==o&&(o=g,m=!0)}if(f&&f.type!==Ut&&(!kn(d,f)||m)){const g=lo(f,r,s,n);if(xs(f,g),u==="out-in")return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},Xa(i);u==="in-out"&&d.type!==Ut&&(g.delayLeave=(S,w,y)=>{const $=Gd(s,f);$[String(f.key)]=f,S._leaveCb=()=>{w(),S._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=y})}return i}}},vr=Pm;function Gd(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function lo(e,t,n,s){const{appear:o,mode:l,persisted:i=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:c,onLeave:f,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:g,onAppear:S,onAfterAppear:w,onAppearCancelled:y}=t,$=String(e.key),C=Gd(n,e),I=(O,D)=>{O&&tn(O,s,9,D)},T=(O,D)=>{const x=D[1];I(O,D),_e(O)?O.every(W=>W.length<=1)&&x():O.length<=1&&x()},A={mode:l,persisted:i,beforeEnter(O){let D=r;if(!n.isMounted)if(o)D=g||r;else return;O._leaveCb&&O._leaveCb(!0);const x=C[$];x&&kn(e,x)&&x.el._leaveCb&&x.el._leaveCb(),I(D,[O])},enter(O){let D=u,x=d,W=h;if(!n.isMounted)if(o)D=S||u,x=w||d,W=y||h;else return;let K=!1;const L=O._enterCb=k=>{K||(K=!0,k?I(W,[O]):I(x,[O]),A.delayedLeave&&A.delayedLeave(),O._enterCb=void 0)};D?T(D,[O,L]):L()},leave(O,D){const x=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return D();I(c,[O]);let W=!1;const K=O._leaveCb=L=>{W||(W=!0,D(),L?I(p,[O]):I(m,[O]),O._leaveCb=void 0,C[x]===e&&delete C[x])};C[x]=e,f?T(f,[O,K]):K()},clone(O){return lo(O,t,n,s)}};return A}function Xa(e){if(bi(e))return e=Rn(e),e.children=null,e}function qr(e){return bi(e)?e.children?e.children[0]:void 0:e}function xs(e,t){e.shapeFlag&6&&e.component?xs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ta(e,t=!1,n){let s=[],o=0;for(let l=0;l<e.length;l++){let i=e[l];const r=n==null?i.key:String(n)+String(i.key!=null?i.key:l);i.type===ie?(i.patchFlag&128&&o++,s=s.concat(Ta(i.children,t,r))):(t||i.type!==Ut)&&s.push(r!=null?Rn(i,{key:r}):i)}if(o>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}function ae(e){return Le(e)?{setup:e,name:e.name}:e}const Vs=e=>!!e.type.__asyncLoader;function Vm(e){Le(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,timeout:l,suspensible:i=!0,onError:r}=e;let u=null,d,h=0;const c=()=>(h++,u=null,f()),f=()=>{let m;return u||(m=u=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),r)return new Promise((g,S)=>{r(p,()=>g(c()),()=>S(p),h+1)});throw p}).then(p=>m!==u&&u?u:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),d=p,p)))};return ae({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return d},setup(){const m=Ct;if(d)return()=>Qa(d,m);const p=y=>{u=null,js(y,m,13,!s)};if(i&&m.suspense||ro)return f().then(y=>()=>Qa(y,m)).catch(y=>(p(y),()=>s?R(s,{error:y}):null));const g=se(!1),S=se(),w=se(!!o);return o&&setTimeout(()=>{w.value=!1},o),l!=null&&setTimeout(()=>{if(!g.value&&!S.value){const y=new Error(`Async component timed out after ${l}ms.`);p(y),S.value=y}},l),f().then(()=>{g.value=!0,m.parent&&bi(m.parent.vnode)&&Ea(m.parent.update)}).catch(y=>{p(y),S.value=y}),()=>{if(g.value&&d)return Qa(d,m);if(S.value&&s)return R(s,{error:S.value});if(n&&!w.value)return R(n)}}})}function Qa(e,t){const{ref:n,props:s,children:o,ce:l}=t.vnode,i=R(e,s,o);return i.ref=n,i.ce=l,delete t.vnode.ce,i}const bi=e=>e.type.__isKeepAlive,Rm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Zn(),s=n.ctx;if(!s.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const o=new Map,l=new Set;let i=null;const r=n.suspense,{renderer:{p:u,m:d,um:h,o:{createElement:c}}}=s,f=c("div");s.activate=(y,$,C,I,T)=>{const A=y.component;d(y,$,C,0,r),u(A.vnode,y,$,C,A,r,I,y.slotScopeIds,T),At(()=>{A.isDeactivated=!1,A.a&&no(A.a);const O=y.props&&y.props.onVnodeMounted;O&&Wt(O,A.parent,y)},r)},s.deactivate=y=>{const $=y.component;d(y,f,null,1,r),At(()=>{$.da&&no($.da);const C=y.props&&y.props.onVnodeUnmounted;C&&Wt(C,$.parent,y),$.isDeactivated=!0},r)};function m(y){Za(y),h(y,n,r,!0)}function p(y){o.forEach(($,C)=>{const I=Rl($.type);I&&(!y||!y(I))&&g(C)})}function g(y){const $=o.get(y);!i||$.type!==i.type?m($):i&&Za(i),o.delete(y),l.delete(y)}Xe(()=>[e.include,e.exclude],([y,$])=>{y&&p(C=>Oo(y,C)),$&&p(C=>!Oo($,C))},{flush:"post",deep:!0});let S=null;const w=()=>{S!=null&&o.set(S,qa(n.subTree))};return Tt(w),Oa(w),ka(()=>{o.forEach(y=>{const{subTree:$,suspense:C}=n,I=qa($);if(y.type===I.type){Za(I);const T=I.component.da;T&&At(T,C);return}m(y)})}),()=>{if(S=null,!t.default)return null;const y=t.default(),$=y[0];if(y.length>1)return i=null,y;if(!gs($)||!($.shapeFlag&4)&&!($.shapeFlag&128))return i=null,$;let C=qa($);const I=C.type,T=Rl(Vs(C)?C.type.__asyncResolved||{}:I),{include:A,exclude:O,max:D}=e;if(A&&(!T||!Oo(A,T))||O&&T&&Oo(O,T))return i=C,$;const x=C.key==null?I:C.key,W=o.get(x);return C.el&&(C=Rn(C),$.shapeFlag&128&&($.ssContent=C)),S=x,W?(C.el=W.el,C.component=W.component,C.transition&&xs(C,C.transition),C.shapeFlag|=512,l.delete(x),l.add(x)):(l.add(x),D&&l.size>parseInt(D,10)&&g(l.values().next().value)),C.shapeFlag|=256,i=C,Wd($.type)?$:C}}},Mm=Rm;function Oo(e,t){return _e(e)?e.some(n=>Oo(n,t)):pt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Jd(e,t){Xd(e,"a",t)}function Yd(e,t){Xd(e,"da",t)}function Xd(e,t,n=Ct){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Da(t,s,n),n){let o=n.parent;for(;o&&o.parent;)bi(o.parent.vnode)&&Um(s,t,n,o),o=o.parent}}function Um(e,t,n,s){const o=Da(t,e,s,!0);Tn(()=>{er(s[t],o)},n)}function Za(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function qa(e){return e.shapeFlag&128?e.ssContent:e}function Da(e,t,n=Ct,s=!1){if(n){const o=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;go(),vs(n);const r=tn(t,n,e,i);return fs(),vo(),r});return s?o.unshift(l):o.push(l),l}}const Qn=e=>(t,n=Ct)=>(!ro||e==="sp")&&Da(e,(...s)=>t(...s),n),Aa=Qn("bm"),Tt=Qn("m"),Qd=Qn("bu"),Oa=Qn("u"),ka=Qn("bum"),Tn=Qn("um"),Zd=Qn("sp"),qd=Qn("rtg"),ec=Qn("rtc");function tc(e,t=Ct){Da("ec",e,t)}function ge(e,t){const n=Ot;if(n===null)return e;const s=Ra(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[i,r,u,d=lt]=t[l];i&&(Le(i)&&(i={mounted:i,updated:i}),i.deep&&As(r),o.push({dir:i,instance:s,value:r,oldValue:void 0,arg:u,modifiers:d}))}return e}function An(e,t,n,s){const o=e.dirs,l=t&&t.dirs;for(let i=0;i<o.length;i++){const r=o[i];l&&(r.oldValue=l[i].value);let u=r.dir[s];u&&(go(),tn(u,n,8,[e.el,r,e,t]),vo())}}const yr="components",Nm="directives";function me(e,t){return br(yr,e,!0,t)||e}const nc=Symbol();function Pa(e){return pt(e)?br(yr,e,!1)||e:e||nc}function xm(e){return br(Nm,e)}function br(e,t,n=!0,s=!1){const o=Ot||Ct;if(o){const l=o.type;if(e===yr){const r=Rl(l,!1);if(r&&(r===t||r===Kt(t)||r===gi(Kt(t))))return l}const i=eu(o[e]||l[e],t)||eu(o.appContext[e],t);return!i&&s?l:i}}function eu(e,t){return e&&(e[t]||e[Kt(t)]||e[gi(Kt(t))])}function ye(e,t,n,s){let o;const l=n&&n[s];if(_e(e)||pt(e)){o=new Array(e.length);for(let i=0,r=e.length;i<r;i++)o[i]=t(e[i],i,void 0,l&&l[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,l&&l[i])}else if(ut(e))if(e[Symbol.iterator])o=Array.from(e,(i,r)=>t(i,r,void 0,l&&l[r]));else{const i=Object.keys(e);o=new Array(i.length);for(let r=0,u=i.length;r<u;r++){const d=i[r];o[r]=t(e[d],d,r,l&&l[r])}}else o=[];return n&&(n[s]=o),o}function Lm(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(_e(s))for(let o=0;o<s.length;o++)e[s[o].name]=s[o].fn;else s&&(e[s.name]=s.key?(...o)=>{const l=s.fn(...o);return l&&(l.key=s.key),l}:s.fn)}return e}function wr(e,t,n={},s,o){if(Ot.isCE||Ot.parent&&Vs(Ot.parent)&&Ot.parent.isCE)return t!=="default"&&(n.name=t),R("slot",n,s&&s());let l=e[t];l&&l._c&&(l._d=!1),v();const i=l&&sc(l(n)),r=Ce(ie,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!o&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),l&&l._c&&(l._d=!0),r}function sc(e){return e.some(t=>gs(t)?!(t.type===Ut||t.type===ie&&!sc(t.children)):!0)?e:null}function oc(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:Lo(s)]=e[s];return n}const _l=e=>e?$c(e)?Ra(e)||e.proxy:_l(e.parent):null,Bo=bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_l(e.parent),$root:e=>_l(e.root),$emit:e=>e.emit,$options:e=>Sr(e),$forceUpdate:e=>e.f||(e.f=()=>Ea(e.update)),$nextTick:e=>e.n||(e.n=Nn.bind(e.proxy)),$watch:e=>km.bind(e)}),el=(e,t)=>e!==lt&&!e.__isScriptSetup&&tt(e,t),Il={get({_:e},t){const{ctx:n,setupState:s,data:o,props:l,accessCache:i,type:r,appContext:u}=e;let d;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return l[t]}else{if(el(s,t))return i[t]=1,s[t];if(o!==lt&&tt(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&tt(d,t))return i[t]=3,l[t];if(n!==lt&&tt(n,t))return i[t]=4,n[t];Tl&&(i[t]=0)}}const h=Bo[t];let c,f;if(h)return t==="$attrs"&&nn(e,"get",t),h(e);if((c=r.__cssModules)&&(c=c[t]))return c;if(n!==lt&&tt(n,t))return i[t]=4,n[t];if(f=u.config.globalProperties,tt(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:l}=e;return el(o,t)?(o[t]=n,!0):s!==lt&&tt(s,t)?(s[t]=n,!0):tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:l}},i){let r;return!!n[i]||e!==lt&&tt(e,i)||el(t,i)||(r=l[0])&&tt(r,i)||tt(s,i)||tt(Bo,i)||tt(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:tt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Fm=bt({},Il,{get(e,t){if(t!==Symbol.unscopables)return Il.get(e,t,e)},has(e,t){return t[0]!=="_"&&!uh(t)}});let Tl=!0;function Bm(e){const t=Sr(e),n=e.proxy,s=e.ctx;Tl=!1,t.beforeCreate&&tu(t.beforeCreate,e,"bc");const{data:o,computed:l,methods:i,watch:r,provide:u,inject:d,created:h,beforeMount:c,mounted:f,beforeUpdate:m,updated:p,activated:g,deactivated:S,beforeDestroy:w,beforeUnmount:y,destroyed:$,unmounted:C,render:I,renderTracked:T,renderTriggered:A,errorCaptured:O,serverPrefetch:D,expose:x,inheritAttrs:W,components:K,directives:L,filters:k}=t;if(d&&Hm(d,s,null,e.appContext.config.unwrapInjectedRef),i)for(const ue in i){const we=i[ue];Le(we)&&(s[ue]=we.bind(n))}if(o){const ue=o.call(n,n);ut(ue)&&(e.data=yo(ue))}if(Tl=!0,l)for(const ue in l){const we=l[ue],Ke=Le(we)?we.bind(n,n):Le(we.get)?we.get.bind(n,n):$n,ot=!Le(we)&&Le(we.set)?we.set.bind(n):$n,Fe=Ne({get:Ke,set:ot});Object.defineProperty(s,ue,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:Ge=>Fe.value=Ge})}if(r)for(const ue in r)ic(r[ue],s,n,ue);if(u){const ue=Le(u)?u.call(n):u;Reflect.ownKeys(ue).forEach(we=>{Fo(we,ue[we])})}h&&tu(h,e,"c");function j(ue,we){_e(we)?we.forEach(Ke=>ue(Ke.bind(n))):we&&ue(we.bind(n))}if(j(Aa,c),j(Tt,f),j(Qd,m),j(Oa,p),j(Jd,g),j(Yd,S),j(tc,O),j(ec,T),j(qd,A),j(ka,y),j(Tn,C),j(Zd,D),_e(x))if(x.length){const ue=e.exposed||(e.exposed={});x.forEach(we=>{Object.defineProperty(ue,we,{get:()=>n[we],set:Ke=>n[we]=Ke})})}else e.exposed||(e.exposed={});I&&e.render===$n&&(e.render=I),W!=null&&(e.inheritAttrs=W),K&&(e.components=K),L&&(e.directives=L)}function Hm(e,t,n=$n,s=!1){_e(e)&&(e=Dl(e));for(const o in e){const l=e[o];let i;ut(l)?"default"in l?i=un(l.from||o,l.default,!0):i=un(l.from||o):i=un(l),_t(i)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function tu(e,t,n){tn(_e(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ic(e,t,n,s){const o=s.includes(".")?Kd(n,s):()=>n[s];if(pt(e)){const l=t[e];Le(l)&&Xe(o,l)}else if(Le(e))Xe(o,e.bind(n));else if(ut(e))if(_e(e))e.forEach(l=>ic(l,t,n,s));else{const l=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(l)&&Xe(o,l,e)}}function Sr(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,r=l.get(t);let u;return r?u=r:!o.length&&!n&&!s?u=t:(u={},o.length&&o.forEach(d=>na(u,d,i,!0)),na(u,t,i)),ut(t)&&l.set(t,u),u}function na(e,t,n,s=!1){const{mixins:o,extends:l}=t;l&&na(e,l,n,!0),o&&o.forEach(i=>na(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const r=Wm[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const Wm={data:nu,props:_s,emits:_s,methods:_s,computed:_s,beforeCreate:Nt,created:Nt,beforeMount:Nt,mounted:Nt,beforeUpdate:Nt,updated:Nt,beforeDestroy:Nt,beforeUnmount:Nt,destroyed:Nt,unmounted:Nt,activated:Nt,deactivated:Nt,errorCaptured:Nt,serverPrefetch:Nt,components:_s,directives:_s,watch:zm,provide:nu,inject:jm};function nu(e,t){return t?e?function(){return bt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function jm(e,t){return _s(Dl(e),Dl(t))}function Dl(e){if(_e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Nt(e,t){return e?[...new Set([].concat(e,t))]:t}function _s(e,t){return e?bt(bt(Object.create(null),e),t):t}function zm(e,t){if(!e)return t;if(!t)return e;const n=bt(Object.create(null),e);for(const s in t)n[s]=Nt(e[s],t[s]);return n}function Km(e,t,n,s=!1){const o={},l={};ea(l,Va,1),e.propsDefaults=Object.create(null),ac(e,t,o,l);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Vd(o):e.type.props?e.props=o:e.props=l,e.attrs=l}function Gm(e,t,n,s){const{props:o,attrs:l,vnode:{patchFlag:i}}=e,r=qe(o),[u]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const h=e.vnode.dynamicProps;for(let c=0;c<h.length;c++){let f=h[c];if(_a(e.emitsOptions,f))continue;const m=t[f];if(u)if(tt(l,f))m!==l[f]&&(l[f]=m,d=!0);else{const p=Kt(f);o[p]=Al(u,r,p,m,e,!1)}else m!==l[f]&&(l[f]=m,d=!0)}}}else{ac(e,t,o,l)&&(d=!0);let h;for(const c in r)(!t||!tt(t,c)&&((h=ln(c))===c||!tt(t,h)))&&(u?n&&(n[c]!==void 0||n[h]!==void 0)&&(o[c]=Al(u,r,c,void 0,e,!0)):delete o[c]);if(l!==r)for(const c in l)(!t||!tt(t,c)&&!0)&&(delete l[c],d=!0)}d&&Yn(e,"set","$attrs")}function ac(e,t,n,s){const[o,l]=e.propsOptions;let i=!1,r;if(t)for(let u in t){if(xo(u))continue;const d=t[u];let h;o&&tt(o,h=Kt(u))?!l||!l.includes(h)?n[h]=d:(r||(r={}))[h]=d:_a(e.emitsOptions,u)||(!(u in s)||d!==s[u])&&(s[u]=d,i=!0)}if(l){const u=qe(n),d=r||lt;for(let h=0;h<l.length;h++){const c=l[h];n[c]=Al(o,u,c,d[c],e,!tt(d,c))}}return i}function Al(e,t,n,s,o,l){const i=e[n];if(i!=null){const r=tt(i,"default");if(r&&s===void 0){const u=i.default;if(i.type!==Function&&Le(u)){const{propsDefaults:d}=o;n in d?s=d[n]:(vs(o),s=d[n]=u.call(null,t),fs())}else s=u}i[0]&&(l&&!r?s=!1:i[1]&&(s===""||s===ln(n))&&(s=!0))}return s}function lc(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const l=e.props,i={},r=[];let u=!1;if(!Le(e)){const h=c=>{u=!0;const[f,m]=lc(c,t,!0);bt(i,f),m&&r.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!l&&!u)return ut(e)&&s.set(e,eo),eo;if(_e(l))for(let h=0;h<l.length;h++){const c=Kt(l[h]);su(c)&&(i[c]=lt)}else if(l)for(const h in l){const c=Kt(h);if(su(c)){const f=l[h],m=i[c]=_e(f)||Le(f)?{type:f}:Object.assign({},f);if(m){const p=au(Boolean,m.type),g=au(String,m.type);m[0]=p>-1,m[1]=g<0||p<g,(p>-1||tt(m,"default"))&&r.push(c)}}}const d=[i,r];return ut(e)&&s.set(e,d),d}function su(e){return e[0]!=="$"}function ou(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function iu(e,t){return ou(e)===ou(t)}function au(e,t){return _e(t)?t.findIndex(n=>iu(n,e)):Le(t)&&iu(t,e)?0:-1}const rc=e=>e[0]==="_"||e==="$stable",$r=e=>_e(e)?e.map(Zt):[Zt(e)],Jm=(e,t,n)=>{if(t._n)return t;const s=wt((...o)=>$r(t(...o)),n);return s._c=!1,s},uc=(e,t,n)=>{const s=e._ctx;for(const o in e){if(rc(o))continue;const l=e[o];if(Le(l))t[o]=Jm(o,l,s);else if(l!=null){const i=$r(l);t[o]=()=>i}}},dc=(e,t)=>{const n=$r(t);e.slots.default=()=>n},Ym=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=qe(t),ea(t,"_",n)):uc(t,e.slots={})}else e.slots={},t&&dc(e,t);ea(e.slots,Va,1)},Xm=(e,t,n)=>{const{vnode:s,slots:o}=e;let l=!0,i=lt;if(s.shapeFlag&32){const r=t._;r?n&&r===1?l=!1:(bt(o,t),!n&&r===1&&delete o._):(l=!t.$stable,uc(t,o)),i=t}else t&&(dc(e,t),i={default:1});if(l)for(const r in o)!rc(r)&&!(r in i)&&delete o[r]};function cc(){return{app:null,config:{isNativeTag:yh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qm=0;function Zm(e,t){return function(s,o=null){Le(s)||(s=Object.assign({},s)),o!=null&&!ut(o)&&(o=null);const l=cc(),i=new Set;let r=!1;const u=l.app={_uid:Qm++,_component:s,_props:o,_container:null,_context:l,_instance:null,version:Oc,get config(){return l.config},set config(d){},use(d,...h){return i.has(d)||(d&&Le(d.install)?(i.add(d),d.install(u,...h)):Le(d)&&(i.add(d),d(u,...h))),u},mixin(d){return l.mixins.includes(d)||l.mixins.push(d),u},component(d,h){return h?(l.components[d]=h,u):l.components[d]},directive(d,h){return h?(l.directives[d]=h,u):l.directives[d]},mount(d,h,c){if(!r){const f=R(s,o);return f.appContext=l,h&&t?t(f,d):e(f,d,c),r=!0,u._container=d,d.__vue_app__=u,Ra(f.component)||f.component.proxy}},unmount(){r&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,h){return l.provides[d]=h,u}};return u}}function sa(e,t,n,s,o=!1){if(_e(e)){e.forEach((f,m)=>sa(f,t&&(_e(t)?t[m]:t),n,s,o));return}if(Vs(s)&&!o)return;const l=s.shapeFlag&4?Ra(s.component)||s.component.proxy:s.el,i=o?null:l,{i:r,r:u}=e,d=t&&t.r,h=r.refs===lt?r.refs={}:r.refs,c=r.setupState;if(d!=null&&d!==u&&(pt(d)?(h[d]=null,tt(c,d)&&(c[d]=null)):_t(d)&&(d.value=null)),Le(u))zn(u,r,12,[i,h]);else{const f=pt(u),m=_t(u);if(f||m){const p=()=>{if(e.f){const g=f?tt(c,u)?c[u]:h[u]:u.value;o?_e(g)&&er(g,l):_e(g)?g.includes(l)||g.push(l):f?(h[u]=[l],tt(c,u)&&(c[u]=h[u])):(u.value=[l],e.k&&(h[e.k]=u.value))}else f?(h[u]=i,tt(c,u)&&(c[u]=i)):m&&(u.value=i,e.k&&(h[e.k]=i))};i?(p.id=-1,At(p,n)):p()}}}let ns=!1;const Mi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Ui=e=>e.nodeType===8;function qm(e){const{mt:t,p:n,o:{patchProp:s,createText:o,nextSibling:l,parentNode:i,remove:r,insert:u,createComment:d}}=e,h=(w,y)=>{if(!y.hasChildNodes()){n(null,w,y),ta(),y._vnode=w;return}ns=!1,c(y.firstChild,w,null,null,null),ta(),y._vnode=w,ns&&console.error("Hydration completed but contains mismatches.")},c=(w,y,$,C,I,T=!1)=>{const A=Ui(w)&&w.data==="[",O=()=>g(w,y,$,C,I,A),{type:D,ref:x,shapeFlag:W,patchFlag:K}=y;let L=w.nodeType;y.el=w,K===-2&&(T=!1,y.dynamicChildren=null);let k=null;switch(D){case Ls:L!==3?y.children===""?(u(y.el=o(""),i(w),w),k=w):k=O():(w.data!==y.children&&(ns=!0,w.data=y.children),k=l(w));break;case Ut:L!==8||A?k=O():k=l(w);break;case Rs:if(A&&(w=l(w),L=w.nodeType),L===1||L===3){k=w;const fe=!y.children.length;for(let j=0;j<y.staticCount;j++)fe&&(y.children+=k.nodeType===1?k.outerHTML:k.data),j===y.staticCount-1&&(y.anchor=k),k=l(k);return A?l(k):k}else O();break;case ie:A?k=p(w,y,$,C,I,T):k=O();break;default:if(W&1)L!==1||y.type.toLowerCase()!==w.tagName.toLowerCase()?k=O():k=f(w,y,$,C,I,T);else if(W&6){y.slotScopeIds=I;const fe=i(w);if(t(y,fe,null,$,C,Mi(fe),T),k=A?S(w):l(w),k&&Ui(k)&&k.data==="teleport end"&&(k=l(k)),Vs(y)){let j;A?(j=R(ie),j.anchor=k?k.previousSibling:fe.lastChild):j=w.nodeType===3?M(""):R("div"),j.el=w,y.component.subTree=j}}else W&64?L!==8?k=O():k=y.type.hydrate(w,y,$,C,I,T,e,m):W&128&&(k=y.type.hydrate(w,y,$,C,Mi(i(w)),I,T,e,c))}return x!=null&&sa(x,null,C,y),k},f=(w,y,$,C,I,T)=>{T=T||!!y.dynamicChildren;const{type:A,props:O,patchFlag:D,shapeFlag:x,dirs:W}=y,K=A==="input"&&W||A==="option";if(K||D!==-1){if(W&&An(y,null,$,"created"),O)if(K||!T||D&48)for(const k in O)(K&&k.endsWith("value")||mi(k)&&!xo(k))&&s(w,k,null,O[k],!1,void 0,$);else O.onClick&&s(w,"onClick",null,O.onClick,!1,void 0,$);let L;if((L=O&&O.onVnodeBeforeMount)&&Wt(L,$,y),W&&An(y,null,$,"beforeMount"),((L=O&&O.onVnodeMounted)||W)&&jd(()=>{L&&Wt(L,$,y),W&&An(y,null,$,"mounted")},C),x&16&&!(O&&(O.innerHTML||O.textContent))){let k=m(w.firstChild,y,w,$,C,I,T);for(;k;){ns=!0;const fe=k;k=k.nextSibling,r(fe)}}else x&8&&w.textContent!==y.children&&(ns=!0,w.textContent=y.children)}return w.nextSibling},m=(w,y,$,C,I,T,A)=>{A=A||!!y.dynamicChildren;const O=y.children,D=O.length;for(let x=0;x<D;x++){const W=A?O[x]:O[x]=Zt(O[x]);if(w)w=c(w,W,C,I,T,A);else{if(W.type===Ls&&!W.children)continue;ns=!0,n(null,W,$,null,C,I,Mi($),T)}}return w},p=(w,y,$,C,I,T)=>{const{slotScopeIds:A}=y;A&&(I=I?I.concat(A):A);const O=i(w),D=m(l(w),y,O,$,C,I,T);return D&&Ui(D)&&D.data==="]"?l(y.anchor=D):(ns=!0,u(y.anchor=d("]"),O,D),D)},g=(w,y,$,C,I,T)=>{if(ns=!0,y.el=null,T){const D=S(w);for(;;){const x=l(w);if(x&&x!==D)r(x);else break}}const A=l(w),O=i(w);return r(w),n(null,y,O,A,$,C,Mi(O),I),A},S=w=>{let y=0;for(;w;)if(w=l(w),w&&Ui(w)&&(w.data==="["&&y++,w.data==="]")){if(y===0)return l(w);y--}return w};return[h,c]}const At=jd;function fc(e){return mc(e)}function hc(e){return mc(e,qm)}function mc(e,t){const n=Eh();n.__VUE__=!0;const{insert:s,remove:o,patchProp:l,createElement:i,createText:r,createComment:u,setText:d,setElementText:h,parentNode:c,nextSibling:f,setScopeId:m=$n,insertStaticContent:p}=e,g=(E,_,N,z=null,X=null,ne=null,pe=!1,re=null,le=!!_.dynamicChildren)=>{if(E===_)return;E&&!kn(E,_)&&(z=J(E),Ge(E,X,ne,!0),E=null),_.patchFlag===-2&&(le=!1,_.dynamicChildren=null);const{type:Z,ref:Ie,shapeFlag:be}=_;switch(Z){case Ls:S(E,_,N,z);break;case Ut:w(E,_,N,z);break;case Rs:E==null&&y(_,N,z,pe);break;case ie:K(E,_,N,z,X,ne,pe,re,le);break;default:be&1?I(E,_,N,z,X,ne,pe,re,le):be&6?L(E,_,N,z,X,ne,pe,re,le):(be&64||be&128)&&Z.process(E,_,N,z,X,ne,pe,re,le,F)}Ie!=null&&X&&sa(Ie,E&&E.ref,ne,_||E,!_)},S=(E,_,N,z)=>{if(E==null)s(_.el=r(_.children),N,z);else{const X=_.el=E.el;_.children!==E.children&&d(X,_.children)}},w=(E,_,N,z)=>{E==null?s(_.el=u(_.children||""),N,z):_.el=E.el},y=(E,_,N,z)=>{[E.el,E.anchor]=p(E.children,_,N,z,E.el,E.anchor)},$=({el:E,anchor:_},N,z)=>{let X;for(;E&&E!==_;)X=f(E),s(E,N,z),E=X;s(_,N,z)},C=({el:E,anchor:_})=>{let N;for(;E&&E!==_;)N=f(E),o(E),E=N;o(_)},I=(E,_,N,z,X,ne,pe,re,le)=>{pe=pe||_.type==="svg",E==null?T(_,N,z,X,ne,pe,re,le):D(E,_,X,ne,pe,re,le)},T=(E,_,N,z,X,ne,pe,re)=>{let le,Z;const{type:Ie,props:be,shapeFlag:Te,transition:Ve,dirs:We}=E;if(le=E.el=i(E.type,ne,be&&be.is,be),Te&8?h(le,E.children):Te&16&&O(E.children,le,null,z,X,ne&&Ie!=="foreignObject",pe,re),We&&An(E,null,z,"created"),be){for(const Ze in be)Ze!=="value"&&!xo(Ze)&&l(le,Ze,null,be[Ze],ne,E.children,z,X,Y);"value"in be&&l(le,"value",null,be.value),(Z=be.onVnodeBeforeMount)&&Wt(Z,z,E)}A(le,E,E.scopeId,pe,z),We&&An(E,null,z,"beforeMount");const nt=(!X||X&&!X.pendingBranch)&&Ve&&!Ve.persisted;nt&&Ve.beforeEnter(le),s(le,_,N),((Z=be&&be.onVnodeMounted)||nt||We)&&At(()=>{Z&&Wt(Z,z,E),nt&&Ve.enter(le),We&&An(E,null,z,"mounted")},X)},A=(E,_,N,z,X)=>{if(N&&m(E,N),z)for(let ne=0;ne<z.length;ne++)m(E,z[ne]);if(X){let ne=X.subTree;if(_===ne){const pe=X.vnode;A(E,pe,pe.scopeId,pe.slotScopeIds,X.parent)}}},O=(E,_,N,z,X,ne,pe,re,le=0)=>{for(let Z=le;Z<E.length;Z++){const Ie=E[Z]=re?as(E[Z]):Zt(E[Z]);g(null,Ie,_,N,z,X,ne,pe,re)}},D=(E,_,N,z,X,ne,pe)=>{const re=_.el=E.el;let{patchFlag:le,dynamicChildren:Z,dirs:Ie}=_;le|=E.patchFlag&16;const be=E.props||lt,Te=_.props||lt;let Ve;N&&ws(N,!1),(Ve=Te.onVnodeBeforeUpdate)&&Wt(Ve,N,_,E),Ie&&An(_,E,N,"beforeUpdate"),N&&ws(N,!0);const We=X&&_.type!=="foreignObject";if(Z?x(E.dynamicChildren,Z,re,N,z,We,ne):pe||we(E,_,re,null,N,z,We,ne,!1),le>0){if(le&16)W(re,_,be,Te,N,z,X);else if(le&2&&be.class!==Te.class&&l(re,"class",null,Te.class,X),le&4&&l(re,"style",be.style,Te.style,X),le&8){const nt=_.dynamicProps;for(let Ze=0;Ze<nt.length;Ze++){const P=nt[Ze],U=be[P],B=Te[P];(B!==U||P==="value")&&l(re,P,U,B,X,E.children,N,z,Y)}}le&1&&E.children!==_.children&&h(re,_.children)}else!pe&&Z==null&&W(re,_,be,Te,N,z,X);((Ve=Te.onVnodeUpdated)||Ie)&&At(()=>{Ve&&Wt(Ve,N,_,E),Ie&&An(_,E,N,"updated")},z)},x=(E,_,N,z,X,ne,pe)=>{for(let re=0;re<_.length;re++){const le=E[re],Z=_[re],Ie=le.el&&(le.type===ie||!kn(le,Z)||le.shapeFlag&70)?c(le.el):N;g(le,Z,Ie,null,z,X,ne,pe,!0)}},W=(E,_,N,z,X,ne,pe)=>{if(N!==z){if(N!==lt)for(const re in N)!xo(re)&&!(re in z)&&l(E,re,N[re],null,pe,_.children,X,ne,Y);for(const re in z){if(xo(re))continue;const le=z[re],Z=N[re];le!==Z&&re!=="value"&&l(E,re,Z,le,pe,_.children,X,ne,Y)}"value"in z&&l(E,"value",N.value,z.value)}},K=(E,_,N,z,X,ne,pe,re,le)=>{const Z=_.el=E?E.el:r(""),Ie=_.anchor=E?E.anchor:r("");let{patchFlag:be,dynamicChildren:Te,slotScopeIds:Ve}=_;Ve&&(re=re?re.concat(Ve):Ve),E==null?(s(Z,N,z),s(Ie,N,z),O(_.children,N,Ie,X,ne,pe,re,le)):be>0&&be&64&&Te&&E.dynamicChildren?(x(E.dynamicChildren,Te,N,X,ne,pe,re),(_.key!=null||X&&_===X.subTree)&&Cr(E,_,!0)):we(E,_,N,Ie,X,ne,pe,re,le)},L=(E,_,N,z,X,ne,pe,re,le)=>{_.slotScopeIds=re,E==null?_.shapeFlag&512?X.ctx.activate(_,N,z,pe,le):k(_,N,z,X,ne,pe,le):fe(E,_,le)},k=(E,_,N,z,X,ne,pe)=>{const re=E.component=Sc(E,z,X);if(bi(E)&&(re.ctx.renderer=F),Cc(re),re.asyncDep){if(X&&X.registerDep(re,j),!E.el){const le=re.subTree=R(Ut);w(null,le,_,N)}return}j(re,E,_,N,X,ne,pe)},fe=(E,_,N)=>{const z=_.component=E.component;if($m(E,_,N))if(z.asyncDep&&!z.asyncResolved){ue(z,_,N);return}else z.next=_,pm(z.update),z.update();else _.el=E.el,z.vnode=_},j=(E,_,N,z,X,ne,pe)=>{const re=()=>{if(E.isMounted){let{next:Ie,bu:be,u:Te,parent:Ve,vnode:We}=E,nt=Ie,Ze;ws(E,!1),Ie?(Ie.el=We.el,ue(E,Ie,pe)):Ie=We,be&&no(be),(Ze=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Wt(Ze,Ve,Ie,We),ws(E,!0);const P=zi(E),U=E.subTree;E.subTree=P,g(U,P,c(U.el),J(U),E,X,ne),Ie.el=P.el,nt===null&&mr(E,P.el),Te&&At(Te,X),(Ze=Ie.props&&Ie.props.onVnodeUpdated)&&At(()=>Wt(Ze,Ve,Ie,We),X)}else{let Ie;const{el:be,props:Te}=_,{bm:Ve,m:We,parent:nt}=E,Ze=Vs(_);if(ws(E,!1),Ve&&no(Ve),!Ze&&(Ie=Te&&Te.onVnodeBeforeMount)&&Wt(Ie,nt,_),ws(E,!0),be&&ee){const P=()=>{E.subTree=zi(E),ee(be,E.subTree,E,X,null)};Ze?_.type.__asyncLoader().then(()=>!E.isUnmounted&&P()):P()}else{const P=E.subTree=zi(E);g(null,P,N,z,E,X,ne),_.el=P.el}if(We&&At(We,X),!Ze&&(Ie=Te&&Te.onVnodeMounted)){const P=_;At(()=>Wt(Ie,nt,P),X)}(_.shapeFlag&256||nt&&Vs(nt.vnode)&&nt.vnode.shapeFlag&256)&&E.a&&At(E.a,X),E.isMounted=!0,_=N=z=null}},le=E.effect=new vi(re,()=>Ea(Z),E.scope),Z=E.update=()=>le.run();Z.id=E.uid,ws(E,!0),Z()},ue=(E,_,N)=>{_.component=E;const z=E.vnode.props;E.vnode=_,E.next=null,Gm(E,_.props,z,N),Xm(E,_.children,N),go(),Xr(),vo()},we=(E,_,N,z,X,ne,pe,re,le=!1)=>{const Z=E&&E.children,Ie=E?E.shapeFlag:0,be=_.children,{patchFlag:Te,shapeFlag:Ve}=_;if(Te>0){if(Te&128){ot(Z,be,N,z,X,ne,pe,re,le);return}else if(Te&256){Ke(Z,be,N,z,X,ne,pe,re,le);return}}Ve&8?(Ie&16&&Y(Z,X,ne),be!==Z&&h(N,be)):Ie&16?Ve&16?ot(Z,be,N,z,X,ne,pe,re,le):Y(Z,X,ne,!0):(Ie&8&&h(N,""),Ve&16&&O(be,N,z,X,ne,pe,re,le))},Ke=(E,_,N,z,X,ne,pe,re,le)=>{E=E||eo,_=_||eo;const Z=E.length,Ie=_.length,be=Math.min(Z,Ie);let Te;for(Te=0;Te<be;Te++){const Ve=_[Te]=le?as(_[Te]):Zt(_[Te]);g(E[Te],Ve,N,null,X,ne,pe,re,le)}Z>Ie?Y(E,X,ne,!0,!1,be):O(_,N,z,X,ne,pe,re,le,be)},ot=(E,_,N,z,X,ne,pe,re,le)=>{let Z=0;const Ie=_.length;let be=E.length-1,Te=Ie-1;for(;Z<=be&&Z<=Te;){const Ve=E[Z],We=_[Z]=le?as(_[Z]):Zt(_[Z]);if(kn(Ve,We))g(Ve,We,N,null,X,ne,pe,re,le);else break;Z++}for(;Z<=be&&Z<=Te;){const Ve=E[be],We=_[Te]=le?as(_[Te]):Zt(_[Te]);if(kn(Ve,We))g(Ve,We,N,null,X,ne,pe,re,le);else break;be--,Te--}if(Z>be){if(Z<=Te){const Ve=Te+1,We=Ve<Ie?_[Ve].el:z;for(;Z<=Te;)g(null,_[Z]=le?as(_[Z]):Zt(_[Z]),N,We,X,ne,pe,re,le),Z++}}else if(Z>Te)for(;Z<=be;)Ge(E[Z],X,ne,!0),Z++;else{const Ve=Z,We=Z,nt=new Map;for(Z=We;Z<=Te;Z++){const Oe=_[Z]=le?as(_[Z]):Zt(_[Z]);Oe.key!=null&&nt.set(Oe.key,Z)}let Ze,P=0;const U=Te-We+1;let B=!1,q=0;const ve=new Array(U);for(Z=0;Z<U;Z++)ve[Z]=0;for(Z=Ve;Z<=be;Z++){const Oe=E[Z];if(P>=U){Ge(Oe,X,ne,!0);continue}let je;if(Oe.key!=null)je=nt.get(Oe.key);else for(Ze=We;Ze<=Te;Ze++)if(ve[Ze-We]===0&&kn(Oe,_[Ze])){je=Ze;break}je===void 0?Ge(Oe,X,ne,!0):(ve[je-We]=Z+1,je>=q?q=je:B=!0,g(Oe,_[je],N,null,X,ne,pe,re,le),P++)}const Re=B?ep(ve):eo;for(Ze=Re.length-1,Z=U-1;Z>=0;Z--){const Oe=We+Z,je=_[Oe],ct=Oe+1<Ie?_[Oe+1].el:z;ve[Z]===0?g(null,je,N,ct,X,ne,pe,re,le):B&&(Ze<0||Z!==Re[Ze]?Fe(je,N,ct,2):Ze--)}}},Fe=(E,_,N,z,X=null)=>{const{el:ne,type:pe,transition:re,children:le,shapeFlag:Z}=E;if(Z&6){Fe(E.component.subTree,_,N,z);return}if(Z&128){E.suspense.move(_,N,z);return}if(Z&64){pe.move(E,_,N,F);return}if(pe===ie){s(ne,_,N);for(let be=0;be<le.length;be++)Fe(le[be],_,N,z);s(E.anchor,_,N);return}if(pe===Rs){$(E,_,N);return}if(z!==2&&Z&1&&re)if(z===0)re.beforeEnter(ne),s(ne,_,N),At(()=>re.enter(ne),X);else{const{leave:be,delayLeave:Te,afterLeave:Ve}=re,We=()=>s(ne,_,N),nt=()=>{be(ne,()=>{We(),Ve&&Ve()})};Te?Te(ne,We,nt):nt()}else s(ne,_,N)},Ge=(E,_,N,z=!1,X=!1)=>{const{type:ne,props:pe,ref:re,children:le,dynamicChildren:Z,shapeFlag:Ie,patchFlag:be,dirs:Te}=E;if(re!=null&&sa(re,null,N,E,!0),Ie&256){_.ctx.deactivate(E);return}const Ve=Ie&1&&Te,We=!Vs(E);let nt;if(We&&(nt=pe&&pe.onVnodeBeforeUnmount)&&Wt(nt,_,E),Ie&6)V(E.component,N,z);else{if(Ie&128){E.suspense.unmount(N,z);return}Ve&&An(E,null,_,"beforeUnmount"),Ie&64?E.type.remove(E,_,N,X,F,z):Z&&(ne!==ie||be>0&&be&64)?Y(Z,_,N,!1,!0):(ne===ie&&be&384||!X&&Ie&16)&&Y(le,_,N),z&&Q(E)}(We&&(nt=pe&&pe.onVnodeUnmounted)||Ve)&&At(()=>{nt&&Wt(nt,_,E),Ve&&An(E,null,_,"unmounted")},N)},Q=E=>{const{type:_,el:N,anchor:z,transition:X}=E;if(_===ie){$e(N,z);return}if(_===Rs){C(E);return}const ne=()=>{o(N),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(E.shapeFlag&1&&X&&!X.persisted){const{leave:pe,delayLeave:re}=X,le=()=>pe(N,ne);re?re(E.el,ne,le):le()}else ne()},$e=(E,_)=>{let N;for(;E!==_;)N=f(E),o(E),E=N;o(_)},V=(E,_,N)=>{const{bum:z,scope:X,update:ne,subTree:pe,um:re}=E;z&&no(z),X.stop(),ne&&(ne.active=!1,Ge(pe,E,_,N)),re&&At(re,_),At(()=>{E.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Y=(E,_,N,z=!1,X=!1,ne=0)=>{for(let pe=ne;pe<E.length;pe++)Ge(E[pe],_,N,z,X)},J=E=>E.shapeFlag&6?J(E.component.subTree):E.shapeFlag&128?E.suspense.next():f(E.anchor||E.el),te=(E,_,N)=>{E==null?_._vnode&&Ge(_._vnode,null,null,!0):g(_._vnode||null,E,_,null,null,null,N),Xr(),ta(),_._vnode=E},F={p:g,um:Ge,m:Fe,r:Q,mt:k,mc:O,pc:we,pbc:x,n:J,o:e};let de,ee;return t&&([de,ee]=t(F)),{render:te,hydrate:de,createApp:Zm(te,de)}}function ws({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Cr(e,t,n=!1){const s=e.children,o=t.children;if(_e(s)&&_e(o))for(let l=0;l<s.length;l++){const i=s[l];let r=o[l];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[l]=as(o[l]),r.el=i.el),n||Cr(i,r)),r.type===Ls&&(r.el=i.el)}}function ep(e){const t=e.slice(),n=[0];let s,o,l,i,r;const u=e.length;for(s=0;s<u;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(l=0,i=n.length-1;l<i;)r=l+i>>1,e[n[r]]<d?l=r+1:i=r;d<e[n[l]]&&(l>0&&(t[s]=n[l-1]),n[l]=s)}}for(l=n.length,i=n[l-1];l-- >0;)n[l]=i,i=t[i];return n}const tp=e=>e.__isTeleport,Ho=e=>e&&(e.disabled||e.disabled===""),lu=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Ol=(e,t)=>{const n=e&&e.to;return pt(n)?t?t(n):null:n},np={__isTeleport:!0,process(e,t,n,s,o,l,i,r,u,d){const{mc:h,pc:c,pbc:f,o:{insert:m,querySelector:p,createText:g,createComment:S}}=d,w=Ho(t.props);let{shapeFlag:y,children:$,dynamicChildren:C}=t;if(e==null){const I=t.el=g(""),T=t.anchor=g("");m(I,n,s),m(T,n,s);const A=t.target=Ol(t.props,p),O=t.targetAnchor=g("");A&&(m(O,A),i=i||lu(A));const D=(x,W)=>{y&16&&h($,x,W,o,l,i,r,u)};w?D(n,T):A&&D(A,O)}else{t.el=e.el;const I=t.anchor=e.anchor,T=t.target=e.target,A=t.targetAnchor=e.targetAnchor,O=Ho(e.props),D=O?n:T,x=O?I:A;if(i=i||lu(T),C?(f(e.dynamicChildren,C,D,o,l,i,r),Cr(e,t,!0)):u||c(e,t,D,x,o,l,i,r,!1),w)O||Ni(t,n,I,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=Ol(t.props,p);W&&Ni(t,W,null,d,0)}else O&&Ni(t,T,A,d,1)}pc(t)},remove(e,t,n,s,{um:o,o:{remove:l}},i){const{shapeFlag:r,children:u,anchor:d,targetAnchor:h,target:c,props:f}=e;if(c&&l(h),(i||!Ho(f))&&(l(d),r&16))for(let m=0;m<u.length;m++){const p=u[m];o(p,t,n,!0,!!p.dynamicChildren)}},move:Ni,hydrate:sp};function Ni(e,t,n,{o:{insert:s},m:o},l=2){l===0&&s(e.targetAnchor,t,n);const{el:i,anchor:r,shapeFlag:u,children:d,props:h}=e,c=l===2;if(c&&s(i,t,n),(!c||Ho(h))&&u&16)for(let f=0;f<d.length;f++)o(d[f],t,n,2);c&&s(r,t,n)}function sp(e,t,n,s,o,l,{o:{nextSibling:i,parentNode:r,querySelector:u}},d){const h=t.target=Ol(t.props,u);if(h){const c=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Ho(t.props))t.anchor=d(i(e),t,r(e),n,s,o,l),t.targetAnchor=c;else{t.anchor=i(e);let f=c;for(;f;)if(f=i(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,h._lpa=t.targetAnchor&&i(t.targetAnchor);break}d(c,t,h,n,s,o,l)}pc(t)}return t.anchor&&i(t.anchor)}const op=np;function pc(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const ie=Symbol(void 0),Ls=Symbol(void 0),Ut=Symbol(void 0),Rs=Symbol(void 0),Wo=[];let zt=null;function v(e=!1){Wo.push(zt=e?null:[])}function gc(){Wo.pop(),zt=Wo[Wo.length-1]||null}let Fs=1;function kl(e){Fs+=e}function vc(e){return e.dynamicChildren=Fs>0?zt||eo:null,gc(),Fs>0&&zt&&zt.push(e),e}function b(e,t,n,s,o,l){return vc(a(e,t,n,s,o,l,!0))}function Ce(e,t,n,s,o){return vc(R(e,t,n,s,o,!0))}function gs(e){return e?e.__v_isVNode===!0:!1}function kn(e,t){return e.type===t.type&&e.key===t.key}function ip(e){}const Va="__vInternal",yc=({key:e})=>e!=null?e:null,Ki=({ref:e,ref_key:t,ref_for:n})=>e!=null?pt(e)||_t(e)||Le(e)?{i:Ot,r:e,k:t,f:!!n}:e:null;function a(e,t=null,n=null,s=0,o=null,l=e===ie?0:1,i=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yc(t),ref:t&&Ki(t),scopeId:Ia,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ot};return r?(Er(u,n),l&128&&e.normalize(u)):n&&(u.shapeFlag|=pt(n)?8:16),Fs>0&&!i&&zt&&(u.patchFlag>0||l&6)&&u.patchFlag!==32&&zt.push(u),u}const R=ap;function ap(e,t=null,n=null,s=0,o=null,l=!1){if((!e||e===nc)&&(e=Ut),gs(e)){const r=Rn(e,t,!0);return n&&Er(r,n),Fs>0&&!l&&zt&&(r.shapeFlag&6?zt[zt.indexOf(e)]=r:zt.push(r)),r.patchFlag|=-2,r}if(hp(e)&&(e=e.__vccOpts),t){t=bc(t);let{class:r,style:u}=t;r&&!pt(r)&&(t.class=Ae(r)),ut(u)&&(lr(u)&&!_e(u)&&(u=bt({},u)),t.style=at(u))}const i=pt(e)?1:Wd(e)?128:tp(e)?64:ut(e)?4:Le(e)?2:0;return a(e,t,n,s,o,i,l,!0)}function bc(e){return e?lr(e)||Va in e?bt({},e):e:null}function Rn(e,t,n=!1){const{props:s,ref:o,patchFlag:l,children:i}=e,r=t?wi(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&yc(r),ref:t&&t.ref?n&&o?_e(o)?o.concat(Ki(t)):[o,Ki(t)]:Ki(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ie?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rn(e.ssContent),ssFallback:e.ssFallback&&Rn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function M(e=" ",t=0){return R(Ls,null,e,t)}function wc(e,t){const n=R(Rs,null,e);return n.staticCount=t,n}function H(e="",t=!1){return t?(v(),Ce(Ut,null,e)):R(Ut,null,e)}function Zt(e){return e==null||typeof e=="boolean"?R(Ut):_e(e)?R(ie,null,e.slice()):typeof e=="object"?as(e):R(Ls,null,String(e))}function as(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rn(e)}function Er(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Er(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Va in t)?t._ctx=Ot:o===3&&Ot&&(Ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:Ot},n=32):(t=String(t),s&64?(n=16,t=[M(t)]):n=8);e.children=t,e.shapeFlag|=n}function wi(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Ae([t.class,s.class]));else if(o==="style")t.style=at([t.style,s.style]);else if(mi(o)){const l=t[o],i=s[o];i&&l!==i&&!(_e(l)&&l.includes(i))&&(t[o]=l?[].concat(l,i):i)}else o!==""&&(t[o]=s[o])}return t}function Wt(e,t,n,s=null){tn(e,t,7,[n,s])}const lp=cc();let rp=0;function Sc(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||lp,l={uid:rp++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new sr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lc(s,o),emitsOptions:Hd(s,o),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:s.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=vm.bind(null,l),e.ce&&e.ce(l),l}let Ct=null;const Zn=()=>Ct||Ot,vs=e=>{Ct=e,e.scope.on()},fs=()=>{Ct&&Ct.scope.off(),Ct=null};function $c(e){return e.vnode.shapeFlag&4}let ro=!1;function Cc(e,t=!1){ro=t;const{props:n,children:s}=e.vnode,o=$c(e);Km(e,n,o,t),Ym(e,s);const l=o?up(e,t):void 0;return ro=!1,l}function up(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=rr(new Proxy(e.ctx,Il));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?_c(e):null;vs(e),go();const l=zn(s,e,0,[e.props,o]);if(vo(),fs(),tr(l)){if(l.then(fs,fs),t)return l.then(i=>{Pl(e,i,t)}).catch(i=>{js(i,e,0)});e.asyncDep=l}else Pl(e,l,t)}else Ec(e,t)}function Pl(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ut(t)&&(e.setupState=cr(t)),Ec(e,n)}let oa,Vl;function dp(e){oa=e,Vl=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Fm))}}const cp=()=>!oa;function Ec(e,t,n){const s=e.type;if(!e.render){if(!t&&oa&&!s.render){const o=s.template||Sr(e).template;if(o){const{isCustomElement:l,compilerOptions:i}=e.appContext.config,{delimiters:r,compilerOptions:u}=s,d=bt(bt({isCustomElement:l,delimiters:r},i),u);s.render=oa(o,d)}}e.render=s.render||$n,Vl&&Vl(e)}vs(e),go(),Bm(e),vo(),fs()}function fp(e){return new Proxy(e.attrs,{get(t,n){return nn(e,"get","$attrs"),t[n]}})}function _c(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=fp(e))},slots:e.slots,emit:e.emit,expose:t}}function Ra(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cr(rr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bo)return Bo[n](e)},has(t,n){return n in t||n in Bo}}))}function Rl(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function hp(e){return Le(e)&&"__vccOpts"in e}const Ne=(e,t)=>cm(e,t,ro);function mp(){return null}function pp(){return null}function gp(e){}function vp(e,t){return null}function yp(){return Ic().slots}function bp(){return Ic().attrs}function Ic(){const e=Zn();return e.setupContext||(e.setupContext=_c(e))}function wp(e,t){const n=_e(e)?e.reduce((s,o)=>(s[o]={},s),{}):e;for(const s in t){const o=n[s];o?_e(o)||Le(o)?n[s]={type:o,default:t[s]}:o.default=t[s]:o===null&&(n[s]={default:t[s]})}return n}function Sp(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function $p(e){const t=Zn();let n=e();return fs(),tr(n)&&(n=n.catch(s=>{throw vs(t),s})),[n,()=>vs(t)]}function Ma(e,t,n){const s=arguments.length;return s===2?ut(t)&&!_e(t)?gs(t)?R(e,null,[t]):R(e,t):R(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&gs(n)&&(n=[n]),R(e,t,n))}const Tc=Symbol(""),Dc=()=>un(Tc);function Cp(){}function Ep(e,t,n,s){const o=n[s];if(o&&Ac(o,e))return o;const l=t();return l.memo=e.slice(),n[s]=l}function Ac(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(ao(n[s],t[s]))return!1;return Fs>0&&zt&&zt.push(e),!0}const Oc="3.2.45",_p={createComponentInstance:Sc,setupComponent:Cc,renderComponentRoot:zi,setCurrentRenderingInstance:oi,isVNode:gs,normalizeVNode:Zt},Ip=_p,Tp=null,Dp=null,Ap="http://www.w3.org/2000/svg",Ds=typeof document!="undefined"?document:null,ru=Ds&&Ds.createElement("template"),Op={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t?Ds.createElementNS(Ap,e):Ds.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Ds.createTextNode(e),createComment:e=>Ds.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ds.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,l){const i=n?n.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===l||!(o=o.nextSibling)););else{ru.innerHTML=s?`<svg>${e}</svg>`:e;const r=ru.content;if(s){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function kp(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Pp(e,t,n){const s=e.style,o=pt(n);if(n&&!o){for(const l in n)Ml(s,l,n[l]);if(t&&!pt(t))for(const l in t)n[l]==null&&Ml(s,l,"")}else{const l=s.display;o?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=l)}}const uu=/\s*!important$/;function Ml(e,t,n){if(_e(n))n.forEach(s=>Ml(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Vp(e,t);uu.test(n)?e.setProperty(ln(s),n.replace(uu,""),"important"):e[s]=n}}const du=["Webkit","Moz","ms"],tl={};function Vp(e,t){const n=tl[t];if(n)return n;let s=Kt(t);if(s!=="filter"&&s in e)return tl[t]=s;s=gi(s);for(let o=0;o<du.length;o++){const l=du[o]+s;if(l in e)return tl[t]=l}return t}const cu="http://www.w3.org/1999/xlink";function Rp(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(cu,t.slice(6,t.length)):e.setAttributeNS(cu,t,n);else{const l=gh(t);n==null||l&&!gd(n)?e.removeAttribute(t):e.setAttribute(t,l?"":n)}}function Mp(e,t,n,s,o,l,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,l),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=gd(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}function jn(e,t,n,s){e.addEventListener(t,n,s)}function Up(e,t,n,s){e.removeEventListener(t,n,s)}function Np(e,t,n,s,o=null){const l=e._vei||(e._vei={}),i=l[t];if(s&&i)i.value=s;else{const[r,u]=xp(t);if(s){const d=l[t]=Bp(s,o);jn(e,r,d,u)}else i&&(Up(e,r,i,u),l[t]=void 0)}}const fu=/(?:Once|Passive|Capture)$/;function xp(e){let t;if(fu.test(e)){t={};let s;for(;s=e.match(fu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ln(e.slice(2)),t]}let nl=0;const Lp=Promise.resolve(),Fp=()=>nl||(Lp.then(()=>nl=0),nl=Date.now());function Bp(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;tn(Hp(s,n.value),t,5,[s])};return n.value=e,n.attached=Fp(),n}function Hp(e,t){if(_e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const hu=/^on[a-z]/,Wp=(e,t,n,s,o=!1,l,i,r,u)=>{t==="class"?kp(e,s,o):t==="style"?Pp(e,n,s):mi(t)?ql(t)||Np(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jp(e,t,s,o))?Mp(e,t,s,l,i,r,u):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Rp(e,t,s,o))};function jp(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&hu.test(t)&&Le(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||hu.test(t)&&pt(n)?!1:t in e}function kc(e,t){const n=ae(e);class s extends Ua{constructor(l){super(n,l,t)}}return s.def=n,s}const zp=e=>kc(e,zc),Kp=typeof HTMLElement!="undefined"?HTMLElement:class{};class Ua extends Kp{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Nn(()=>{this._connected||(xl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const o of s)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(s,o=!1)=>{const{props:l,styles:i}=s;let r;if(l&&!_e(l))for(const u in l){const d=l[u];(d===Number||d&&d.type===Number)&&(u in this._props&&(this._props[u]=Jn(this._props[u])),(r||(r=Object.create(null)))[Kt(u)]=!0)}this._numberProps=r,o&&this._resolveProps(s),this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=_e(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&s.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of s.map(Kt))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(l){this._setProp(o,l)}})}_setAttr(t){let n=this.getAttribute(t);const s=Kt(t);this._numberProps&&this._numberProps[s]&&(n=Jn(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(ln(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ln(t),n+""):n||this.removeAttribute(ln(t))))}_update(){xl(this._createVNode(),this.shadowRoot)}_createVNode(){const t=R(this._def,bt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(l,i)=>{this.dispatchEvent(new CustomEvent(l,{detail:i}))};n.emit=(l,...i)=>{s(l,i),ln(l)!==l&&s(ln(l),i)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof Ua){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function Gp(e="$style"){{const t=Zn();if(!t)return lt;const n=t.type.__cssModules;if(!n)return lt;const s=n[e];return s||lt}}function Jp(e){const t=Zn();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(l=>Nl(l,o))},s=()=>{const o=e(t.proxy);Ul(t.subTree,o),n(o)};zd(s),Tt(()=>{const o=new MutationObserver(s);o.observe(t.subTree.el.parentNode,{childList:!0}),Tn(()=>o.disconnect())})}function Ul(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Ul(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Nl(e.el,t);else if(e.type===ie)e.children.forEach(n=>Ul(n,t));else if(e.type===Rs){let{el:n,anchor:s}=e;for(;n&&(Nl(n,t),n!==s);)n=n.nextSibling}}function Nl(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const ss="transition",$o="animation",_r=(e,{slots:t})=>Ma(vr,Vc(e),t);_r.displayName="Transition";const Pc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yp=_r.props=bt({},vr.props,Pc),Ss=(e,t=[])=>{_e(e)?e.forEach(n=>n(...t)):e&&e(...t)},mu=e=>e?_e(e)?e.some(t=>t.length>1):e.length>1:!1;function Vc(e){const t={};for(const K in e)K in Pc||(t[K]=e[K]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:l=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:r=`${n}-enter-to`,appearFromClass:u=l,appearActiveClass:d=i,appearToClass:h=r,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=Xp(o),g=p&&p[0],S=p&&p[1],{onBeforeEnter:w,onEnter:y,onEnterCancelled:$,onLeave:C,onLeaveCancelled:I,onBeforeAppear:T=w,onAppear:A=y,onAppearCancelled:O=$}=t,D=(K,L,k)=>{is(K,L?h:r),is(K,L?d:i),k&&k()},x=(K,L)=>{K._isLeaving=!1,is(K,c),is(K,m),is(K,f),L&&L()},W=K=>(L,k)=>{const fe=K?A:y,j=()=>D(L,K,k);Ss(fe,[L,j]),pu(()=>{is(L,K?u:l),Fn(L,K?h:r),mu(fe)||gu(L,s,g,j)})};return bt(t,{onBeforeEnter(K){Ss(w,[K]),Fn(K,l),Fn(K,i)},onBeforeAppear(K){Ss(T,[K]),Fn(K,u),Fn(K,d)},onEnter:W(!1),onAppear:W(!0),onLeave(K,L){K._isLeaving=!0;const k=()=>x(K,L);Fn(K,c),Mc(),Fn(K,f),pu(()=>{!K._isLeaving||(is(K,c),Fn(K,m),mu(C)||gu(K,s,S,k))}),Ss(C,[K,k])},onEnterCancelled(K){D(K,!1),Ss($,[K])},onAppearCancelled(K){D(K,!0),Ss(O,[K])},onLeaveCancelled(K){x(K),Ss(I,[K])}})}function Xp(e){if(e==null)return null;if(ut(e))return[sl(e.enter),sl(e.leave)];{const t=sl(e);return[t,t]}}function sl(e){return Jn(e)}function Fn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function is(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function pu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Qp=0;function gu(e,t,n,s){const o=e._endId=++Qp,l=()=>{o===e._endId&&s()};if(n)return setTimeout(l,n);const{type:i,timeout:r,propCount:u}=Rc(e,t);if(!i)return s();const d=i+"end";let h=0;const c=()=>{e.removeEventListener(d,f),l()},f=m=>{m.target===e&&++h>=u&&c()};setTimeout(()=>{h<u&&c()},r+1),e.addEventListener(d,f)}function Rc(e,t){const n=window.getComputedStyle(e),s=p=>(n[p]||"").split(", "),o=s(`${ss}Delay`),l=s(`${ss}Duration`),i=vu(o,l),r=s(`${$o}Delay`),u=s(`${$o}Duration`),d=vu(r,u);let h=null,c=0,f=0;t===ss?i>0&&(h=ss,c=i,f=l.length):t===$o?d>0&&(h=$o,c=d,f=u.length):(c=Math.max(i,d),h=c>0?i>d?ss:$o:null,f=h?h===ss?l.length:u.length:0);const m=h===ss&&/\b(transform|all)(,|$)/.test(s(`${ss}Property`).toString());return{type:h,timeout:c,propCount:f,hasTransform:m}}function vu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>yu(n)+yu(e[s])))}function yu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Mc(){return document.body.offsetHeight}const Uc=new WeakMap,Nc=new WeakMap,Zp={name:"TransitionGroup",props:bt({},Yp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Zn(),s=gr();let o,l;return Oa(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!ng(o[0].el,n.vnode.el,i))return;o.forEach(qp),o.forEach(eg);const r=o.filter(tg);Mc(),r.forEach(u=>{const d=u.el,h=d.style;Fn(d,i),h.transform=h.webkitTransform=h.transitionDuration="";const c=d._moveCb=f=>{f&&f.target!==d||(!f||/transform$/.test(f.propertyName))&&(d.removeEventListener("transitionend",c),d._moveCb=null,is(d,i))};d.addEventListener("transitionend",c)})}),()=>{const i=qe(e),r=Vc(i);let u=i.tag||ie;o=l,l=t.default?Ta(t.default()):[];for(let d=0;d<l.length;d++){const h=l[d];h.key!=null&&xs(h,lo(h,r,s,n))}if(o)for(let d=0;d<o.length;d++){const h=o[d];xs(h,lo(h,r,s,n)),Uc.set(h,h.el.getBoundingClientRect())}return R(u,null,l)}}},xc=Zp;function qp(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function eg(e){Nc.set(e,e.el.getBoundingClientRect())}function tg(e){const t=Uc.get(e),n=Nc.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${s}px,${o}px)`,l.transitionDuration="0s",e}}function ng(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(r=>r&&s.classList.remove(r))}),n.split(/\s+/).forEach(i=>i&&s.classList.add(i)),s.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(s);const{hasTransform:l}=Rc(s);return o.removeChild(s),l}const ys=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _e(t)?n=>no(t,n):t};function sg(e){e.target.composing=!0}function bu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pe={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e._assign=ys(o);const l=s||o.props&&o.props.type==="number";jn(e,t?"change":"input",i=>{if(i.target.composing)return;let r=e.value;n&&(r=r.trim()),l&&(r=Jn(r)),e._assign(r)}),n&&jn(e,"change",()=>{e.value=e.value.trim()}),t||(jn(e,"compositionstart",sg),jn(e,"compositionend",bu),jn(e,"change",bu))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},l){if(e._assign=ys(l),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(o||e.type==="number")&&Jn(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},Xn={deep:!0,created(e,t,n){e._assign=ys(n),jn(e,"change",()=>{const s=e._modelValue,o=uo(e),l=e.checked,i=e._assign;if(_e(s)){const r=va(s,o),u=r!==-1;if(l&&!u)i(s.concat(o));else if(!l&&u){const d=[...s];d.splice(r,1),i(d)}}else if(Ws(s)){const r=new Set(s);l?r.add(o):r.delete(o),i(r)}else i(Lc(e,l))})},mounted:wu,beforeUpdate(e,t,n){e._assign=ys(n),wu(e,t,n)}};function wu(e,{value:t,oldValue:n},s){e._modelValue=t,_e(t)?e.checked=va(t,s.props.value)>-1:Ws(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=ms(t,Lc(e,!0)))}const rn={created(e,{value:t},n){e.checked=ms(t,n.props.value),e._assign=ys(n),jn(e,"change",()=>{e._assign(uo(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=ys(s),t!==n&&(e.checked=ms(t,s.props.value))}},Si={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Ws(t);jn(e,"change",()=>{const l=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Jn(uo(i)):uo(i));e._assign(e.multiple?o?new Set(l):l:l[0])}),e._assign=ys(s)},mounted(e,{value:t}){Su(e,t)},beforeUpdate(e,t,n){e._assign=ys(n)},updated(e,{value:t}){Su(e,t)}};function Su(e,t){const n=e.multiple;if(!(n&&!_e(t)&&!Ws(t))){for(let s=0,o=e.options.length;s<o;s++){const l=e.options[s],i=uo(l);if(n)_e(t)?l.selected=va(t,i)>-1:l.selected=t.has(i);else if(ms(uo(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function uo(e){return"_value"in e?e._value:e.value}function Lc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Fc={created(e,t,n){xi(e,t,n,null,"created")},mounted(e,t,n){xi(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){xi(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){xi(e,t,n,s,"updated")}};function Bc(e,t){switch(e){case"SELECT":return Si;case"TEXTAREA":return Pe;default:switch(t){case"checkbox":return Xn;case"radio":return rn;default:return Pe}}}function xi(e,t,n,s,o){const i=Bc(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,s)}function og(){Pe.getSSRProps=({value:e})=>({value:e}),rn.getSSRProps=({value:e},t)=>{if(t.props&&ms(t.props.value,e))return{checked:!0}},Xn.getSSRProps=({value:e},t)=>{if(_e(e)){if(t.props&&va(e,t.props.value)>-1)return{checked:!0}}else if(Ws(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Fc.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Bc(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const ig=["ctrl","shift","alt","meta"],ag={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ig.some(n=>e[`${n}Key`]&&!t.includes(n))},ia=(e,t)=>(n,...s)=>{for(let o=0;o<t.length;o++){const l=ag[t[o]];if(l&&l(n,t))return}return e(n,...s)},lg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},co=(e,t)=>n=>{if(!("key"in n))return;const s=ln(n.key);if(t.some(o=>o===s||lg[o]===s))return e(n)},bo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Co(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Co(e,!0),s.enter(e)):s.leave(e,()=>{Co(e,!1)}):Co(e,t))},beforeUnmount(e,{value:t}){Co(e,t)}};function Co(e,t){e.style.display=t?e._vod:"none"}function rg(){bo.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Hc=bt({patchProp:Wp},Op);let jo,$u=!1;function Wc(){return jo||(jo=fc(Hc))}function jc(){return jo=$u?jo:hc(Hc),$u=!0,jo}const xl=(...e)=>{Wc().render(...e)},zc=(...e)=>{jc().hydrate(...e)},Ir=(...e)=>{const t=Wc().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Kc(s);if(!o)return;const l=t._component;!Le(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t},ug=(...e)=>{const t=jc().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Kc(s);if(o)return n(o,!0,o instanceof SVGElement)},t};function Kc(e){return pt(e)?document.querySelector(e):e}let Cu=!1;const dg=()=>{Cu||(Cu=!0,og(),rg())},cg=()=>{};var fg=Object.freeze(Object.defineProperty({__proto__:null,compile:cg,EffectScope:sr,ReactiveEffect:vi,customRef:lm,effect:Oh,effectScope:_h,getCurrentScope:Ih,isProxy:lr,isReactive:Ps,isReadonly:Ns,isRef:_t,isShallow:ei,markRaw:rr,onScopeDispose:Th,proxyRefs:cr,reactive:yo,readonly:ar,ref:se,shallowReactive:Vd,shallowReadonly:nm,shallowRef:Rd,stop:kh,toRaw:qe,toRef:Ud,toRefs:rm,triggerRef:om,unref:ce,camelize:Kt,capitalize:gi,normalizeClass:Ae,normalizeProps:mh,normalizeStyle:at,toDisplayString:G,toHandlerKey:Lo,BaseTransition:vr,Comment:Ut,Fragment:ie,KeepAlive:Mm,Static:Rs,Suspense:Em,Teleport:op,Text:Ls,callWithAsyncErrorHandling:tn,callWithErrorHandling:zn,cloneVNode:Rn,compatUtils:Dp,computed:Ne,createBlock:Ce,createCommentVNode:H,createElementBlock:b,createElementVNode:a,createHydrationRenderer:hc,createPropsRestProxy:Sp,createRenderer:fc,createSlots:Lm,createStaticVNode:wc,createTextVNode:M,createVNode:R,defineAsyncComponent:Vm,defineComponent:ae,defineEmits:pp,defineExpose:gp,defineProps:mp,get devtools(){return Xs},getCurrentInstance:Zn,getTransitionRawChildren:Ta,guardReactiveProps:bc,h:Ma,handleError:js,initCustomFormatter:Cp,inject:un,isMemoSame:Ac,isRuntimeOnly:cp,isVNode:gs,mergeDefaults:wp,mergeProps:wi,nextTick:Nn,onActivated:Jd,onBeforeMount:Aa,onBeforeUnmount:ka,onBeforeUpdate:Qd,onDeactivated:Yd,onErrorCaptured:tc,onMounted:Tt,onRenderTracked:ec,onRenderTriggered:qd,onServerPrefetch:Zd,onUnmounted:Tn,onUpdated:Oa,openBlock:v,popScopeId:In,provide:Fo,pushScopeId:_n,queuePostFlushCb:hr,registerRuntimeCompiler:dp,renderList:ye,renderSlot:wr,resolveComponent:me,resolveDirective:xm,resolveDynamicComponent:Pa,resolveFilter:Tp,resolveTransitionHooks:lo,setBlockTracking:kl,setDevtoolsHook:Bd,setTransitionHooks:xs,ssrContextKey:Tc,ssrUtils:Ip,toHandlers:oc,transformVNodeArgs:ip,useAttrs:bp,useSSRContext:Dc,useSlots:yp,useTransitionState:gr,version:Oc,warn:fm,watch:Xe,watchEffect:Am,watchPostEffect:zd,watchSyncEffect:Om,withAsyncContext:$p,withCtx:wt,withDefaults:vp,withDirectives:ge,withMemo:Ep,withScopeId:ym,Transition:_r,TransitionGroup:xc,VueElement:Ua,createApp:Ir,createSSRApp:ug,defineCustomElement:kc,defineSSRCustomElement:zp,hydrate:zc,initDirectivesForSSR:dg,render:xl,useCssModule:Gp,useCssVars:Jp,vModelCheckbox:Xn,vModelDynamic:Fc,vModelRadio:rn,vModelSelect:Si,vModelText:Pe,vShow:bo,withKeys:co,withModifiers:ia},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Qs=typeof window!="undefined";function hg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const it=Object.assign;function ol(e,t){const n={};for(const s in t){const o=t[s];n[s]=Cn(o)?o.map(e):e(o)}return n}const zo=()=>{},Cn=Array.isArray,mg=/\/$/,pg=e=>e.replace(mg,"");function il(e,t,n="/"){let s,o={},l="",i="";const r=t.indexOf("#");let u=t.indexOf("?");return r<u&&r>=0&&(u=-1),u>-1&&(s=t.slice(0,u),l=t.slice(u+1,r>-1?r:t.length),o=e(l)),r>-1&&(s=s||t.slice(0,r),i=t.slice(r,t.length)),s=bg(s!=null?s:t,n),{fullPath:s+(l&&"?")+l+i,path:s,query:o,hash:i}}function gg(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Eu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function vg(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&fo(t.matched[s],n.matched[o])&&Gc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function fo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yg(e[n],t[n]))return!1;return!0}function yg(e,t){return Cn(e)?_u(e,t):Cn(t)?_u(t,e):e===t}function _u(e,t){return Cn(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function bg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let o=n.length-1,l,i;for(l=0;l<s.length;l++)if(i=s[l],i!==".")if(i==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(l-(l===s.length?1:0)).join("/")}var ai;(function(e){e.pop="pop",e.push="push"})(ai||(ai={}));var Ko;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ko||(Ko={}));function wg(e){if(!e)if(Qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pg(e)}const Sg=/^[^#]+#/;function $g(e,t){return e.replace(Sg,"#")+t}function Cg(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Na=()=>({left:window.pageXOffset,top:window.pageYOffset});function Eg(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Cg(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Iu(e,t){return(history.state?history.state.position-t:-1)+e}const Ll=new Map;function _g(e,t){Ll.set(e,t)}function Ig(e){const t=Ll.get(e);return Ll.delete(e),t}let Tg=()=>location.protocol+"//"+location.host;function Jc(e,t){const{pathname:n,search:s,hash:o}=t,l=e.indexOf("#");if(l>-1){let r=o.includes(e.slice(l))?e.slice(l).length:1,u=o.slice(r);return u[0]!=="/"&&(u="/"+u),Eu(u,"")}return Eu(n,e)+s+o}function Dg(e,t,n,s){let o=[],l=[],i=null;const r=({state:f})=>{const m=Jc(e,location),p=n.value,g=t.value;let S=0;if(f){if(n.value=m,t.value=f,i&&i===p){i=null;return}S=g?f.position-g.position:0}else s(m);o.forEach(w=>{w(n.value,p,{delta:S,type:ai.pop,direction:S?S>0?Ko.forward:Ko.back:Ko.unknown})})};function u(){i=n.value}function d(f){o.push(f);const m=()=>{const p=o.indexOf(f);p>-1&&o.splice(p,1)};return l.push(m),m}function h(){const{history:f}=window;!f.state||f.replaceState(it({},f.state,{scroll:Na()}),"")}function c(){for(const f of l)f();l=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",h),{pauseListeners:u,listen:d,destroy:c}}function Tu(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Na():null}}function Ag(e){const{history:t,location:n}=window,s={value:Jc(e,n)},o={value:t.state};o.value||l(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(u,d,h){const c=e.indexOf("#"),f=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+u:Tg()+e+u;try{t[h?"replaceState":"pushState"](d,"",f),o.value=d}catch(m){console.error(m),n[h?"replace":"assign"](f)}}function i(u,d){const h=it({},t.state,Tu(o.value.back,u,o.value.forward,!0),d,{position:o.value.position});l(u,h,!0),s.value=u}function r(u,d){const h=it({},o.value,t.state,{forward:u,scroll:Na()});l(h.current,h,!0);const c=it({},Tu(s.value,u,null),{position:h.position+1},d);l(u,c,!1),s.value=u}return{location:s,state:o,push:r,replace:i}}function Og(e){e=wg(e);const t=Ag(e),n=Dg(e,t.state,t.location,t.replace);function s(l,i=!0){i||n.pauseListeners(),history.go(l)}const o=it({location:"",base:e,go:s,createHref:$g.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function kg(e){return typeof e=="string"||e&&typeof e=="object"}function Yc(e){return typeof e=="string"||typeof e=="symbol"}const os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Xc=Symbol("");var Du;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Du||(Du={}));function ho(e,t){return it(new Error,{type:e,[Xc]:!0},t)}function xn(e,t){return e instanceof Error&&Xc in e&&(t==null||!!(e.type&t))}const Au="[^/]+?",Pg={sensitive:!1,strict:!1,start:!0,end:!0},Vg=/[.+*?^${}()[\]/\\]/g;function Rg(e,t){const n=it({},Pg,t),s=[];let o=n.start?"^":"";const l=[];for(const d of e){const h=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let c=0;c<d.length;c++){const f=d[c];let m=40+(n.sensitive?.25:0);if(f.type===0)c||(o+="/"),o+=f.value.replace(Vg,"\\$&"),m+=40;else if(f.type===1){const{value:p,repeatable:g,optional:S,regexp:w}=f;l.push({name:p,repeatable:g,optional:S});const y=w||Au;if(y!==Au){m+=10;try{new RegExp(`(${y})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+C.message)}}let $=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;c||($=S&&d.length<2?`(?:/${$})`:"/"+$),S&&($+="?"),o+=$,m+=20,S&&(m+=-8),g&&(m+=-20),y===".*"&&(m+=-50)}h.push(m)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function r(d){const h=d.match(i),c={};if(!h)return null;for(let f=1;f<h.length;f++){const m=h[f]||"",p=l[f-1];c[p.name]=m&&p.repeatable?m.split("/"):m}return c}function u(d){let h="",c=!1;for(const f of e){(!c||!h.endsWith("/"))&&(h+="/"),c=!1;for(const m of f)if(m.type===0)h+=m.value;else if(m.type===1){const{value:p,repeatable:g,optional:S}=m,w=p in d?d[p]:"";if(Cn(w)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Cn(w)?w.join("/"):w;if(!y)if(S)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);h+=y}}return h||"/"}return{re:i,score:s,keys:l,parse:r,stringify:u}}function Mg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Ug(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const l=Mg(s[n],o[n]);if(l)return l;n++}if(Math.abs(o.length-s.length)===1){if(Ou(s))return 1;if(Ou(o))return-1}return o.length-s.length}function Ou(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ng={type:0,value:""},xg=/[a-zA-Z0-9_]/;function Lg(e){if(!e)return[[]];if(e==="/")return[[Ng]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,s=n;const o=[];let l;function i(){l&&o.push(l),l=[]}let r=0,u,d="",h="";function c(){!d||(n===0?l.push({type:0,value:d}):n===1||n===2||n===3?(l.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:h,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=u}for(;r<e.length;){if(u=e[r++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(d&&c(),i()):u===":"?(c(),n=1):f();break;case 4:f(),n=s;break;case 1:u==="("?n=2:xg.test(u)?f():(c(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--);break;case 2:u===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+u:n=3:h+=u;break;case 3:c(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),c(),i(),o}function Fg(e,t,n){const s=Rg(Lg(e.path),n),o=it(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Bg(e,t){const n=[],s=new Map;t=Vu({strict:!1,end:!0,sensitive:!1},t);function o(h){return s.get(h)}function l(h,c,f){const m=!f,p=Hg(h);p.aliasOf=f&&f.record;const g=Vu(t,h),S=[p];if("alias"in h){const $=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of $)S.push(it({},p,{components:f?f.record.components:p.components,path:C,aliasOf:f?f.record:p}))}let w,y;for(const $ of S){const{path:C}=$;if(c&&C[0]!=="/"){const I=c.record.path,T=I[I.length-1]==="/"?"":"/";$.path=c.record.path+(C&&T+C)}if(w=Fg($,c,g),f?f.alias.push(w):(y=y||w,y!==w&&y.alias.push(w),m&&h.name&&!Pu(w)&&i(h.name)),p.children){const I=p.children;for(let T=0;T<I.length;T++)l(I[T],w,f&&f.children[T])}f=f||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&u(w)}return y?()=>{i(y)}:zo}function i(h){if(Yc(h)){const c=s.get(h);c&&(s.delete(h),n.splice(n.indexOf(c),1),c.children.forEach(i),c.alias.forEach(i))}else{const c=n.indexOf(h);c>-1&&(n.splice(c,1),h.record.name&&s.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function r(){return n}function u(h){let c=0;for(;c<n.length&&Ug(h,n[c])>=0&&(h.record.path!==n[c].record.path||!Qc(h,n[c]));)c++;n.splice(c,0,h),h.record.name&&!Pu(h)&&s.set(h.record.name,h)}function d(h,c){let f,m={},p,g;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw ho(1,{location:h});g=f.record.name,m=it(ku(c.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),h.params&&ku(h.params,f.keys.map(y=>y.name))),p=f.stringify(m)}else if("path"in h)p=h.path,f=n.find(y=>y.re.test(p)),f&&(m=f.parse(p),g=f.record.name);else{if(f=c.name?s.get(c.name):n.find(y=>y.re.test(c.path)),!f)throw ho(1,{location:h,currentLocation:c});g=f.record.name,m=it({},c.params,h.params),p=f.stringify(m)}const S=[];let w=f;for(;w;)S.unshift(w.record),w=w.parent;return{name:g,path:p,params:m,matched:S,meta:jg(S)}}return e.forEach(h=>l(h)),{addRoute:l,resolve:d,removeRoute:i,getRoutes:r,getRecordMatcher:o}}function ku(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Hg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Wg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Wg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Pu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jg(e){return e.reduce((t,n)=>it(t,n.meta),{})}function Vu(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Qc(e,t){return t.children.some(n=>n===e||Qc(e,n))}const Zc=/#/g,zg=/&/g,Kg=/\//g,Gg=/=/g,Jg=/\?/g,qc=/\+/g,Yg=/%5B/g,Xg=/%5D/g,ef=/%5E/g,Qg=/%60/g,tf=/%7B/g,Zg=/%7C/g,nf=/%7D/g,qg=/%20/g;function Tr(e){return encodeURI(""+e).replace(Zg,"|").replace(Yg,"[").replace(Xg,"]")}function ev(e){return Tr(e).replace(tf,"{").replace(nf,"}").replace(ef,"^")}function Fl(e){return Tr(e).replace(qc,"%2B").replace(qg,"+").replace(Zc,"%23").replace(zg,"%26").replace(Qg,"`").replace(tf,"{").replace(nf,"}").replace(ef,"^")}function tv(e){return Fl(e).replace(Gg,"%3D")}function nv(e){return Tr(e).replace(Zc,"%23").replace(Jg,"%3F")}function sv(e){return e==null?"":nv(e).replace(Kg,"%2F")}function aa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function ov(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const l=s[o].replace(qc," "),i=l.indexOf("="),r=aa(i<0?l:l.slice(0,i)),u=i<0?null:aa(l.slice(i+1));if(r in t){let d=t[r];Cn(d)||(d=t[r]=[d]),d.push(u)}else t[r]=u}return t}function Ru(e){let t="";for(let n in e){const s=e[n];if(n=tv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Cn(s)?s.map(l=>l&&Fl(l)):[s&&Fl(s)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+n,l!=null&&(t+="="+l))})}return t}function iv(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Cn(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const av=Symbol(""),Mu=Symbol(""),xa=Symbol(""),sf=Symbol(""),Bl=Symbol("");function Eo(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ls(e,t,n,s,o){const l=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((i,r)=>{const u=c=>{c===!1?r(ho(4,{from:n,to:t})):c instanceof Error?r(c):kg(c)?r(ho(2,{from:t,to:c})):(l&&s.enterCallbacks[o]===l&&typeof c=="function"&&l.push(c),i())},d=e.call(s&&s.instances[o],t,n,u);let h=Promise.resolve(d);e.length<3&&(h=h.then(u)),h.catch(c=>r(c))})}function al(e,t,n,s){const o=[];for(const l of e)for(const i in l.components){let r=l.components[i];if(!(t!=="beforeRouteEnter"&&!l.instances[i]))if(lv(r)){const d=(r.__vccOpts||r)[t];d&&o.push(ls(d,n,s,l,i))}else{let u=r();o.push(()=>u.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${l.path}"`));const h=hg(d)?d.default:d;l.components[i]=h;const f=(h.__vccOpts||h)[t];return f&&ls(f,n,s,l,i)()}))}}return o}function lv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uu(e){const t=un(xa),n=un(sf),s=Ne(()=>t.resolve(ce(e.to))),o=Ne(()=>{const{matched:u}=s.value,{length:d}=u,h=u[d-1],c=n.matched;if(!h||!c.length)return-1;const f=c.findIndex(fo.bind(null,h));if(f>-1)return f;const m=Nu(u[d-2]);return d>1&&Nu(h)===m&&c[c.length-1].path!==m?c.findIndex(fo.bind(null,u[d-2])):f}),l=Ne(()=>o.value>-1&&cv(n.params,s.value.params)),i=Ne(()=>o.value>-1&&o.value===n.matched.length-1&&Gc(n.params,s.value.params));function r(u={}){return dv(u)?t[ce(e.replace)?"replace":"push"](ce(e.to)).catch(zo):Promise.resolve()}return{route:s,href:Ne(()=>s.value.href),isActive:l,isExactActive:i,navigate:r}}const rv=ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uu,setup(e,{slots:t}){const n=yo(Uu(e)),{options:s}=un(xa),o=Ne(()=>({[xu(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[xu(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const l=t.default&&t.default(n);return e.custom?l:Ma("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},l)}}}),uv=rv;function dv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function cv(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!Cn(o)||o.length!==s.length||s.some((l,i)=>l!==o[i]))return!1}return!0}function Nu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const xu=(e,t,n)=>e!=null?e:t!=null?t:n,fv=ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=un(Bl),o=Ne(()=>e.route||s.value),l=un(Mu,0),i=Ne(()=>{let d=ce(l);const{matched:h}=o.value;let c;for(;(c=h[d])&&!c.components;)d++;return d}),r=Ne(()=>o.value.matched[i.value]);Fo(Mu,Ne(()=>i.value+1)),Fo(av,r),Fo(Bl,o);const u=se();return Xe(()=>[u.value,r.value,e.name],([d,h,c],[f,m,p])=>{h&&(h.instances[c]=d,m&&m!==h&&d&&d===f&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),d&&h&&(!m||!fo(h,m)||!f)&&(h.enterCallbacks[c]||[]).forEach(g=>g(d))},{flush:"post"}),()=>{const d=o.value,h=e.name,c=r.value,f=c&&c.components[h];if(!f)return Lu(n.default,{Component:f,route:d});const m=c.props[h],p=m?m===!0?d.params:typeof m=="function"?m(d):m:null,S=Ma(f,it({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(c.instances[h]=null)},ref:u}));return Lu(n.default,{Component:S,route:d})||S}}});function Lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hv=fv;function mv(e){const t=Bg(e.routes,e),n=e.parseQuery||ov,s=e.stringifyQuery||Ru,o=e.history,l=Eo(),i=Eo(),r=Eo(),u=Rd(os);let d=os;Qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ol.bind(null,V=>""+V),c=ol.bind(null,sv),f=ol.bind(null,aa);function m(V,Y){let J,te;return Yc(V)?(J=t.getRecordMatcher(V),te=Y):te=V,t.addRoute(te,J)}function p(V){const Y=t.getRecordMatcher(V);Y&&t.removeRoute(Y)}function g(){return t.getRoutes().map(V=>V.record)}function S(V){return!!t.getRecordMatcher(V)}function w(V,Y){if(Y=it({},Y||u.value),typeof V=="string"){const E=il(n,V,Y.path),_=t.resolve({path:E.path},Y),N=o.createHref(E.fullPath);return it(E,_,{params:f(_.params),hash:aa(E.hash),redirectedFrom:void 0,href:N})}let J;if("path"in V)J=it({},V,{path:il(n,V.path,Y.path).path});else{const E=it({},V.params);for(const _ in E)E[_]==null&&delete E[_];J=it({},V,{params:c(V.params)}),Y.params=c(Y.params)}const te=t.resolve(J,Y),F=V.hash||"";te.params=h(f(te.params));const de=gg(s,it({},V,{hash:ev(F),path:te.path})),ee=o.createHref(de);return it({fullPath:de,hash:F,query:s===Ru?iv(V.query):V.query||{}},te,{redirectedFrom:void 0,href:ee})}function y(V){return typeof V=="string"?il(n,V,u.value.path):it({},V)}function $(V,Y){if(d!==V)return ho(8,{from:Y,to:V})}function C(V){return A(V)}function I(V){return C(it(y(V),{replace:!0}))}function T(V){const Y=V.matched[V.matched.length-1];if(Y&&Y.redirect){const{redirect:J}=Y;let te=typeof J=="function"?J(V):J;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=y(te):{path:te},te.params={}),it({query:V.query,hash:V.hash,params:"path"in te?{}:V.params},te)}}function A(V,Y){const J=d=w(V),te=u.value,F=V.state,de=V.force,ee=V.replace===!0,E=T(J);if(E)return A(it(y(E),{state:typeof E=="object"?it({},F,E.state):F,force:de,replace:ee}),Y||J);const _=J;_.redirectedFrom=Y;let N;return!de&&vg(s,te,J)&&(N=ho(16,{to:_,from:te}),ot(te,te,!0,!1)),(N?Promise.resolve(N):D(_,te)).catch(z=>xn(z)?xn(z,2)?z:Ke(z):ue(z,_,te)).then(z=>{if(z){if(xn(z,2))return A(it({replace:ee},y(z.to),{state:typeof z.to=="object"?it({},F,z.to.state):F,force:de}),Y||_)}else z=W(_,te,!0,ee,F);return x(_,te,z),z})}function O(V,Y){const J=$(V,Y);return J?Promise.reject(J):Promise.resolve()}function D(V,Y){let J;const[te,F,de]=pv(V,Y);J=al(te.reverse(),"beforeRouteLeave",V,Y);for(const E of te)E.leaveGuards.forEach(_=>{J.push(ls(_,V,Y))});const ee=O.bind(null,V,Y);return J.push(ee),Ks(J).then(()=>{J=[];for(const E of l.list())J.push(ls(E,V,Y));return J.push(ee),Ks(J)}).then(()=>{J=al(F,"beforeRouteUpdate",V,Y);for(const E of F)E.updateGuards.forEach(_=>{J.push(ls(_,V,Y))});return J.push(ee),Ks(J)}).then(()=>{J=[];for(const E of V.matched)if(E.beforeEnter&&!Y.matched.includes(E))if(Cn(E.beforeEnter))for(const _ of E.beforeEnter)J.push(ls(_,V,Y));else J.push(ls(E.beforeEnter,V,Y));return J.push(ee),Ks(J)}).then(()=>(V.matched.forEach(E=>E.enterCallbacks={}),J=al(de,"beforeRouteEnter",V,Y),J.push(ee),Ks(J))).then(()=>{J=[];for(const E of i.list())J.push(ls(E,V,Y));return J.push(ee),Ks(J)}).catch(E=>xn(E,8)?E:Promise.reject(E))}function x(V,Y,J){for(const te of r.list())te(V,Y,J)}function W(V,Y,J,te,F){const de=$(V,Y);if(de)return de;const ee=Y===os,E=Qs?history.state:{};J&&(te||ee?o.replace(V.fullPath,it({scroll:ee&&E&&E.scroll},F)):o.push(V.fullPath,F)),u.value=V,ot(V,Y,J,ee),Ke()}let K;function L(){K||(K=o.listen((V,Y,J)=>{if(!$e.listening)return;const te=w(V),F=T(te);if(F){A(it(F,{replace:!0}),te).catch(zo);return}d=te;const de=u.value;Qs&&_g(Iu(de.fullPath,J.delta),Na()),D(te,de).catch(ee=>xn(ee,12)?ee:xn(ee,2)?(A(ee.to,te).then(E=>{xn(E,20)&&!J.delta&&J.type===ai.pop&&o.go(-1,!1)}).catch(zo),Promise.reject()):(J.delta&&o.go(-J.delta,!1),ue(ee,te,de))).then(ee=>{ee=ee||W(te,de,!1),ee&&(J.delta&&!xn(ee,8)?o.go(-J.delta,!1):J.type===ai.pop&&xn(ee,20)&&o.go(-1,!1)),x(te,de,ee)}).catch(zo)}))}let k=Eo(),fe=Eo(),j;function ue(V,Y,J){Ke(V);const te=fe.list();return te.length?te.forEach(F=>F(V,Y,J)):console.error(V),Promise.reject(V)}function we(){return j&&u.value!==os?Promise.resolve():new Promise((V,Y)=>{k.add([V,Y])})}function Ke(V){return j||(j=!V,L(),k.list().forEach(([Y,J])=>V?J(V):Y()),k.reset()),V}function ot(V,Y,J,te){const{scrollBehavior:F}=e;if(!Qs||!F)return Promise.resolve();const de=!J&&Ig(Iu(V.fullPath,0))||(te||!J)&&history.state&&history.state.scroll||null;return Nn().then(()=>F(V,Y,de)).then(ee=>ee&&Eg(ee)).catch(ee=>ue(ee,V,Y))}const Fe=V=>o.go(V);let Ge;const Q=new Set,$e={currentRoute:u,listening:!0,addRoute:m,removeRoute:p,hasRoute:S,getRoutes:g,resolve:w,options:e,push:C,replace:I,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:l.add,beforeResolve:i.add,afterEach:r.add,onError:fe.add,isReady:we,install(V){const Y=this;V.component("RouterLink",uv),V.component("RouterView",hv),V.config.globalProperties.$router=Y,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(u)}),Qs&&!Ge&&u.value===os&&(Ge=!0,C(o.location).catch(F=>{}));const J={};for(const F in os)J[F]=Ne(()=>u.value[F]);V.provide(xa,Y),V.provide(sf,yo(J)),V.provide(Bl,u);const te=V.unmount;Q.add(V),V.unmount=function(){Q.delete(V),Q.size<1&&(d=os,K&&K(),K=null,u.value=os,Ge=!1,j=!1),te()}}};return $e}function Ks(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function pv(e,t){const n=[],s=[],o=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const r=t.matched[i];r&&(e.matched.find(d=>fo(d,r))?s.push(r):n.push(r));const u=e.matched[i];u&&(t.matched.find(d=>fo(d,u))||o.push(u))}return[n,s,o]}function gv(){return un(xa)}var vv=Object.defineProperty,Fu=Object.getOwnPropertySymbols,yv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,Bu=(e,t,n)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,of=(e,t)=>{for(var n in t||(t={}))yv.call(t,n)&&Bu(e,n,t[n]);if(Fu)for(var n of Fu(t))bv.call(t,n)&&Bu(e,n,t[n]);return e},La=e=>typeof e=="function",Fa=e=>typeof e=="string",af=e=>Fa(e)&&e.trim().length>0,wv=e=>typeof e=="number",Os=e=>typeof e=="undefined",li=e=>typeof e=="object"&&e!==null,Sv=e=>Pn(e,"tag")&&af(e.tag),lf=e=>window.TouchEvent&&e instanceof TouchEvent,rf=e=>Pn(e,"component")&&uf(e.component),$v=e=>La(e)||li(e),uf=e=>!Os(e)&&(Fa(e)||$v(e)||rf(e)),Hu=e=>li(e)&&["height","width","right","left","top","bottom"].every(t=>wv(e[t])),Pn=(e,t)=>(li(e)||La(e))&&t in e,Cv=(e=>()=>e++)(0);function ll(e){return lf(e)?e.targetTouches[0].clientX:e.clientX}function Wu(e){return lf(e)?e.targetTouches[0].clientY:e.clientY}var Ev=e=>{Os(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},$i=e=>rf(e)?$i(e.component):Sv(e)?ae({render(){return e}}):typeof e=="string"?e:qe(ce(e)),_v=e=>{if(typeof e=="string")return e;const t=Pn(e,"props")&&li(e.props)?e.props:{},n=Pn(e,"listeners")&&li(e.listeners)?e.listeners:{};return{component:$i(e),props:t,listeners:n}},Iv=()=>typeof window!="undefined",Dr=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(s=>s(t))}},Tv=e=>["on","off","emit"].every(t=>Pn(e,t)&&La(e[t])),qt;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(qt||(qt={}));var la;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(la||(la={}));var en;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(en||(en={}));var Sn="Vue-Toastification",vn={type:{type:String,default:qt.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},df={type:vn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Gi={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:vn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Hl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},cf={transition:{type:[Object,String],default:`${Sn}__bounce`}},Dv={position:{type:String,default:la.TOP_RIGHT},draggable:vn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:vn.trueBoolean,pauseOnHover:vn.trueBoolean,closeOnClick:vn.trueBoolean,timeout:Hl.timeout,hideProgressBar:Hl.hideProgressBar,toastClassName:vn.classNames,bodyClassName:vn.classNames,icon:df.customIcon,closeButton:Gi.component,closeButtonClassName:Gi.classNames,showCloseButtonOnHover:Gi.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Dr}},Av={id:{type:[String,Number],required:!0,default:0},type:vn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Ov={container:{type:[Object,Function],default:()=>document.body},newestOnTop:vn.trueBoolean,maxToasts:{type:Number,default:20},transition:cf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:vn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Kn={CORE_TOAST:Dv,TOAST:Av,CONTAINER:Ov,PROGRESS_BAR:Hl,ICON:df,TRANSITION:cf,CLOSE_BUTTON:Gi},ff=ae({name:"VtProgressBar",props:Kn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Sn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function kv(e,t){return v(),b("div",{style:at(e.style),class:Ae(e.cpClass)},null,6)}ff.render=kv;var Pv=ff,hf=ae({name:"VtCloseButton",props:Kn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?$i(this.component):"button"},classes(){const e=[`${Sn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Vv=M(" \xD7 ");function Rv(e,t){return v(),Ce(Pa(e.buttonComponent),wi({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:wt(()=>[Vv]),_:1},16,["aria-label","class"])}hf.render=Rv;var Mv=hf,mf={},Uv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Nv=a("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),xv=[Nv];function Lv(e,t){return v(),b("svg",Uv,xv)}mf.render=Lv;var Fv=mf,pf={},Bv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Hv=a("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Wv=[Hv];function jv(e,t){return v(),b("svg",Bv,Wv)}pf.render=jv;var ju=pf,gf={},zv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Kv=a("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Gv=[Kv];function Jv(e,t){return v(),b("svg",zv,Gv)}gf.render=Jv;var Yv=gf,vf={},Xv={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Qv=a("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Zv=[Qv];function qv(e,t){return v(),b("svg",Xv,Zv)}vf.render=qv;var ey=vf,yf=ae({name:"VtIcon",props:Kn.ICON,computed:{customIconChildren(){return Pn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Fa(this.customIcon)?this.trimValue(this.customIcon):Pn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Pn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:uf(this.customIcon)?$i(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[qt.DEFAULT]:ju,[qt.INFO]:ju,[qt.SUCCESS]:Fv,[qt.ERROR]:ey,[qt.WARNING]:Yv}[this.type]},iconClasses(){const e=[`${Sn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return af(e)?e.trim():t}}});function ty(e,t){return v(),Ce(Pa(e.component),{class:Ae(e.iconClasses)},{default:wt(()=>[M(G(e.customIconChildren),1)]),_:1},8,["class"])}yf.render=ty;var ny=yf,bf=ae({name:"VtToast",components:{ProgressBar:Pv,CloseButton:Mv,Icon:ny},inheritAttrs:!1,props:Object.assign({},Kn.CORE_TOAST,Kn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Sn}__toast`,`${Sn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Sn}__toast--rtl`),e},bodyClasses(){return[`${Sn}__toast-${Fa(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Hu(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Pn,getVueComponentFromObj:$i,closeToast(){this.eventBus.emit(en.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:ll(e),y:Wu(e)},this.dragStart=ll(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:ll(e),y:Wu(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Hu(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),sy=["role"];function oy(e,t){const n=me("Icon"),s=me("CloseButton"),o=me("ProgressBar");return v(),b("div",{class:Ae(e.classes),style:at(e.draggableStyle),onClick:t[0]||(t[0]=(...l)=>e.clickHandler&&e.clickHandler(...l)),onMouseenter:t[1]||(t[1]=(...l)=>e.hoverPause&&e.hoverPause(...l)),onMouseleave:t[2]||(t[2]=(...l)=>e.hoverPlay&&e.hoverPlay(...l))},[e.icon?(v(),Ce(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):H("v-if",!0),a("div",{role:e.accessibility.toastRole||"alert",class:Ae(e.bodyClasses)},[typeof e.content=="string"?(v(),b(ie,{key:0},[M(G(e.content),1)],2112)):(v(),Ce(Pa(e.getVueComponentFromObj(e.content)),wi({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},oc(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,sy),e.closeButton?(v(),Ce(s,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:ia(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):H("v-if",!0),e.timeout?(v(),Ce(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):H("v-if",!0)],38)}bf.render=oy;var iy=bf,wf=ae({name:"VtTransition",props:Kn.TRANSITION,emits:["leave"],methods:{hasProp:Pn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function ay(e,t){return v(),Ce(xc,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:wt(()=>[wr(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}wf.render=ay;var ly=wf,Sf=ae({name:"VueToastification",devtools:{hide:!0},components:{Toast:iy,VtTransition:ly},props:Object.assign({},Kn.CORE_TOAST,Kn.CONTAINER,Kn.TRANSITION),data(){return{count:0,positions:Object.values(la),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(en.ADD,this.addToast),e.on(en.CLEAR,this.clearToasts),e.on(en.DISMISS,this.dismissToast),e.on(en.UPDATE,this.updateToast),e.on(en.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){La(e)&&(e=await e()),Ev(this.$el),e.appendChild(this.$el)},setToast(e){Os(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=_v(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!Os(t)&&!Os(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Os(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Sn}__container`,e].concat(this.defaults.containerClassName)}}});function ry(e,t){const n=me("Toast"),s=me("VtTransition");return v(),b("div",null,[(v(!0),b(ie,null,ye(e.positions,o=>(v(),b("div",{key:o},[R(s,{transition:e.defaults.transition,class:Ae(e.getClasses(o))},{default:wt(()=>[(v(!0),b(ie,null,ye(e.getPositionToasts(o),l=>(v(),Ce(n,wi({key:l.id},l),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Sf.render=ry;var uy=Sf,zu=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new Dr;t&&Nn(()=>{const l=Ir(uy,of({},e)),i=l.mount(document.createElement("div")),r=e.onMounted;if(Os(r)||r(i,l),e.shareAppContext){const u=e.shareAppContext;u===!0?console.warn(`[${Sn}] App to share context with was not provided.`):(l._context.components=u._context.components,l._context.directives=u._context.directives,l._context.mixins=u._context.mixins,l._context.provides=u._context.provides,l.config.globalProperties=u.config.globalProperties)}});const s=(l,i)=>{const r=Object.assign({},{id:Cv(),type:qt.DEFAULT},i,{content:l});return n.emit(en.ADD,r),r.id};s.clear=()=>n.emit(en.CLEAR,void 0),s.updateDefaults=l=>{n.emit(en.UPDATE_DEFAULTS,l)},s.dismiss=l=>{n.emit(en.DISMISS,l)};function o(l,{content:i,options:r},u=!1){const d=Object.assign({},r,{content:i});n.emit(en.UPDATE,{id:l,options:d,create:u})}return s.update=o,s.success=(l,i)=>s(l,Object.assign({},i,{type:qt.SUCCESS})),s.info=(l,i)=>s(l,Object.assign({},i,{type:qt.INFO})),s.error=(l,i)=>s(l,Object.assign({},i,{type:qt.ERROR})),s.warning=(l,i)=>s(l,Object.assign({},i,{type:qt.WARNING})),s},dy=()=>{const e=()=>console.warn(`[${Sn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Wl(e){return Iv()?Tv(e)?zu({eventBus:e},!1):zu(e,!0):dy()}var $f=Symbol("VueToastification"),Cf=new Dr,cy=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=Wl(of({eventBus:Cf},t));e.provide($f,n)},Ef=e=>{if(e)return Wl(e);const t=Zn()?un($f,void 0):void 0;return t||Wl(Cf)},fy=cy;var He=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const hy=ae({name:"App"});function my(e,t,n,s,o,l){const i=me("router-view");return v(),Ce(i)}var py=He(hy,[["render",my]]);const gy=1,Bs=1e3*gy,ri=60*Bs,ui=60*ri,ra=24*ui;let ko=[];const vy=e=>{switch(e){case"error":ko=["error"];break;case"warn":ko=["error","warn"];break;case"info":ko=["error","warn","info"];break;case"debug":ko=["error","warn","info","debug"];break}};vy("info");const bs=(e,...t)=>{const n=e,s=o=>(...l)=>{ko.includes(o)&&console[o](Ar("hh:mm:ss",new Date),`[${n}]`,...t,...l)};return{error:s("error"),warn:s("warn"),info:s("info"),debug:s("debug")}},yy=e=>[...e].length,by=["January","February","March","April","May","June","July","August","September","October","November","December"],wy=["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],Ar=(e,t)=>e.replace(/(YYYY|MM|DD|hh|mm|ss|Month(?:\.(?:de|en))?)/g,(n,s)=>{switch(s){case"YYYY":return yn(t.getFullYear(),"0000");case"MM":return yn(t.getMonth()+1,"00");case"DD":return yn(t.getDate(),"00");case"hh":return yn(t.getHours(),"00");case"mm":return yn(t.getMinutes(),"00");case"ss":return yn(t.getSeconds(),"00");case"Month.de":return wy[t.getMonth()];case"Month.en":case"Month":return by[t.getMonth()];default:return n}}),yn=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n};function Or(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const kr=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const n=`${e}`.trim();if(!n)throw new Error("unable to parse duration");const s=f=>{if(f<0&&!t)throw new Error("negative value not allowed");return f};if(n.match(/^-?\d+$/))return s(parseInt(n,10));const o=n.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(o){const f=parseFloat(o[1]);if(isNaN(f))throw new Error("unable to parse duration");const m=o[2];let p=0;return m==="d"?p=f*ra:m==="h"?p=f*ui:m==="m"?p=f*ri:m==="s"&&(p=f*Bs),s(Math.round(p))}const l=n.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!l)throw new Error("unable to parse duration");const i=l[1]?-1:1,r=l[2]?parseInt(l[2],10):0,u=l[3]?parseInt(l[3],10):0,d=l[4]?parseInt(l[4],10):0,h=l[5]?parseInt(l[5],10):0,c=l[6]?parseInt(l[6],10):0;return s(i*(h*Bs+d*ri+u*ui+r*ra+c))},Sy=(e,t=!1)=>{try{return kr(e,t)}catch{return 0}},$y=(e,t=["ms","s","m","h","d"])=>{let n=e;const s=Math.floor(n/ra);n=n%ra;const o=Math.floor(n/ui);n=n%ui;const l=Math.floor(n/ri);n=n%ri;const i=Math.floor(n/Bs);n=n%Bs;const u=[n,i,l,o,s];let d=0;for(;d<u.length&&u[d]===0;)d++;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;const c=[];for(let f=d;f<=h;f++)c.unshift(`${u[f]}${t[f]}`);return c.join(" ")};function Cy(e,t,n){if(n>=e.length){let s=n-e.length+1;for(;s--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e}const Ba=(e,t,n)=>{if(t===n||t<0||t>e.length-1||n<0||n>e.length-1)return!1;const s=e[t];return e[t]=e[n],e[n]=s,!0},Ey=(e,t)=>{const n=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$daysuntil\("([^"]+)"\)/g,/\$daysuntil\("([^"]+)",\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let s=e,o;do{o=s;for(const l of n)s=s.replace(l,t)}while(o!==s);return s},_y=(e,t=",",n=-1)=>{const s=e.split(t);return n===-1||s.length<=n?s:[...s.slice(0,n-1),s.slice(n-1).join(t)]},Iy=e=>{let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const s=e[t];e[t]=e[n],e[n]=s}return e};function _f(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function If(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const Ty=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},jl=(e,t="pt")=>{const n=`${e}`;return n.match(/^\d+$/)?`${n}${t}`:n},oe=(e,t,n)=>{let s=e;for(const o of t){if(typeof s!="object"||s===null||!Object.keys(s).includes(o))return n;s=s[o]}return s},Tf=(e,t,n)=>Math.max(e,Math.min(n,t)),pn=(e,t)=>Math.random()*(t-e)+e,Ht=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),Bn=e=>e[Ht(0,e.length-1)],Dy=(e,t,n,s,o)=>{const l=i=>new Date(`${yn(i.getFullYear(),"0000")}-${yn(i.getMonth()+1,"00")}-${yn(i.getDate(),"00")}`);try{const i=new Date(e);if(isNaN(i.getTime()))return o;const r=new Date,u=l(i).getTime()-l(r).getTime(),d=Math.ceil(u/1e3/60/60/24);let h="{days}";return d===0?h=s:d===1?h=n:h=t,h.replace("{days}",`${d}`)}catch{return o}};var Gt={arrayMove:Cy,arraySwap:Ba,clamp:Tf,daysUntil:Dy,doDummyReplacements:Ey,getRandom:Bn,getRandomFloat:pn,getRandomInt:Ht,humanDuration:$y,mediaFileFromUploadedFile:_f,mustParseHumanDuration:kr,pad:yn,parseHumanDuration:Sy,shuffle:Iy,soundMediaFileFromUploadedFile:If,split:_y,toNumberUnitString:jl,unicodeLength:yy};const Df=(e=null)=>({name:oe(e,["name"],""),width:oe(e,["width"],64),height:oe(e,["height"],64),stateDefinitions:oe(e,["stateDefinitions"],[]),slotDefinitions:oe(e,["slotDefinitions"],[]),state:oe(e,["state"],{slots:{},lockedState:""})}),zl=(e=null)=>({styles:{bgColor:oe(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:oe(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:oe(e,["avatarDefinitions"],[]).map(Df)}),Ay=["placeholder"],kt=ae({__name:"StringInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(n.modelValue);return Xe(()=>n.modelValue,o=>{s.value=o}),Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>ge((v(),b("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Ay)),[[Pe,s.value]])}}),Oy=["src","width","height"],Ha=ae({__name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=se(null),s=se(-1),o=Ne(()=>s.value>=0&&s.value<t.frames.length?t.frames[s.value].url:""),l=()=>{if(t.frames.length===0){s.value=-1;return}n.value&&(clearTimeout(n.value),n.value=null),s.value++,s.value>=t.frames.length&&(s.value=0),n.value=setTimeout(()=>{l()},t.frames[s.value].duration)};return Tt(()=>{l(),Xe(()=>t.frames,()=>{s.value=-1,l()},{deep:!0})}),Tn(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(i,r)=>(v(),b("span",{class:"avatar-animation",style:at({width:`${e.width}px`,height:`${e.width}px`})},[ce(o)?(v(),b("img",{key:0,src:ce(o),width:e.width,height:e.height},null,8,Oy)):(v(),b("span",{key:1,style:at({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}}),Wa=async(e,t,n)=>new Promise((s,o)=>{const l=new window.XMLHttpRequest;l.open(e,t,!0),l.withCredentials=!0;const i=n.headers||{};for(const r in i)l.setRequestHeader(r,i[r]);l.addEventListener("load",function(r){s({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),l.addEventListener("error",function(r){o(new Error("xhr error"))}),l.upload&&n.onUploadProgress&&l.upload.addEventListener("progress",function(r){n.onUploadProgress&&n.onUploadProgress(r)}),l.send(n.body)}),fn=async(e,t={})=>Wa("get",e,t),ky=async(e,t={})=>Wa("post",e,t),Af=async(e,t)=>Wa("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),rl=async(e,t)=>Af(e,JSON.stringify(t));function Py(e){const t=[];for(const n in e){const s=[n,e[n]].map(encodeURIComponent);t.push(s.join("="))}return t.length===0?"":`?${t.join("&")}`}var It={saveVariables:async e=>rl("/api/save-variables",e),saveUserSettings:async e=>rl("/api/save-settings",e),getPageVariablesData:async()=>fn("/api/page/variables"),getPageIndexData:async()=>fn("/api/page/index"),getPageSettingsData:async()=>fn("/api/page/settings"),getDataGlobal:async()=>fn("/api/data/global"),getMe:async()=>fn("/api/user/me"),logout:async()=>ky("/api/logout"),getConf:async()=>fn("/api/conf"),upload:async(e,t)=>{const n=new FormData;return n.append("file",e,e.name),Wa("post","/api/upload",{body:n,onUploadProgress:t})},importPlaylist:async e=>Af("/api/sr/import",e),getDrawcastAllImages:async()=>fn("/api/drawcast/all-images"),getGeneralGlobalEmotes:async()=>fn("/api/general/global-emotes"),getGeneralChannelEmotes:async e=>fn("/api/general/channel-emotes"+Py({channel_name:e})),createWidgetUrl:async e=>rl("/api/widget/create_url",e),getWidgetData:async(e,t)=>fn(`/api/widget/${e}/${t}/`),getPubData:async e=>fn(`/api/pub/${e}`)};let Of=null;const Vy=async()=>{const e=await It.getConf();Of=e.status===200?await e.json():null};var di={init:Vy,getConf:()=>Of};function kf(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(o){o(n)}),(s=e.get("*"))&&s.slice().map(function(o){o(t,n)})}}}let ua=null;const ci=kf(),Pf=()=>localStorage.getItem("darkmode")==="1",Ry=e=>{localStorage.setItem("darkmode",e?"1":"0"),ci.emit("darkmode",e)};async function My(){ci.emit("darkmode",Pf());const e=await It.getMe();ua=e.status===200?await e.json():null,ua&&ci.emit("login")}async function Uy(){return(await(await It.logout()).json()).success?(ua=null,ci.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}var bn={getMe:()=>ua,isDarkmode:Pf,setDarkmode:Ry,eventBus:ci,logout:Uy,init:My};const Ny=1001,_o=4e3,Ln=bs("WsWrapper.ts");class xy{constructor(t,n){this.addr=t,this.protocols=n,this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{}}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=Or(10);this.id=t;const n=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};Ln.info({id:t,addr:this.addr},"trying to connect");const s=new WebSocket(this.addr,this.protocols);s.onopen=o=>{if(Ln.info({id:t},"ws connected"),t!==this.id){Ln.info({id:t,this_id:this.id},"connected but it is not the last attempt"),s.close(_o);return}for(this.handle&&(Ln.error({e:o},"handle already existed, closing old one and replacing it"),this.handle.close(_o)),this.handle=s;this.sendBuffer.length>0;){const l=this.sendBuffer.shift();l&&this.handle.send(l)}this.onopen(o),this.keepAlive()},s.onmessage=o=>{try{const l=JSON.parse(o.data);if(l.type&&l.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(o)},s.onerror=o=>{this.cancelKeepAlive(),Ln.error({e:o,id:t})},s.onclose=o=>{this.cancelKeepAlive(),this.handle=null,this.onclose(o),o.code===_o?Ln.info({id:t},"custom disconnect, will not reconnect"):o.code===Ny?Ln.info({id:t},"going away, will not reconnect"):(Ln.info({id:t,code:o.code},"connection closed, trying to reconnect."),n())}}disconnect(){this.handle&&(Ln.info({code:_o},"handle existed, closing"),this.handle.close(_o))}}const Ku=bs("WsClient.ts");class Vf extends xy{constructor(t,n){super(t,n),this._on={},this.onopen=s=>{this._dispatch("socket","open",s)},this.onmessage=s=>{if(this._dispatch("socket","message",s),this._on.message){const o=this._parseMessageData(s.data);o.event&&this._dispatch("message",`${o.event}`,o.data,o)}},this.onclose=s=>{this._dispatch("socket","close",s)}}onSocket(t,n){this.addEventListener("socket",t,n)}onMessage(t,n){this.addEventListener("message",t,n)}addEventListener(t,n,s){const o=Array.isArray(n)?n:[n];this._on[t]=this._on[t]||{};for(const l of o)this._on[t][l]=this._on[t][l]||[],this._on[t][l].push(s)}_parseMessageData(t){try{const n=JSON.parse(t);if(n.event)return n.data=n.data||null,n}catch(n){Ku.info({e:n})}return{event:null,data:null}}_dispatch(t,n,...s){const l=(this._on[t]||{})[n]||[];if(l.length!==0){Ku.info({type:t,tag:n},"ws dispatch");for(const i of l)i(...s)}}}const Ly=e=>{const t=di.getConf(),n=bn.getMe();return new Vf(`${t.wsBase}/${e}`,n?n.token:"")},Ci=e=>{if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if(e.dataTransfer.items[t].kind==="file")return e.dataTransfer.items[t].getAsFile();return null}for(let t=0;t<e.dataTransfer.files.length;t++)return e.dataTransfer.files[t];return null};var zs={wsClient:Ly,getFileFromDropEvent:Ci,getParam:e=>new URLSearchParams(window.location.search).get(e)||""};const Fy=ae({props:{accept:String,label:{type:String,default:"Upload File"}},data:()=>({uploading:!1,progress:0}),computed:{uploadPercent(){return Math.round(this.progress*100)},buttonText(){return this.uploading?` Uploading (${this.uploadPercent}%)`:this.label?` ${this.label}`:""},progressStyle(){if(!this.uploading)return{};const e=this.uploadPercent,t="rgba(0,255,0, .5)";return{background:`linear-gradient(90deg, ${t} 0%, ${t} ${e}%, transparent ${e}%)`}}},methods:{async uploadFile(e){this.uploading=!0;const t=await It.upload(e,s=>{this.progress=s.loaded/s.total});this.uploading=!1;const n=await t.json();this.$emit("uploaded",n)},async upload(e){const t=e.target;!t.files||t.files.length===0||this.uploadFile(t.files[0])}}}),By=Fy,Hy={class:"upload"},Wy=["disabled","accept"],jy={class:"button is-small"};function zy(e,t,n,s,o,l){return v(),b("label",Hy,[a("input",{type:"file",disabled:e.uploading,style:{display:"none"},accept:e.accept,onChange:t[0]||(t[0]=(...i)=>e.upload&&e.upload(...i))},null,40,Wy),a("span",jy,[a("i",{class:Ae(["fa fa-upload",{"mr-1":e.buttonText}])},null,2),M(G(e.buttonText),1)]),a("span",{class:"progress",style:at(e.progressStyle)},null,4)])}var ja=He(By,[["render",zy],["__scopeId","data-v-5541627f"]]);const Ky=["placeholder"],Rf=ae({__name:"IntegerInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(`${n.modelValue}`);return Xe(()=>n.modelValue,o=>{s.value=`${o}`}),Xe(s,o=>{const l=parseInt(`${o}`,10);t("update:modelValue",isNaN(l)?0:l)},{deep:!0}),(o,l)=>ge((v(),b("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Ky)),[[Pe,s.value]])}});const Gy=e=>(_n("data-v-34085350"),e=e(),In(),e),Jy=Gy(()=>a("i",{class:"fa fa-trash"},null,-1)),Yy=[Jy],Xy=["src"],Qy=ae({__name:"AvatarFrameUpload",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se({url:"",duration:100}),o=se(!1),l=se(),i=()=>{s.value=n.modelValue!==null?JSON.parse(JSON.stringify(n.modelValue)):{url:"",duration:100}},r=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},u=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},d=()=>{s.value={url:"",duration:100},r()},h=p=>{s.value={url:p.urlpath,duration:100},r()},c=p=>{o.value=!1,p.preventDefault(),p.stopPropagation();const g=Ci(p);return g&&(s.value.url="",l.value.uploadFile(g)),!1},f=p=>(o.value=!0,p.preventDefault(),p.stopPropagation(),!1),m=p=>(o.value=!1,p.preventDefault(),p.stopPropagation(),!1);return Tt(()=>{Xe(()=>n.modelValue,()=>{i()}),i()}),(p,g)=>(v(),b("span",{class:Ae(["avatar-animation-frame",{"dragging-over":o.value}]),onDrop:c,onDragover:f,onDragleave:m},[a("div",{class:"avatar-animation-frame-remove"},[a("span",{class:"button is-small",onClick:d},Yy)]),s.value.url?(v(),b("img",{key:0,src:s.value.url,width:"64",height:"64"},null,8,Xy)):H("",!0),ge(R(ja,{ref_key:"uploadComponent",ref:l,accept:"image/*",label:"",class:"avatar-animation-frame-upload",onUploaded:h},null,512),[[bo,!s.value.url]]),R(Rf,{modelValue:s.value.duration,"onUpdate:modelValue":[g[0]||(g[0]=S=>s.value.duration=S),u]},null,8,["modelValue"])],34))}});var Zy=He(Qy,[["__scopeId","data-v-34085350"]]);const qy=ae({components:{AvatarAnimation:Ha,AvatarFrameUpload:Zy,UploadInput:ja},props:{modelValue:{type:Object,required:!0},defaultState:{type:Object,required:!0}},data(){return{draggingOver:!1,editing:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},methods:{onDragOver(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragLeave(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation()},onDragEnter(e){!e.dataTransfer||e.dataTransfer.getData("avatar-image-url")&&e.preventDefault()},onDrop(e){if(!!e.dataTransfer)if(this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),e.dataTransfer.getData("avatar-image-url")){const t={url:e.dataTransfer.getData("avatar-image-url"),duration:100};this.modelValue.frames.push(t)}else{const t=Ci(e);t&&this.uploadComponent.uploadFile(t)}},onUploaded(e){this.modelValue.frames.push({url:e.urlpath,duration:100})},onOverlayClick(){this.editing=!1},frameChanged(e,t){t.url===""?this.modelValue.frames=this.modelValue.frames.filter((n,s)=>s!==e):this.modelValue.frames[e]=t},addFrame(){const e={url:"",duration:100};this.modelValue.frames.push(e)}}}),e1={class:"avatar-slot-item-state-editor-title"},t1={class:"avatar-animation-card mr-1"},n1={class:"avatar-animation-frame"},s1=a("i",{class:"fa fa-plus"},null,-1),o1=[s1];function i1(e,t,n,s,o,l){const i=me("AvatarAnimation"),r=me("AvatarFrameUpload"),u=me("UploadInput");return v(),b("div",{class:Ae(["avatar-slot-item-state-editor card",{"dragging-over":e.draggingOver}]),onDragover:t[1]||(t[1]=(...d)=>e.onDragOver&&e.onDragOver(...d)),onDragenter:t[2]||(t[2]=(...d)=>e.onDragEnter&&e.onDragEnter(...d)),onDragleave:t[3]||(t[3]=(...d)=>e.onDragLeave&&e.onDragLeave(...d)),onDrop:t[4]||(t[4]=(...d)=>e.onDrop&&e.onDrop(...d))},[a("div",e1,G(e.modelValue.state),1),e.modelValue.frames.length?(v(),Ce(i,{key:0,frames:e.modelValue.frames},null,8,["frames"])):(v(),Ce(i,{key:1,frames:e.defaultState.frames,class:"avatar-fallback-animation"},null,8,["frames"])),a("div",null,[(v(!0),b(ie,null,ye(e.modelValue.frames,(d,h)=>(v(),b("div",{key:h,class:"avatar-animation-card mr-1"},[R(r,{"model-value":d,"onUpdate:modelValue":c=>e.frameChanged(h,c)},null,8,["model-value","onUpdate:modelValue"])]))),128)),a("div",t1,[a("span",n1,[a("span",{class:"button is-small",onClick:t[0]||(t[0]=(...d)=>e.addFrame&&e.addFrame(...d))},o1)])])]),ge(R(u,{ref:"uploadComponent",accept:"image/*",label:"",onUploaded:e.onUploaded},null,8,["onUploaded"]),[[bo,!1]])],34)}var a1=He(qy,[["render",i1]]);const l1={class:"avatar-slot-item-editor p-1"},r1={class:"level"},u1={class:"level-left"},d1={class:"level-item"},c1={class:"level-item"},f1={key:0,class:"has-text-success mr-1"},h1=a("i",{class:"fa fa-check"},null,-1),m1={class:"level-right"},p1={class:"level-item"},g1={class:"level-item"},v1={class:"level-item"},y1=a("i",{class:"fa fa-trash"},null,-1),b1=[y1],w1=ae({__name:"AvatarSlotItemEditor",props:{modelValue:null,isDefault:{type:Boolean}},emits:["makeDefault","moveUp","moveDown","remove"],setup(e,{emit:t}){const n=e,s=se(!1),o=Ne(()=>n.modelValue.states.find(({state:i})=>i==="default")),l=()=>{t("makeDefault",n.modelValue)};return(i,r)=>(v(),b("div",l1,[a("div",r1,[a("div",u1,[a("div",d1,[ge(a("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>e.modelValue.title=u),type:"text",class:Ae(["input is-small avatar-slot-item-editor-title",{"is-static":!s.value}]),onFocus:r[1]||(r[1]=u=>s.value=!0),onBlur:r[2]||(r[2]=u=>s.value=!1)},null,34),[[Pe,e.modelValue.title]])]),a("div",c1,[e.isDefault?(v(),b("span",f1,[h1,M(" Default")])):(v(),b("span",{key:1,class:"button is-small",onClick:l},"Make default"))])]),a("div",m1,[a("div",p1,[a("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:r[3]||(r[3]=u=>t("moveUp"))})]),a("div",g1,[a("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:r[4]||(r[4]=u=>t("moveDown"))})]),a("div",v1,[a("span",{class:"button is-small",onClick:r[5]||(r[5]=u=>t("remove"))},b1)])])]),(v(!0),b(ie,null,ye(e.modelValue.states,(u,d)=>(v(),Ce(a1,{key:d,class:"mr-1","model-value":u,"default-state":ce(o)},null,8,["model-value","default-state"]))),128))]))}});const S1={class:"avatar-slot-definition-editor"},$1={class:"level avatar-slot-definition-editor-title p-1"},C1={class:"level-left"},E1={class:"level-item"},_1={class:"level-item"},I1={class:"level-right"},T1={class:"level-item"},D1={class:"level-item"},A1={class:"level-item"},O1=a("i",{class:"fa fa-trash"},null,-1),k1=[O1],P1={class:"p-1"},V1=ae({__name:"AvatarSlotDefinitionEditor",props:{modelValue:null,avatarDef:null},emits:["update:modelValue","remove","moveUp","moveDown"],setup(e,{emit:t}){const n=e,s=se(!1),o=Ne(()=>n.modelValue.defaultItemIndex>=0&&n.modelValue.items.length>n.modelValue.defaultItemIndex?n.modelValue.items[n.modelValue.defaultItemIndex]:null),l=Ne(()=>{if(!o.value)return[];const p=o.value.states.find(({state:g})=>g==="default");return p?p.frames:[]}),i=()=>{t("update:modelValue",n.modelValue)},r=(p,g)=>{n.modelValue.items[p]=g,i()},u=(p,g)=>{n.modelValue.items=n.modelValue.items.filter((S,w)=>w!==p),p<=n.modelValue.defaultItemIndex&&(n.modelValue.defaultItemIndex=n.modelValue.defaultItemIndex-1),n.modelValue.items.length>0&&n.modelValue.defaultItemIndex<0&&(n.modelValue.defaultItemIndex=0),i()},d=(p,g)=>{n.modelValue.defaultItemIndex=p,i()},h=()=>{const p={title:`${n.modelValue.slot} item ${n.modelValue.items.length+1}`,states:n.avatarDef.stateDefinitions.map(g=>({state:g.value,frames:[]}))};n.modelValue.items.push(p),n.modelValue.defaultItemIndex===-1&&(n.modelValue.defaultItemIndex=0),i()},c=p=>{m(p-1,p)},f=p=>{m(p+1,p)},m=(p,g)=>{Ba(n.modelValue.items,p,g)&&(n.modelValue.defaultItemIndex===p?n.modelValue.defaultItemIndex=g:n.modelValue.defaultItemIndex===g&&(n.modelValue.defaultItemIndex=p))};return(p,g)=>(v(),b("div",S1,[a("div",$1,[a("div",C1,[a("div",E1,[R(Ha,{frames:ce(l),width:32,height:32},null,8,["frames"])]),a("div",_1,[ge(a("input",{"onUpdate:modelValue":g[0]||(g[0]=S=>e.modelValue.slot=S),class:Ae(["input is-small avatar-slot-definition-editor-title-input",{"is-static":!s.value}]),onFocus:g[1]||(g[1]=S=>s.value=!0),onBlur:g[2]||(g[2]=S=>s.value=!1)},null,34),[[Pe,e.modelValue.slot]])])]),a("div",I1,[a("div",T1,[a("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:g[3]||(g[3]=S=>t("moveUp"))})]),a("div",D1,[a("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:g[4]||(g[4]=S=>t("moveDown"))})]),a("div",A1,[a("span",{class:"button is-small",onClick:g[5]||(g[5]=S=>t("remove"))},k1)])])]),a("div",P1,[(v(!0),b(ie,null,ye(e.modelValue.items,(S,w)=>(v(),Ce(w1,{key:w,class:Ae(["card mb-1",{"is-default":w===e.modelValue.defaultItemIndex}]),"model-value":S,"is-default":w===e.modelValue.defaultItemIndex,onMoveUp:y=>c(w),onMoveDown:y=>f(w),"onUpdate:modelValue":y=>r(w,y),onRemove:y=>u(w),onMakeDefault:y=>d(w)},null,8,["class","model-value","is-default","onMoveUp","onMoveDown","onUpdate:modelValue","onRemove","onMakeDefault"]))),128))]),a("span",{class:"button is-small",onClick:h},"Add item")]))}}),R1=ae({components:{StringInput:kt,AvatarSlotDefinitionEditor:V1},props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,itemStr:"null",newState:"",newSlotDefinitionName:""}),computed:{cardBody(){return this.$refs.cardBody?this.$refs.cardBody:null},allImagesDiv(){return this.$refs.allImagesDiv?this.$refs.allImagesDiv:null},allImages(){var t;const e=[];return(t=this.item)==null||t.slotDefinitions.forEach(n=>{n.items.forEach(s=>{s.states.forEach(o=>{o.frames.forEach(l=>{l.url&&!e.includes(l.url)&&e.push(l.url)})})})}),e},isStateAddable(){return!(!this.item||this.newState===""||this.item.stateDefinitions.find(({value:e})=>e===this.newState))}},watch:{modelValue:{handler(e){this.item=JSON.parse(this.itemStr)}},item:{handler(e){this.itemStr=JSON.stringify(e)},deep:!0},itemStr:{handler(e){const t=JSON.stringify(this.item);try{const n=JSON.parse(e);t!==n&&(this.item=n)}catch(n){console.warn(n)}}}},mounted(){this.itemStr=JSON.stringify(this.modelValue),this.item=JSON.parse(this.itemStr),this.adjustAllImagesDivSize(),window.addEventListener("resize",this.adjustAllImagesDivSize)},unmounted(){window.removeEventListener("resize",this.adjustAllImagesDivSize)},methods:{autoDetectDimensions(){if(this.allImages.length===0)return;const e=new Image;e.onload=()=>{!this.item||(this.item.width=e.width,this.item.height=e.height)},e.src=this.allImages[0]},adjustAllImagesDivSize(){this.$nextTick(()=>{if(!this.cardBody||!this.allImagesDiv)return;const e=this.cardBody.clientHeight;this.allImagesDiv.style.maxHeight=`${e}px`})},imageDragStart(e){if(!e.dataTransfer)return;const n=e.target.getAttribute("data-src");!n||e.dataTransfer.setData("avatar-image-url",n)},emitUpdate(){if(!this.item){console.warn("emitUpdate: this.item not initialized");return}this.$emit("update:modelValue",Df({name:this.item.name,width:parseInt(`${this.item.width}`,10),height:parseInt(`${this.item.height}`,10),stateDefinitions:this.item.stateDefinitions,slotDefinitions:this.item.slotDefinitions,state:this.item.state}))},onSaveClick(){this.emitUpdate()},onSaveAndCloseClick(){this.emitUpdate(),this.$emit("cancel")},onCancelClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},addStateDefinition(){if(!this.item){console.warn("addStateDefinition: this.item not initialized");return}const e={value:this.newState,deletable:!0};this.item.stateDefinitions.push(e);for(let t of this.item.slotDefinitions)for(let n of t.items)n.states.push({state:e.value,frames:[]})},removeStateDefinition(e){if(!this.item){console.warn("removeStateDefinition: this.item not initialized");return}const t=[];for(let s in this.item.stateDefinitions)parseInt(s,10)!==parseInt(`${e}`,10)&&t.push(this.item.stateDefinitions[s]);this.item.stateDefinitions=t;const n=t.map(s=>s.value);for(let s of this.item.slotDefinitions)for(let o of s.items)o.states=o.states.filter(l=>n.includes(l.state))},removeSlotDefinition(e){if(!this.item){console.warn("removeSlotDefinition: this.item not initialized");return}const t=[];for(let n in this.item.slotDefinitions)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.item.slotDefinitions[n]);this.item.slotDefinitions=t},updateSlotDefinition(e,t){if(!this.item){console.warn("updateSlotDefinition: this.item not initialized");return}this.item.slotDefinitions[parseInt(`${e}`,10)]=t},addSlotDefinition(){if(!this.item){console.warn("addSlotDefinition: this.item not initialized");return}const e={slot:"Unnamed slot",defaultItemIndex:-1,items:[]};this.item.slotDefinitions.push(e)},moveSlotUp(e){this.swapItems(e-1,e)},moveSlotDown(e){this.swapItems(e+1,e)},swapItems(e,t){if(!this.item){console.warn("swapItems: this.item not initialized");return}Ba(this.item.slotDefinitions,e,t)}}}),M1={key:0,class:"avatar-editor modal is-active"},U1={class:"modal-card"},N1={class:"modal-card-head"},x1=a("p",{class:"modal-card-title"}," Edit Avatar ",-1),L1={ref:"cardBody",class:"modal-card-body"},F1={class:"columns"},B1={class:"column is-three-quarters"},H1={class:"table is-striped"},W1=a("td",null,"Name:",-1),j1=a("td",null,"Dimensions:",-1),z1=a("td",null,"States:",-1),K1=["onClick"],G1=a("i",{class:"fa fa-trash"},null,-1),J1=[G1],Y1=["disabled"],X1=a("td",null,"Slots",-1),Q1={class:"column"},Z1=a("div",null,"JSON:",-1),q1=a("div",null,"All images in use:",-1),eb={ref:"allImagesDiv",class:"avatar-all-images"},tb=["src","data-src"],nb={class:"modal-card-foot"};function sb(e,t,n,s,o,l){const i=me("StringInput"),r=me("AvatarSlotDefinitionEditor");return e.item?(v(),b("div",M1,[a("div",{class:"modal-background",onClick:t[0]||(t[0]=(...u)=>e.onOverlayClick&&e.onOverlayClick(...u))}),a("div",U1,[a("header",N1,[x1,a("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...u)=>e.onCloseClick&&e.onCloseClick(...u))})]),a("section",L1,[a("div",F1,[a("div",B1,[a("table",H1,[a("tbody",null,[a("tr",null,[W1,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.item.name=u),class:"input is-small"},null,512),[[Pe,e.item.name]])])]),a("tr",null,[j1,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>e.item.width=u),class:"input is-small number-input"},null,512),[[Pe,e.item.width]]),M("\u2716"),ge(a("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.item.height=u),class:"input is-small number-input"},null,512),[[Pe,e.item.height]]),M(" Pixels "),e.allImages.length?(v(),b("span",{key:0,class:"button is-small",onClick:t[5]||(t[5]=(...u)=>e.autoDetectDimensions&&e.autoDetectDimensions(...u))},"Auto-detect")):H("",!0)])]),a("tr",null,[z1,a("td",null,[(v(!0),b(ie,null,ye(e.item.stateDefinitions,(u,d)=>(v(),b("span",{key:d,class:"tag"},[a("span",null,G(u.value),1),u.deletable?(v(),b("span",{key:0,class:"ml-1 is-clickable",onClick:h=>e.removeStateDefinition(d)},J1,8,K1)):H("",!0)]))),128)),R(i,{modelValue:e.newState,"onUpdate:modelValue":t[6]||(t[6]=u=>e.newState=u),placeholder:"State"},null,8,["modelValue"]),a("span",{class:"button is-small",disabled:e.isStateAddable?void 0:!0,onClick:t[7]||(t[7]=(...u)=>e.addStateDefinition&&e.addStateDefinition(...u))},"Add custom state",8,Y1)])]),a("tr",null,[X1,a("td",null,[(v(!0),b(ie,null,ye(e.item.slotDefinitions,(u,d)=>(v(),Ce(r,{key:d,class:"card mb-2","model-value":u,"avatar-def":e.item,"onUpdate:modelValue":h=>e.updateSlotDefinition(d,h),onMoveUp:h=>e.moveSlotUp(d),onMoveDown:h=>e.moveSlotDown(d),onRemove:h=>e.removeSlotDefinition(d)},null,8,["model-value","avatar-def","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"]))),128))])])])]),a("span",{class:"button is-small",onClick:t[8]||(t[8]=(...u)=>e.addSlotDefinition&&e.addSlotDefinition(...u))},"Add slot")]),a("div",Q1,[Z1,ge(a("textarea",{"onUpdate:modelValue":t[9]||(t[9]=u=>e.itemStr=u),class:"textarea mb-2"},null,512),[[Pe,e.itemStr]]),q1,a("div",eb,[(v(!0),b(ie,null,ye(e.allImages,(u,d)=>(v(),b("img",{key:d,src:u,draggable:"true",class:"mr-1 mb-1","data-src":u,onDragstart:t[10]||(t[10]=(...h)=>e.imageDragStart&&e.imageDragStart(...h))},null,40,tb))),128))],512)])])],512),a("footer",nb,[a("button",{class:"button is-small is-primary",onClick:t[11]||(t[11]=(...u)=>e.onSaveClick&&e.onSaveClick(...u))}," Save "),a("button",{class:"button is-small is-primary",onClick:t[12]||(t[12]=(...u)=>e.onSaveAndCloseClick&&e.onSaveAndCloseClick(...u))}," Save and close "),a("button",{class:"button is-small",onClick:t[13]||(t[13]=(...u)=>e.onCancelClick&&e.onCancelClick(...u))}," Cancel ")])])])):H("",!0)}var ob=He(R1,[["render",sb]]);const ib=ae({__name:"AvatarPreview",props:{avatar:{type:Object,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=Ne(()=>t.avatar.slotDefinitions.map(s=>{const o=s.items[s.defaultItemIndex];if(!o)return{state:"",frames:[]};const l=o.states.find(({state:i})=>i==="default");return l||{state:"",frames:[]}}));return(s,o)=>(v(),b("div",{class:"avatar-preview",style:at({width:`${e.width}px`,height:`${e.height}px`})},[(v(!0),b(ie,null,ye(ce(n),(l,i)=>(v(),Ce(Ha,{key:i,frames:l.frames,width:e.width,height:e.height},null,8,["frames","width","height"]))),128))],4))}});const ab={key:0,class:"doubleclick-button-message mr-2 p-1 has-text-danger"},lb=ae({__name:"DoubleclickButton",props:{message:null,timeout:null},emits:["click","doubleclick"],setup(e,{emit:t}){const n=e,s=se(null),o=se(null),l=Ne(()=>o.value===null||s.value===null?{}:{width:`${s.value/n.timeout*100}%`}),i=()=>{o.value===null?(t("click"),s.value=n.timeout,o.value=setInterval(()=>{s.value&&(s.value-=10),(!s.value||s.value<=0)&&(clearInterval(o.value),o.value=null,s.value=null)},10)):(t("doubleclick"),o.value&&(clearInterval(o.value),o.value=null,s.value=null))};return(r,u)=>(v(),b("button",{class:"doubleclick-button",onClick:i},[wr(r.$slots,"default",{},void 0,!0),o.value?(v(),b("span",ab,[M(G(e.message)+" ",1),a("span",{class:"doubleclick-button-timout-indicator",style:at(ce(l))},null,4)])):H("",!0)]))}});var wo=He(lb,[["__scopeId","data-v-62933d05"]]);const da=kf();let io,ul={problems:[]};function rb(){io=zs.wsClient("core"),io.onMessage(["status"],e=>{JSON.stringify(ul)!==JSON.stringify(e)&&(ul=e,da.emit("status",ul))}),io.connect()}function ub(){io&&(io.disconnect(),io=null)}var Gu={init:rb,stop:ub,eventBus:da};const Ei=ae({__name:"CheckboxInput",props:{modelValue:null,onValue:{default:!0},offValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(n.modelValue===n.onValue),o=()=>{t("update:modelValue",s.value?n.onValue:n.offValue)};return(l,i)=>ge((v(),b("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>s.value=r),type:"checkbox",onChange:o},null,544)),[[Xn,s.value]])}}),db={class:"modal is-active"},cb={class:"modal-card"},fb=a("header",{class:"modal-card-head"},[a("p",{class:"modal-card-title"}," Problems ")],-1),hb={class:"modal-card-body"},mb={class:"pl-4"},pb={key:0},gb={key:1},vb=ae({__name:"ProblemsDialog",props:{problems:null},emits:["close"],setup(e,{emit:t}){const n=()=>{t("close")};return(s,o)=>{const l=me("router-link");return v(),b("div",db,[a("div",{class:"modal-background",onClick:n}),a("div",cb,[fb,a("section",hb,[a("ol",mb,[(v(!0),b(ie,null,ye(e.problems,(i,r)=>(v(),b("li",{key:r},[i.message==="access_token_invalid"?(v(),b("div",pb,[M(" The Access Token for channel "),a("b",null,G(i.details.channel_name),1),M(" is invalid. Please go to "),R(l,{to:{name:"settings"}},{default:wt(()=>[M(" Settings ")]),_:1}),M(" and update the token. ")])):(v(),b("div",gb,G(i),1))]))),128))])]),a("footer",{class:"modal-card-foot"},[a("button",{class:"button is-small",onClick:n}," Close ")])])])}}});var yb="/assets/hyottoko.30d2bcb9.png";const bb=ae({components:{CheckboxInput:Ei,ProblemsDialog:vb},data:()=>({me:null,showProblems:!1,linksStart:[{to:{name:"index"},text:"Widgets"},{to:{name:"commands"},text:"Commands"},{to:{name:"variables"},text:"Variables"},{to:{name:"sr"},text:"Song Request"},{to:{name:"speech-to-text"},text:"Speech-To-Text"},{to:{name:"avatar"},text:"Avatar"},{to:{name:"drawcast"},text:"Drawcast"},{to:{name:"pomo"},text:"Pomo"},{to:{name:"settings"},text:"Settings"}],problems:[],burgerActive:!1,darkmode:!1}),computed:{user(){var e,t;return((t=(e=this.me)==null?void 0:e.user)==null?void 0:t.name)||""}},created(){this.me=bn.getMe(),this.darkmode=bn.isDarkmode(),da.on("status",this.statusChanged)},beforeUnmount(){da.off("status",this.statusChanged)},methods:{onDarkmodeSwitch(){bn.setDarkmode(this.darkmode)},statusChanged(e){this.problems=e.problems},toggleBurgerMenu(){this.burgerActive=!this.burgerActive},async onLogoutClick(){const e=await bn.logout();if(e.error)throw new Error(e.error);this.$router.push({name:"login"})}}}),wb={class:"navbar",role:"navigation","aria-label":"main navigation"},Sb={class:"navbar-brand"},$b=a("img",{src:yb,width:"32",height:"32",alt:"hyottoko.club",class:"flip-horizontal mr-1"},null,-1),Cb={class:"greeting"},Eb=a("span",{"aria-hidden":"true"},null,-1),_b=a("span",{"aria-hidden":"true"},null,-1),Ib=a("span",{"aria-hidden":"true"},null,-1),Tb=[Eb,_b,Ib],Db={class:"navbar-start"},Ab={class:"navbar-end"},Ob=a("i",{class:"fa fa-warning mr-1"},null,-1),kb={class:"navbar-item"},Pb=a("label",{for:"darkmode-switch"},"Switch dark/light mode",-1);function Vb(e,t,n,s,o,l){const i=me("router-link"),r=me("CheckboxInput"),u=me("ProblemsDialog");return v(),b(ie,null,[a("nav",wb,[a("div",Sb,[R(i,{class:"navbar-item",to:{name:"index"}},{default:wt(()=>[$b,a("span",Cb,"Welcome back, "+G(e.user),1)]),_:1}),a("a",{role:"button",class:Ae(["navbar-burger",{"is-active":e.burgerActive}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:t[0]||(t[0]=(...d)=>e.toggleBurgerMenu&&e.toggleBurgerMenu(...d))},Tb,2)]),a("div",{id:"navbarBasicExample",class:Ae(["navbar-menu",{"is-active":e.burgerActive}])},[a("div",Db,[(v(!0),b(ie,null,ye(e.linksStart,(d,h)=>(v(),Ce(i,{key:h,class:"navbar-item",to:d.to},{default:wt(()=>[M(G(d.text),1)]),_:2},1032,["to"]))),128))]),a("div",Ab,[e.problems.length?(v(),b("a",{key:0,class:"navbar-item has-text-danger",onClick:t[1]||(t[1]=d=>e.showProblems=!0)},[Ob,M(" "+G(e.problems.length)+" Problem"+G(e.problems.length>1?"s":""),1)])):H("",!0),a("span",kb,[R(r,{id:"darkmode-switch",modelValue:e.darkmode,"onUpdate:modelValue":[t[2]||(t[2]=d=>e.darkmode=d),e.onDarkmodeSwitch],class:"mr-1"},null,8,["modelValue","onUpdate:modelValue"]),Pb]),a("a",{class:"navbar-item",onClick:t[3]||(t[3]=(...d)=>e.onLogoutClick&&e.onLogoutClick(...d))},"Logout")])],2)]),e.showProblems?(v(),Ce(u,{key:0,problems:e.problems,onClose:t[4]||(t[4]=d=>e.showProblems=!1)},null,8,["problems"])):H("",!0)],64)}var qn=He(bb,[["render",Vb]]);const Rb={name:"Hyottoko-Chan",width:400,height:400,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1},{value:"brb",deletable:!0}],slotDefinitions:[{slot:"Base",defaultItemIndex:0,items:[{title:"Default Clothing",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bVyo1l-BASE.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/JFvasz-2022-01-30T01_30_40.133Z-xUI5QQ.png",duration:100}]}]},{title:"Neko Maid",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/CnWpBL-BASE 2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/xV8vXJ-brb2.png",duration:100}]}]}]},{slot:"Mouth",defaultItemIndex:0,items:[{title:"Confused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/GkDE45-mouth-confused-open.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/snKSAf-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Mild Smile",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/TTeOCx-mouth-mild-smile.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/gjs4vW-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bbpNaD-mouth-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Eyes",defaultItemIndex:1,items:[{title:"Calm",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/NO7zrl-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/nmUEqi-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/9eidC9-l2idid-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/pw1HJw-nmUEqi-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Interested",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/2wlpCr-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/DwiBor-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/5fP25n-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/PYiAtV-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/LQkiXq-eyes-down-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Hands + Table",defaultItemIndex:0,items:[{title:"Empty",states:[{state:"default",frames:[{url:"",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[]}]},{title:"Mouse Study",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/YJnPbG-mouse-study.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Tablet",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/MNHy2s-tablet-osu.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Knitting",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/pn9ZlM-knitting-hands2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Cross Stitch",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/XZRYyh-crossstitch-hands.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]}],state:{slots:{Mouth:1,Eyes:1,Base:1,"Hands + Table":1},lockedState:"default"}};const Mb=ae({components:{AvatarPreview:ib,AvatarEditor:ob,DoubleclickButton:wo,NavbarElement:qn},data:()=>({editIdx:-1,editEntity:null,unchangedJson:"{}",changedJson:"{}",settings:zl(),defaultSettings:zl(),ws:null,inited:!1,tabDefinitions:[{tab:"avatars",title:"Avatars"},{tab:"settings",title:"Settings"}],tab:"avatars",controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=zs.wsClient("avatar"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{edit(e){if(!this.settings){console.warn("edit: this.settings not initialized");return}this.editIdx=e,this.editEntity=this.settings.avatarDefinitions[e]},remove(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.avatarDefinitions=this.settings.avatarDefinitions.filter((t,n)=>n!==e),this.sendSave()},duplicate(e){if(!this.settings){console.warn("duplicate: this.settings not initialized");return}this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=JSON.parse(JSON.stringify(this.settings.avatarDefinitions[e]))},updatedAvatar(e){if(!this.settings){console.warn("updateAvatar: this.settings not initialized");return}this.settings.avatarDefinitions[this.editIdx]=e,this.sendSave()},addAvatar(){if(!this.settings){console.warn("addAvatar: this.settings not initialized");return}const e={name:"Unnamed Avatar",width:64,height:64,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1}],slotDefinitions:[],state:{slots:{},lockedState:"default"}};this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},addExampleAvatar(){const e=JSON.parse(JSON.stringify(Rb));this.editIdx=this.settings.avatarDefinitions.length,this.editEntity=e},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},dragEnd(e){if(!this.settings){console.warn("dragEnd: this.settings not initialized");return}this.settings.avatarDefinitions=Gt.arrayMove(this.settings.avatarDefinitions,e.oldIndex,e.newIndex),this.sendSave()}}}),Ub={class:"view"},Nb={id:"top",ref:"top"},xb={id:"actionbar",class:"p-1"},Lb=["href"],Fb=["href"],Bb={key:0,id:"main",ref:"main"},Hb={class:"tabs"},Wb=["onClick"],jb={key:0,class:"table is-striped"},zb=a("tr",null,[a("td",{colspan:"3"}," General ")],-1),Kb=a("td",null,[a("code",null,"settings.style.bgColor")],-1),Gb=["disabled"],Jb=a("td",null,[a("code",null,"settings.style.bgColorEnabled")],-1),Yb={key:1},Xb={class:"table is-striped"},Qb=a("thead",null,[a("tr",null,[a("th"),a("th"),a("th",null,"Preview"),a("th",null,"Name"),a("th",null,"Actions")])],-1),Zb=a("td",{class:"pt-4 handle"},[a("i",{class:"fa fa-arrows"})],-1),qb={class:"pl-0 pr-0"},e0=["onClick"],t0=a("i",{class:"fa fa-pencil"},null,-1),n0=[t0],s0={class:"pl-0 pr-0"},o0=a("i",{class:"fa fa-trash"},null,-1),i0=["onClick"],a0=a("i",{class:"fa fa-clone"},null,-1),l0=[a0],r0=["href"],u0=a("i",{class:"fa fa-external-link mr-1"},null,-1),d0=["href"],c0=a("i",{class:"fa fa-external-link mr-1"},null,-1);function f0(e,t,n,s,o,l){const i=me("NavbarElement"),r=me("CheckboxInput"),u=me("AvatarPreview"),d=me("DoubleclickButton"),h=me("vue-draggable"),c=me("AvatarEditor");return v(),b("div",Ub,[a("div",Nb,[R(i),a("div",xb,[a("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,Lb),a("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,Fb)])],512),e.inited?(v(),b("div",Bb,[a("div",Hb,[a("ul",null,[(v(!0),b(ie,null,ye(e.tabDefinitions,(f,m)=>(v(),b("li",{key:m,class:Ae({"is-active":e.tab===f.tab}),onClick:p=>e.tab=f.tab},[a("a",null,G(f.title),1)],10,Wb))),128))])]),e.tab==="settings"?(v(),b("table",jb,[a("tbody",null,[zb,a("tr",null,[Kb,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>e.settings.styles.bgColor=f),class:"input is-small",type:"color","on:update:modelValue":t[1]||(t[1]=(...f)=>e.sendSave&&e.sendSave(...f))},null,544),[[Pe,e.settings.styles.bgColor]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=f=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)}," Reset to default ",8,Gb)])]),a("tr",null,[Jb,a("td",null,[R(r,{modelValue:e.settings.styles.bgColorEnabled,"onUpdate:modelValue":[t[3]||(t[3]=f=>e.settings.styles.bgColorEnabled=f),e.sendSave]},null,8,["modelValue","onUpdate:modelValue"])])])])])):H("",!0),e.tab==="avatars"?(v(),b("div",Yb,[a("table",Xb,[Qb,R(h,{"model-value":e.settings.avatarDefinitions,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:wt(({element:f,index:m})=>[a("tr",null,[Zb,a("td",qb,[a("button",{class:"button is-small",onClick:p=>e.edit(m)},n0,8,e0)]),a("td",null,[R(u,{avatar:f},null,8,["avatar"])]),a("td",null,G(f.name),1),a("td",s0,[R(d,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:p=>e.remove(m)},{default:wt(()=>[o0]),_:2},1032,["onDoubleclick"]),a("button",{class:"button is-small mr-1",onClick:p=>e.duplicate(m)},l0,8,i0),a("a",{class:"button is-small mr-1",href:e.controlWidgetUrl+"?avatar="+f.name,target:"_blank"},[u0,M(" Control widget")],8,r0),a("a",{class:"button is-small",href:e.displayWidgetUrl+"?avatar="+f.name,target:"_blank"},[c0,M(" Display widget")],8,d0)])])]),_:1},8,["model-value","onEnd"])]),e.editEntity?(v(),Ce(c,{key:0,"model-value":e.editEntity,"onUpdate:modelValue":e.updatedAvatar,onCancel:t[4]||(t[4]=f=>e.editEntity=null)},null,8,["model-value","onUpdate:modelValue"])):H("",!0),a("span",{class:"button is-small mr-1",onClick:t[5]||(t[5]=(...f)=>e.addAvatar&&e.addAvatar(...f))},"Add new avatar"),a("span",{class:"button is-small",onClick:t[6]||(t[6]=(...f)=>e.addExampleAvatar&&e.addExampleAvatar(...f))},"Add example avatar (Hyottoko-Chan)")])):H("",!0)],512)):H("",!0)])}var h0=He(Mb,[["render",f0]]);const Pr=()=>({volume:100}),m0=()=>({showImages:!0,autocommands:[]});var Vt=(e=>(e.BALLOON="balloon",e.BOUNCY="bouncy",e.EXPLODE="explode",e.FLOATING_SPACE="floatingSpace",e.FOUNTAIN="fountain",e.RAIN="rain",e.RANDOM_BEZIER="randomBezier",e))(Vt||{}),jt=(e=>(e.COMMAND="command",e.REWARD_REDEMPTION="reward_redemption",e.FOLLOW="follow",e.SUB="sub",e.BITS="bits",e.RAID="raid",e.TIMER="timer",e.FIRST_CHAT="first_chat",e))(jt||{}),Se=(e=>(e.VARIABLE_CHANGE="variable_change",e.CHAT="chat",e.DICT_LOOKUP="dict_lookup",e.EMOTES="emotes",e.MEDIA="media",e.MADOCHAN="madochan",e.SET_CHANNEL_TITLE="set_channel_title",e.SET_CHANNEL_GAME_ID="set_channel_game_id",e.ADD_STREAM_TAGS="add_stream_tags",e.REMOVE_STREAM_TAGS="remove_stream_tags",e.CHATTERS="chatters",e.COUNTDOWN="countdown",e.MEDIA_VOLUME="media_volume",e))(Se||{}),ke=(e=>(e.TEXT="text",e.SR_CURRENT="sr_current",e.SR_UNDO="sr_undo",e.SR_GOOD="sr_good",e.SR_BAD="sr_bad",e.SR_STATS="sr_stats",e.SR_PREV="sr_prev",e.SR_NEXT="sr_next",e.SR_JUMPTONEW="sr_jumptonew",e.SR_CLEAR="sr_clear",e.SR_RM="sr_rm",e.SR_SHUFFLE="sr_shuffle",e.SR_RESET_STATS="sr_reset_stats",e.SR_LOOP="sr_loop",e.SR_NOLOOP="sr_noloop",e.SR_PAUSE="sr_pause",e.SR_UNPAUSE="sr_unpause",e.SR_HIDEVIDEO="sr_hidevideo",e.SR_SHOWVIDEO="sr_showvideo",e.SR_REQUEST="sr_request",e.SR_RE_REQUEST="sr_re_request",e.SR_ADDTAG="sr_addtag",e.SR_RMTAG="sr_rmtag",e.SR_VOLUME="sr_volume",e.SR_FILTER="sr_filter",e.SR_PRESET="sr_preset",e.SR_QUEUE="sr_queue",e))(ke||{}),za=(e=>(e.TEXT="text",e.MEDIA="media",e.DELAY="delay",e))(za||{});const Et=["mod","broadcaster"],Mf=[{value:"broadcaster",label:"Broadcaster"},{value:"mod",label:"Moderators"},{value:"sub",label:"Subscribers"}],p0=e=>{if(e.length===0)return"Everyone";const t=[];return Mf.forEach(n=>{e.includes(n.value)&&t.push(n.label)}),t.join(", ")},Uf=()=>"",g0=(e=null)=>({filename:oe(e,["filename"],""),file:oe(e,["file"],""),urlpath:oe(e,["urlpath"],""),volume:oe(e,["volume"],100)}),v0=(e=null)=>({filename:oe(e,["filename"],""),file:oe(e,["file"],""),urlpath:oe(e,["urlpath"],"")}),y0=(e=null)=>({url:oe(e,["url"],""),volume:oe(e,["volume"],100)}),mo=(e=null)=>({widgetIds:oe(e,["widgetIds"],[]),sound:g0(e==null?void 0:e.sound),image:v0(e==null?void 0:e.image),image_url:oe(e,["image_url"],""),video:y0(e==null?void 0:e.video),minDurationMs:oe(e,["minDurationMs"],"1s")}),b0=()=>({type:za.DELAY,value:"1s"}),w0=()=>({type:za.TEXT,value:Uf()}),S0=()=>({type:za.MEDIA,value:mo()}),Nf=e=>({type:e,data:{command:"",commandExact:!1,minInterval:0,minLines:0,since:"stream"}}),$0=()=>new Date().toJSON(),C0=()=>Or(10),st=(e="",t=!1)=>{const n=Nf(jt.COMMAND);return n.data.command=e,n.data.commandExact=t,n},E0=e=>{if(e.type===jt.COMMAND)return!!e.data.command;if(e.type===jt.TIMER){try{kr(e.data.minInterval)}catch{return!1}const t=parseInt(`${e.data.minLines}`,10);return!isNaN(t)}return!0},rt=e=>{if(typeof e.action=="undefined")throw new Error("action required");return{id:typeof e.id!="undefined"?e.id:C0(),createdAt:typeof e.createdAt!="undefined"?e.createdAt:$0(),action:e.action,triggers:typeof e.triggers!="undefined"?e.triggers:[],effects:typeof e.effects!="undefined"?e.effects:[],restrict_to:typeof e.restrict_to!="undefined"?e.restrict_to:[],variables:typeof e.variables!="undefined"?e.variables:[],data:typeof e.data!="undefined"?e.data:{},cooldown:typeof e.cooldown!="undefined"?e.cooldown:{global:"0",perUser:"0"}}},Go={text:{Name:()=>"command",Description:()=>"",NewCommand:()=>rt({triggers:[st()],action:ke.TEXT})},sr_current:{Name:()=>"sr_current",Description:()=>"Show what song is currently playing",NewCommand:()=>rt({action:ke.SR_CURRENT,triggers:[st("!sr current",!0)]})},sr_undo:{Name:()=>"sr_undo",Description:()=>"Remove the song that was last added by oneself.",NewCommand:()=>rt({action:ke.SR_UNDO,triggers:[st("!sr undo",!0)]})},sr_good:{Name:()=>"sr_good",Description:()=>"Vote the current song up",NewCommand:()=>rt({action:ke.SR_GOOD,triggers:[st("!sr good",!0)]})},sr_bad:{Name:()=>"sr_bad",Description:()=>"Vote the current song down",NewCommand:()=>rt({action:ke.SR_BAD,triggers:[st("!sr bad",!0)]})},sr_stats:{Name:()=>"sr_stats",Description:()=>"Show stats about the playlist",NewCommand:()=>rt({action:ke.SR_STATS,triggers:[st("!sr stats",!0),st("!sr stat",!0)]})},sr_prev:{Name:()=>"sr_prev",Description:()=>"Skip to the previous song",NewCommand:()=>rt({action:ke.SR_PREV,triggers:[st("!sr prev",!0)],restrict_to:Et})},sr_next:{Name:()=>"sr_next",Description:()=>"Skip to the next song",NewCommand:()=>rt({action:ke.SR_NEXT,triggers:[st("!sr next",!0),st("!sr skip",!0)],restrict_to:Et})},sr_jumptonew:{Name:()=>"sr_jumptonew",Description:()=>"Jump to the next unplayed song",NewCommand:()=>rt({action:ke.SR_JUMPTONEW,triggers:[st("!sr jumptonew",!0)],restrict_to:Et})},sr_clear:{Name:()=>"sr_clear",Description:()=>"Clear the playlist",NewCommand:()=>rt({action:ke.SR_CLEAR,triggers:[st("!sr clear",!0)],restrict_to:Et})},sr_rm:{Name:()=>"sr_rm",Description:()=>"Remove the current song from the playlist",NewCommand:()=>rt({action:ke.SR_RM,triggers:[st("!sr rm",!0)],restrict_to:Et})},sr_shuffle:{Name:()=>"sr_shuffle",Description:()=>`Shuffle the playlist (current song unaffected).
    <br />
    Non-played and played songs will be shuffled separately and non-played
    songs will be put after currently playing song.`,NewCommand:()=>rt({action:ke.SR_SHUFFLE,triggers:[st("!sr shuffle",!0)],restrict_to:Et})},sr_reset_stats:{Name:()=>"sr_reset_stats",Description:()=>"Reset all statistics of all songs",NewCommand:()=>rt({action:ke.SR_RESET_STATS,triggers:[st("!sr resetStats",!0)],restrict_to:Et})},sr_loop:{Name:()=>"sr_loop",Description:()=>"Loop the current song",NewCommand:()=>rt({action:ke.SR_LOOP,triggers:[st("!sr loop",!0)],restrict_to:Et})},sr_noloop:{Name:()=>"sr_noloop",Description:()=>"Stop looping the current song",NewCommand:()=>rt({action:ke.SR_NOLOOP,triggers:[st("!sr noloop",!0),st("!sr unloop",!0)],restrict_to:Et})},sr_pause:{Name:()=>"sr_pause",Description:()=>"Pause currently playing song",NewCommand:()=>rt({action:ke.SR_PAUSE,triggers:[st("!sr pause",!0)],restrict_to:Et})},sr_unpause:{Name:()=>"sr_unpause",Description:()=>"Unpause currently paused song",NewCommand:()=>rt({action:ke.SR_UNPAUSE,triggers:[st("!sr nopause",!0),st("!sr unpause",!0)],restrict_to:Et})},sr_hidevideo:{Name:()=>"sr_hidevideo",Description:()=>"Hide video for current song",NewCommand:()=>rt({action:ke.SR_HIDEVIDEO,triggers:[st("!sr hidevideo",!0)],restrict_to:Et})},sr_showvideo:{Name:()=>"sr_showvideo",Description:()=>"Show video for current song",NewCommand:()=>rt({action:ke.SR_SHOWVIDEO,triggers:[st("!sr showvideo",!0)],restrict_to:Et})},sr_request:{Name:()=>"sr_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    at youtube (by id or by title)
    and queue the first result in the playlist (after the first found
    batch of unplayed songs).`,NewCommand:()=>rt({action:ke.SR_REQUEST,triggers:[st("!sr")]})},sr_re_request:{Name:()=>"sr_re_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    in the current playlist and queue the first result in the playlist
    (after the first found batch of unplayed songs).`,NewCommand:()=>rt({action:ke.SR_RE_REQUEST,triggers:[st("!resr")]})},sr_addtag:{Name:()=>"sr_addtag",Description:()=>"Add tag <code>&lt;TAG&gt;</code> (argument to this command) to the current song",NewCommand:()=>rt({action:ke.SR_ADDTAG,triggers:[st("!sr tag"),st("!sr addtag")],restrict_to:Et,data:{tag:""}})},sr_rmtag:{Name:()=>"sr_rmtag",Description:()=>"Remove tag <code>&lt;TAG&gt;</code> (argument to this command) from the current song",NewCommand:()=>rt({action:ke.SR_RMTAG,triggers:[st("!sr rmtag")],restrict_to:Et})},sr_volume:{Name:()=>"sr_volume",Description:()=>`Sets the song request volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>rt({action:ke.SR_VOLUME,triggers:[st("!sr volume")],restrict_to:Et})},sr_filter:{Name:()=>"sr_filter",Description:()=>`Play only songs with the given tag <code>&lt;TAG&gt;</code> (argument to this command). If no tag
  is given, play all songs.`,NewCommand:()=>rt({action:ke.SR_FILTER,triggers:[st("!sr filter")],restrict_to:Et})},sr_preset:{Name:()=>"sr_preset",Description:()=>`Switches to the preset <code>&lt;PRESET&gt;</code> (argument to this command) if it exists.
  If no arguments are given, outputs all available presets.`,NewCommand:()=>rt({action:ke.SR_PRESET,triggers:[st("!sr preset")],restrict_to:Et})},sr_queue:{Name:()=>"sr_queue",Description:()=>"Shows the next 3 songs that will play.",NewCommand:()=>rt({action:ke.SR_QUEUE,triggers:[st("!sr queue")]})}},_0=()=>[{type:Se.CHAT,label:"Add chat",title:"chat"},{type:Se.MEDIA,label:"Add media",title:"media"},{type:Se.MEDIA_VOLUME,label:"Add media volume",title:"media_volume"},{type:Se.EMOTES,label:"Add emotes",title:"emotes"},{type:Se.SET_CHANNEL_TITLE,label:"Add set_channel_title",title:"set_channel_title"},{type:Se.SET_CHANNEL_GAME_ID,label:"Add set_channel_game_id",title:"set_channel_game_id"},{type:Se.CHATTERS,label:"Add chatters",title:"chatters"},{type:Se.DICT_LOOKUP,label:"Add dict_lookup",title:"dict_lookup"},{type:Se.ADD_STREAM_TAGS,label:"Add add_stream_tags",title:"add_stream_tags"},{type:Se.REMOVE_STREAM_TAGS,label:"Add remove_stream_tags",title:"remove_stream_tags"},{type:Se.MADOCHAN,label:"Add madochan",title:"madochan"},{type:Se.COUNTDOWN,label:"Add countdown",title:"countdown"},{type:Se.VARIABLE_CHANGE,label:"Add variable_change",title:"variable_change"}],I0=e=>{switch(e){case Se.VARIABLE_CHANGE:return{name:"",change:"set",value:""};case Se.CHAT:return{text:[""]};case Se.DICT_LOOKUP:return{lang:"ja",phrase:""};case Se.EMOTES:return{displayFn:[],emotes:[]};case Se.MEDIA:return mo();case Se.MADOCHAN:return{model:"100epochs800lenhashingbidirectional.h5",weirdness:"1"};case Se.SET_CHANNEL_TITLE:return{title:""};case Se.SET_CHANNEL_GAME_ID:return{game_id:""};case Se.ADD_STREAM_TAGS:return{tag:""};case Se.REMOVE_STREAM_TAGS:return{tag:""};case Se.CHATTERS:return{};case Se.COUNTDOWN:return{type:"auto",step:"",steps:"3",interval:"1s",intro:"Starting countdown...",outro:"Done!",actions:[]};default:return{}}},T0=e=>({type:e,data:I0(e)}),D0=()=>[{type:jt.COMMAND,label:"Add Command",title:"Command"},{type:jt.FIRST_CHAT,label:"Add First Chat",title:"First Chat"},{type:jt.REWARD_REDEMPTION,label:"Add Reward Redemption",title:"Reward Redemption"},{type:jt.BITS,label:"Add Bits",title:"Bits"},{type:jt.FOLLOW,label:"Add Follow",title:"Follow"},{type:jt.RAID,label:"Add Raid",title:"Raid"},{type:jt.SUB,label:"Add Sub",title:"Sub"},{type:jt.TIMER,label:"Add Timer",title:"Timer"}],A0={class:"dropdown-trigger"},O0={key:0,class:"icon is-small is-left"},k0={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},P0={class:"dropdown-content"},V0=["onClick","innerHTML"],R0=ae({__name:"DropdownInput",props:{modelValue:{type:String,required:!0},values:{type:Array,required:!0},icon:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(n.modelValue),o=c=>n.values.filter(f=>f.value.includes(c)),l=se(!1),i=se(),r=c=>{s.value=c.value,d()},u=()=>{l.value=!0},d=()=>{l.value=!1},h=c=>{!i.value||i.value.contains(c.target)||d()};return Tt(()=>{window.addEventListener("click",h),Xe(s,c=>{t("update:modelValue",c)}),Xe(()=>n.modelValue,c=>{s.value=c})}),Tn(()=>{window.removeEventListener("click",h)}),(c,f)=>(v(),b("div",{ref_key:"dropdown",ref:i,class:Ae(["dropdown",{"is-active":l.value}])},[a("div",A0,[ge(a("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),type:"text",class:Ae(["input is-small",c.$attrs.class]),onFocus:u},null,34),[[Pe,s.value]]),e.icon?(v(),b("span",O0,[a("i",{class:Ae(["fa",[`fa-${e.icon}`]])},null,2)])):H("",!0)]),a("div",k0,[a("div",P0,[(v(!0),b(ie,null,ye(o(s.value),(m,p)=>(v(),b("a",{key:p,class:"dropdown-item",onClick:g=>r(m),innerHTML:m.label},null,8,V0))),128))])])],2))}}),M0=a("tr",null,[a("td",null," Name: "),a("td",null," Change: "),a("td",null," Value: ")],-1),U0={class:"select is-small"},N0=a("option",{value:"set"}," set ",-1),x0=a("option",{value:"increase_by"}," increase by ",-1),L0=a("option",{value:"decrease_by"}," decrease by ",-1),F0=[N0,x0,L0],B0=ae({__name:"VariableChangeEffect",props:{modelValue:null,itemVariables:null,globalVariables:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(n.modelValue),o=()=>{const l=n.itemVariables.slice().map(i=>({var:i,type:"local"}));return n.globalVariables.forEach(i=>{l.find(r=>r.var.name===i.name)||l.push({var:i,type:"global"})}),l};return Xe(s,l=>{t("update:modelValue",l)},{deep:!0}),(l,i)=>(v(),b("div",null,[a("table",null,[M0,a("tr",null,[a("td",null,[R(R0,{modelValue:s.value.data.name,"onUpdate:modelValue":i[0]||(i[0]=r=>s.value.data.name=r),values:o().map(r=>({value:r.var.name,label:`${r.var.name} (${r.type}), <code>${r.var.value}</code>`}))},null,8,["modelValue","values"])]),a("td",null,[a("div",U0,[ge(a("select",{"onUpdate:modelValue":i[1]||(i[1]=r=>s.value.data.change=r)},F0,512),[[Si,s.value.data.change]])])]),a("td",null,[R(kt,{modelValue:s.value.data.value,"onUpdate:modelValue":i[2]||(i[2]=r=>s.value.data.value=r)},null,8,["modelValue"])])])])]))}}),H0=ae({emits:["selected"],data:()=>({show:!1,macros:[{value:"$args",title:"All arguments, joined with spaces"},{value:"$args(0)",title:"First argument"},{value:"$args(1:)",title:"Arguments starting from the second one, joined with spaces"},{value:"$args(1:4)",title:"Second to fifth arguments, joined with spaces"},{value:"$args(:4)",title:"All arguments up to and including the fifth, joined with spaces"},{value:"$var(VARNAME)",title:"Value of variable VARNAME"},{value:"$bot.version",title:"Bot version"},{value:"$bot.date",title:"Bot build date"},{value:"$bot.website",title:"Bot website"},{value:"$bot.github",title:"Bot github link"},{value:"$bot.features",title:"Bot feature description"},{value:"$rand(1,100)",title:"Random number between (inclusive) 1 and 100"},{value:'$daysuntil("2023-12-24")',title:"Days until a specified date in the format YYYY-MM-DD."},{value:'$daysuntil("2023-12-24", "{days} days left", "One day left", "It is today")',title:"Days until a specified date in the format YYYY-MM-DD, with more control over output."},{value:"$user.name",title:"Name of user who executed the command"},{value:"$user.profile_image_url",title:"Profile image url of user who executed the command"},{value:"$user.username",title:"Username of user who executed the command"},{value:"$user.twitch_url",title:"Twitch url of user who executed the command"},{value:"$user.recent_clip_url",title:"Recent clip url of user who executed the command"},{value:"$user.last_stream_category",title:"Last stream category of user who executed the command"},{value:"$user(NAME).name",title:"Name of user identified by username NAME"},{value:"$user(NAME).username",title:"Username of user identified by username NAME"},{value:"$user(NAME).twitch_url",title:"Twitch url of user identified by username NAME"},{value:"$user(NAME).profile_image_url",title:"Profile image url of user identified by username NAME"},{value:"$user(NAME).recent_clip_url",title:"Recent clip url of user identified by username NAME"},{value:"$user(NAME).last_stream_category",title:"Last stream category of user identified by username NAME"},{value:"$customapi(URL)",title:"Text response of a GET request to URL."},{value:"$customapi(URL)['FIELD']",title:"Field FIELD of a json returned from GET request to URL."},{value:"$calc(NUM_1+NUM_2)",title:"The result of addition of NUM_1 and NUM_2"},{value:"$calc(NUM_1-NUM_2)",title:"The result of substraction of NUM_1 and NUM_2"},{value:"$calc(NUM_1*NUM_2)",title:"The result of multiplication of NUM_1 and NUM_2"},{value:"$calc(NUM_1/NUM_2)",title:"The result of division of NUM_1 and NUM_2"}]}),methods:{onMacroClicked(e){this.$emit("selected",e)}}}),W0={class:"macro-select"},j0={key:0,class:"table-holder"},z0=["title"],K0=["onClick"];function G0(e,t,n,s,o,l){return v(),b("div",W0,[a("a",{onClick:t[0]||(t[0]=i=>e.show=!e.show)},"Select macro"),e.show?(v(),b("div",j0,[a("table",null,[(v(!0),b(ie,null,ye(e.macros,(i,r)=>(v(),b("tr",{key:r},[a("td",{title:i.title},[a("code",{class:"is-clickable",onClick:u=>e.onMacroClicked(i)},G(i.value),9,K0)],8,z0),a("td",null,G(i.title),1)]))),128))])])):H("",!0)])}var Hs=He(H0,[["render",G0]]);const Vr=e=>(_n("data-v-d9d8d450"),e=e(),In(),e),J0=["onUpdate:modelValue"],Y0=["disabled","onClick"],X0=Vr(()=>a("i",{class:"fa fa-remove"},null,-1)),Q0=[X0],Z0=Vr(()=>a("i",{class:"fa fa-plus mr-1"},null,-1)),q0=Vr(()=>a("div",null,[a("p",{class:"help"}," If multiple responses exist, a random one will be used when the command is triggered. ")],-1)),ew=ae({__name:"ChatEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue),o=()=>{s.value.data.text.push(Uf())},l=i=>{s.value.data.text=s.value.data.text.filter((r,u)=>u!==i)};return Xe(s,i=>{t("update:modelValue",i)},{deep:!0}),(i,r)=>(v(),b("div",null,[(v(!0),b(ie,null,ye(s.value.data.text,(u,d)=>(v(),b("div",{key:d,class:"field textarea-holder"},[ge(a("textarea",{"onUpdate:modelValue":h=>s.value.data.text[d]=h,class:Ae(["textarea",{"has-background-danger-light":!s.value.data.text[d],"has-text-danger-dark":!s.value.data.text[d]}])},null,10,J0),[[Pe,s.value.data.text[d]]]),a("div",null,[R(Hs,{class:"help",onSelected:h=>s.value.data.text[d]+=h.value},null,8,["onSelected"])]),a("button",{class:"button is-small",disabled:s.value.data.text.length<=1,onClick:h=>l(d)},Q0,8,Y0)]))),128)),a("div",{class:"field"},[a("button",{class:"button is-small",onClick:o},[Z0,M(" Add response ")])]),q0]))}});var tw=He(ew,[["__scopeId","data-v-d9d8d450"]]);const nw=a("td",null," Language: ",-1),sw={colspan:"3"},ow=["title","onClick"],iw=a("td",null," Phrase: ",-1),aw=a("tr",null,[a("td",null," Response: "),a("td",{colspan:"2"},[a("div",{class:"help"},[M(" Outputs the translation for the input phrase. The translation is always from/to english. "),a("br"),M(" To let the user decide on the language use "),a("code",null,"$args(0)"),M(" as language, and "),a("code",null,"$args(1:)"),M(" as phrase. "),a("br"),M(" If phrase is left empty, all arguments to the command will be used as the phrase. ")])])],-1),lw=ae({__name:"DictLookupEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=[{value:"ja",flag:"\u{1F1EF}\u{1F1F5}",title:"Japanese"},{value:"ru",flag:"\u{1F1F7}\u{1F1FA}",title:"Russian"},{value:"de",flag:"\u{1F1E9}\u{1F1EA}",title:"German"},{value:"es",flag:"\u{1F1EA}\u{1F1F8}",title:"Spanish"},{value:"fr",flag:"\u{1F1EB}\u{1F1F7}",title:"French"},{value:"it",flag:"\u{1F1EE}\u{1F1F9}",title:"Italian"},{value:"pt",flag:"\u{1F1F5}\u{1F1F9}/\u{1F1E7}\u{1F1F7}",title:"Portuguese"}],o=se(n.modelValue);return Xe(o,l=>{t("update:modelValue",l)},{deep:!0}),(l,i)=>(v(),b("div",null,[a("table",null,[a("tr",null,[nw,a("td",null,[ge(a("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>o.value.data.lang=r),class:"input is-small spaceinput mb-1"},null,512),[[Pe,o.value.data.lang]])]),a("td",null,[R(Hs,{class:"help",onSelected:i[1]||(i[1]=r=>o.value.data.lang+=r.value)})])]),a("tr",null,[a("td",sw,[(v(),b(ie,null,ye(s,(r,u)=>a("span",{key:u,class:"button is-small mr-1",title:r.title,onClick:d=>o.value.data.lang=r.value},G(r.flag),9,ow)),64))])]),a("tr",null,[iw,a("td",null,[ge(a("input",{"onUpdate:modelValue":i[2]||(i[2]=r=>o.value.data.phrase=r),class:"input is-small spaceinput mb-1"},null,512),[[Pe,o.value.data.phrase]])]),a("td",null,[R(Hs,{class:"help",onSelected:i[3]||(i[3]=r=>o.value.data.phrase+=r.value)})])]),aw])]))}});const rw={class:"control"},uw={class:"select is-small"},dw=["onUpdate:modelValue"],cw=["value"],fw=["onClick"],hw=a("i",{class:"fa fa-remove"},null,-1),mw=[hw],pw=a("i",{class:"fa fa-plus mr-1"},null,-1),gw={class:"emote-select"},vw=["src","onClick"],yw={class:"field has-addons"},bw={class:"control"},ww=a("i",{class:"fa fa-plus mr-1"},null,-1),Sw={class:"emote-select"},$w={class:"emote-set-name"},Cw=["src","onClick"],Ew=ae({__name:"EmotesEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=[Vt.BALLOON,Vt.BOUNCY,Vt.EXPLODE,Vt.FLOATING_SPACE,Vt.FOUNTAIN,Vt.RAIN,Vt.RANDOM_BEZIER],o=se(n.modelValue),l=se([]),i=f=>{o.value.data.displayFn=o.value.data.displayFn.filter((m,p)=>p!==f)},r=()=>{o.value.data.displayFn.push({fn:Vt.FLOATING_SPACE,args:[]})},u=f=>{o.value.data.emotes=o.value.data.emotes.filter((m,p)=>p!==f)},d=f=>{o.value.data.emotes.push({url:f})},h=se(""),c=async()=>{const f=h.value;if(l.value.find(g=>g.name===f))return;const p=await(await It.getGeneralChannelEmotes(f)).json();l.value.unshift({name:f,emotes:p.data.map(g=>`https://static-cdn.jtvnw.net/emoticons/v2/${g.id}/default/dark/3.0`)})};return Aa(async()=>{l.value=[];const m=await(await It.getGeneralGlobalEmotes()).json();l.value.push({name:"global",emotes:m.data.map(p=>`https://static-cdn.jtvnw.net/emoticons/v2/${p.id}/default/dark/3.0`)})}),Xe(o,f=>{t("update:modelValue",f)},{deep:!0}),(f,m)=>(v(),b("div",null,[a("div",null,[M(" Display Functions: "),(v(!0),b(ie,null,ye(o.value.data.displayFn,(p,g)=>(v(),b("div",{key:g,class:"field has-addons mb-1"},[a("div",rw,[a("div",uw,[ge(a("select",{"onUpdate:modelValue":S=>o.value.data.displayFn[g].fn=S},[(v(),b(ie,null,ye(s,(S,w)=>a("option",{key:w,value:S},G(S),9,cw)),64))],8,dw),[[Si,o.value.data.displayFn[g].fn]])])]),a("button",{class:"button is-small",onClick:S=>i(g)},mw,8,fw)]))),128)),a("button",{class:"button is-small",onClick:m[0]||(m[0]=p=>r())},[pw,M(" Add ")])]),a("div",null,[M(" Emotes: "),a("div",gw,[(v(!0),b(ie,null,ye(o.value.data.emotes,(p,g)=>(v(),b("img",{key:g,src:p.url,onClick:S=>u(g)},null,8,vw))),128))]),a("div",yw,[a("div",bw,[R(kt,{modelValue:h.value,"onUpdate:modelValue":m[1]||(m[1]=p=>h.value=p),placeholder:"Enter channel name here"},null,8,["modelValue"])]),a("button",{class:"button is-small",onClick:c},[ww,M(" Show emotes from channel ")])]),a("div",Sw,[M(" Select emotes to display: "),(v(!0),b(ie,null,ye(l.value,(p,g)=>(v(),b("div",{key:g},[a("div",$w,G(p.name),1),(v(!0),b(ie,null,ye(p.emotes,(S,w)=>(v(),b("img",{key:w,src:S,onClick:y=>d(S)},null,8,Cw))),128))]))),128))])])]))}});const _w={class:"columns"},Iw={class:"column is-four-fifth"},Tw={class:"control has-icons-left has-icons-right range slider"},Dw=["min","max"],Aw={class:"icon is-small is-left"},Ow={class:"icon is-small is-right"},kw={class:"column is-one-fifth"},Pw=ae({__name:"SliderInput",props:{modelValue:{type:Number,required:!0},iconLeft:String,iconRight:String,min:{type:Number,default:0},max:{type:Number,default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue),o=()=>{t("update:modelValue",parseInt(`${s.value}`,10))};return(l,i)=>(v(),b("div",_w,[a("div",Iw,[a("div",Tw,[ge(a("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>s.value=r),type:"range",class:"input is-small",min:e.min,max:e.max,onInput:o},null,40,Dw),[[Pe,s.value]]),a("span",Aw,[a("i",{class:Ae(["fa",e.iconLeft])},null,2)]),a("span",Ow,[a("i",{class:Ae(["fa",e.iconRight])},null,2)])])]),a("div",kw,[ge(a("input",{"onUpdate:modelValue":i[1]||(i[1]=r=>s.value=r),type:"number",class:"input is-small",onInput:o},null,544),[[Pe,s.value]])])]))}});var Vw=He(Pw,[["__scopeId","data-v-f81629be"]]);const Ka=ae({__name:"VolumeSlider",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(parseInt(`${e.modelValue}`,10)),o=()=>{t("update:modelValue",parseInt(`${s.value}`,10))};return(l,i)=>(v(),Ce(Vw,{modelValue:s.value,"onUpdate:modelValue":[i[0]||(i[0]=r=>s.value=r),o],class:"volume-slider","icon-left":"fa-volume-down","icon-right":"fa-volume-up",min:0,max:100},null,8,["modelValue"]))}}),Rw=["title"],Rr=ae({__name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,n=Ne(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(s,o)=>(v(),b("div",{class:"responsive-image",style:at(ce(n)),title:e.title},null,12,Rw))}});const Mw=ae({components:{ResponsiveImage:Rr,UploadInput:ja},props:{modelValue:{required:!0},width:{type:String,required:!1,default:"100%"},height:{type:String,required:!1,default:"90px"}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:""},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:""},this.emitUpdate()},onUploaded(e){this.value=_f(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=Ci(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),Uw=e=>(_n("data-v-cd230dba"),e=e(),In(),e),Nw=Uw(()=>a("i",{class:"fa fa-remove mr-1"},null,-1)),xw={key:2};function Lw(e,t,n,s,o,l){const i=me("ResponsiveImage"),r=me("UploadInput");return v(),b("div",{class:Ae(["image-upload",{"dragging-over":e.draggingOver}]),onDrop:t[1]||(t[1]=(...u)=>e.onDrop&&e.onDrop(...u)),onDragover:t[2]||(t[2]=(...u)=>e.onDragover&&e.onDragover(...u)),onDragleave:t[3]||(t[3]=(...u)=>e.onDragleave&&e.onDragleave(...u))},[e.value.file?(v(),Ce(i,{key:0,src:e.value.urlpath,title:e.value.filename,width:e.width,height:e.height,style:{display:"block"}},null,8,["src","title","width","height"])):H("",!0),e.value.file?(v(),b("button",{key:1,class:"button is-small",onClick:t[0]||(t[0]=(...u)=>e.onRemove&&e.onRemove(...u))},[Nw,M(" Remove ")])):H("",!0),e.value.file?(v(),b("br",xw)):H("",!0),R(r,{ref:"uploadComponent",accept:"image/*",label:"Upload Image",class:Ae({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var Mr=He(Mw,[["render",Lw],["__scopeId","data-v-cd230dba"]]);const xf=ae({__name:"AudioPlayer",props:{src:String,name:String,volume:{required:!0},baseVolume:{default:100}},setup(e){const t=e,n=se(null),s=se(!1),o=Ne(()=>s.value?"fa-stop":"fa-play"),l=()=>{if(!!n.value){if(s.value)n.value.pause(),n.value.currentTime=0;else{const r=parseInt(`${t.baseVolume}`,10)/100,u=parseInt(`${t.volume}`,10)/100;n.value.volume=r*u,n.value.play()}s.value=!s.value}},i=()=>{n.value&&(n.value.pause(),n.value=null),n.value=new Audio(t.src),n.value.addEventListener("ended",()=>{s.value=!1}),s.value=!1};return Tt(()=>{i(),Xe(()=>t.src,()=>{i()})}),(r,u)=>e.src?(v(),b("span",{key:0,class:"player",onClick:l},[M(G(e.name)+" ",1),a("i",{class:Ae(["fa ml-1",ce(o)])},null,2)])):H("",!0)}});const Fw=ae({components:{AudioPlayer:xf,UploadInput:ja,VolumeSlider:Ka},props:{modelValue:{required:!0},baseVolume:{default:100}},emits:["update:modelValue"],data(){return{value:{file:"",filename:"",urlpath:"",volume:100},draggingOver:!1}},computed:{uploadComponent(){return this.$refs.uploadComponent}},created(){this.modelValue!==null&&(this.value=JSON.parse(JSON.stringify(this.modelValue)))},methods:{emitUpdate(){this.$emit("update:modelValue",JSON.parse(JSON.stringify(this.value)))},onRemove(){this.value={file:"",filename:"",urlpath:"",volume:100},this.emitUpdate()},onUploaded(e){this.value=If(e),this.emitUpdate()},onDrop(e){this.draggingOver=!1,e.preventDefault(),e.stopPropagation();const t=Ci(e);return t&&(this.value.file="",this.uploadComponent.uploadFile(t)),!1},onDragover(e){return this.draggingOver=!0,e.preventDefault(),e.stopPropagation(),!1},onDragleave(e){return this.draggingOver=!1,e.preventDefault(),e.stopPropagation(),!1}}}),Bw=e=>(_n("data-v-1331b85c"),e=e(),In(),e),Hw=Bw(()=>a("i",{class:"fa fa-remove mr-1"},null,-1)),Ww={key:3};function jw(e,t,n,s,o,l){const i=me("AudioPlayer"),r=me("VolumeSlider"),u=me("UploadInput");return v(),b("div",{class:Ae(["sound-upload",{"dragging-over":e.draggingOver}]),onDrop:t[2]||(t[2]=(...d)=>e.onDrop&&e.onDrop(...d)),onDragover:t[3]||(t[3]=(...d)=>e.onDragover&&e.onDragover(...d)),onDragleave:t[4]||(t[4]=(...d)=>e.onDragleave&&e.onDragleave(...d))},[e.value.file?(v(),Ce(i,{key:0,src:e.value.urlpath,name:e.value.filename,volume:e.value.volume,"base-volume":e.baseVolume,class:"button is-small"},null,8,["src","name","volume","base-volume"])):H("",!0),e.value.file?(v(),Ce(r,{key:1,"model-value":e.value.volume,"onUpdate:modelValue":t[0]||(t[0]=d=>{e.value.volume=d,e.emitUpdate()})},null,8,["model-value"])):H("",!0),e.value.file?(v(),b("button",{key:2,class:"button is-small",onClick:t[1]||(t[1]=(...d)=>e.onRemove&&e.onRemove(...d))},[Hw,M(" Remove ")])):H("",!0),e.value.file?(v(),b("br",Ww)):H("",!0),R(u,{ref:"uploadComponent",accept:"audio/*",label:"Upload Sound",class:Ae({"mt-1":e.value.file}),onUploaded:e.onUploaded},null,8,["class","onUploaded"])],34)}var fi=He(Fw,[["render",jw],["__scopeId","data-v-1331b85c"]]);const hs=ae({__name:"DurationInput",props:{modelValue:{required:!0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=se(""),o=se(!0),l=Ne(()=>o.value?[]:["has-background-danger-light","has-text-danger-dark"]);return Tt(()=>{s.value=`${n.modelValue}`,Xe(s,i=>{try{const r=Gt.doDummyReplacements(i,"0");Gt.mustParseHumanDuration(r,n.allowNegative),o.value=!0}catch{o.value=!1}t("update:modelValue",i)}),Xe(()=>n.modelValue,i=>{s.value=`${i}`})}),(i,r)=>ge((v(),b("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>s.value=u),class:Ae(["input is-small spaceinput",ce(l)])},null,2)),[[Pe,s.value]])}}),zw={key:0,class:"field has-addons"},Kw=["href"],Gw={class:"control mr-1"},Jw=["href"],Yw=["onClick"],Xw=a("i",{class:"fa fa-remove"},null,-1),Qw=[Xw],Zw=a("i",{class:"fa fa-plus mr-1"},null,-1),qw=a("div",null,[a("p",{class:"help"}," Define in which widgets this media should show up in. Leave the list empty to only show in the default widget. ")],-1),eS={class:"mr-1"},tS={class:"mr-1"},nS={class:"mr-1"},sS={class:"mr-1"},oS={key:0},iS={class:"control has-icons-left"},aS=a("span",{class:"icon is-small is-left"},[a("i",{class:"fa fa-hourglass"})],-1),lS=a("div",{class:"help"}," The minimum duration that images will be displayed. Sound will always play for their full length regardless of this setting. ",-1),rS={key:1},uS={key:2},dS={key:3},cS={key:4},fS=a("td",null,"Url:",-1),hS=a("td",null,"Volume:",-1),mS=a("div",{class:"help"},[M(" The video url has to be a twitch clip url ("),a("code",null,"https://clips.twitch.tv/..."),M(") or a URL to a video file (a URL usually ending in "),a("code",null,".mp4"),M(" or similar). Currently Youtube or other Video Hosters are not supported. ")],-1),pS=ae({__name:"MediaEffect",props:{modelValue:null,widgetUrl:null,baseVolume:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue),o=se(""),l=h=>{s.value.data.sound=h},i=h=>{s.value.data.image=h},r=()=>{s.value.data.widgetIds.push("")},u=h=>{s.value.data.widgetIds=s.value.data.widgetIds.filter((c,f)=>f!==h)},d=se();return Aa(()=>{s.value.data.video.url?o.value="video":s.value.data.sound.file?s.value.data.image.file||s.value.data.image_url?o.value="image,sound":o.value="sound":o.value="image",Nn(()=>{const h=d.value.querySelector('input[type="text"]');h&&h.focus()})}),Xe(s,h=>{t("update:modelValue",h)},{deep:!0}),(h,c)=>(v(),b("div",{ref_key:"el",ref:d},[a("div",null,[M(" Widgets: "),s.value.data.widgetIds.length===0?(v(),b("div",zw,[M(" This media will show in the\xA0 "),a("a",{href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,Kw),M(". ")])):H("",!0),(v(!0),b(ie,null,ye(s.value.data.widgetIds,(f,m)=>(v(),b("div",{key:m,class:"field has-addons"},[a("div",Gw,[R(kt,{modelValue:s.value.data.widgetIds[m],"onUpdate:modelValue":p=>s.value.data.widgetIds[m]=p},null,8,["modelValue","onUpdate:modelValue"])]),a("a",{class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(f)}`,target:"_blank"},"Open widget",8,Jw),a("button",{class:"button is-small",onClick:p=>u(m)},Qw,8,Yw)]))),128)),a("div",{class:"field"},[a("button",{class:"button is-small",onClick:r},[Zw,M(" Add widget ")])]),qw]),a("div",null,[M(" Type: "),a("div",null,[a("label",eS,[ge(a("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>o.value=f),type:"radio",value:"image"},null,512),[[rn,o.value]]),M(" Image")]),a("label",tS,[ge(a("input",{"onUpdate:modelValue":c[1]||(c[1]=f=>o.value=f),type:"radio",value:"image,sound"},null,512),[[rn,o.value]]),M(" Image + Sound")]),a("label",nS,[ge(a("input",{"onUpdate:modelValue":c[2]||(c[2]=f=>o.value=f),type:"radio",value:"sound"},null,512),[[rn,o.value]]),M(" Sound")]),a("label",sS,[ge(a("input",{"onUpdate:modelValue":c[3]||(c[3]=f=>o.value=f),type:"radio",value:"video"},null,512),[[rn,o.value]]),M(" Video")])])]),o.value==="image"||o.value==="image,sound"?(v(),b("div",oS,[M(" Display-Duration: "),a("div",iS,[R(hs,{"model-value":s.value.data.minDurationMs,"onUpdate:modelValue":c[4]||(c[4]=f=>s.value.data.minDurationMs=f)},null,8,["model-value"]),aS]),lS])):H("",!0),o.value==="image"||o.value==="image,sound"?(v(),b("div",rS,[M(" Image: "),a("div",null,[R(Mr,{modelValue:s.value.data.image,"onUpdate:modelValue":[c[5]||(c[5]=f=>s.value.data.image=f),i]},null,8,["modelValue"])])])):H("",!0),o.value==="image"||o.value==="image,sound"?(v(),b("div",uS,[M(" Image (by URL): "),a("div",null,[R(kt,{modelValue:s.value.data.image_url,"onUpdate:modelValue":c[6]||(c[6]=f=>s.value.data.image_url=f)},null,8,["modelValue"])]),a("div",null,[a("span",{class:"button is-small",onClick:c[7]||(c[7]=f=>s.value.data.image_url="$user($args).profile_image_url")},"Twitch profile image of user given by args"),a("span",{class:"button is-small",onClick:c[8]||(c[8]=f=>s.value.data.image_url="$user.profile_image_url")},"Twitch profile image of user who executes the command")])])):H("",!0),o.value==="sound"||o.value==="image,sound"?(v(),b("div",dS,[M(" Sound: "),a("div",null,[R(fi,{modelValue:s.value.data.sound,"onUpdate:modelValue":[c[9]||(c[9]=f=>s.value.data.sound=f),l],"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])])])):H("",!0),o.value==="video"?(v(),b("div",cS,[M(" Video: "),a("table",null,[a("tr",null,[fS,a("td",null,[R(kt,{modelValue:s.value.data.video.url,"onUpdate:modelValue":c[10]||(c[10]=f=>s.value.data.video.url=f)},null,8,["modelValue"])])]),a("tr",null,[hS,a("td",null,[R(Ka,{modelValue:s.value.data.video.volume,"onUpdate:modelValue":c[11]||(c[11]=f=>s.value.data.video.volume=f)},null,8,["modelValue"])])])]),mS,a("div",null,[a("span",{class:"button is-small",onClick:c[12]||(c[12]=f=>s.value.data.video.url="$user($args).recent_clip_url")},"A recent twitch clip of user given by args"),a("span",{class:"button is-small",onClick:c[13]||(c[13]=f=>s.value.data.video.url="$user.recent_clip_url")},"A recent twitch clip of user who executes the command")])])):H("",!0)],512))}}),gS=a("td",null,"Model:",-1),vS=a("td",{class:"help"},[M(" For possible values refer to "),a("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),yS=a("td",null,"Weirdness:",-1),bS=a("td",{class:"help"},[M(" For possible values refer to "),a("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),wS=ae({__name:"MadochanEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[a("table",null,[a("tr",null,[gS,a("td",null,[ge(a("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data.model=i),class:"input is-small spaceinput"},null,512),[[Pe,s.value.data.model]])]),vS]),a("tr",null,[yS,a("td",null,[ge(a("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>s.value.data.weirdness=i),class:"input is-small spaceinput"},null,512),[[Pe,s.value.data.weirdness]])]),bS])])]))}}),SS=ae({__name:"SetChannelTitleEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[a("table",null,[a("tr",null,[a("td",null,[ge(a("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data.title=i),placeholder:"Add the stream title here",class:"input is-small spaceinput mb-1"},null,512),[[Pe,s.value.data.title]])]),a("td",null,[R(Hs,{class:"help",onSelected:l[1]||(l[1]=i=>{s.value.data.title+=i.value})})])])])]))}}),$S=ae({__name:"SetChannelGameIdEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[a("table",null,[a("tr",null,[a("td",null,[ge(a("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data.game_id=i),placeholder:"Add the stream category here",class:"input is-small spaceinput mb-1"},null,512),[[Pe,s.value.data.game_id]])]),a("td",null,[R(Hs,{class:"help",onSelected:l[1]||(l[1]=i=>s.value.data.game_id+=i.value)})])])])]))}}),CS=ae({__name:"AddStreamTagsEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[a("table",null,[a("tr",null,[a("td",null,[ge(a("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data.tag=i),placeholder:"Add a tag to add here",class:"input is-small spaceinput mb-1"},null,512),[[Pe,s.value.data.tag]])]),a("td",null,[R(Hs,{class:"help",onSelected:l[1]||(l[1]=i=>s.value.data.tag+=i.value)})])])])]))}}),ES=ae({__name:"RemoveStreamTagsEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[a("table",null,[a("tr",null,[a("td",null,[ge(a("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data.tag=i),placeholder:"Add a tag to remove here",class:"input is-small spaceinput mb-1"},null,512),[[Pe,s.value.data.tag]])]),a("td",null,[R(Hs,{class:"help",onSelected:l[1]||(l[1]=i=>s.value.data.tag+=i.value)})])])])]))}}),_S=a("div",null,"Outputs the people who chatted during the stream.",-1),IS=[_S],TS=ae({__name:"ChattersEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,IS))}}),DS=ae({components:{StringInput:kt,SoundUpload:fi,ImageUpload:Mr,DurationInput:hs},props:{baseVolume:{default:100},modelValue:{type:Object,required:!0}},data:()=>({countdown:{type:"manual",actions:[],steps:3,interval:1e3,intro:"",outro:""}}),created(){this.countdown.type=this.modelValue.type||"auto",this.countdown.actions=this.modelValue.actions||[],this.countdown.steps=this.modelValue.steps,this.countdown.interval=this.modelValue.interval,this.countdown.intro=this.modelValue.intro,this.countdown.outro=this.modelValue.outro,this.$watch("countdown",()=>{this.$emit("update:modelValue",{type:this.countdown.type,actions:this.countdown.actions,steps:this.countdown.steps,interval:this.countdown.interval,intro:this.countdown.intro,outro:this.countdown.outro})},{deep:!0})},methods:{dragEnd(e){this.countdown.actions=Gt.arrayMove(this.countdown.actions,e.oldIndex,e.newIndex)},onAddDelay(){this.countdown.actions.push(b0())},onAddText(){this.countdown.actions.push(w0())},onAddMedia(){this.countdown.actions.push(S0())},rmaction(e){this.countdown.actions=this.countdown.actions.filter((t,n)=>n!==e)},mediaSndChanged(e,t){this.countdown.actions[e].value.sound=t},mediaImgChanged(e,t){this.countdown.actions[e].value.image=t}}}),AS={class:"control"},OS={class:"radio"},kS={class:"radio"},PS={key:0},VS={class:"spacerow"},RS=a("label",{class:"spacelabel"},"Steps ",-1),MS={class:"spacerow"},US=a("label",{class:"spacelabel"},"Interval ",-1),NS={class:"spacerow"},xS=a("label",{class:"spacelabel"},"Intro ",-1),LS={class:"spacerow"},FS=a("label",{class:"spacelabel"},"Outro ",-1),BS={key:1},HS={class:"field has-addons mr-1"},WS=a("span",{class:"handle p-2"},[a("i",{class:"fa fa-arrows"})],-1),jS={key:0,class:"control has-icons-left"},zS=a("span",{class:"icon is-small is-left"},[a("i",{class:"fa fa-hourglass"})],-1),KS={key:1,class:"control has-icons-left"},GS=a("span",{class:"icon is-small is-left"},[a("i",{class:"fa fa-comments-o"})],-1),JS={key:2,class:"control has-icons-left"},YS=a("td",null,"Image:",-1),XS=a("td",null,"Sound:",-1),QS=a("td",null,"Duration:",-1),ZS={class:"control has-icons-left"},qS=a("span",{class:"icon is-small is-left"},[a("i",{class:"fa fa-hourglass"})],-1),e$={class:"control"},t$=["onClick"],n$=a("i",{class:"fa fa-remove"},null,-1),s$=[n$],o$=a("i",{class:"fa fa-hourglass mr-1"},null,-1),i$=a("i",{class:"fa fa-comments-o mr-1"},null,-1),a$=a("i",{class:"fa fa-picture-o mr-1"},null,-1);function l$(e,t,n,s,o,l){const i=me("DurationInput"),r=me("StringInput"),u=me("ImageUpload"),d=me("SoundUpload"),h=me("vue-draggable");return v(),b("div",null,[a("div",AS,[a("label",OS,[ge(a("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>e.countdown.type=c),type:"radio",value:"manual"},null,512),[[rn,e.countdown.type]]),M(" Manual ")]),a("label",kS,[ge(a("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.countdown.type=c),type:"radio",value:"auto"},null,512),[[rn,e.countdown.type]]),M(" Auto ")])]),e.countdown.type==="auto"?(v(),b("div",PS,[a("div",VS,[RS,ge(a("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>e.countdown.steps=c),class:"input is-small spaceinput"},null,512),[[Pe,e.countdown.steps]])]),a("div",MS,[US,R(i,{"model-value":e.countdown.interval,"onUpdate:modelValue":t[3]||(t[3]=c=>e.countdown.interval=c)},null,8,["model-value"])]),a("div",NS,[xS,ge(a("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.countdown.intro=c),class:"input is-small spaceinput"},null,512),[[Pe,e.countdown.intro]])]),a("div",LS,[FS,ge(a("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.countdown.outro=c),class:"input is-small spaceinput"},null,512),[[Pe,e.countdown.outro]])])])):(v(),b("div",BS,[R(h,{"model-value":e.countdown.actions,handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:wt(({element:c,index:f})=>[a("div",HS,[WS,c.type==="delay"?(v(),b("div",jS,[R(i,{"model-value":c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["model-value","onUpdate:modelValue"]),zS])):c.type==="text"?(v(),b("div",KS,[R(r,{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"]),GS])):c.type==="media"?(v(),b("div",JS,[a("table",null,[a("tr",null,[YS,a("td",null,[R(u,{modelValue:c.value.image,"onUpdate:modelValue":[m=>c.value.image=m,m=>e.mediaImgChanged(f,m)]},null,8,["modelValue","onUpdate:modelValue"])])]),a("tr",null,[XS,a("td",null,[R(d,{modelValue:c.value.sound,"onUpdate:modelValue":[m=>c.value.sound=m,m=>e.mediaSndChanged(f,m)],"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])])]),a("tr",null,[QS,a("td",null,[a("div",ZS,[R(i,{"model-value":c.value.minDurationMs,"onUpdate:modelValue":m=>c.value.minDurationMs=m},null,8,["model-value","onUpdate:modelValue"]),qS])])])])])):H("",!0),a("div",e$,[a("button",{class:"button is-small",onClick:m=>e.rmaction(f)},s$,8,t$)])])]),_:1},8,["model-value","onEnd"]),a("button",{class:"button is-small",onClick:t[6]||(t[6]=(...c)=>e.onAddDelay&&e.onAddDelay(...c))},[o$,M(" Add Delay ")]),a("button",{class:"button is-small",onClick:t[7]||(t[7]=(...c)=>e.onAddText&&e.onAddText(...c))},[i$,M(" Add Chat ")]),a("button",{class:"button is-small",onClick:t[8]||(t[8]=(...c)=>e.onAddMedia&&e.onAddMedia(...c))},[a$,M(" Add Media ")])]))])}var r$=He(DS,[["render",l$]]);const u$=ae({__name:"CountdownEffect",props:{modelValue:null,baseVolume:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue);return Xe(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,l)=>(v(),b("div",null,[R(r$,{modelValue:s.value.data,"onUpdate:modelValue":l[0]||(l[0]=i=>s.value.data=i),"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])]))}}),d$={class:"table"},c$=a("i",{class:"fa fa-trash"},null,-1),f$=ae({__name:"EffectsEditor",props:{modelValue:null,itemVariables:null,globalVariables:null,baseVolume:null,widgetUrl:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue),o=l=>{s.value=s.value.filter((i,r)=>r!==l)};return Xe(s,l=>{t("update:modelValue",l)}),(l,i)=>(v(),b("div",null,[a("table",d$,[(v(!0),b(ie,null,ye(s.value,(r,u)=>(v(),b("tr",{key:u},[a("td",null,[a("code",null,G(r.type),1)]),a("td",null,[r.type===ce(Se).VARIABLE_CHANGE?(v(),Ce(B0,{key:0,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d,"item-variables":e.itemVariables,"global-variables":e.globalVariables},null,8,["modelValue","onUpdate:modelValue","item-variables","global-variables"])):H("",!0),r.type===ce(Se).CHAT?(v(),Ce(tw,{key:1,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).DICT_LOOKUP?(v(),Ce(lw,{key:2,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).EMOTES?(v(),Ce(Ew,{key:3,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).MEDIA?(v(),Ce(pS,{key:4,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["modelValue","onUpdate:modelValue","base-volume","widget-url"])):H("",!0),r.type===ce(Se).MADOCHAN?(v(),Ce(wS,{key:5,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).SET_CHANNEL_TITLE?(v(),Ce(SS,{key:6,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).SET_CHANNEL_GAME_ID?(v(),Ce($S,{key:7,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).ADD_STREAM_TAGS?(v(),Ce(CS,{key:8,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).REMOVE_STREAM_TAGS?(v(),Ce(ES,{key:9,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).CHATTERS?(v(),Ce(TS,{key:10,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d},null,8,["modelValue","onUpdate:modelValue"])):H("",!0),r.type===ce(Se).COUNTDOWN?(v(),Ce(u$,{key:11,modelValue:s.value[u],"onUpdate:modelValue":d=>s.value[u]=d,"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])):H("",!0)]),a("td",null,[R(wo,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:d=>o(u)},{default:wt(()=>[c$]),_:2},1032,["onDoubleclick"])])]))),128))])]))}});const h$=e=>(_n("data-v-59e39ba2"),e=e(),In(),e),m$={class:"dropdown-trigger"},p$=h$(()=>a("span",{class:"icon is-small"},[a("i",{class:"fa fa-angle-down","aria-hidden":"true"})],-1)),g$={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},v$={class:"dropdown-content"},y$=["title","onClick"],b$=ae({__name:"DropdownButton",props:{label:null,actions:null},emits:["click"],setup(e,{emit:t}){const n=se(!1),s=se(),o=()=>{n.value=!0},l=()=>{n.value=!1},i=u=>{l(),t("click",u)},r=u=>{!s.value||s.value.contains(u.target)||l()};return Tt(()=>{window.addEventListener("click",r)}),Tn(()=>{window.removeEventListener("click",r)}),(u,d)=>(v(),b("div",{ref_key:"dropdown",ref:s,class:Ae(["dropdown mr-1",{"is-active":n.value}])},[a("div",m$,[a("button",{class:"button is-small mr-1","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:o},[a("span",null,G(e.label),1),p$])]),a("div",g$,[a("div",v$,[(v(!0),b(ie,null,ye(e.actions,(h,c)=>(v(),b("span",{key:c,class:"dropdown-item is-clickable",title:h.title,onClick:f=>i(h)},G(h.label),9,y$))),128))])])],2))}});var Kl=He(b$,[["__scopeId","data-v-59e39ba2"]]);const cn=e=>(_n("data-v-36cacfa4"),e=e(),In(),e),w$={class:"modal-card"},S$={class:"modal-card-head"},$$={class:"modal-card-title"},C$={key:0,class:"help"},E$=["innerHTML"],_$={class:"modal-card-body"},I$={class:"table is-striped"},T$=cn(()=>a("div",null,"Triggers:",-1)),D$={key:0},A$=cn(()=>a("td",null,"Tag:",-1)),O$=cn(()=>a("div",null,"Effects:",-1)),k$=cn(()=>a("td",null,"Permissions:",-1)),P$=["value"],V$=cn(()=>a("td",null,"Variables:",-1)),R$={key:0},M$=cn(()=>a("thead",null,[a("tr",null,[a("td",null,"Name"),a("td",null,"Value")])],-1)),U$=["onClick"],N$=cn(()=>a("i",{class:"fa fa-remove"},null,-1)),x$=[N$],L$=cn(()=>a("div",{class:"help"},[M(" Variables can be used from the command with "),a("code",null,"$var(variable_name)"),M(". If the referenced variable is not defined here, "),a("a",{href:"/variables/",target:"_blank"},"global variables"),M(" are used. ")],-1)),F$=cn(()=>a("td",null," Cooldown: ",-1)),B$=cn(()=>a("td",null,"Global",-1)),H$=cn(()=>a("td",{rowspan:"2"},[a("div",{class:"help"},[M(" If a cooldown is set, the command will not be executed unless the set amount of time has passed since the command was executed the last time."),a("br"),M(" Examples:"),a("br"),a("code",null,"24h"),M(" = 24 hours"),a("br"),a("code",null,"30m"),M(" = 30 minutes"),a("br"),a("code",null,"50s"),M(" = 50 seconds"),a("br"),a("code",null,"0"),M(" = no cooldown"),a("br")])],-1)),W$=cn(()=>a("td",null,"Per User",-1)),j$={class:"modal-card-foot"},z$=["disabled"],K$=["disabled"],G$=ae({__name:"CommandEditor",props:{modelValue:null,mode:null,globalVariables:null,channelPointsCustomRewards:null,baseVolume:null,widgetUrl:null},emits:["cancel","save","save-and-close"],setup(e,{emit:t}){const n=e,s=se(JSON.parse(JSON.stringify(n.modelValue))),o=se(),l=se(Mf),i=Ne(()=>{for(const C of s.value.triggers)if(!E0(C))return!1;return!0}),r=Go[s.value.action].Description(),d=`${{create:"Create new ",edit:"Edit "}[n.mode]}${Go[s.value.action].Name()}`,h=C=>{s.value.effects.push(T0(C.type))},c=C=>{s.value.triggers.push(Nf(C.type))},f=()=>{s.value.variables.push({name:"",value:""})},m=C=>{s.value.variables=s.value.variables.filter((I,T)=>T!==C)},p=()=>{t("save",s.value)},g=()=>{t("save-and-close",s.value)},S=()=>{t("cancel")},w=()=>{t("cancel")},y=()=>{t("cancel")},$=C=>{s.value.triggers=s.value.triggers.filter((I,T)=>T!==C)};return Xe(()=>n.modelValue,C=>{s.value=JSON.parse(JSON.stringify(C))},{deep:!0}),Tt(()=>{Nn(()=>{const C=o.value.querySelector('input[type="text"]');C&&C.focus()})}),(C,I)=>{const T=me("trigger-editor");return v(),b("div",{ref_key:"el",ref:o,class:"modal is-active"},[a("div",{class:"modal-background",onClick:y}),a("div",w$,[a("header",S$,[a("div",$$,[M(G(d)+" "),ce(r)?(v(),b("div",C$,[a("div",{innerHTML:ce(r)},null,8,E$)])):H("",!0)]),a("button",{class:"delete","aria-label":"close",onClick:w})]),a("section",_$,[a("table",I$,[a("tbody",null,[a("tr",null,[a("td",null,[T$,R(Kl,{actions:ce(D0)(),label:"Add trigger",onClick:c},null,8,["actions"])]),a("td",null,[(v(!0),b(ie,null,ye(s.value.triggers,(A,O)=>(v(),Ce(T,{key:O,class:"spacerow","model-value":A,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:s.value.triggers.length>1,"onUpdate:modelValue":D=>s.value.triggers[O]=D,onRemove:D=>$(O)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128))])]),s.value.action==="sr_addtag"?(v(),b("tr",D$,[A$,a("td",null,[ge(a("input",{"onUpdate:modelValue":I[0]||(I[0]=A=>s.value.data.tag=A),class:"input is-small spaceinput mb-1"},null,512),[[Pe,s.value.data.tag]]),a("span",{class:"button is-small mr-1",onClick:I[1]||(I[1]=A=>s.value.data.tag="")},"All args")])])):H("",!0),a("tr",null,[a("td",null,[O$,R(Kl,{actions:ce(_0)(),label:"Add effect",onClick:h},null,8,["actions"])]),a("td",null,[R(f$,{modelValue:s.value.effects,"onUpdate:modelValue":I[2]||(I[2]=A=>s.value.effects=A),"item-variables":s.value.variables,"global-variables":e.globalVariables,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["modelValue","item-variables","global-variables","base-volume","widget-url"])])]),a("tr",null,[k$,a("td",null,[(v(!0),b(ie,null,ye(l.value,(A,O)=>(v(),b("label",{key:O,class:"mr-1"},[ge(a("input",{"onUpdate:modelValue":I[3]||(I[3]=D=>s.value.restrict_to=D),type:"checkbox",value:A.value},null,8,P$),[[Xn,s.value.restrict_to]]),M(" "+G(A.label),1)]))),128))])]),a("tr",null,[V$,a("td",null,[s.value.variables.length>0?(v(),b("table",R$,[M$,a("tbody",null,[(v(!0),b(ie,null,ye(s.value.variables,(A,O)=>(v(),b("tr",{key:O},[a("td",null,[R(kt,{modelValue:A.name,"onUpdate:modelValue":D=>A.name=D},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[R(kt,{modelValue:A.value,"onUpdate:modelValue":D=>A.value=D},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[a("button",{class:"button is-small",onClick:D=>m(O)},x$,8,U$)])]))),128))])])):H("",!0),a("span",{class:"button is-small",onClick:f},"Add Variable"),L$])]),a("tr",null,[F$,a("td",null,[a("table",null,[a("tr",null,[B$,a("td",null,[R(hs,{modelValue:s.value.cooldown.global,"onUpdate:modelValue":I[4]||(I[4]=A=>s.value.cooldown.global=A)},null,8,["modelValue"])]),H$]),a("tr",null,[W$,a("td",null,[R(hs,{modelValue:s.value.cooldown.perUser,"onUpdate:modelValue":I[5]||(I[5]=A=>s.value.cooldown.perUser=A)},null,8,["modelValue"])])])])])])])])]),a("footer",j$,[a("button",{class:"button is-small is-primary",disabled:!ce(i),onClick:p}," Save ",8,z$),a("button",{class:"button is-small is-primary",disabled:!ce(i),onClick:g}," Save and close ",8,K$),a("button",{class:"button is-small",onClick:S}," Cancel ")])])],512)}}});var J$=He(G$,[["__scopeId","data-v-36cacfa4"]]);const Y$={key:0},X$={key:1},Po=ae({__name:"DurationDisplay",props:{value:{required:!0}},setup(e){const t=e,n=Ne(()=>{try{return Gt.mustParseHumanDuration(`${t.value}`),"span"}catch{return"code"}}),s=Ne(()=>{try{return Gt.humanDuration(Gt.mustParseHumanDuration(`${t.value}`))}catch{return t.value}});return(o,l)=>ce(n)==="span"?(v(),b("span",Y$,G(ce(s)),1)):(v(),b("code",X$,G(ce(s)),1))}}),Q$={key:0},Z$={key:0},q$={key:0},eC=["href"],tC=["href"],nC={key:1,class:"spacerow media-holder media-holder-inline"},sC={key:1},oC={key:2,class:"fa fa-plus is-justify-content-center mr-2 ml-2"},iC={key:3,class:"ml-2"},aC={key:4,class:"ml-2"},lC=a("span",{class:"ml-1 mr-1"},"in the",-1),rC=["href"],uC=["href"],dC={key:2},cC={key:0},fC=a("span",null,"\u2192",-1),hC=a("span",null,"\u2192",-1),mC={key:1},pC={key:1},gC={key:2},vC={key:0},yC={key:1},bC={key:2},wC={key:3},SC={key:3},$C={key:4},CC={key:5},EC={key:6},_C={key:7},IC={key:8},TC={key:9},DC=a("br",null,null,-1),AC=a("br",null,null,-1),OC=["src"],kC={key:10},PC=a("br",null,null,-1),VC=a("br",null,null,-1),RC={key:11},MC={key:12},UC={key:13},NC=ae({__name:"EffectInfo",props:{effect:null,imagesVisible:{type:Boolean},baseVolume:null,widgetUrl:null},setup(e){return(t,n)=>(v(),b("div",null,[e.effect.type===ce(Se).CHAT?(v(),b("div",Q$,[(v(!0),b(ie,null,ye(e.effect.data.text,(s,o)=>(v(),b(ie,{key:o},[a("code",null,G(e.effect.data.text[o]),1),o<e.effect.data.text.length-1?(v(),b("span",Z$,"or")):H("",!0)],64))),128))])):e.effect.type===ce(Se).MEDIA?(v(),b("div",{key:1,class:Ae(e.effect.type)},[e.effect.data.video.url?(v(),b("div",q$,[M(" Play Video "),a("code",null,G(e.effect.data.video.url),1),M(" in the "),e.effect.data.widgetIds.length===0?(v(),b("a",{key:0,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,eC)):H("",!0),(v(!0),b(ie,null,ye(e.effect.data.widgetIds,(s,o)=>(v(),b("a",{key:o,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(s)}`,target:"_blank"},[a("code",null,G(s),1),M(" Widget ")],8,tC))),128))])):e.effect.data.image_url||e.effect.data.image.file||e.effect.data.sound.file?(v(),b("div",nC,[(e.effect.data.image_url||e.effect.data.image.file)&&e.imagesVisible?(v(),Ce(Rr,{key:0,src:e.effect.data.image_url||e.effect.data.image.urlpath,title:e.effect.data.image.filename,width:"100px",height:"50px",style:{display:"inline-block"}},null,8,["src","title"])):e.effect.data.image_url||e.effect.data.image.file?(v(),b("code",sC,G(e.effect.data.image_url||e.effect.data.image.filename),1)):H("",!0),(e.effect.data.image_url||e.effect.data.image.file)&&e.effect.data.sound.file?(v(),b("i",oC)):H("",!0),R(xf,{src:e.effect.data.sound.urlpath,name:e.effect.data.sound.filename,volume:e.effect.data.sound.volume,"base-volume":e.baseVolume,class:"button is-small is-justify-content-center"},null,8,["src","name","volume","base-volume"]),(e.effect.data.image_url||e.effect.data.image.file)&&e.effect.data.sound.file?(v(),b("span",iC,[M("for at least "),R(Po,{value:e.effect.data.minDurationMs},null,8,["value"])])):e.effect.data.image_url||e.effect.data.image.file?(v(),b("span",aC,[M("for "),R(Po,{value:e.effect.data.minDurationMs},null,8,["value"])])):H("",!0),lC,e.effect.data.widgetIds.length===0?(v(),b("a",{key:5,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,rC)):H("",!0),(v(!0),b(ie,null,ye(e.effect.data.widgetIds,(s,o)=>(v(),b("a",{key:o,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(s)}`,target:"_blank"},[a("code",null,G(s),1),M(" Widget ")],8,uC))),128))])):H("",!0)],2)):e.effect.type===ce(Se).COUNTDOWN?(v(),b("div",dC,[(e.effect.data.type||"auto")==="auto"?(v(),b("div",cC,[a("code",null,G(e.effect.data.intro),1),fC,a("code",null,G(e.effect.data.steps),1),M(" \u2715 "),R(Po,{value:e.effect.data.interval},null,8,["value"]),hC,a("code",null,G(e.effect.data.outro),1)])):(v(),b("div",mC,[(v(!0),b(ie,null,ye(e.effect.data.actions,(s,o)=>(v(),b(ie,{key:o},[s.type==="delay"?(v(),Ce(Po,{key:0,value:s.value},null,8,["value"])):H("",!0),s.type==="text"?(v(),b("code",pC,G(s.value),1)):H("",!0),s.type==="media"?(v(),b("code",gC,[M(" Media("),s.value.image.file?(v(),b("span",vC,G(s.value.image.filename),1)):H("",!0),s.value.image.file&&s.value.sound.file?(v(),b("span",yC,"+")):H("",!0),s.value.sound.file?(v(),b("span",bC,G(s.value.sound.filename),1)):H("",!0),M(") ")])):H("",!0),o<e.effect.data.actions.length-1?(v(),b("span",wC,"\u2192")):H("",!0)],64))),128))]))])):e.effect.type===ce(Se).DICT_LOOKUP?(v(),b("div",SC,[M(" Dictionary lookup. Language: "),a("code",null,G(e.effect.data.lang),1),M(" Phrase: "),a("code",null,G(e.effect.data.phrase),1)])):e.effect.type===ce(Se).CHATTERS?(v(),b("div",$C," Outputs the people who chatted during the stream. ")):e.effect.type===ce(Se).ADD_STREAM_TAGS?(v(),b("div",CC,[M(" Add stream tags. Tags: "),a("code",null,G(e.effect.data.tag),1)])):e.effect.type===ce(Se).REMOVE_STREAM_TAGS?(v(),b("div",EC,[M(" Remove stream tags. Tags: "),a("code",null,G(e.effect.data.tag),1)])):e.effect.type===ce(Se).SET_CHANNEL_GAME_ID?(v(),b("div",_C,[M(" Set stream category to "),a("code",null,G(e.effect.data.game_id),1)])):e.effect.type===ce(Se).SET_CHANNEL_TITLE?(v(),b("div",IC,[M(" Set stream title to "),a("code",null,G(e.effect.data.title),1)])):e.effect.type===ce(Se).EMOTES?(v(),b("div",TC,[M(" Show emotes on the emote wall. "),DC,M(" Function(s): "),a("code",null,G(e.effect.data.displayFn.map(s=>s.fn).join(", ")),1),AC,M(" Emote(s): "),(v(!0),b(ie,null,ye(e.effect.data.emotes,(s,o)=>(v(),b("img",{key:o,src:s.url,width:"32"},null,8,OC))),128))])):e.effect.type===ce(Se).MADOCHAN?(v(),b("div",kC,[M(" Generate a definition for a word. "),PC,M(" Model: "),a("code",null,G(e.effect.data.model),1),M(),VC,M(" Weirdness: "),a("code",null,G(e.effect.data.weirdness),1)])):e.effect.type===ce(Se).MEDIA_VOLUME?(v(),b("div",RC," Change the base volume of media playing in the media widget. ")):e.effect.type===ce(Se).VARIABLE_CHANGE?(v(),b("div",MC,[M(" Change variable. "),a("code",null,G(e.effect.data.name),1),a("code",null,G(e.effect.data.change),1),a("code",null,G(e.effect.data.value),1)])):(v(),b("div",UC,G(e.effect),1))]))}}),xC={key:0},LC={key:0},FC={key:1},BC={key:1},HC={key:2},WC=a("span",{class:"is-small",title:"Channel Point Reward"},[a("i",{class:"fa fa-bullseye"}),M(": ")],-1),jC={key:3},zC=a("span",{class:"is-small"},"Timer: ",-1),KC={key:4},GC=a("span",{class:"is-small"},"Sub",-1),JC=[GC],YC={key:5},XC=a("span",{class:"is-small"},"Follow",-1),QC=[XC],ZC={key:6},qC=a("span",{class:"is-small"},"Bits",-1),eE=[qC],tE={key:7},nE=a("span",{class:"is-small"},"Raid",-1),sE=[nE],oE=ae({__name:"TriggerInfo",props:{trigger:null},setup(e){return(t,n)=>e.trigger.type==="first_chat"?(v(),b("div",xC,[M(" First chat: "),e.trigger.data.since==="alltime"?(v(),b("code",LC,"alltime")):H("",!0),e.trigger.data.since==="stream"?(v(),b("code",FC,"current stream")):H("",!0)])):e.trigger.type==="command"?(v(),b("div",BC,[a("code",null,G(e.trigger.data.command),1)])):e.trigger.type==="reward_redemption"?(v(),b("div",HC,[WC,a("code",null,G(e.trigger.data.command),1)])):e.trigger.type==="timer"?(v(),b("div",jC,[zC,a("code",null,[M(G(e.trigger.data.minLines)+" lines, ",1),R(Po,{value:e.trigger.data.minInterval},null,8,["value"])])])):e.trigger.type==="sub"?(v(),b("div",KC,JC)):e.trigger.type==="follow"?(v(),b("div",YC,QC)):e.trigger.type==="bits"?(v(),b("div",ZC,eE)):e.trigger.type==="raid"?(v(),b("div",tE,sE)):H("",!0)}});const iE=(e,t)=>e.length===0?!0:e.includes(t.action),aE=(e,t)=>{if(e.length===0)return!0;for(const n of t.effects)if(e.includes(n.type))return!0;return!1},lE=(e,t)=>t.triggers.some(n=>n.type===jt.COMMAND||n.type===jt.REWARD_REDEMPTION?n.data.command.toLowerCase().indexOf(e)>=0:!1),rE=(e,t)=>{if(!t.effects)return!1;for(const n of t.effects)if(n.type===Se.CHAT&&n.data.text.some(o=>o.toLowerCase().indexOf(e)>=0))return!0;return!1},uE=ae({components:{CommandEditor:J$,EffectInfo:NC,TriggerInfo:oE,DropdownButton:Kl},props:{globalVariables:{type:Array,required:!0},channelPointsCustomRewards:{type:Object,required:!0},possibleActions:{type:Array,required:!0},possibleEffects:{type:Array,required:!0},baseVolume:{type:Number,required:!0},modelValue:{type:Array,required:!0},showToggleImages:{type:Boolean,required:!1,default:!1},showFilters:{type:Boolean,required:!1,default:!1},showImages:{type:Boolean,required:!1,default:!1},widgetUrl:{type:String,required:!1,default:""}},emits:["update:modelValue","showImagesChange"],data(){return{commands:[],editIdx:null,editCommand:null,filter:{search:"",actions:[],effects:[]},imagesVisible:!1}},computed:{possibleEffectsMapped(){return this.possibleEffects.map(e=>({type:e}))},possibleEffectsWithCount(){return this.possibleEffects.map(e=>({effect:e,count:this.commandCountByEffect(e)})).filter(e=>e.count>0)},possibleActionsMapped(){return this.possibleActions.map(e=>({type:e,title:this.actionDescription(e),label:`Add ${this.actionName(e)}`}))},possibleActionsWithCount(){return this.possibleActions.map(e=>({action:e,count:this.commandCountByAction(e)})).filter(e=>e.count>0)}},created(){this.commands=JSON.parse(JSON.stringify(this.modelValue)),this.imagesVisible=this.showImages},methods:{onImageVisibleChange(){this.$emit("showImagesChange",this.imagesVisible)},emitChange(){this.$emit("update:modelValue",this.commands)},commandCountByEffect(e){let t=0;for(const n of this.commands)n.effects&&n.effects.some(s=>s.type===e)&&t++;return t},commandCountByAction(e){let t=0;for(const n of this.commands)n.action===e&&t++;return t},filteredOut(e){if(!iE(this.filter.actions,e)||!aE(this.filter.effects,e))return!0;if(!this.filter.search)return!1;const t=this.filter.search.toLowerCase();return!(lE(t,e)||rE(t,e))},permissionsStr(e){return p0(e.restrict_to)},remove(e){this.commands=this.commands.filter((t,n)=>n!==e),this.emitChange()},add(e){const t=e.type;this.editIdx=-1,this.editCommand=Go[t].NewCommand()},edit(e){this.editIdx=e,this.editCommand=this.commands[e]},duplicate(e){this.editIdx=-1,this.editCommand=JSON.parse(JSON.stringify(this.commands[e]))},commandSave(e){this.editIdx!==null&&(this.editIdx===-1?(this.commands.unshift(e),this.editIdx=0):this.commands[this.editIdx]=e,this.emitChange())},commandSaveAndClose(e){this.commandSave(e),this.editIdx=null,this.editCommand=null},dragEnd(e){this.commands=Gt.arrayMove(this.commands,e.oldIndex,e.newIndex),this.emitChange()},actionDescription(e){return Go[e].Description()},actionName(e){return Go[e].Name()}}}),Dn=e=>(_n("data-v-44dd0168"),e=e(),In(),e),dE={class:"actions"},cE=Dn(()=>a("div",{class:"mr-1"}," Filter: ",-1)),fE={class:"field has-addons mr-1 mb-0"},hE={class:"control"},mE={key:2,class:"field"},pE=["value"],gE={key:3,class:"field"},vE=["value"],yE={key:0,class:"table-container"},bE={ref:"table",class:"table is-striped"},wE=Dn(()=>a("th",null,null,-1)),SE=Dn(()=>a("th",null,null,-1)),$E=Dn(()=>a("th",null,"Triggers",-1)),CE={key:0},EE={key:1},_E={key:0},IE={key:2},TE=Dn(()=>a("th",null,"Permissions",-1)),DE=Dn(()=>a("th",null,null,-1)),AE=Dn(()=>a("th",null,null,-1)),OE=Dn(()=>a("td",{class:"pt-4 handle"},[a("i",{class:"fa fa-arrows"})],-1)),kE={class:"pl-0 pr-0"},PE=["onClick"],VE=Dn(()=>a("i",{class:"fa fa-pencil"},null,-1)),RE=[VE],ME={class:"col-triggers"},UE={key:0},NE=["innerHTML"],xE={key:1},LE={key:2},FE={class:"pl-0 pr-0"},BE=Dn(()=>a("i",{class:"fa fa-trash"},null,-1)),HE=["onClick"],WE=Dn(()=>a("i",{class:"fa fa-clone"},null,-1)),jE=[WE],zE={key:1};function KE(e,t,n,s,o,l){const i=me("DropdownButton"),r=me("CheckboxInput"),u=me("TriggerInfo"),d=me("EffectInfo"),h=me("DoubleclickButton"),c=me("vue-draggable"),f=me("CommandEditor");return v(),b("div",null,[a("div",dE,[e.possibleActionsMapped.length===1?(v(),b("span",{key:0,class:"button is-small mr-1",onClick:t[0]||(t[0]=m=>e.add(e.possibleActionsMapped[0]))},"Add command")):(v(),Ce(i,{key:1,actions:e.possibleActionsMapped,label:"Add command",onClick:e.add},null,8,["actions","onClick"])),cE,a("div",fE,[a("div",hE,[ge(a("input",{"onUpdate:modelValue":t[1]||(t[1]=m=>e.filter.search=m),class:"input is-small"},null,512),[[Pe,e.filter.search]])])]),e.showFilters&&e.possibleActionsMapped.length>1?(v(),b("div",mE,[(v(!0),b(ie,null,ye(e.possibleActionsWithCount,(m,p)=>(v(),b("label",{key:p,class:"mr-1"},[ge(a("input",{"onUpdate:modelValue":t[2]||(t[2]=g=>e.filter.actions=g),class:"mr-1",type:"checkbox",value:m.action},null,8,pE),[[Xn,e.filter.actions]]),M(G(m.action)+" ("+G(m.count)+")",1)]))),128))])):H("",!0),e.showFilters&&e.possibleEffectsMapped.length>1?(v(),b("div",gE,[(v(!0),b(ie,null,ye(e.possibleEffectsWithCount,(m,p)=>(v(),b("label",{key:p,class:"mr-1"},[ge(a("input",{"onUpdate:modelValue":t[3]||(t[3]=g=>e.filter.effects=g),class:"mr-1",type:"checkbox",value:m.effect},null,8,vE),[[Xn,e.filter.effects]]),M(G(m.effect)+" ("+G(m.count)+")",1)]))),128))])):H("",!0)]),e.commands.length>0?(v(),b("div",yE,[a("table",bE,[a("thead",null,[a("tr",null,[wE,SE,$E,e.possibleActions.length>1?(v(),b("th",CE," Action ")):H("",!0),e.possibleEffects.length>0?(v(),b("th",EE,[M(" Effects "),e.showToggleImages?(v(),b("label",_E,[R(r,{modelValue:e.imagesVisible,"onUpdate:modelValue":[t[4]||(t[4]=m=>e.imagesVisible=m),e.onImageVisibleChange]},null,8,["modelValue","onUpdate:modelValue"]),M(" Show images ")])):H("",!0)])):H("",!0),e.possibleActionsMapped.length>1?(v(),b("th",IE," Type ")):H("",!0),TE,DE,AE])]),R(c,{"model-value":e.commands,tag:"tbody",handle:".handle","item-key":"id",onEnd:e.dragEnd},{item:wt(({element:m,index:p})=>[ge(a("tr",null,[OE,a("td",kE,[a("button",{class:"button is-small",onClick:g=>e.edit(p)},RE,8,PE)]),a("td",ME,[(v(!0),b(ie,null,ye(m.triggers,(g,S)=>(v(),b("div",{key:S,class:"spacerow"},[R(u,{trigger:g},null,8,["trigger"])]))),128))]),e.possibleActions.length>1?(v(),b("td",UE,[e.actionDescription(m.action)?(v(),b("div",{key:0,innerHTML:e.actionDescription(m.action)},null,8,NE)):H("",!0)])):H("",!0),e.possibleEffects.length>0?(v(),b("td",xE,[a("table",null,[(v(!0),b(ie,null,ye(m.effects,(g,S)=>(v(),b("tr",{key:S},[a("td",null,[a("code",null,G(g.type),1)]),a("td",null,[R(d,{effect:g,"images-visible":e.imagesVisible,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["effect","images-visible","base-volume","widget-url"])])]))),128))])])):H("",!0),e.possibleActionsMapped.length>1?(v(),b("td",LE,G(m.action),1)):H("",!0),a("td",null,G(e.permissionsStr(m)),1),a("td",FE,[R(h,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:g=>e.remove(p)},{default:wt(()=>[BE]),_:2},1032,["onDoubleclick"]),a("button",{class:"button is-small",onClick:g=>e.duplicate(p)},jE,8,HE)])],512),[[bo,!e.filteredOut(m)]])]),_:1},8,["model-value","onEnd"])],512)])):(v(),b("div",zE," No commands set up ")),e.editIdx!==null&&e.editCommand?(v(),Ce(f,{key:2,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":e.editCommand,mode:e.editIdx>=e.commands.length?"create":"edit","base-volume":e.baseVolume,"widget-url":e.widgetUrl,onSave:e.commandSave,onSaveAndClose:e.commandSaveAndClose,onCancel:t[5]||(t[5]=m=>e.editCommand=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","widget-url","onSave","onSaveAndClose"])):H("",!0)])}var Lf=He(uE,[["render",KE],["__scopeId","data-v-44dd0168"]]);const GE={class:"view"},JE={id:"top",ref:"top"},YE={id:"main",ref:"main"},XE={class:"tabs"},QE=["onClick"],ZE=["href"],qE={key:1},e_={key:0,ref:"table",class:"table is-striped"},t_=a("td",null,[a("code",null,"settings.volume")],-1),n_=a("td",null,"Base volume for all media playing from commands",-1),s_=ae({__name:"CommandsView",setup(e){const t=se([]),n=se(Pr()),s=se(m0()),o=se([]),l=se({});let i=null;const r=[ke.TEXT],u=[Se.VARIABLE_CHANGE,Se.CHAT,Se.DICT_LOOKUP,Se.EMOTES,Se.MEDIA,Se.MADOCHAN,Se.SET_CHANNEL_TITLE,Se.SET_CHANNEL_GAME_ID,Se.ADD_STREAM_TAGS,Se.REMOVE_STREAM_TAGS,Se.CHATTERS,Se.COUNTDOWN,Se.MEDIA_VOLUME],d=[{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"}],h=se(!1),c=se("commands"),f=se(""),m=Ne(()=>n.value.volume),p=w=>{s.value.showImages=w,g()},g=()=>{S({event:"save",commands:t.value,settings:n.value,adminSettings:s.value})},S=w=>{if(!i){console.warn("sendMsg: this.ws not initialized");return}i.send(JSON.stringify(w))};return Tt(()=>{i=zs.wsClient("general"),i.onMessage("init",w=>{t.value=w.commands,n.value=w.settings,f.value=w.mediaWidgetUrl,s.value=w.adminSettings,o.value=w.globalVariables,l.value=w.channelPointsCustomRewards,h.value=!0}),i.connect()}),Tn(()=>{i&&i.disconnect()}),(w,y)=>(v(),b("div",GE,[a("div",JE,[R(qn)],512),a("div",YE,[a("div",XE,[a("ul",null,[(v(),b(ie,null,ye(d,($,C)=>a("li",{key:C,class:Ae({"is-active":c.value===$.tab}),onClick:I=>c.value=$.tab},[a("a",null,G($.title),1)],10,QE)),64)),a("li",null,[a("a",{class:"button is-small mr-1",href:f.value,target:"_blank"},"Open Media widget",8,ZE)])])]),h.value&&c.value==="commands"?(v(),Ce(Lf,{key:0,modelValue:t.value,"onUpdate:modelValue":[y[0]||(y[0]=$=>t.value=$),g],"global-variables":o.value,"channel-points-custom-rewards":l.value,"possible-actions":r,"possible-effects":u,"base-volume":ce(m),"show-toggle-images":!0,"show-filters":!0,"widget-url":f.value,"show-images":s.value.showImages,onShowImagesChange:p},null,8,["modelValue","global-variables","channel-points-custom-rewards","base-volume","widget-url","show-images"])):H("",!0),h.value&&c.value==="settings"?(v(),b("div",qE,[n.value?(v(),b("table",e_,[a("tbody",null,[a("tr",null,[t_,a("td",null,[R(Ka,{modelValue:n.value.volume,"onUpdate:modelValue":[y[1]||(y[1]=$=>n.value.volume=$),g]},null,8,["modelValue"])]),n_])])],512)):H("",!0)])):H("",!0)],512)]))}}),o_=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath}:null,i_=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath,volume:e.volume}:null,Ju=(e=null)=>({submitButtonText:oe(e,["submitButtonText"],"Submit"),submitConfirm:oe(e,["submitConfirm"],""),recentImagesTitle:oe(e,["recentImagesTitle"],""),canvasWidth:oe(e,["canvasWidth"],720),canvasHeight:oe(e,["canvasHeight"],405),customDescription:oe(e,["customDescription"],""),customProfileImage:!e||typeof e.customProfileImage=="undefined"?null:o_(e.customProfileImage),palette:oe(e,["palette"],["#000000","#808080","#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff8080","#80ff80","#ffffff","#c0c0c0","#800000","#804000","#808000","#008000","#008080","#000080","#800080","#8080ff","#ffff80"]),displayDuration:oe(e,["displayDuration"],5e3),displayLatestForever:oe(e,["displayLatestForever"],!1),displayLatestAutomatically:oe(e,["displayLatestAutomatically"],!1),autofillLatest:oe(e,["autofillLatest"],!1),notificationSound:!e||typeof e.notificationSound=="undefined"?null:i_(e.notificationSound),requireManualApproval:oe(e,["requireManualApproval"],!1),favoriteLists:oe(e,["favoriteLists"],[{list:oe(e,["favorites"],[]),title:oe(e,["favoriteImagesTitle"],"")}])});const a_=ae({components:{CheckboxInput:Ei,DoubleclickButton:wo,ImageUpload:fi,IntegerInput:Rf,NavbarElement:qn,SoundUpload:fi,StringInput:kt},data:()=>({unchangedJson:"{}",changedJson:"{}",inited:!1,settings:Ju(),defaultSettings:Ju(),ws:null,drawUrl:"",notificationSoundAudio:null,manualApproval:{hovered:"",items:[]},favoriteSelection:{hovered:"",items:[],pagination:{page:1,perPage:20}},controlWidgetUrl:"",receiveWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson},favoriteSelectionTotalPages(){return Math.floor(this.favoriteSelection.items.length/this.favoriteSelection.pagination.perPage)+(this.favoriteSelection.items.length%this.favoriteSelection.pagination.perPage===0?0:1)},currentFavoriteSelectionItems(){const e=(this.favoriteSelection.pagination.page-1)*this.favoriteSelection.pagination.perPage;return this.favoriteSelection.items.slice(e,e+this.favoriteSelection.pagination.perPage)}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async created(){this.ws=zs.wsClient("drawcast"),this.ws.onMessage("init",async e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.drawUrl=e.drawUrl,this.controlWidgetUrl=e.controlWidgetUrl,this.receiveWidgetUrl=e.receiveWidgetUrl;const n=await(await It.getDrawcastAllImages()).json();this.favoriteSelection.items=n.map(s=>s.path),this.settings.notificationSound&&(this.notificationSoundAudio=new Audio(this.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=this.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(s=>!s.approved).map(s=>s.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice()}),this.ws.onMessage("image_deleted",e=>{this.settings.favoriteLists=this.settings.favoriteLists.map(t=>(t.list=t.list.filter(n=>n!==e.img),t)),this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice(),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{deleteImage(e){this.sendMsg({event:"delete_image",path:e})},approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},addFavoriteList(){if(!this.settings){console.warn("addFavoriteList: this.settings not initialized");return}this.settings.favoriteLists.push({list:[],title:""})},moveFavoriteListUp(e){this.swapItems(e-1,e)},moveFavoriteListDown(e){this.swapItems(e+1,e)},swapItems(e,t){Ba(this.settings.favoriteLists,e,t)},removeFavoriteList(e){if(!this.settings){console.warn("removeFavoriteList: this.settings not initialized");return}const t=[];for(let n in this.settings.favoriteLists)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.settings.favoriteLists[n]);this.settings.favoriteLists=t},toggleFavorite(e,t){if(!this.settings){console.warn("toggleFavorite: this.settings not initialized");return}this.settings.favoriteLists[e].list.includes(t)?this.settings.favoriteLists[e].list=this.settings.favoriteLists[e].list.filter(n=>n!==t):this.settings.favoriteLists[e].list.push(t)},customProfileImageChanged(e){if(!this.settings){console.warn("customProfileImageChanged: this.settings not initialized");return}this.settings.customProfileImage=e.file?e:null},notificationSoundChanged(e){if(!this.settings){console.warn("notificationSoundChanged: this.settings not initialized");return}this.settings.notificationSound=e.file?e:null},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:{canvasWidth:parseInt(`${this.settings.canvasWidth}`,10)||720,canvasHeight:parseInt(`${this.settings.canvasHeight}`,10)||405,submitButtonText:this.settings.submitButtonText,submitConfirm:this.settings.submitConfirm,recentImagesTitle:this.settings.recentImagesTitle,customDescription:this.settings.customDescription,customProfileImage:this.settings.customProfileImage,palette:this.settings.palette,displayDuration:parseInt(`${this.settings.displayDuration}`,10)||5e3,displayLatestForever:this.settings.displayLatestForever,displayLatestAutomatically:this.settings.displayLatestAutomatically,autofillLatest:this.settings.autofillLatest,requireManualApproval:this.settings.requireManualApproval,notificationSound:this.settings.notificationSound,favoriteLists:this.settings.favoriteLists}})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),l_={class:"view"},r_={id:"top",ref:"top"},u_={id:"actionbar",class:"p-1"},d_=["disabled"],c_=["href"],f_=["href"],h_={id:"main",ref:"main"},m_={key:0,ref:"table",class:"table is-striped"},p_=a("tr",null,[a("td",{colspan:"3"}," General ")],-1),g_=a("td",null,[a("code",null,"settings.canvasWidth")],-1),v_=a("td",null,[M(" Width of the drawing area."),a("br"),M(" Caution: changing this will clear the area for currenty connected users. ")],-1),y_=a("td",null,[a("code",null,"settings.canvasHeight")],-1),b_=a("td",null,[M(" Height of the drawing area."),a("br"),M(" Caution: changing this will clear the area for currenty connected users. ")],-1),w_=a("td",null,[a("code",null,"settings.displayDuration")],-1),S_=a("td",null," The duration in Milliseconds that each drawing will be shown ",-1),$_=a("td",null,[a("code",null,"settings.requireManualApproval")],-1),C_=a("td",null," If checked, new drawings need to be approved before being displayed for anyone. ",-1),E_=a("br",null,null,-1),__=["href"],I_={key:0},T_={class:"card-body"},D_=["src"],A_={class:"card-footer"},O_=["onClick"],k_=["onClick"],P_={key:1},V_=a("td",null,null,-1),R_=a("td",null,[a("code",null,"settings.displayLatestForever")],-1),M_=a("td",null,"If checked, the latest drawing will be shown indefinately.",-1),U_=a("td",null,[a("code",null,"settings.displayLatestAutomatically")],-1),N_=a("td",null," If checked, the latest drawing will be shown in widget automatically. ",-1),x_=a("td",null,[a("code",null,"settings.autofillLatest")],-1),L_=a("td",null," Fill the latest submitted drawing into the draw panel when opening the draw page. ",-1),F_=a("td",null,[a("code",null,"settings.submitButtonText")],-1),B_=a("td",null,null,-1),H_=a("td",null,[a("code",null,"settings.submitConfirm")],-1),W_=a("td",null," Leave empty if no confirm is required by user before sending. ",-1),j_=a("td",null,[a("code",null,"settings.recentImagesTitle")],-1),z_=a("td",null,"Title for the recently submitted images gallery.",-1),K_=a("td",null,[a("code",null,"settings.customDescription")],-1),G_=a("td",null,"Description text below the drawing panel.",-1),J_=a("td",null,[a("code",null,"settings.customProfileImage")],-1),Y_=a("td",null,[M(" Profile image that will be displayed next to the "),a("code",null,"settings.customDescription"),M(". ")],-1),X_=a("td",null,[a("code",null,"settings.palette")],-1),Q_=["onUpdate:modelValue"],Z_=a("br",null,null,-1),q_=a("br",null,null,-1),e2=a("td",null,[M(" Default colors appearing on the draw page."),a("br"),M(" Caution: Changing this will change selected color for currenty connected users. ")],-1),t2=a("td",null,[a("code",null,"settings.notificationSound")],-1),n2=a("td",null,[M(" Add a sound here that plays when new drawings arrive. "),a("br"),M(" This is played in this window, if approval is necessary, otherwise it will play in the display widget. It won't play in the draw widget. ")],-1),s2=a("div",null,[a("code",null,"settings.favoriteLists")],-1),o2={class:"preview"},i2=["src"],a2={key:0},l2=["onClick"],r2=a("i",{class:"fa fa-chevron-up"},null,-1),u2=[r2],d2=["onClick"],c2=a("i",{class:"fa fa-chevron-down"},null,-1),f2=[c2],h2=["onClick"],m2=a("i",{class:"fa fa-trash"},null,-1),p2=[m2],g2=a("td",null,"Title:",-1),v2=a("td",null,"Currently selected favorites:",-1),y2={class:"favorites"},b2=["src","onClick","onMouseover"],w2=a("td",null,"All images:",-1),S2={class:"favorites-select"},$2=["src","onMouseover"],C2={class:"buttons"},E2=["onClick"],_2=a("i",{class:"fa fa-trash"},null,-1),I2=["disabled"],T2=["disabled"],D2=a("td",null," The favorites will always be displayed at the beginning of the gallery in the draw widget. ",-1);function A2(e,t,n,s,o,l){const i=me("NavbarElement"),r=me("IntegerInput"),u=me("CheckboxInput"),d=me("StringInput"),h=me("ImageUpload"),c=me("SoundUpload"),f=me("DoubleclickButton");return v(),b("div",l_,[a("div",r_,[R(i),a("div",u_,[a("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...m)=>e.sendSave&&e.sendSave(...m))}," Save ",8,d_),a("a",{class:"button is-small mr-1",href:e.receiveWidgetUrl,target:"_blank"},"Open widget",8,c_),a("a",{class:"button is-small",href:e.drawUrl,target:"_blank"},"Open draw",8,f_)])],512),a("div",h_,[e.inited?(v(),b("table",m_,[a("tbody",null,[p_,a("tr",null,[g_,a("td",null,[R(r,{modelValue:e.settings.canvasWidth,"onUpdate:modelValue":t[1]||(t[1]=m=>e.settings.canvasWidth=m)},null,8,["modelValue"])]),v_]),a("tr",null,[y_,a("td",null,[R(r,{modelValue:e.settings.canvasHeight,"onUpdate:modelValue":t[2]||(t[2]=m=>e.settings.canvasHeight=m)},null,8,["modelValue"])]),b_]),a("tr",null,[w_,a("td",null,[R(r,{modelValue:e.settings.displayDuration,"onUpdate:modelValue":t[3]||(t[3]=m=>e.settings.displayDuration=m)},null,8,["modelValue"])]),S_]),a("tr",null,[$_,a("td",null,[R(u,{modelValue:e.settings.requireManualApproval,"onUpdate:modelValue":t[4]||(t[4]=m=>e.settings.requireManualApproval=m)},null,8,["modelValue"])]),C_]),a("tr",null,[a("td",null,[M(" Pending approval "),E_,a("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open in separate tab",8,__)]),a("td",null,[e.manualApproval.items.length?(v(),b("div",I_,[(v(!0),b(ie,null,ye(e.manualApproval.items,(m,p)=>(v(),b("div",{key:p,class:"image-to-approve card mr-1"},[a("div",T_,[a("img",{src:m,width:"250",class:"thumbnail mr-1"},null,8,D_)]),a("div",A_,[a("span",{class:"card-footer-item button is-small is-success is-light",onClick:g=>e.approveImage(m)}," Approve! ",8,O_),a("span",{class:"card-footer-item button is-small is-danger is-light",onClick:g=>e.denyImage(m)}," Deny! ",8,k_)])]))),128))])):(v(),b("div",P_," Currently there are no drawings awaiting approval. "))]),V_]),a("tr",null,[R_,a("td",null,[R(u,{modelValue:e.settings.displayLatestForever,"onUpdate:modelValue":t[5]||(t[5]=m=>e.settings.displayLatestForever=m)},null,8,["modelValue"])]),M_]),a("tr",null,[U_,a("td",null,[R(u,{modelValue:e.settings.displayLatestAutomatically,"onUpdate:modelValue":t[6]||(t[6]=m=>e.settings.displayLatestAutomatically=m)},null,8,["modelValue"])]),N_]),a("tr",null,[x_,a("td",null,[R(u,{modelValue:e.settings.autofillLatest,"onUpdate:modelValue":t[7]||(t[7]=m=>e.settings.autofillLatest=m)},null,8,["modelValue"])]),L_]),a("tr",null,[F_,a("td",null,[R(d,{modelValue:e.settings.submitButtonText,"onUpdate:modelValue":t[8]||(t[8]=m=>e.settings.submitButtonText=m)},null,8,["modelValue"])]),B_]),a("tr",null,[H_,a("td",null,[R(d,{modelValue:e.settings.submitConfirm,"onUpdate:modelValue":t[9]||(t[9]=m=>e.settings.submitConfirm=m)},null,8,["modelValue"])]),W_]),a("tr",null,[j_,a("td",null,[R(d,{modelValue:e.settings.recentImagesTitle,"onUpdate:modelValue":t[10]||(t[10]=m=>e.settings.recentImagesTitle=m)},null,8,["modelValue"])]),z_]),a("tr",null,[K_,a("td",null,[ge(a("textarea",{"onUpdate:modelValue":t[11]||(t[11]=m=>e.settings.customDescription=m),class:"textarea"},null,512),[[Pe,e.settings.customDescription]])]),G_]),a("tr",null,[J_,a("td",null,[R(h,{modelValue:e.settings.customProfileImage,"onUpdate:modelValue":[t[12]||(t[12]=m=>e.settings.customProfileImage=m),e.customProfileImageChanged],width:"100px",height:"50px",class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),Y_]),a("tr",null,[X_,a("td",null,[(v(!0),b(ie,null,ye(e.settings.palette,(m,p)=>(v(),b("label",{key:p,class:"square"},[ge(a("input",{"onUpdate:modelValue":g=>e.settings.palette[p]=g,type:"color"},null,8,Q_),[[Pe,e.settings.palette[p]]]),a("span",{class:"square-inner",style:at({backgroundColor:m})},null,4)]))),128)),Z_,q_,a("button",{class:"button is-small",onClick:t[13]||(t[13]=m=>e.settings.palette=e.defaultSettings.palette)}," Reset to default palette ")]),e2]),a("tr",null,[t2,a("td",null,[R(c,{modelValue:e.settings.notificationSound,"onUpdate:modelValue":[t[14]||(t[14]=m=>e.settings.notificationSound=m),e.notificationSoundChanged],class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),n2]),a("tr",null,[a("td",null,[s2,a("div",null,[a("span",{class:"button is-small",onClick:t[15]||(t[15]=(...m)=>e.addFavoriteList&&e.addFavoriteList(...m))},"Add a list")]),a("div",o2,[e.favoriteSelection.hovered?(v(),b("img",{key:0,src:e.favoriteSelection.hovered},null,8,i2)):H("",!0)])]),a("td",null,[(v(!0),b(ie,null,ye(e.settings.favoriteLists,(m,p)=>(v(),b("div",{key:p,class:"card p-2 mb-2"},[e.settings.favoriteLists.length>1?(v(),b("div",a2,[a("span",{class:Ae(["button is-small ml-1",{"is-disabled":p>0}]),onClick:g=>e.moveFavoriteListUp(p)},u2,10,l2),a("span",{class:Ae(["button is-small ml-1",{"is-disabled":p<e.settings.favoriteLists.length-1}]),onClick:g=>e.moveFavoriteListDown(p)},f2,10,d2),a("span",{class:"button is-small ml-1",onClick:g=>e.removeFavoriteList(p)},p2,8,h2)])):H("",!0),a("table",null,[a("tr",null,[g2,a("td",null,[R(d,{modelValue:m.title,"onUpdate:modelValue":g=>m.title=g},null,8,["modelValue","onUpdate:modelValue"])])]),a("tr",null,[v2,a("td",null,[a("div",y2,[(v(!0),b(ie,null,ye(m.list,(g,S)=>(v(),b("img",{key:S,src:g,width:"50",height:"50",class:"thumbnail is-favorited mr-1",onClick:w=>e.toggleFavorite(p,g),onMouseover:w=>e.favoriteSelection.hovered=g,onMouseleave:t[16]||(t[16]=w=>e.favoriteSelection.hovered="")},null,40,b2))),128))])])]),a("tr",null,[w2,a("td",null,[a("div",S2,[(v(!0),b(ie,null,ye(e.currentFavoriteSelectionItems,(g,S)=>(v(),b("div",{key:S,class:"favorites-select-image"},[a("img",{src:g,width:"100",height:"100",class:Ae(["thumbnail mr-1",{"is-favorited":m.list.includes(g)}]),onMouseover:w=>e.favoriteSelection.hovered=g,onMouseleave:t[17]||(t[17]=w=>e.favoriteSelection.hovered="")},null,42,$2),a("div",C2,[a("span",{class:"button is-small",onClick:w=>e.toggleFavorite(p,g)},[a("i",{class:Ae(["fa fa-star",{"has-text-warning":m.list.includes(g)}])},null,2)],8,E2),R(f,{class:"button is-small",message:"Are you sure?",timeout:1e3,onDoubleclick:w=>e.deleteImage(g)},{default:wt(()=>[_2]),_:2},1032,["onDoubleclick"])])]))),128))]),a("span",{class:"button is-small mr-1",disabled:e.favoriteSelection.pagination.page>1?void 0:!0,onClick:t[18]||(t[18]=g=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page-1)},"Prev",8,I2),a("span",{class:"button is-small",disabled:e.favoriteSelection.pagination.page<e.favoriteSelectionTotalPages?void 0:!0,onClick:t[19]||(t[19]=g=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page+1)},"Next",8,T2)])])])]))),128))]),D2])])],512)):H("",!0)],512)])}var O2=He(a_,[["render",A2]]);const k2=ae({components:{NavbarElement:qn},data:()=>({widgets:[],toast:Ef()}),async created(){const e=await It.getPageIndexData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.widgets=t.widgets},methods:{async newUrl(e){const t=await It.createWidgetUrl({type:e.type,pub:e.pub});if(t.status===200)try{const n=await t.json();n.url&&(this.widgets=this.widgets.map(s=>(s.type===e.type&&(s.url=n.url),s))),this.toast.success("New URL created")}catch{this.toast.error("New URL couldn't be created")}else this.toast.error("New URL couldn't be created")}}}),P2={key:0,class:"view"},V2={id:"top",ref:"top"},R2={id:"main",ref:"main"},M2={class:"table is-striped is-fullwidth"},U2=a("thead",null,[a("tr",null,[a("th",null,"Widget"),a("th",null,"Hint"),a("th")])],-1),N2=["href"],x2=["onClick"];function L2(e,t,n,s,o,l){const i=me("NavbarElement");return e.widgets?(v(),b("div",P2,[a("div",V2,[R(i)],512),a("div",R2,[a("table",M2,[U2,a("tbody",null,[(v(!0),b(ie,null,ye(e.widgets,(r,u)=>(v(),b("tr",{key:u},[a("td",null,[a("a",{href:r.url,target:"blank"},G(r.title),9,N2)]),a("td",null,G(r.hint),1),a("td",null,[a("span",{class:"button is-small ml-1",onClick:d=>e.newUrl(r)},"Generate new url",8,x2)])]))),128))])])],512)])):H("",!0)}var F2=He(k2,[["render",L2]]);const B2=e=>{const t=["analytics:read:extensions","analytics:read:games","bits:read","channel:edit:commercial","channel:manage:broadcast","channel:manage:extensions","channel:manage:redemptions","channel:manage:videos","channel:read:editors","channel:read:hype_train","channel:read:redemptions","channel:read:stream_key","channel:read:subscriptions","clips:edit","moderation:read","user:edit","user:edit:follows","user:read:blocked_users","user:manage:blocked_users","user:read:broadcast","user:read:email"],n=document.location,s=`${n.protocol}//${n.host}/twitch/redirect_uri`;return`https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=${e}&redirect_uri=${s}&scope=${t.join("+")}`};var Ff={accessTokenLink:B2};const Gl={data:{registeredUserCount:0,streamingUserCount:0}},H2=async()=>{try{const t=await(await It.getDataGlobal()).json();Gl.data.registeredUserCount=t.registeredUserCount,Gl.data.streamingUserCount=t.streamingUserCount}catch(e){console.error(e)}};var Bf={getData:()=>Gl.data,init:H2};const W2={key:0,class:"field has-text-grey-light"},j2={key:1,class:"field has-text-grey-light"},z2=ae({__name:"GlobalUserInfo",setup(e){const t=Bf.getData();return(n,s)=>(v(),b(ie,null,[ce(t).registeredUserCount?(v(),b("div",W2," There are currently "+G(ce(t).registeredUserCount)+" streamer"+G(ce(t).registeredUserCount>1?"s":"")+" registered \u2728. ",1)):H("",!0),ce(t).streamingUserCount?(v(),b("div",j2,G(ce(t).streamingUserCount)+" streamer "+G(ce(t).streamingUserCount>1?"are":"is")+" live right now. ",1)):H("",!0)],64))}}),K2={class:"view center-screen mt-2"},G2=a("h1",{class:"title is-4"}," Hyottoko.club ",-1),J2={class:"field"},Y2=["href"],X2=a("span",{class:"icon is-left"},[a("i",{class:"fa fa-twitch"})],-1),Q2=a("span",null,"Login with Twitch",-1),Z2=[X2,Q2],q2=ae({__name:"LoginView",setup(e){const t=Ff.accessTokenLink(di.getConf().twitchClientId);return(n,s)=>(v(),b("div",K2,[G2,a("form",null,[a("div",J2,[a("a",{class:"button is-twitch is-fullwidth",href:ce(t)},Z2,8,Y2)]),R(z2)])]))}}),Ji=(e=null)=>({chatMessage:oe(e,["chatMessage"],""),sound:oe(e,["sound"],{file:"",filename:"",urlpath:"",volume:100})}),Hf=(e=null)=>({effect:Ji(oe(e,["effect"],null)),offsetMs:oe(e,["offsetMs"],"")}),eI=(e=null)=>({fontFamily:oe(e,["fontFamily"],""),fontSize:oe(e,["fontSize"],"72px"),color:oe(e,["color"],""),timerFormat:oe(e,["timerFormat"],"{mm}:{ss}"),showTimerWhenFinished:oe(e,["showTimerWhenFinished"],!0),finishedText:oe(e,["finishedText"],""),startEffect:Ji(oe(e,["startEffect"],null)),endEffect:Ji(oe(e,["endEffect"],null)),stopEffect:Ji(oe(e,["stopEffect"],null)),notifications:oe(e,["notifications"],[]).map(Hf)}),tI=ae({components:{StringInput:kt,SoundUpload:fi,DurationInput:hs,NavbarElement:qn},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:eI(),inited:!1,ws:null,widgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=zs.wsClient("pomo"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.widgetUrl=e.widgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},addNotification(){this.settings.notifications.push(Hf())},removeNotification(e){if(!this.settings){console.warn("remove: this.settings not initialized");return}this.settings.notifications=this.settings.notifications.filter((t,n)=>n!==e)}}}),nI={class:"view"},sI={id:"top",ref:"top"},oI={id:"actionbar",class:"p-1"},iI=["disabled"],aI=["href"],lI={id:"main",ref:"main"},rI={key:0,ref:"table",class:"table is-striped"},uI=a("tr",null,[a("td",{colspan:"2"}," Pomo ")],-1),dI=a("td",null,[a("code",null,"settings.color")],-1),cI=a("td",null,"The text color in the widget.",-1),fI=a("td",null,[a("code",null,"settings.fontFamily")],-1),hI=a("td",null,"The font in the widget.",-1),mI=a("td",null,[a("code",null,"settings.fontSize")],-1),pI=a("td",null,[M(" The text size in the widget, for example "),a("code",null,"12px"),M(", "),a("code",null,"20pt"),M(". ")],-1),gI=a("td",null,[a("code",null,"settings.timerFormat")],-1),vI=a("td",null,[M(" Format of the timer, you can use the following placeholders: "),a("code",{innerHTML:"{{hh}}"}),M(" for hours, "),a("code",{innerHTML:"{{mm}}"}),M(" for minutes, "),a("code",{innerHTML:"{{ss}}"}),M(" for seconds. ")],-1),yI=a("td",null,[a("code",null,"settings.finishedText")],-1),bI=a("td",null,"Text that is displayed when the timer reaches 0.",-1),wI=a("td",null,[a("code",null,"settings.showTimerWhenFinished")],-1),SI=a("td",null," If enabled, the timer will be displayed even when it reached 0. ",-1),$I=a("td",null,[a("code",null,"settings.startEffect.chatMessage")],-1),CI=a("td",null,"Chat message that is sent when pomo is started.",-1),EI=a("td",null,[a("code",null,"settings.startEffect.sound")],-1),_I=a("td",null,"Sound that will be displayed when pomo is started.",-1),II=a("td",null,[a("code",null,"settings.endEffect.chatMessage")],-1),TI=a("td",null,"Chat message that is sent when pomo reaches 0.",-1),DI=a("td",null,[a("code",null,"settings.endEffect.sound")],-1),AI=a("td",null,"Sound that will be displayed when pomo reaches 0.",-1),OI=a("td",null,[a("code",null,"settings.stopEffect.chatMessage")],-1),kI=a("td",null," Chat message that is sent when pomo is stopped (via pomo exit). ",-1),PI=a("td",null,[a("code",null,"settings.stopEffect.sound")],-1),VI=a("td",null," Sound that will be displayed when pomo is stopped (via pomo exit). ",-1),RI=a("code",null,"settings.notifications",-1),MI=["onClick"],UI=a("td",null,[a("code",null,"offsetMs")],-1),NI=a("td",null," Offset to the end of pomo. Negative offset means time before end of pomo. ",-1),xI=a("td",null,[a("code",null,"chatMessage")],-1),LI=a("td",null,"Chat message sent at the set offset.",-1),FI=a("td",null,[a("code",null,"sound")],-1),BI=a("td",null,"Sound played at the set offset.",-1);function HI(e,t,n,s,o,l){const i=me("NavbarElement"),r=me("StringInput"),u=me("CheckboxInput"),d=me("SoundUpload"),h=me("DurationInput");return v(),b("div",nI,[a("div",sI,[R(i),a("div",oI,[a("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...c)=>e.sendSave&&e.sendSave(...c))}," Save ",8,iI),a("a",{class:"button is-small mr-1",href:e.widgetUrl,target:"_blank"},"Open widget",8,aI)])],512),a("div",lI,[e.inited?(v(),b("table",rI,[a("tbody",null,[uI,a("tr",null,[dI,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.settings.color=c),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.color]])]),cI]),a("tr",null,[fI,a("td",null,[R(r,{modelValue:e.settings.fontFamily,"onUpdate:modelValue":t[2]||(t[2]=c=>e.settings.fontFamily=c)},null,8,["modelValue"])]),hI]),a("tr",null,[mI,a("td",null,[R(r,{modelValue:e.settings.fontSize,"onUpdate:modelValue":t[3]||(t[3]=c=>e.settings.fontSize=c)},null,8,["modelValue"])]),pI]),a("tr",null,[gI,a("td",null,[R(r,{modelValue:e.settings.timerFormat,"onUpdate:modelValue":t[4]||(t[4]=c=>e.settings.timerFormat=c)},null,8,["modelValue"])]),vI]),a("tr",null,[yI,a("td",null,[R(r,{modelValue:e.settings.finishedText,"onUpdate:modelValue":t[5]||(t[5]=c=>e.settings.finishedText=c)},null,8,["modelValue"])]),bI]),a("tr",null,[wI,a("td",null,[R(u,{modelValue:e.settings.showTimerWhenFinished,"onUpdate:modelValue":t[6]||(t[6]=c=>e.settings.showTimerWhenFinished=c)},null,8,["modelValue"])]),SI]),a("tr",null,[$I,a("td",null,[R(r,{modelValue:e.settings.startEffect.chatMessage,"onUpdate:modelValue":t[7]||(t[7]=c=>e.settings.startEffect.chatMessage=c)},null,8,["modelValue"])]),CI]),a("tr",null,[EI,a("td",null,[R(d,{modelValue:e.settings.startEffect.sound,"onUpdate:modelValue":t[8]||(t[8]=c=>e.settings.startEffect.sound=c),"base-volume":100},null,8,["modelValue"])]),_I]),a("tr",null,[II,a("td",null,[R(r,{modelValue:e.settings.endEffect.chatMessage,"onUpdate:modelValue":t[9]||(t[9]=c=>e.settings.endEffect.chatMessage=c)},null,8,["modelValue"])]),TI]),a("tr",null,[DI,a("td",null,[R(d,{modelValue:e.settings.endEffect.sound,"onUpdate:modelValue":t[10]||(t[10]=c=>e.settings.endEffect.sound=c),"base-volume":100},null,8,["modelValue"])]),AI]),a("tr",null,[OI,a("td",null,[R(r,{modelValue:e.settings.stopEffect.chatMessage,"onUpdate:modelValue":t[11]||(t[11]=c=>e.settings.stopEffect.chatMessage=c)},null,8,["modelValue"])]),kI]),a("tr",null,[PI,a("td",null,[R(d,{modelValue:e.settings.stopEffect.sound,"onUpdate:modelValue":t[12]||(t[12]=c=>e.settings.stopEffect.sound=c),"base-volume":100},null,8,["modelValue"])]),VI]),a("tr",null,[a("td",null,[RI,a("span",{class:"button is-small",onClick:t[13]||(t[13]=(...c)=>e.addNotification&&e.addNotification(...c))},"Add notification")]),a("td",null,[(v(!0),b(ie,null,ye(e.settings.notifications,(c,f)=>(v(),b("div",{key:f},[a("span",{class:"button is-small",onClick:m=>e.removeNotification(f)},"Remove",8,MI),a("table",null,[a("tr",null,[UI,a("td",null,[R(h,{modelValue:c.offsetMs,"onUpdate:modelValue":m=>c.offsetMs=m,"allow-negative":!0},null,8,["modelValue","onUpdate:modelValue"])]),NI]),a("tr",null,[xI,a("td",null,[R(r,{modelValue:c.effect.chatMessage,"onUpdate:modelValue":m=>c.effect.chatMessage=m},null,8,["modelValue","onUpdate:modelValue"])]),LI]),a("tr",null,[FI,a("td",null,[R(d,{modelValue:c.effect.sound,"onUpdate:modelValue":m=>c.effect.sound=m,"base-volume":100},null,8,["modelValue","onUpdate:modelValue"])]),BI])])]))),128))])])])],512)):H("",!0)],512)])}var WI=He(tI,[["render",HI]]);const jI=ae({components:{StringInput:kt,NavbarElement:qn},data:()=>({unchangedJson:"[]",changedJson:"[]",user:{id:0,twitch_id:"",twitch_login:"",name:"",email:"",groups:[],tmi_identity_client_id:"",tmi_identity_client_secret:"",tmi_identity_password:"",tmi_identity_username:"",bot_enabled:!1,bot_status_messages:!1}}),computed:{isAdmin(){return this.user.groups.includes("admin")},changed(){return this.unchangedJson!==this.changedJson},accessTokenLink(){const e=this.isAdmin&&this.user.tmi_identity_client_id||di.getConf().twitchClientId;return Ff.accessTokenLink(e)}},watch:{user:{deep:!0,handler(){this.setChanged()}}},async mounted(){const e=await It.getPageSettingsData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.user=t.user,this.setUnchanged()},methods:{openAuth(){window.open(this.accessTokenLink)},setChanged(){this.changedJson=JSON.stringify({user:this.user})},setUnchanged(){this.unchangedJson=JSON.stringify({user:this.user}),this.changedJson=this.unchangedJson},async sendSave(){await It.saveUserSettings({user:this.user}),this.setUnchanged()}}}),zI={class:"view"},KI={id:"top",ref:"top"},GI={id:"actionbar",class:"p-1"},JI=["disabled"],YI={id:"main"},XI={class:"mb-4"},QI=a("h1",{class:"title mb-2"}," User ",-1),ZI={class:"table is-striped"},qI=a("td",null,"Name:",-1),eT=a("td",null,"Email:",-1),tT=a("td",null,"Twitch Id:",-1),nT=a("td",null,"Twitch Login:",-1),sT=a("td",null,"Bot enabled:",-1),oT=a("td",null,"Bot status messages:",-1),iT={key:0,class:"mb-4"},aT=a("h1",{class:"title mb-2"}," Twitch-Bot ",-1),lT=a("p",null,[M(" Please refer to "),a("a",{href:"https://dev.twitch.tv/docs/irc/#building-the-bot",target:"_blank"},"building the bot"),M(". ")],-1),rT={class:"table is-striped"},uT=a("td",null,"Bot name:",-1),dT=a("td",null,"Bot oauth (pass):",-1),cT=a("td",null,"Bot client_id:",-1),fT=a("td",null,"Bot client_secret:",-1);function hT(e,t,n,s,o,l){const i=me("NavbarElement"),r=me("StringInput");return v(),b("div",zI,[a("div",KI,[R(i),a("div",GI,[a("button",{class:"button is-small is-primary",disabled:!e.changed,onClick:t[0]||(t[0]=(...u)=>e.sendSave&&e.sendSave(...u))}," Save ",8,JI)])],512),a("div",YI,[a("div",XI,[QI,a("table",ZI,[a("tbody",null,[a("tr",null,[qI,a("td",null,G(e.user.name),1)]),a("tr",null,[eT,a("td",null,G(e.user.email),1)]),a("tr",null,[tT,a("td",null,G(e.user.twitch_id),1)]),a("tr",null,[nT,a("td",null,G(e.user.twitch_login),1)]),a("tr",null,[sT,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>e.user.bot_enabled=u),type:"checkbox"},null,512),[[Xn,e.user.bot_enabled]])])]),a("tr",null,[oT,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.user.bot_status_messages=u),type:"checkbox"},null,512),[[Xn,e.user.bot_status_messages]])])])])])]),e.isAdmin?(v(),b("div",iT,[aT,lT,a("table",rT,[a("tbody",null,[a("tr",null,[uT,a("td",null,[R(r,{modelValue:e.user.tmi_identity_username,"onUpdate:modelValue":t[3]||(t[3]=u=>e.user.tmi_identity_username=u)},null,8,["modelValue"])])]),a("tr",null,[dT,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.user.tmi_identity_password=u),class:"input is-small",type:"password"},null,512),[[Pe,e.user.tmi_identity_password]])])]),a("tr",null,[cT,a("td",null,[R(r,{modelValue:e.user.tmi_identity_client_id,"onUpdate:modelValue":t[5]||(t[5]=u=>e.user.tmi_identity_client_id=u)},null,8,["modelValue"])])]),a("tr",null,[fT,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>e.user.tmi_identity_client_secret=u),class:"input is-small",type:"password"},null,512),[[Pe,e.user.tmi_identity_client_secret]])])])])])])):H("",!0)])])}var mT=He(jI,[["render",hT]]),Hn=(e=>(e.TITLE="title",e.TIMESTAMP="timestamp",e.PLAYS="plays",e.USER="user",e))(Hn||{});const hi=(e=null)=>({name:oe(e,["name"],""),css:oe(e,["css"],""),showProgressBar:oe(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:oe(e,["maxItemsShown"],-1),timestampFormat:typeof(e==null?void 0:e.timestampFormat)=="undefined"?"":e.timestampFormat}),Wf=(e=null)=>{var t,n;return{volume:oe(e,["volume"],100),initAutoplay:oe(e,["initAutoplay"],!0),hideVideoImage:{file:oe(e,["hideVideoImage","file"],""),filename:oe(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(n=e==null?void 0:e.hideVideoImage)!=null&&n.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:oe(e,["maxSongLength","viewer"],0),mod:oe(e,["maxSongLength","mod"],0),sub:oe(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(oe(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(oe(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(oe(e,["maxSongsQueued","sub"],0)),10)},customCssPresets:oe(e,["customCssPresets"],[]).map(hi),customCssPresetIdx:oe(e,["customCssPresetIdx"],0)}},pT=ae({props:{tags:Array},data:()=>({editTag:"",tagEditIdx:-1}),methods:{onInputFocus(e,t){this.editTag=e.value,this.tagEditIdx=t},updateTag(e,t){this.$emit("updateTag",[e,t])}}}),gT={class:"table is-striped"},vT=a("tr",null,[a("th",null,"Tag"),a("th"),a("th")],-1),yT=["onKeyup"],bT=["value","onFocus"],wT=["disabled","onClick"];function ST(e,t,n,s,o,l){return v(),b("table",gT,[vT,(v(!0),b(ie,null,ye(e.tags,(i,r)=>(v(),b("tr",{key:r},[a("td",null,[e.tagEditIdx===r?ge((v(),b("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=u=>e.editTag=u),type:"text",class:"input is-small",onKeyup:co(u=>e.updateTag(i.value,e.editTag),["enter"])},null,40,yT)),[[Pe,e.editTag]]):(v(),b("input",{key:1,type:"text",class:"input is-small",value:i.value,onFocus:u=>e.onInputFocus(i,r)},null,40,bT))]),a("td",null,[e.tagEditIdx===r?(v(),b("span",{key:0,class:"button is-small",disabled:i.value===e.editTag?!0:void 0,onClick:u=>e.updateTag(i.value,e.editTag)},"Save",8,wT)):H("",!0)]),a("td",null,G(i.count)+"x",1)]))),128))])}var $T=He(pT,[["render",ST]]);const Jt=e=>(_n("data-v-43dec804"),e=e(),In(),e),CT={class:"modal-card"},ET=Jt(()=>a("div",{class:"modal-card-title"}," Edit Preset ",-1)),_T={class:"modal-card-body"},IT={class:"table is-striped is-fullwidth"},TT=Jt(()=>a("td",null,"Title",-1)),DT=Jt(()=>a("td",null,"Show progress bar",-1)),AT=Jt(()=>a("td",null,"Render a progress bar in the bottom part of the video in the widget.",-1)),OT=Jt(()=>a("td",null,"Show thumbnails",-1)),kT={class:"mr-1"},PT={class:"mr-1"},VT={class:"mr-1"},RT=Jt(()=>a("td",null,"Render video thumbnails in the widget.",-1)),MT=Jt(()=>a("td",null,"Timestamp Format",-1)),UT=Jt(()=>a("td",null,[M(" Define how to display the timestamp. "),a("br"),M(" Leave empty to not display the timestamp. "),a("br"),M(" Example: "),a("code",null,"YYYY-MM-DD hh:mm:ss"),M(),a("br"),M(" Reference: "),a("br"),a("code",null,"YYYY"),M(" Year "),a("br"),a("code",null,"MM"),M(" Month "),a("br"),a("code",null,"DD"),M(" Day "),a("br"),a("code",null,"hh"),M(" Hour "),a("br"),a("code",null,"mm"),M(" Minute "),a("br"),a("code",null,"ss"),M(" Second "),a("br"),a("code",null,"Month"),M(" Full month name in english (eg. January, March...) "),a("br"),a("code",null,"Month.en"),M(" Full month name in english (eg. January, March...) "),a("br"),a("code",null,"Month.de"),M(" Full month name in german (eg. Januar, M\xE4rz...) "),a("br")],-1)),NT=Jt(()=>a("td",null,"Maximum number of playlist items displayed",-1)),xT=Jt(()=>a("td",null,"Max. number of items displayed in the playlist. Set to -1 for no limit.",-1)),LT=Jt(()=>a("td",null,"Custom CSS",-1)),FT=Jt(()=>a("p",null,"Classes that can be used for styling:",-1)),BT={class:"table"},HT=Jt(()=>a("thead",null,[a("tr",null,[a("th",null,"Class"),a("th",null,"Description")])],-1)),WT=Jt(()=>a("p",null,[a("b",null,"Examples:")],-1)),jT=ae({__name:"PresetEditor",props:{modelValue:null},emits:["cancel","save","save-and-close"],setup(e,{emit:t}){const s=se(e.modelValue),o=se(),l={classExamples:[{class:".wrapper",desc:"Wrapper for everything"},{class:".player",desc:"The player"},{class:".list",desc:"The playlist"},{class:".item",desc:"A playlist item"},{class:".playing",desc:"Currently playing item"},{class:".not-playing",desc:"Queued items"},{class:".title",desc:"Wrapper for the title of a playlist item"},{class:".title-content",desc:"Title texts"},{class:".title-orig",desc:"Title text displayed by default"},{class:".title-dupl",desc:"Title text duplicated, useful for marquee effect"},{class:".vote",desc:"Vote elements"},{class:".vote-up",desc:"Up vote element"},{class:".vote-down",desc:"Down vote element"},{class:".meta",desc:"Meta info about an item"},{class:".meta-user",desc:"User who requested the song"},{class:".meta-timestamp",desc:"Time at which the song was requested"},{class:".meta-plays",desc:"How many times the song was played"}],codeExamples:[{desc:"Hide Player:",code:".player { position: absolute; }"},{desc:"Change font to external font:",code:`@import url('https://fonts.googleapis.com/css2?family=Shadows+Into+Light');
body { font-family: 'Shadows into Light'; font-size: 30px; }`},{desc:"Change colors of items:",code:`.playing { background: #222; color: #bbb; }
.not-playing { background: #eee; color: #444; }`},{desc:"Display something in front of the currently playing item title:",code:".playing .title:before { content: '\u{1F3B6} Now Playing \u{1F3B6} ' }"},{desc:"Add a margin between the items:",code:".item { margin-bottom: 20px; }"},{desc:"Hide votes and meta:",code:".vote, .meta { display: none; }"},{desc:"Hide down votes:",code:".vote-down { display: none; }"},{desc:"Hite all items starting from the 6th:",code:".item:nth-child(n+6) { display: none; }"},{desc:"Show only titles and marquee the current song:",code:`.playing .title { overflow: hidden; white-space: nowrap; height: 20px; line-height: 20px; }
.playing .title-content { position: absolute; padding: 0 10px; min-width: 100%; animation: init 5s linear, back 10s linear 5s infinite; }
.playing .title-content.title-dupl { display: block; animation: back 10s linear 0s infinite; }
.title { margin-bottom: 0; }
.meta-left, .meta-right, .thumbnail { display: none; }
@keyframes back {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
}
@keyframes init {
    to { transform: translateX(-100%); }
}`},{desc:"Replace icon for thumbs-up with an image",code:`.meta-right .vote-up { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }
.meta-right .vote-up .fa { display: none; }`},{desc:"Remove text before/after username",code:`.meta-user-text-before,
.meta-user-text-after {display: none}`},{desc:"Add a fontawesome icon before username (\\f075 is the icon unicode, refer to https://fontawesome.com/v4.7/icons/)",code:'.meta-user-name::before { content: "\\f075"; display: inline-block; font: normal normal normal 14px/1 FontAwesome; font-size: inherit; margin-right: .5em; }'},{desc:"Add an image icon before username",code:".meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }"},{desc:"Add an image icon before username for specific user only",code:`[data-user="nc_para_" i] .meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }`},{desc:"Change item display depending on username (this one changes background and makes thumbnails black boxes)",code:`[data-user="nc_para_" i] { background: #dd0066; }
[data-user="nc_para_" i] .thumbnail img { display: none; }
[data-user="nc_para_" i] .thumbnail { background: black; }`},{desc:"Show player left of the playlist (and limit its height to 320px)",code:`.wrapper { display: grid; grid-template-areas: "player playlist"; grid-template-columns: 50% auto; grid-template-rows: 320px; }
.player iframe { height: 320px; }`},{desc:"Show thumbnails only, and display meta info above them",code:`.item { display: block; position: relative; padding: 0; color: white; }
.title, .meta-left, .meta-right { position: absolute; padding: .2em; background: rgba(244,0,90,.9); }
.meta-left { top: 0; left: 0; font-size: 1em; }
.meta-right { top: 0; right: 0; font-size: 1em; }
.title { bottom: 0; left: 0; right: 0; margin-bottom: 0; }
.thumbnail { width: auto; }`},{desc:"Align thumbnails to the bottom",code:".thumbnail { align-self: end; }"},{desc:"Align thumbnails to the center",code:".thumbnail { align-self: center; }"},{desc:"Add a margin/padding to the thumbnails",code:".thumbnail { padding: 20px; }"},{desc:"Show number of plays not at player, but in icon form on the right near votes",code:`.meta-left .meta-user:after,
.meta-left .meta-plays { display: none; }
.meta-right .meta-plays { display: inline-block; }`},{desc:"Show the progress bar only, and no video (progress bar above list)",code:`
.player { height: 5px; padding-bottom: 0; }
.progress { height: 5px; }`},{desc:"Show the progress bar only, and no video (progress bar below list)",code:`
.wrapper { display: grid; grid-template-areas: "list" "player"; }
.player { height: 5px; padding-bottom: 0; grid-area: player }
.list { grid-area: list }
.progress { height: 5px; }`}]},i=()=>{t("save",s.value)},r=()=>{t("save-and-close",s.value)},u=()=>{t("cancel")},d=()=>{t("cancel")},h=()=>{t("cancel")};return Tt(()=>{Nn(()=>{const c=o.value.querySelector('input[type="text"]');c&&c.focus()})}),(c,f)=>(v(),b("div",{ref_key:"el",ref:o,class:"modal is-active"},[a("div",{class:"modal-background",onClick:h}),a("div",CT,[a("header",{class:"modal-card-head"},[ET,a("button",{class:"delete","aria-label":"close",onClick:d})]),a("section",_T,[a("table",IT,[a("tr",null,[TT,a("td",null,[R(kt,{modelValue:s.value.name,"onUpdate:modelValue":f[0]||(f[0]=m=>s.value.name=m)},null,8,["modelValue"])])]),a("tr",null,[DT,a("td",null,[R(Ei,{modelValue:s.value.showProgressBar,"onUpdate:modelValue":f[1]||(f[1]=m=>s.value.showProgressBar=m)},null,8,["modelValue"])]),AT]),a("tr",null,[OT,a("td",null,[a("label",kT,[ge(a("input",{"onUpdate:modelValue":f[2]||(f[2]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:!1},null,512),[[rn,s.value.showThumbnails]]),M("Off")]),a("label",PT,[ge(a("input",{"onUpdate:modelValue":f[3]||(f[3]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:"left"},null,512),[[rn,s.value.showThumbnails]]),M("Left")]),a("label",VT,[ge(a("input",{"onUpdate:modelValue":f[4]||(f[4]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:"right"},null,512),[[rn,s.value.showThumbnails]]),M("Right")])]),RT]),a("tr",null,[MT,a("td",null,[R(kt,{modelValue:s.value.timestampFormat,"onUpdate:modelValue":f[5]||(f[5]=m=>s.value.timestampFormat=m)},null,8,["modelValue"])]),UT]),a("tr",null,[NT,a("td",null,[ge(a("input",{"onUpdate:modelValue":f[6]||(f[6]=m=>s.value.maxItemsShown=m),type:"number",min:"-1"},null,512),[[Pe,s.value.maxItemsShown]])]),xT]),a("tr",null,[LT,a("td",null,[ge(a("textarea",{"onUpdate:modelValue":f[7]||(f[7]=m=>s.value.css=m),class:"textarea"},null,512),[[Pe,s.value.css]])]),a("td",null,[FT,a("table",BT,[HT,a("tbody",null,[(v(!0),b(ie,null,ye(l.classExamples,(m,p)=>(v(),b("tr",{key:p},[a("td",null,[a("code",null,G(m.class),1)]),a("td",null,G(m.desc),1)]))),128))])]),WT,(v(!0),b(ie,null,ye(l.codeExamples,(m,p)=>(v(),b("p",{key:p},[M(G(m.desc)+" ",1),a("pre",null,[a("code",null,G(m.code),1)])]))),128))])])])]),a("footer",{class:"modal-card-foot"},[a("button",{class:"button is-small is-primary",onClick:i}," Save "),a("button",{class:"button is-small is-primary",onClick:r}," Save and close "),a("button",{class:"button is-small",onClick:u}," Cancel ")])])],512))}});var zT=He(jT,[["__scopeId","data-v-43dec804"]]);const KT={key:0,class:"table is-striped is-fullwidth"},GT=a("tr",null,[a("td",{colspan:"3"}," General ")],-1),JT=a("td",null,[a("code",null,"settings.volume")],-1),XT=a("td",null,"Base volume for all songs played.",-1),QT=a("td",null,[a("code",null,"settings.initAutoplay")],-1),ZT=a("td",null,"If checked, the widget will autoplay when first opened.",-1),qT=a("td",null,[a("code",null,"settings.hideVideoImage")],-1),eD=a("td",null,"Image to display when a video is hidden.",-1),tD=a("td",null,[a("code",null,"settings.maxSongLength.viewer")],-1),nD=a("td",null,[M(" Limits the maximum duration of songs that viewers can add/request. ("),a("code",null,"0"),M(" = unlimited, for example: "),a("code",null,"5m"),M(", "),a("code",null,"1h"),M(", ...) ")],-1),sD=a("td",null,[a("code",null,"settings.maxSongLength.mod")],-1),oD=a("td",null,[M(" Limits the maximum duration of songs that mods can add/request. ("),a("code",null,"0"),M(" = unlimited, for example: "),a("code",null,"5m"),M(", "),a("code",null,"1h"),M(", ...) ")],-1),iD=a("td",null,[a("code",null,"settings.maxSongLength.sub")],-1),aD=a("td",null,[M(" Limits the maximum duration of songs that subscribers can add/request. ("),a("code",null,"0"),M(" = unlimited, for example: "),a("code",null,"5m"),M(", "),a("code",null,"1h"),M(", ...) ")],-1),lD=a("td",null,[a("code",null,"settings.maxSongsQueued.viewer")],-1),rD=a("td",null,"Number of new songs that viewers can request. (0 = unlimited)",-1),uD=a("td",null,[a("code",null,"settings.maxSongsQueued.mod")],-1),dD=a("td",null,"Number of new songs that mods can request. (0 = unlimited)",-1),cD=a("td",null,[a("code",null,"settings.maxSongsQueued.sub")],-1),fD=a("td",null,"Number of new songs that subscribers can request. (0 = unlimited)",-1),hD={class:"table is-striped"},mD=["disabled","onClick"],pD={key:0,class:"fa fa-check has-text-success mr-1"},gD=["onClick"],vD=a("i",{class:"fa fa-pencil"},null,-1),yD=[vD],bD=a("i",{class:"fa fa-remove"},null,-1),wD=ae({__name:"Settings",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=se(e.modelValue),o=se(null),l=se(null),i=p=>{o.value=p,l.value=s.value.customCssPresets[p]},r=p=>{o.value!==null&&(o.value===-1?(s.value.customCssPresets.unshift(p),o.value=0,s.value.customCssPresetIdx+=1):s.value.customCssPresets[o.value]=p,m())},u=p=>{r(p),o.value=null,l.value=null},d=p=>{s.value.customCssPresetIdx=p,m()},h=p=>{if(s.value.customCssPresets=s.value.customCssPresets.filter((g,S)=>S!==p),s.value.customCssPresets.length===0){const g=hi({name:"default"});s.value.customCssPresets.push(g),s.value.customCssPresetIdx=0}else p===s.value.customCssPresetIdx?s.value.customCssPresetIdx=0:p<s.value.customCssPresetIdx&&(s.value.customCssPresetIdx-=1);m()},c=()=>{o.value=-1,l.value=hi()},f=p=>{s.value.hideVideoImage=p,m()},m=()=>{t("update:modelValue",s.value)};return(p,g)=>(v(),b("div",null,[s.value?(v(),b("table",KT,[a("tbody",null,[GT,a("tr",null,[JT,a("td",null,[R(Ka,{modelValue:s.value.volume,"onUpdate:modelValue":[g[0]||(g[0]=S=>s.value.volume=S),m]},null,8,["modelValue"])]),XT]),a("tr",null,[QT,a("td",null,[R(Ei,{modelValue:s.value.initAutoplay,"onUpdate:modelValue":[g[1]||(g[1]=S=>s.value.initAutoplay=S),m]},null,8,["modelValue"])]),ZT]),a("tr",null,[qT,a("td",null,[R(Mr,{modelValue:s.value.hideVideoImage,"onUpdate:modelValue":[g[2]||(g[2]=S=>s.value.hideVideoImage=S),f],width:"100px",height:"50px",class:"mb-1"},null,8,["modelValue"])]),eD]),a("tr",null,[tD,a("td",null,[R(hs,{modelValue:s.value.maxSongLength.viewer,"onUpdate:modelValue":[g[3]||(g[3]=S=>s.value.maxSongLength.viewer=S),m]},null,8,["modelValue"])]),nD]),a("tr",null,[sD,a("td",null,[R(hs,{modelValue:s.value.maxSongLength.mod,"onUpdate:modelValue":[g[4]||(g[4]=S=>s.value.maxSongLength.mod=S),m]},null,8,["modelValue"])]),oD]),a("tr",null,[iD,a("td",null,[R(hs,{modelValue:s.value.maxSongLength.sub,"onUpdate:modelValue":[g[5]||(g[5]=S=>s.value.maxSongLength.sub=S),m]},null,8,["modelValue"])]),aD]),a("tr",null,[lD,a("td",null,[ge(a("input",{"onUpdate:modelValue":g[6]||(g[6]=S=>s.value.maxSongsQueued.viewer=S),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Pe,s.value.maxSongsQueued.viewer]])]),rD]),a("tr",null,[uD,a("td",null,[ge(a("input",{"onUpdate:modelValue":g[7]||(g[7]=S=>s.value.maxSongsQueued.mod=S),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Pe,s.value.maxSongsQueued.mod]])]),dD]),a("tr",null,[cD,a("td",null,[ge(a("input",{"onUpdate:modelValue":g[8]||(g[8]=S=>s.value.maxSongsQueued.sub=S),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Pe,s.value.maxSongsQueued.sub]])]),fD])])])):H("",!0),a("div",null,[M(" Visuals "),a("span",{class:"button is-small",onClick:c},"Add preset")]),a("table",hD,[a("tbody",null,[(v(!0),b(ie,null,ye(s.value.customCssPresets,(S,w)=>(v(),b("tr",{key:w},[a("td",null,G(S.name),1),a("td",null,[a("span",{class:"button is-small",disabled:w===s.value.customCssPresetIdx?!0:void 0,onClick:y=>d(w)},[w===s.value.customCssPresetIdx?(v(),b("i",pD)):H("",!0),M(G(w===s.value.customCssPresetIdx?"This is the current preset":"Use this preset"),1)],8,mD)]),a("td",null,[a("span",{class:"button is-small",onClick:y=>i(w)},yD,8,gD),R(wo,{message:"Are you sure?",timeout:1e3,class:"button is-small ml-1",onDoubleclick:y=>h(w)},{default:wt(()=>[bD]),_:2},1032,["onDoubleclick"])])]))),128))])]),l.value?(v(),Ce(zT,{key:1,modelValue:l.value,"onUpdate:modelValue":g[9]||(g[9]=S=>l.value=S),onSave:r,onSaveAndClose:u,onCancel:g[10]||(g[10]=S=>l.value=null)},null,8,["modelValue"])):H("",!0)]))}});const $t=e=>(_n("data-v-4a74bc23"),e=e(),In(),e),SD={class:"filters"},$D={class:"currentfilter"},CD=$t(()=>a("div",{class:"mr-1"}," Filter: ",-1)),ED=$t(()=>a("i",{class:"fa fa-remove ml-1"},null,-1)),_D={key:1,class:"field has-addons mr-1 mb-0"},ID={class:"control"},TD={class:"control"},DD={class:"pt-1"},AD={key:0},OD={class:"table is-striped"},kD=$t(()=>a("th",null,null,-1)),PD=$t(()=>a("th",null,null,-1)),VD=$t(()=>a("th",null,null,-1)),RD=$t(()=>a("th",null,null,-1)),MD=$t(()=>a("th",null,null,-1)),UD=$t(()=>a("th",null,null,-1)),ND=$t(()=>a("th",null,null,-1)),xD=$t(()=>a("td",{class:"pt-4 handle"},[a("i",{class:"fa fa-arrows"})],-1)),LD=["disabled","onClick"],FD=$t(()=>a("i",{class:"fa fa-play"},null,-1)),BD=[FD],HD=["href"],WD=$t(()=>a("i",{class:"fa fa-external-link"},null,-1)),jD=["onClick"],zD=$t(()=>a("i",{class:"fa fa-remove ml-1"},null,-1)),KD=["onClick"],GD=$t(()=>a("i",{class:"fa fa-plus"},null,-1)),JD=[GD],YD={key:0,class:"field has-addons"},XD={class:"control"},QD=["onKeyup"],ZD={class:"control"},qD=["disabled","onClick"],eA=["onClick"],tA=$t(()=>a("i",{class:"fa fa-eraser"},null,-1)),nA=[tA],sA=["title","onClick"],oA=["onClick"],iA=$t(()=>a("i",{class:"fa fa-thumbs-up mr-1"},null,-1)),aA=["onClick"],lA=$t(()=>a("i",{class:"fa fa-eraser"},null,-1)),rA=[lA],uA=["onClick"],dA=$t(()=>a("i",{class:"fa fa-thumbs-down mr-1"},null,-1)),cA=["onClick"],fA=$t(()=>a("i",{class:"fa fa-eraser"},null,-1)),hA=[fA],mA=$t(()=>a("i",{class:"fa fa-trash"},null,-1)),pA={key:1},gA=ae({__name:"PlaylistEditor",props:{playlist:null,filter:null},emits:["stopPlayer","filterChange","ctrl"],setup(e,{emit:t}){const n=e,s=se(!0),o=se(""),l=se(""),i=se(-1),r=se(20),u=se(),d=Ne(()=>n.playlist.map($=>({id:$.id,tags:$.tags,yt:$.yt,title:$.title,timestamp:$.timestamp,hidevideo:!!$.hidevideo,last_play:$.last_play,plays:$.plays,goods:$.goods,bads:$.bads,user:$.user,filteredOut:w($)})).slice(0,r.value)),h=Ne(()=>n.filter.tag===""?0:n.playlist.findIndex($=>$.tags.includes(n.filter.tag))),c=($,C)=>{S("sort",[$,C])},f=$=>Ar("YYYY-MM-DD hh:mm:ss",new Date($)),m=($,C)=>{const I=!!$.hidevideo;S("videoVisibility",[I,C])},p=$=>{S("move",[$.oldIndex,$.newIndex])},g=$=>{t("filterChange",$)},S=($,C)=>{t("ctrl",[$,C])},w=$=>n.filter.tag!==""&&!$.tags.includes(n.filter.tag),y=$=>{i.value=$,Nn(()=>{const C=u.value.querySelector("table .filter-tag-input");C&&C.focus()})};return Xe(()=>n.playlist,($,C)=>{$.find(I=>!w(I))||t("stopPlayer")}),Xe(()=>n.filter,()=>{n.playlist.find($=>!w($))||t("stopPlayer")}),($,C)=>{const I=me("CheckboxInput"),T=me("vue-draggable");return v(),b("div",{ref_key:"el",ref:u},[a("div",SD,[a("div",$D,[CD,e.filter.tag?(v(),b("span",{key:0,class:"tag mr-1",onClick:C[0]||(C[0]=A=>g(""))},[M(G(e.filter.tag)+" ",1),ED])):(v(),b("div",_D,[a("div",ID,[ge(a("input",{"onUpdate:modelValue":C[1]||(C[1]=A=>o.value=A),class:"input is-small filter-tag-input",type:"text",onKeyup:C[2]||(C[2]=co(A=>g(o.value),["enter"]))},null,544),[[Pe,o.value]])]),a("div",TD,[a("span",{class:"button is-small",onClick:C[3]||(C[3]=A=>g(o.value))},"Apply filter")])])),a("label",DD,[R(I,{modelValue:s.value,"onUpdate:modelValue":C[4]||(C[4]=A=>s.value=A)},null,8,["modelValue"]),M(" Hide filtered out")])])]),e.playlist.length>0?(v(),b("div",AD,[a("table",OD,[a("thead",null,[a("tr",null,[kD,PD,VD,a("th",null,[M(" Title "),a("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by title, A - Z",onClick:C[5]||(C[5]=A=>c(ce(Hn).TITLE,1))}),a("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by title, Z - A",onClick:C[6]||(C[6]=A=>c(ce(Hn).TITLE,-1))})]),a("th",null,[M(" User "),a("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by user, A - Z",onClick:C[7]||(C[7]=A=>c(ce(Hn).USER,1))}),a("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by user, Z - A",onClick:C[8]||(C[8]=A=>c(ce(Hn).USER,-1))})]),a("th",null,[M(" Date "),a("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by date, oldest to newest",onClick:C[9]||(C[9]=A=>c(ce(Hn).TIMESTAMP,1))}),a("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by date, newest to oldest",onClick:C[10]||(C[10]=A=>c(ce(Hn).TIMESTAMP,-1))})]),a("th",null,[M(" Plays "),a("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by plays, fewest to most",onClick:C[11]||(C[11]=A=>c(ce(Hn).PLAYS,1))}),a("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by plays, most to fewest",onClick:C[12]||(C[12]=A=>c(ce(Hn).PLAYS,-1))})]),RD,MD,UD,ND])]),R(T,{"model-value":ce(d),tag:"tbody",handle:".handle","item-key":"id",onEnd:p},{item:wt(({element:A,index:O})=>[ge(a("tr",null,[xD,a("td",null,G(O+1),1),a("td",null,[O!==ce(h)?(v(),b("button",{key:0,class:"button is-small",disabled:A.filteredOut?!0:void 0,title:"Play",onClick:D=>S("playIdx",[O])},BD,8,LD)):H("",!0)]),a("td",null,[a("a",{href:"https://www.youtube.com/watch?v="+A.yt,target:"_blank"},[M(G(A.title||A.yt)+" ",1),WD],8,HD),a("div",null,[(v(!0),b(ie,null,ye(A.tags,(D,x)=>(v(),b("span",{key:x,class:"tag",onClick:W=>S("rmtag",[D,O])},[M(G(D)+" ",1),zD],8,jD))),128)),a("span",{class:"button is-small",onClick:D=>y(O)},JD,8,KD)]),i.value===O?(v(),b("div",YD,[a("div",XD,[ge(a("input",{"onUpdate:modelValue":C[13]||(C[13]=D=>l.value=D),class:"input is-small filter-tag-input",type:"text",onKeyup:co(D=>{S("addtag",[l.value,O]),l.value=""},["enter"])},null,40,QD),[[Pe,l.value]])]),a("div",ZD,[a("span",{class:"button is-small",disabled:l.value?void 0:!0,onClick:D=>{S("addtag",[l.value,O]),l.value=""}},"Add tag",8,qD)])])):H("",!0)]),a("td",null,G(A.user),1),a("td",null,G(f(A.timestamp)),1),a("td",null,[M(G(A.plays)+"x ",1),a("button",{class:"button is-small ml-1",title:"Reset plays",onClick:D=>S("resetStatIdx",["plays",O])},nA,8,eA)]),a("td",null,[a("button",{class:"button is-small",title:A.hidevideo?"Video hidden":"Video visible",onClick:D=>m(A,O)},[a("i",{class:Ae(["fa mr-1",{"fa-eye":!A.hidevideo,"fa-eye-slash":A.hidevideo}])},null,2)],8,sA)]),a("td",null,[a("button",{class:"button is-small",onClick:D=>S("goodIdx",[O])},[iA,M(" "+G(A.goods),1)],8,oA),a("button",{class:"button is-small ml-1",title:"Reset upvotes",onClick:D=>S("resetStatIdx",["goods",O])},rA,8,aA)]),a("td",null,[a("button",{class:"button is-small",onClick:D=>S("badIdx",[O])},[dA,M(" "+G(A.bads),1)],8,uA),a("button",{class:"button is-small ml-1",title:"Reset downvotes",onClick:D=>S("resetStatIdx",["bads",O])},hA,8,cA)]),a("td",null,[R(wo,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,title:"Remove",onDoubleclick:D=>S("rmIdx",[O])},{default:wt(()=>[mA]),_:2},1032,["onDoubleclick"])])],512),[[bo,!s.value||!A.filteredOut]])]),_:1},8,["model-value"])]),a("div",null,[r.value<e.playlist.length?(v(),b("span",{key:0,class:"button is-small mr-1",onClick:C[14]||(C[14]=A=>r.value+=20)},"Show more (+20)")):H("",!0),r.value<e.playlist.length?(v(),b("span",{key:1,class:"button is-small",onClick:C[15]||(C[15]=A=>r.value=e.playlist.length)},"Show all ("+G(e.playlist.length)+")",1)):H("",!0)])])):(v(),b("div",pA," Playlist is empty "))],512)}}});var vA=He(gA,[["__scopeId","data-v-4a74bc23"]]);const Ms=(...e)=>console.log("[youtube.js]",...e);let Yu=!1;function yA(){return Yu?(Ms("ytapi ALREADY ready"),Promise.resolve()):new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.append(t),window.onYouTubeIframeAPIReady=()=>{Yu=!0,Ms("ytapi ready"),e()}})}function bA(e){return new Promise(t=>{Ms("create player on "+e);const n=new YT.Player(e,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{Ms("player ready"),t(n)}}})})}async function wA(e){return await yA(),await bA(e)}const SA=ae({props:{visible:{type:Boolean,default:!0}},data:()=>({id:"",yt:null,loop:!1,toplay:null,tovolume:null,tryPlayInterval:null,stopped:!1}),created(){this.id=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`},async mounted(){this.yt=await wA(this.id),this.tovolume!==null&&this.yt.setVolume(this.tovolume),this.toplay!==null&&(Ms("trying to play.."),this.play(this.toplay)),this.yt.addEventListener("onStateChange",e=>{e.data===YT.PlayerState.CUED?this.tryPlay():e.data===YT.PlayerState.ENDED&&(this.loop?this.tryPlay():this.$emit("ended"))})},methods:{getDuration(){return this.yt?this.yt.getDuration():0},getCurrentTime(){return this.yt?this.yt.getCurrentTime():0},getProgress(){const e=this.getDuration(),t=this.getCurrentTime();return e?t/e:0},stop(){this.stopped=!0,this.stopTryPlayInterval(),this.yt&&this.yt.stopVideo()},stopTryPlayInterval(){this.tryPlayInterval&&(clearInterval(this.tryPlayInterval),this.tryPlayInterval=null)},tryPlay(){if(this.stopped||(this.stopTryPlayInterval(),!this.visible))return;this.yt&&this.yt.playVideo();let e=20;this.tryPlayInterval=setInterval(()=>{if(Ms("playing",this.playing(),"triesRemaining",e),--e,this.playing()||e<0){Ms("stopping interval"),this.stopTryPlayInterval();return}this.yt&&this.yt.playVideo()},250)},play(e){this.stopped=!1,this.yt?(this.yt.cueVideoById(e),this.tryPlay()):this.toplay=e},pause(){this.yt&&this.yt.pauseVideo()},unpause(){this.stopped=!1,this.yt&&this.tryPlay()},setVolume(e){this.yt?this.yt.setVolume(e):this.tovolume=e},setLoop(e){this.loop=e},playing(){return this.yt?this.yt.getPlayerState()===1:!1}}}),$A=SA,CA=["id"];function EA(e,t,n,s,o,l){return v(),b("div",{id:e.id},null,8,CA)}var jf=He($A,[["render",EA]]);const So=e=>(_n("data-v-32493d31"),e=e(),In(),e),_A={class:"view"},IA={id:"top",ref:"top"},TA={id:"actionbar",class:"p-1"},DA=["disabled","title","onClick"],AA=["disabled"],OA=So(()=>a("span",{class:"txt"},"Set all to played",-1)),kA=[OA],PA=["disabled","title"],VA=So(()=>a("i",{class:"fa fa-tv mr-1"},null,-1)),RA={class:"txt"},MA={class:"field has-addons mr-1"},UA={class:"control"},NA=["disabled","onKeyup"],xA={class:"control"},LA=["disabled"],FA=So(()=>a("i",{class:"fa fa-search mr-1"},null,-1)),BA={class:"field has-addons mr-1"},HA={class:"control"},WA=["disabled","onKeyup"],jA={class:"control"},zA=["disabled"],KA=So(()=>a("i",{class:"fa fa-plus mr-1"},null,-1)),GA=["disabled","href"],JA={id:"main",ref:"main"},YA={style:{width:"640px","max-width":"100%"}},XA={class:"tabs"},QA=["onClick"],ZA={key:0},qA={class:"mb-1"},e3=["href"],t3=So(()=>a("i",{class:"fa fa-download mr-1"},null,-1)),n3=So(()=>a("i",{class:"fa fa-upload mr-1"},null,-1)),s3={key:1,id:"tags"},o3={key:3,id:"playlist",class:"table-container"},i3=ae({__name:"SongRequestView",setup(e){const t=()=>{},n=se(!1),s=se([]),o=se([]),l=se([]),i=se({}),r=se(Wf()),u=se({tag:""}),d=se(""),h=se(""),c=se(!1),f=se("playlist"),m=se(""),p=se("");let g=null;const S=Ef(),w=[{title:"Reset stats",ctrl:"resetStats",icon:"fa-eraser"},{title:"Clear playlist",ctrl:"clear",icon:"fa-eject"},{title:"Shuffle",ctrl:"shuffle",icon:"fa-random"},{title:"Play",ctrl:"unpause",icon:"fa-play"},{title:"Pause",ctrl:"pause",icon:"fa-pause"},{title:"Prev",ctrl:"prev",icon:"fa-step-backward"},{title:"Next",ctrl:"skip",icon:"fa-step-forward"}],y=[{tab:"playlist",title:"Playlist"},{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"},{tab:"tags",title:"Tags"},{tab:"import",title:"Import/Export"}],$=[ke.SR_CURRENT,ke.SR_UNDO,ke.SR_GOOD,ke.SR_BAD,ke.SR_STATS,ke.SR_PREV,ke.SR_NEXT,ke.SR_JUMPTONEW,ke.SR_CLEAR,ke.SR_RM,ke.SR_SHUFFLE,ke.SR_RESET_STATS,ke.SR_LOOP,ke.SR_NOLOOP,ke.SR_PAUSE,ke.SR_UNPAUSE,ke.SR_HIDEVIDEO,ke.SR_SHOWVIDEO,ke.SR_REQUEST,ke.SR_RE_REQUEST,ke.SR_ADDTAG,ke.SR_RMTAG,ke.SR_VOLUME,ke.SR_FILTER,ke.SR_PRESET,ke.SR_QUEUE],C=Ne(()=>{const F=[];return s.value.forEach(de=>{de.tags.forEach(ee=>{const E=F.findIndex(_=>_.value===ee);E===-1?F.push({value:ee,count:1}):F[E].count++})}),F}),I=se(null),T=Ne(()=>I.value||{stop:t,play:t,pause:t,unpause:t,setVolume:t,setLoop:t,playing:t}),A=Ne(()=>u.value.tag===""?s.value:s.value.filter(F=>F.tags.includes(u.value.tag))),O=Ne(()=>A.value[0]),D=Ne(()=>A.value.length!==0),x=Ne(()=>n.value?"":"width:0;height:0;padding:0;margin-bottom:0;"),W=Ne(()=>n.value?"Hide Player":"Show Player"),K=Ne(()=>`${location.protocol}//${location.host}/api/sr/export`),L=()=>{Q({event:"save",commands:o.value,settings:r.value})},k=F=>{te(F[0],F[1])},fe=F=>{Fe(F[0],F[1])},j=F=>{Fe("filter",[{tag:F}])},ue=async()=>{(await It.importPlaylist(m.value)).status===200?(f.value="playlist",S.success("Import successful")):S.error("Import failed")},we=()=>{n.value=!n.value,n.value?T.value.playing()||$e():T.value.stop()},Ke=()=>{d.value!==""&&(Fe("resr",[d.value]),d.value="")},ot=()=>{h.value!==""&&(Fe("sr",[h.value]),h.value="")},Fe=(F,de)=>{Q({event:"ctrl",ctrl:F,args:de})},Ge=()=>{Q({event:"ended"})},Q=F=>{g?g.send(JSON.stringify(F)):console.warn("sendMsg: this.ws not initialized")},$e=()=>{J(r.value.volume),n.value&&D.value&&(T.value.play(O.value.yt),Q({event:"play",id:O.value.id}))},V=()=>{D.value&&(T.value.unpause(),Q({event:"unpause",id:O.value.id}))},Y=()=>{n.value&&D.value&&(T.value.pause(),Q({event:"pause"}))},J=F=>{T.value.setVolume(F)},te=(F,de)=>{F!==de&&Fe("updatetag",[F,de])};return Tt(async()=>{Nn(()=>{g=zs.wsClient("sr"),g.onMessage("save",F=>{r.value=F.settings,p.value=F.widgetUrl,o.value=F.commands,l.value=F.globalVariables,i.value=F.channelPointsCustomRewards}),g.onMessage(["pause"],F=>{T.value.playing()&&Y()}),g.onMessage(["unpause"],F=>{T.value.playing()||V()}),g.onMessage(["loop"],F=>{T.value.setLoop(!0)}),g.onMessage(["noloop"],F=>{T.value.setLoop(!1)}),g.onMessage(["onEnded","prev","skip","remove","move","tags"],F=>{r.value=F.settings,o.value=F.commands,l.value=F.globalVariables,i.value=F.channelPointsCustomRewards;const de=A.value.length>0?A.value[0].id:null;u.value=F.filter,s.value=F.playlist;const ee=A.value.length>0?A.value[0].id:null;de!==ee&&$e()}),g.onMessage(["filter"],F=>{r.value=F.settings,o.value=F.commands,l.value=F.globalVariables,i.value=F.channelPointsCustomRewards;const de=A.value.length>0?A.value[0].id:null;u.value=F.filter,s.value=F.playlist,A.value.find(ee=>ee.id===de)||$e()}),g.onMessage(["stats","video","playIdx","resetStats","shuffle"],F=>{r.value=F.settings,o.value=F.commands,l.value=F.globalVariables,i.value=F.channelPointsCustomRewards,u.value=F.filter,s.value=F.playlist}),g.onMessage(["add","init"],F=>{r.value=F.settings,p.value=F.widgetUrl,o.value=F.commands,l.value=F.globalVariables,i.value=F.channelPointsCustomRewards,u.value=F.filter,s.value=F.playlist,!c.value&&!T.value.playing()&&$e(),c.value=!0}),g.connect(),$e()})}),Tn(()=>{g&&g.disconnect()}),(F,de)=>(v(),b("div",_A,[a("div",IA,[R(qn),a("div",TA,[(v(),b(ie,null,ye(w,(ee,E)=>a("button",{key:E,class:"button is-small mr-1",disabled:c.value?void 0:!0,title:ee.title,onClick:_=>Fe(ee.ctrl,[])},[a("i",{class:Ae(["fa",ee.icon])},null,2)],8,DA)),64)),a("button",{class:"button is-small mr-1",disabled:c.value?void 0:!0,title:"Sets all songs to at least 1x played",onClick:de[0]||(de[0]=ee=>Fe("setAllToPlayed",[]))},kA,8,AA),a("button",{class:"button is-small mr-1",disabled:c.value?void 0:!0,title:ce(W),onClick:we},[VA,a("span",RA,G(ce(W)),1)],8,PA),a("div",MA,[a("div",UA,[ge(a("input",{"onUpdate:modelValue":de[1]||(de[1]=ee=>d.value=ee),class:"input is-small",disabled:c.value?void 0:!0,onKeyup:co(Ke,["enter"])},null,40,NA),[[Pe,d.value]])]),a("div",xA,[a("button",{class:"button is-small",disabled:c.value?void 0:!0,onClick:Ke},[FA,M(" from playlist ")],8,LA)])]),a("div",BA,[a("div",HA,[ge(a("input",{"onUpdate:modelValue":de[2]||(de[2]=ee=>h.value=ee),class:"input is-small",disabled:c.value?void 0:!0,onKeyup:co(ot,["enter"])},null,40,WA),[[Pe,h.value]])]),a("div",jA,[a("button",{class:"button is-small",disabled:c.value?void 0:!0,onClick:ot},[KA,M(" from YouTube ")],8,zA)])]),a("a",{class:"button is-small mr-1",disabled:c.value?void 0:!0,href:p.value,target:"_blank"},"Open SR widget",8,GA)])],512),a("div",JA,[a("div",YA,[a("div",{id:"player",class:"video-16-9",style:at(ce(x))},[R(jf,{ref_key:"youtube",ref:I,visible:n.value,onEnded:Ge},null,8,["visible"])],4)]),a("div",XA,[a("ul",null,[(v(),b(ie,null,ye(y,(ee,E)=>a("li",{key:E,class:Ae({"is-active":f.value===ee.tab}),onClick:_=>f.value=ee.tab},[a("a",null,G(ee.title),1)],10,QA)),64))])]),c.value&&f.value==="import"?(v(),b("div",ZA,[a("div",qA,[a("a",{class:"button is-small mr-1",href:ce(K),target:"_blank"},[t3,M(" Export playlist")],8,e3),a("button",{class:"button is-small",onClick:ue},[n3,M(" Import playlist ")])]),ge(a("textarea",{"onUpdate:modelValue":de[3]||(de[3]=ee=>m.value=ee),class:"textarea mb-1"},null,512),[[Pe,m.value]])])):H("",!0),c.value&&f.value==="tags"?(v(),b("div",s3,[R($T,{tags:ce(C),onUpdateTag:k},null,8,["tags"])])):H("",!0),c.value&&f.value==="settings"?(v(),Ce(wD,{key:2,id:"settings",modelValue:r.value,"onUpdate:modelValue":[de[4]||(de[4]=ee=>r.value=ee),L]},null,8,["modelValue"])):H("",!0),c.value&&f.value==="playlist"?(v(),b("div",o3,[R(vA,{playlist:s.value,filter:u.value,onStopPlayer:de[5]||(de[5]=ee=>ce(T).stop()),onFilterChange:j,onCtrl:fe},null,8,["playlist","filter"])])):H("",!0),c.value&&f.value==="commands"?(v(),Ce(Lf,{key:4,modelValue:o.value,"onUpdate:modelValue":[de[6]||(de[6]=ee=>o.value=ee),L],"global-variables":l.value,"channel-points-custom-rewards":i.value,"possible-actions":$,"possible-effects":[],"base-volume":100},null,8,["modelValue","global-variables","channel-points-custom-rewards"])):H("",!0)],512)]))}});var a3=He(i3,[["__scopeId","data-v-32493d31"]]);const Xu=(e=null)=>({status:{enabled:oe(e,["status","enabled"],!1)},styles:{bgColor:oe(e,["styles","bgColor"],"#ff00ff"),bgColorEnabled:oe(e,["styles","bgColorEnabled"],!0),vAlign:oe(e,["styles","vAlign"],"bottom"),recognition:{fontFamily:oe(e,["styles","recognition","fontFamily"],"sans-serif"),fontSize:oe(e,["styles","recognition","fontSize"],"30pt"),fontWeight:oe(e,["styles","recognition","fontWeight"],"400"),strokeWidth:oe(e,["styles","recognition","strokeWidth"],"8pt"),strokeColor:oe(e,["styles","recognition","strokeColor"],"#292929"),color:oe(e,["styles","recognition","color"],"#ffff00")},translation:{fontFamily:oe(e,["styles","translation","fontFamily"],"sans-serif"),fontSize:oe(e,["styles","translation","fontSize"],"30pt"),fontWeight:oe(e,["styles","translation","fontWeight"],"400"),strokeWidth:oe(e,["styles","translation","strokeWidth"],"8pt"),strokeColor:oe(e,["styles","translation","strokeColor"],"#292929"),color:oe(e,["styles","translation","color"],"#cbcbcb")}},recognition:{display:oe(e,["recognition","display"],!0),lang:oe(e,["recognition","lang"],"ja"),synthesize:oe(e,["recognition","synthesize"],!1),synthesizeLang:oe(e,["recognition","synthesizeLang"],"")},translation:{enabled:oe(e,["translation","enabled"],!0),langSrc:oe(e,["translation","langSrc"],"ja"),langDst:oe(e,["translation","langDst"],"en"),synthesize:oe(e,["translation","synthesize"],!1),synthesizeLang:oe(e,["translation","synthesizeLang"],"")}}),l3=ae({components:{StringInput:kt,CheckboxInput:Ei,NavbarElement:qn},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:Xu(),defaultSettings:Xu(),ws:null,inited:!1,controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=zs.wsClient("speech-to-text"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),r3={class:"view"},u3={id:"top",ref:"top"},d3={id:"actionbar",class:"p-1"},c3=["disabled"],f3=["href"],h3=["href"],m3={id:"main",ref:"main"},p3={key:0,ref:"table",class:"table is-striped"},g3=a("tr",null,[a("td",{colspan:"3"}," General ")],-1),v3=a("td",null,[a("code",null,"settings.style.bgColor")],-1),y3=["disabled"],b3=a("i",{class:"fa fa-remove"},null,-1),w3=[b3],S3=a("td",null,[a("code",null,"settings.style.bgColorEnabled")],-1),$3=a("td",null,[a("code",null,"settings.style.vAlign")],-1),C3={class:"select is-small"},E3=a("option",{value:"top"}," top ",-1),_3=a("option",{value:"bottom"}," bottom ",-1),I3=[E3,_3],T3=["disabled"],D3=a("i",{class:"fa fa-remove"},null,-1),A3=[D3],O3=a("tr",null,[a("td",{colspan:"3"}," Recognition ")],-1),k3=a("td",null,[a("code",null,"settings.recognition.lang")],-1),P3=["disabled"],V3=a("i",{class:"fa fa-remove"},null,-1),R3=[V3],M3=a("td",null,[a("code",null,"settings.recognition.synthesize")],-1),U3=["disabled"],N3=a("i",{class:"fa fa-remove"},null,-1),x3=[N3],L3=a("td",null,[a("code",null,"settings.recognition.synthesizeLang")],-1),F3=["disabled"],B3=a("i",{class:"fa fa-remove"},null,-1),H3=[B3],W3=a("td",null,[a("code",null,"settings.recognition.display")],-1),j3=["disabled"],z3=a("i",{class:"fa fa-remove"},null,-1),K3=[z3],G3=a("td",null,[a("code",null,"settings.styles.recognition.color")],-1),J3=["disabled"],Y3=a("i",{class:"fa fa-remove"},null,-1),X3=[Y3],Q3=a("td",null,[a("code",null,"settings.styles.recognition.strokeWidth")],-1),Z3=["disabled"],q3=a("i",{class:"fa fa-remove"},null,-1),e4=[q3],t4=a("td",null,[a("code",null,"settings.styles.recognition.strokeColor")],-1),n4=["disabled"],s4=a("i",{class:"fa fa-remove"},null,-1),o4=[s4],i4=a("td",null,[a("code",null,"settings.styles.recognition.fontFamily")],-1),a4=["disabled"],l4=a("i",{class:"fa fa-remove"},null,-1),r4=[l4],u4=a("td",null,[a("code",null,"settings.styles.recognition.fontSize")],-1),d4=["disabled"],c4=a("i",{class:"fa fa-remove"},null,-1),f4=[c4],h4=a("td",null,[a("code",null,"settings.styles.recognition.fontWeight")],-1),m4=["disabled"],p4=a("i",{class:"fa fa-remove"},null,-1),g4=[p4],v4=a("tr",null,[a("td",{colspan:"3"}," Translation ")],-1),y4=a("td",null,[a("code",null,"settings.translation.enabled")],-1),b4=["disabled"],w4=a("i",{class:"fa fa-remove"},null,-1),S4=[w4],$4=a("td",null,[a("code",null,"settings.translation.synthesize")],-1),C4=["disabled"],E4=a("i",{class:"fa fa-remove"},null,-1),_4=[E4],I4=a("td",null,[a("code",null,"settings.translation.synthesizeLang")],-1),T4=["disabled"],D4=a("i",{class:"fa fa-remove"},null,-1),A4=[D4],O4=a("td",null,[a("code",null,"settings.translation.langSrc")],-1),k4=["disabled"],P4=a("i",{class:"fa fa-remove"},null,-1),V4=[P4],R4=a("td",null,[a("code",null,"settings.translation.langDst")],-1),M4=["disabled"],U4=a("i",{class:"fa fa-remove"},null,-1),N4=[U4],x4=a("td",null,[a("code",null,"settings.styles.translation.color")],-1),L4=["disabled"],F4=a("i",{class:"fa fa-remove"},null,-1),B4=[F4],H4=a("td",null,[a("code",null,"settings.styles.translation.strokeWidth")],-1),W4=["disabled"],j4=a("i",{class:"fa fa-remove"},null,-1),z4=[j4],K4=a("td",null,[a("code",null,"settings.styles.translation.strokeColor")],-1),G4=["disabled"],J4=a("i",{class:"fa fa-remove"},null,-1),Y4=[J4],X4=a("td",null,[a("code",null,"settings.styles.translation.fontFamily")],-1),Q4=["disabled"],Z4=a("i",{class:"fa fa-remove"},null,-1),q4=[Z4],eO=a("td",null,[a("code",null,"settings.styles.translation.fontSize")],-1),tO=["disabled"],nO=a("i",{class:"fa fa-remove"},null,-1),sO=[nO],oO=a("td",null,[a("code",null,"settings.styles.translation.fontWeight")],-1),iO=["disabled"],aO=a("i",{class:"fa fa-remove"},null,-1),lO=[aO],rO=a("tr",null,[a("td",{colspan:"3"}," Debug ")],-1),uO=a("td",null,[a("code",null,"settings.status.enabled")],-1),dO=["disabled"],cO=a("i",{class:"fa fa-remove"},null,-1),fO=[cO];function hO(e,t,n,s,o,l){const i=me("NavbarElement"),r=me("CheckboxInput"),u=me("StringInput");return v(),b("div",r3,[a("div",u3,[R(i),a("div",d3,[a("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...d)=>e.sendSave&&e.sendSave(...d))}," Save ",8,c3),a("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,f3),a("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,h3)])],512),a("div",m3,[e.inited?(v(),b("table",p3,[a("tbody",null,[g3,a("tr",null,[v3,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.settings.styles.bgColor=d),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.styles.bgColor]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=d=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)},w3,8,y3)])]),a("tr",null,[S3,a("td",null,[R(r,{modelValue:e.settings.styles.bgColorEnabled,"onUpdate:modelValue":t[3]||(t[3]=d=>e.settings.styles.bgColorEnabled=d)},null,8,["modelValue"])])]),a("tr",null,[$3,a("td",null,[a("div",C3,[ge(a("select",{"onUpdate:modelValue":t[4]||(t[4]=d=>e.settings.styles.vAlign=d)},I3,512),[[Si,e.settings.styles.vAlign]])])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.vAlign===e.defaultSettings.styles.vAlign,onClick:t[5]||(t[5]=d=>e.settings.styles.vAlign=e.defaultSettings.styles.vAlign)},A3,8,T3)])]),O3,a("tr",null,[k3,a("td",null,[R(u,{modelValue:e.settings.recognition.lang,"onUpdate:modelValue":t[6]||(t[6]=d=>e.settings.recognition.lang=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.recognition.lang===e.defaultSettings.recognition.lang,onClick:t[7]||(t[7]=d=>e.settings.recognition.lang=e.defaultSettings.recognition.lang)},R3,8,P3)])]),a("tr",null,[M3,a("td",null,[R(r,{modelValue:e.settings.recognition.synthesize,"onUpdate:modelValue":t[8]||(t[8]=d=>e.settings.recognition.synthesize=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.recognition.synthesize===e.defaultSettings.recognition.synthesize,onClick:t[9]||(t[9]=d=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},x3,8,U3)])]),a("tr",null,[L3,a("td",null,[R(u,{modelValue:e.settings.recognition.synthesizeLang,"onUpdate:modelValue":t[10]||(t[10]=d=>e.settings.recognition.synthesizeLang=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.recognition.synthesizeLang===e.defaultSettings.recognition.synthesizeLang,onClick:t[11]||(t[11]=d=>e.settings.recognition.synthesizeLang=e.defaultSettings.recognition.synthesizeLang)},H3,8,F3)])]),a("tr",null,[W3,a("td",null,[R(r,{modelValue:e.settings.recognition.display,"onUpdate:modelValue":t[12]||(t[12]=d=>e.settings.recognition.display=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.recognition.display===e.defaultSettings.recognition.display,onClick:t[13]||(t[13]=d=>e.settings.recognition.display=e.defaultSettings.recognition.display)},K3,8,j3)])]),a("tr",null,[G3,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[14]||(t[14]=d=>e.settings.styles.recognition.color=d),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.styles.recognition.color]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.color===e.defaultSettings.styles.recognition.color,onClick:t[15]||(t[15]=d=>e.settings.styles.recognition.color=e.defaultSettings.styles.recognition.color)},X3,8,J3)])]),a("tr",null,[Q3,a("td",null,[R(u,{modelValue:e.settings.styles.recognition.strokeWidth,"onUpdate:modelValue":t[16]||(t[16]=d=>e.settings.styles.recognition.strokeWidth=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeWidth===e.defaultSettings.styles.recognition.strokeWidth,onClick:t[17]||(t[17]=d=>e.settings.styles.recognition.strokeWidth=e.defaultSettings.styles.recognition.strokeWidth)},e4,8,Z3)])]),a("tr",null,[t4,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[18]||(t[18]=d=>e.settings.styles.recognition.strokeColor=d),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.styles.recognition.strokeColor]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeColor===e.defaultSettings.styles.recognition.strokeColor,onClick:t[19]||(t[19]=d=>e.settings.styles.recognition.strokeColor=e.defaultSettings.styles.recognition.strokeColor)},o4,8,n4)])]),a("tr",null,[i4,a("td",null,[R(u,{modelValue:e.settings.styles.recognition.fontFamily,"onUpdate:modelValue":t[20]||(t[20]=d=>e.settings.styles.recognition.fontFamily=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontFamily===e.defaultSettings.styles.recognition.fontFamily,onClick:t[21]||(t[21]=d=>e.settings.styles.recognition.fontFamily=e.defaultSettings.styles.recognition.fontFamily)},r4,8,a4)])]),a("tr",null,[u4,a("td",null,[R(u,{modelValue:e.settings.styles.recognition.fontSize,"onUpdate:modelValue":t[22]||(t[22]=d=>e.settings.styles.recognition.fontSize=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontSize===e.defaultSettings.styles.recognition.fontSize,onClick:t[23]||(t[23]=d=>e.settings.styles.recognition.fontSize=e.defaultSettings.styles.recognition.fontSize)},f4,8,d4)])]),a("tr",null,[h4,a("td",null,[R(u,{modelValue:e.settings.styles.recognition.fontWeight,"onUpdate:modelValue":t[24]||(t[24]=d=>e.settings.styles.recognition.fontWeight=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontWeight===e.defaultSettings.styles.recognition.fontWeight,onClick:t[25]||(t[25]=d=>e.settings.styles.recognition.fontWeight=e.defaultSettings.styles.recognition.fontWeight)},g4,8,m4)])]),v4,a("tr",null,[y4,a("td",null,[R(r,{modelValue:e.settings.translation.enabled,"onUpdate:modelValue":t[26]||(t[26]=d=>e.settings.translation.enabled=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.translation.enabled===e.defaultSettings.translation.enabled,onClick:t[27]||(t[27]=d=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},S4,8,b4)])]),a("tr",null,[$4,a("td",null,[R(r,{modelValue:e.settings.translation.synthesize,"onUpdate:modelValue":t[28]||(t[28]=d=>e.settings.translation.synthesize=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.translation.synthesize===e.defaultSettings.translation.synthesize,onClick:t[29]||(t[29]=d=>e.settings.translation.synthesize=e.defaultSettings.translation.synthesize)},_4,8,C4)])]),a("tr",null,[I4,a("td",null,[R(u,{modelValue:e.settings.translation.synthesizeLang,"onUpdate:modelValue":t[30]||(t[30]=d=>e.settings.translation.synthesizeLang=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.translation.synthesizeLang===e.defaultSettings.translation.synthesizeLang,onClick:t[31]||(t[31]=d=>e.settings.translation.synthesizeLang=e.defaultSettings.translation.synthesizeLang)},A4,8,T4)])]),a("tr",null,[O4,a("td",null,[R(u,{modelValue:e.settings.translation.langSrc,"onUpdate:modelValue":t[32]||(t[32]=d=>e.settings.translation.langSrc=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.translation.langSrc===e.defaultSettings.translation.langSrc,onClick:t[33]||(t[33]=d=>e.settings.translation.langSrc=e.defaultSettings.translation.langSrc)},V4,8,k4)])]),a("tr",null,[R4,a("td",null,[R(u,{modelValue:e.settings.translation.langDst,"onUpdate:modelValue":t[34]||(t[34]=d=>e.settings.translation.langDst=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.translation.langDst===e.defaultSettings.translation.langDst,onClick:t[35]||(t[35]=d=>e.settings.translation.langDst=e.defaultSettings.translation.langDst)},N4,8,M4)])]),a("tr",null,[x4,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[36]||(t[36]=d=>e.settings.styles.translation.color=d),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.styles.translation.color]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.color===e.defaultSettings.styles.translation.color,onClick:t[37]||(t[37]=d=>e.settings.styles.translation.color=e.defaultSettings.styles.translation.color)},B4,8,L4)])]),a("tr",null,[H4,a("td",null,[R(u,{modelValue:e.settings.styles.translation.strokeWidth,"onUpdate:modelValue":t[38]||(t[38]=d=>e.settings.styles.translation.strokeWidth=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeWidth===e.defaultSettings.styles.translation.strokeWidth,onClick:t[39]||(t[39]=d=>e.settings.styles.translation.strokeWidth=e.defaultSettings.styles.translation.strokeWidth)},z4,8,W4)])]),a("tr",null,[K4,a("td",null,[ge(a("input",{"onUpdate:modelValue":t[40]||(t[40]=d=>e.settings.styles.translation.strokeColor=d),class:"input is-small",type:"color"},null,512),[[Pe,e.settings.styles.translation.strokeColor]])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeColor===e.defaultSettings.styles.translation.strokeColor,onClick:t[41]||(t[41]=d=>e.settings.styles.translation.strokeColor=e.defaultSettings.styles.translation.strokeColor)},Y4,8,G4)])]),a("tr",null,[X4,a("td",null,[R(u,{modelValue:e.settings.styles.translation.fontFamily,"onUpdate:modelValue":t[42]||(t[42]=d=>e.settings.styles.translation.fontFamily=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.fontFamily===e.defaultSettings.styles.translation.fontFamily,onClick:t[43]||(t[43]=d=>e.settings.styles.translation.fontFamily=e.defaultSettings.styles.translation.fontFamily)},q4,8,Q4)])]),a("tr",null,[eO,a("td",null,[R(u,{modelValue:e.settings.styles.translation.fontSize,"onUpdate:modelValue":t[44]||(t[44]=d=>e.settings.styles.translation.fontSize=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.fontSize===e.defaultSettings.styles.translation.fontSize,onClick:t[45]||(t[45]=d=>e.settings.styles.translation.fontSize=e.defaultSettings.styles.translation.fontSize)},sO,8,tO)])]),a("tr",null,[oO,a("td",null,[R(u,{modelValue:e.settings.styles.translation.fontWeight,"onUpdate:modelValue":t[46]||(t[46]=d=>e.settings.styles.translation.fontWeight=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.styles.translation.fontWeight===e.defaultSettings.styles.translation.fontWeight,onClick:t[47]||(t[47]=d=>e.settings.styles.translation.fontWeight=e.defaultSettings.styles.translation.fontWeight)},lO,8,iO)])]),rO,a("tr",null,[uO,a("td",null,[R(r,{modelValue:e.settings.status.enabled,"onUpdate:modelValue":t[48]||(t[48]=d=>e.settings.status.enabled=d)},null,8,["modelValue"])]),a("td",null,[a("button",{class:"button is-small",disabled:e.settings.status.enabled===e.defaultSettings.status.enabled,onClick:t[49]||(t[49]=d=>e.settings.status.enabled=e.defaultSettings.status.enabled)},fO,8,dO)])])])],512)):H("",!0)],512)])}var mO=He(l3,[["render",hO]]);const pO={class:"view"},gO={id:"top",ref:"top"},vO={id:"actionbar",class:"p-1"},yO=["disabled"],bO={id:"main"},wO={class:"mb-4"},SO=a("h1",{class:"title mb-2"}," Global Variables ",-1),$O=a("div",{class:"help"},[M(" Variables can be used from commands with "),a("code",null,"$var(variable_name)"),M(". In addition to the global variables defined here, commands can define their own local variables which have precedence over the global ones. ")],-1),CO={class:"table is-striped"},EO=a("thead",null,[a("tr",null,[a("th",null,"Name"),a("th",null,"Value"),a("th")])],-1),_O=a("i",{class:"fa fa-trash"},null,-1),IO=ae({__name:"VariablesView",setup(e){const t=se("[]"),n=se("[]"),s=se([]),o=Ne(()=>t.value!==n.value),l=c=>{s.value=s.value.filter((f,m)=>m!==c)},i=()=>{s.value.push({name:"",value:""})},r=()=>{n.value=JSON.stringify({variables:s.value})},u=()=>{t.value=JSON.stringify({variables:s.value}),n.value=t.value},d=async()=>{await It.saveVariables({variables:s.value}),u()},h=gv();return Tt(async()=>{const c=await It.getPageVariablesData();if(c.status!==200){h.push({name:"login"});return}const f=await c.json();s.value=f.variables,u(),Xe(s,()=>{r()},{deep:!0})}),(c,f)=>(v(),b("div",pO,[a("div",gO,[R(qn),a("div",vO,[a("button",{class:"button is-small",onClick:i}," Add "),a("button",{class:"button is-small is-primary",disabled:!ce(o),onClick:d}," Save ",8,yO)])],512),a("div",bO,[a("div",wO,[SO,$O,a("table",CO,[EO,a("tbody",null,[(v(!0),b(ie,null,ye(s.value,(m,p)=>(v(),b("tr",{key:p},[a("td",null,[R(kt,{modelValue:m.name,"onUpdate:modelValue":g=>m.name=g},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[R(kt,{modelValue:m.value,"onUpdate:modelValue":g=>m.value=g},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[R(wo,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:g=>l(p)},{default:wt(()=>[_O]),_:2},1032,["onDoubleclick"])])]))),128))])])])])]))}});var TO=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function DO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zf(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t}var Kf={exports:{}},AO=zf(fg);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qu(Object(n),!0).forEach(function(s){OO(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yi=function(t){return typeof t}:Yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function OO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(){return dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dn.apply(this,arguments)}function kO(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function PO(e,t){if(e==null)return{};var n=kO(e,t),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)s=l[o],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function VO(e){return RO(e)||MO(e)||UO(e)||NO()}function RO(e){if(Array.isArray(e))return Jl(e)}function MO(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UO(e,t){if(!!e){if(typeof e=="string")return Jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jl(e,t)}}function Jl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function NO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xO="1.14.0";function Gn(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var es=Gn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_i=Gn(/Edge/i),Zu=Gn(/firefox/i),Jo=Gn(/safari/i)&&!Gn(/chrome/i)&&!Gn(/android/i),Gf=Gn(/iP(ad|od|hone)/i),LO=Gn(/chrome/i)&&Gn(/android/i),Jf={capture:!1,passive:!1};function Ye(e,t,n){e.addEventListener(t,n,!es&&Jf)}function Je(e,t,n){e.removeEventListener(t,n,!es&&Jf)}function ca(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function FO(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function gn(e,t,n,s){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ca(e,t):ca(e,t))||s&&e===n)return e;if(e===n)break}while(e=FO(e))}return null}var qu=/\s+/g;function mt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(qu," ").replace(" "+t+" "," ");e.className=(s+(n?" "+t:"")).replace(qu," ")}}function Ee(e,t,n){var s=e&&e.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=n+(typeof n=="string"?"":"px")}}function Us(e,t){var n="";if(typeof e=="string")n=e;else do{var s=Ee(e,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Yf(e,t,n){if(e){var s=e.getElementsByTagName(t),o=0,l=s.length;if(n)for(;o<l;o++)n(s[o],o);return s}return[]}function Vn(){var e=document.scrollingElement;return e||document.documentElement}function ht(e,t,n,s,o){if(!(!e.getBoundingClientRect&&e!==window)){var l,i,r,u,d,h,c;if(e!==window&&e.parentNode&&e!==Vn()?(l=e.getBoundingClientRect(),i=l.top,r=l.left,u=l.bottom,d=l.right,h=l.height,c=l.width):(i=0,r=0,u=window.innerHeight,d=window.innerWidth,h=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!es))do if(o&&o.getBoundingClientRect&&(Ee(o,"transform")!=="none"||n&&Ee(o,"position")!=="static")){var f=o.getBoundingClientRect();i-=f.top+parseInt(Ee(o,"border-top-width")),r-=f.left+parseInt(Ee(o,"border-left-width")),u=i+l.height,d=r+l.width;break}while(o=o.parentNode);if(s&&e!==window){var m=Us(o||e),p=m&&m.a,g=m&&m.d;m&&(i/=g,r/=p,c/=p,h/=g,u=i+h,d=r+c)}return{top:i,left:r,bottom:u,right:d,width:c,height:h}}}function ed(e,t,n){for(var s=ds(e,!0),o=ht(e)[t];s;){var l=ht(s)[n],i=void 0;if(n==="top"||n==="left"?i=o>=l:i=o<=l,!i)return s;if(s===Vn())break;s=ds(s,!1)}return!1}function po(e,t,n,s){for(var o=0,l=0,i=e.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==Ue.ghost&&(s||i[l]!==Ue.dragged)&&gn(i[l],n.draggable,e,!1)){if(o===t)return i[l];o++}l++}return null}function Ur(e,t){for(var n=e.lastElementChild;n&&(n===Ue.ghost||Ee(n,"display")==="none"||t&&!ca(n,t));)n=n.previousElementSibling;return n||null}function yt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ue.clone&&(!t||ca(e,t))&&n++;return n}function td(e){var t=0,n=0,s=Vn();if(e)do{var o=Us(e),l=o.a,i=o.d;t+=e.scrollLeft*l,n+=e.scrollTop*i}while(e!==s&&(e=e.parentNode));return[t,n]}function BO(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[n][s])return Number(n)}return-1}function ds(e,t){if(!e||!e.getBoundingClientRect)return Vn();var n=e,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Ee(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Vn();if(s||t)return n;s=!0}}while(n=n.parentNode);return Vn()}function HO(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function dl(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Yo;function Xf(e,t){return function(){if(!Yo){var n=arguments,s=this;n.length===1?e.call(s,n[0]):e.apply(s,n),Yo=setTimeout(function(){Yo=void 0},t)}}}function WO(){clearTimeout(Yo),Yo=void 0}function Qf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Nr(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function nd(e,t){Ee(e,"position","absolute"),Ee(e,"top",t.top),Ee(e,"left",t.left),Ee(e,"width",t.width),Ee(e,"height",t.height)}function cl(e){Ee(e,"position",""),Ee(e,"top",""),Ee(e,"left",""),Ee(e,"width",""),Ee(e,"height","")}var Mt="Sortable"+new Date().getTime();function jO(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(o){if(!(Ee(o,"display")==="none"||o===Ue.ghost)){e.push({target:o,rect:ht(o)});var l=Mn({},e[e.length-1].rect);if(o.thisAnimationDuration){var i=Us(o,!0);i&&(l.top-=i.f,l.left-=i.e)}o.fromRect=l}})}},addAnimationState:function(s){e.push(s)},removeAnimationState:function(s){e.splice(BO(e,{target:s}),1)},animateAll:function(s){var o=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var l=!1,i=0;e.forEach(function(r){var u=0,d=r.target,h=d.fromRect,c=ht(d),f=d.prevFromRect,m=d.prevToRect,p=r.rect,g=Us(d,!0);g&&(c.top-=g.f,c.left-=g.e),d.toRect=c,d.thisAnimationDuration&&dl(f,c)&&!dl(h,c)&&(p.top-c.top)/(p.left-c.left)===(h.top-c.top)/(h.left-c.left)&&(u=KO(p,f,m,o.options)),dl(c,h)||(d.prevFromRect=h,d.prevToRect=c,u||(u=o.options.animation),o.animate(d,p,c,u)),u&&(l=!0,i=Math.max(i,u),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},u),d.thisAnimationDuration=u)}),clearTimeout(t),l?t=setTimeout(function(){typeof s=="function"&&s()},i):typeof s=="function"&&s(),e=[]},animate:function(s,o,l,i){if(i){Ee(s,"transition",""),Ee(s,"transform","");var r=Us(this.el),u=r&&r.a,d=r&&r.d,h=(o.left-l.left)/(u||1),c=(o.top-l.top)/(d||1);s.animatingX=!!h,s.animatingY=!!c,Ee(s,"transform","translate3d("+h+"px,"+c+"px,0)"),this.forRepaintDummy=zO(s),Ee(s,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Ee(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ee(s,"transition",""),Ee(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},i)}}}}function zO(e){return e.offsetWidth}function KO(e,t,n,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*s.animation}var Gs=[],fl={initializeByDefault:!0},Ii={mount:function(t){for(var n in fl)fl.hasOwnProperty(n)&&!(n in t)&&(t[n]=fl[n]);Gs.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Gs.push(t)},pluginEvent:function(t,n,s){var o=this;this.eventCanceled=!1,s.cancel=function(){o.eventCanceled=!0};var l=t+"Global";Gs.forEach(function(i){!n[i.pluginName]||(n[i.pluginName][l]&&n[i.pluginName][l](Mn({sortable:n},s)),n.options[i.pluginName]&&n[i.pluginName][t]&&n[i.pluginName][t](Mn({sortable:n},s)))})},initializePlugins:function(t,n,s,o){Gs.forEach(function(r){var u=r.pluginName;if(!(!t.options[u]&&!r.initializeByDefault)){var d=new r(t,n,t.options);d.sortable=t,d.options=t.options,t[u]=d,dn(s,d.defaults)}});for(var l in t.options)if(!!t.options.hasOwnProperty(l)){var i=this.modifyOption(t,l,t.options[l]);typeof i!="undefined"&&(t.options[l]=i)}},getEventProperties:function(t,n){var s={};return Gs.forEach(function(o){typeof o.eventProperties=="function"&&dn(s,o.eventProperties.call(n[o.pluginName],t))}),s},modifyOption:function(t,n,s){var o;return Gs.forEach(function(l){!t[l.pluginName]||l.optionListeners&&typeof l.optionListeners[n]=="function"&&(o=l.optionListeners[n].call(t[l.pluginName],s))}),o}};function Vo(e){var t=e.sortable,n=e.rootEl,s=e.name,o=e.targetEl,l=e.cloneEl,i=e.toEl,r=e.fromEl,u=e.oldIndex,d=e.newIndex,h=e.oldDraggableIndex,c=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Mt],!!t){var g,S=t.options,w="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!es&&!_i?g=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(s,!0,!0)),g.to=i||n,g.from=r||n,g.item=o||n,g.clone=l,g.oldIndex=u,g.newIndex=d,g.oldDraggableIndex=h,g.newDraggableIndex=c,g.originalEvent=f,g.pullMode=m?m.lastPutMode:void 0;var y=Mn(Mn({},p),Ii.getEventProperties(s,t));for(var $ in y)g[$]=y[$];n&&n.dispatchEvent(g),S[w]&&S[w].call(t,g)}}var GO=["evt"],Ft=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.evt,l=PO(s,GO);Ii.pluginEvent.bind(Ue)(t,n,Mn({dragEl:he,parentEl:gt,ghostEl:ze,rootEl:ft,nextEl:Is,lastDownEl:Xi,cloneEl:vt,cloneHidden:us,dragStarted:Ro,putSortable:Dt,activeSortable:Ue.active,originalEvent:o,oldIndex:qs,oldDraggableIndex:Xo,newIndex:Xt,newDraggableIndex:rs,hideGhostForTarget:th,unhideGhostForTarget:nh,cloneNowHidden:function(){us=!0},cloneNowShown:function(){us=!1},dispatchSortableEvent:function(r){xt({sortable:n,name:r,originalEvent:o})}},l))};function xt(e){Vo(Mn({putSortable:Dt,cloneEl:vt,targetEl:he,rootEl:ft,oldIndex:qs,oldDraggableIndex:Xo,newIndex:Xt,newDraggableIndex:rs},e))}var he,gt,ze,ft,Is,Xi,vt,us,qs,Xt,Xo,rs,Li,Dt,Zs=!1,fa=!1,ha=[],$s,hn,hl,ml,sd,od,Ro,Js,Qo,Zo=!1,Fi=!1,Qi,Pt,pl=[],Yl=!1,ma=[],Ga=typeof document!="undefined",Bi=Gf,id=_i||es?"cssFloat":"float",JO=Ga&&!LO&&!Gf&&"draggable"in document.createElement("div"),Zf=function(){if(!!Ga){if(es)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),qf=function(t,n){var s=Ee(t),o=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=po(t,0,n),i=po(t,1,n),r=l&&Ee(l),u=i&&Ee(i),d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+ht(l).width,h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+ht(i).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var c=r.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||d>=o&&s[id]==="none"||i&&s[id]==="none"&&d+h>o)?"vertical":"horizontal"},YO=function(t,n,s){var o=s?t.left:t.top,l=s?t.right:t.bottom,i=s?t.width:t.height,r=s?n.left:n.top,u=s?n.right:n.bottom,d=s?n.width:n.height;return o===r||l===u||o+i/2===r+d/2},XO=function(t,n){var s;return ha.some(function(o){var l=o[Mt].options.emptyInsertThreshold;if(!(!l||Ur(o))){var i=ht(o),r=t>=i.left-l&&t<=i.right+l,u=n>=i.top-l&&n<=i.bottom+l;if(r&&u)return s=o}}),s},eh=function(t){function n(l,i){return function(r,u,d,h){var c=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(l==null&&(i||c))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return n(l(r,u,d,h),i)(r,u,d,h);var f=(i?r:u).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var s={},o=t.group;(!o||Yi(o)!="object")&&(o={name:o}),s.name=o.name,s.checkPull=n(o.pull,!0),s.checkPut=n(o.put),s.revertClone=o.revertClone,t.group=s},th=function(){!Zf&&ze&&Ee(ze,"display","none")},nh=function(){!Zf&&ze&&Ee(ze,"display","")};Ga&&document.addEventListener("click",function(e){if(fa)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),fa=!1,!1},!0);var Cs=function(t){if(he){t=t.touches?t.touches[0]:t;var n=XO(t.clientX,t.clientY);if(n){var s={};for(var o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[Mt]._onDragOver(s)}}},QO=function(t){he&&he.parentNode[Mt]._isOutsideThisEl(t.target)};function Ue(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=dn({},t),e[Mt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qf(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ue.supportPointer!==!1&&"PointerEvent"in window&&!Jo,emptyInsertThreshold:5};Ii.initializePlugins(this,e,n);for(var s in n)!(s in t)&&(t[s]=n[s]);eh(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:JO,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ye(e,"pointerdown",this._onTapStart):(Ye(e,"mousedown",this._onTapStart),Ye(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ye(e,"dragover",this),Ye(e,"dragenter",this)),ha.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),dn(this,jO())}Ue.prototype={constructor:Ue,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Js=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,he):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,s=this.el,o=this.options,l=o.preventOnFilter,i=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(r||t).target,d=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,h=o.filter;if(i8(s),!he&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||o.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Jo&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=gn(u,o.draggable,s,!1),!(u&&u.animated)&&Xi!==u)){if(qs=yt(u),Xo=yt(u,o.draggable),typeof h=="function"){if(h.call(this,t,u,this)){xt({sortable:n,rootEl:d,name:"filter",targetEl:u,toEl:s,fromEl:s}),Ft("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(c){if(c=gn(d,c.trim(),s,!1),c)return xt({sortable:n,rootEl:c,name:"filter",targetEl:u,fromEl:s,toEl:s}),Ft("filter",n,{evt:t}),!0}),h)){l&&t.cancelable&&t.preventDefault();return}o.handle&&!gn(d,o.handle,s,!1)||this._prepareDragStart(t,r,u)}}},_prepareDragStart:function(t,n,s){var o=this,l=o.el,i=o.options,r=l.ownerDocument,u;if(s&&!he&&s.parentNode===l){var d=ht(s);if(ft=l,he=s,gt=he.parentNode,Is=he.nextSibling,Xi=s,Li=i.group,Ue.dragged=he,$s={target:he,clientX:(n||t).clientX,clientY:(n||t).clientY},sd=$s.clientX-d.left,od=$s.clientY-d.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,he.style["will-change"]="all",u=function(){if(Ft("delayEnded",o,{evt:t}),Ue.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Zu&&o.nativeDraggable&&(he.draggable=!0),o._triggerDragStart(t,n),xt({sortable:o,name:"choose",originalEvent:t}),mt(he,i.chosenClass,!0)},i.ignore.split(",").forEach(function(h){Yf(he,h.trim(),gl)}),Ye(r,"dragover",Cs),Ye(r,"mousemove",Cs),Ye(r,"touchmove",Cs),Ye(r,"mouseup",o._onDrop),Ye(r,"touchend",o._onDrop),Ye(r,"touchcancel",o._onDrop),Zu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,he.draggable=!0),Ft("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(_i||es))){if(Ue.eventCanceled){this._onDrop();return}Ye(r,"mouseup",o._disableDelayedDrag),Ye(r,"touchend",o._disableDelayedDrag),Ye(r,"touchcancel",o._disableDelayedDrag),Ye(r,"mousemove",o._delayedDragTouchMoveHandler),Ye(r,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&Ye(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){he&&gl(he),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Je(t,"mouseup",this._disableDelayedDrag),Je(t,"touchend",this._disableDelayedDrag),Je(t,"touchcancel",this._disableDelayedDrag),Je(t,"mousemove",this._delayedDragTouchMoveHandler),Je(t,"touchmove",this._delayedDragTouchMoveHandler),Je(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ye(document,"pointermove",this._onTouchMove):n?Ye(document,"touchmove",this._onTouchMove):Ye(document,"mousemove",this._onTouchMove):(Ye(he,"dragend",this),Ye(ft,"dragstart",this._onDragStart));try{document.selection?Zi(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Zs=!1,ft&&he){Ft("dragStarted",this,{evt:n}),this.nativeDraggable&&Ye(document,"dragover",QO);var s=this.options;!t&&mt(he,s.dragClass,!1),mt(he,s.ghostClass,!0),Ue.active=this,t&&this._appendGhost(),xt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(hn){this._lastX=hn.clientX,this._lastY=hn.clientY,th();for(var t=document.elementFromPoint(hn.clientX,hn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(hn.clientX,hn.clientY),t!==n);)n=t;if(he.parentNode[Mt]._isOutsideThisEl(t),n)do{if(n[Mt]){var s=void 0;if(s=n[Mt]._onDragOver({clientX:hn.clientX,clientY:hn.clientY,target:t,rootEl:n}),s&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);nh()}},_onTouchMove:function(t){if($s){var n=this.options,s=n.fallbackTolerance,o=n.fallbackOffset,l=t.touches?t.touches[0]:t,i=ze&&Us(ze,!0),r=ze&&i&&i.a,u=ze&&i&&i.d,d=Bi&&Pt&&td(Pt),h=(l.clientX-$s.clientX+o.x)/(r||1)+(d?d[0]-pl[0]:0)/(r||1),c=(l.clientY-$s.clientY+o.y)/(u||1)+(d?d[1]-pl[1]:0)/(u||1);if(!Ue.active&&!Zs){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(ze){i?(i.e+=h-(hl||0),i.f+=c-(ml||0)):i={a:1,b:0,c:0,d:1,e:h,f:c};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Ee(ze,"webkitTransform",f),Ee(ze,"mozTransform",f),Ee(ze,"msTransform",f),Ee(ze,"transform",f),hl=h,ml=c,hn=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ze){var t=this.options.fallbackOnBody?document.body:ft,n=ht(he,!0,Bi,!0,t),s=this.options;if(Bi){for(Pt=t;Ee(Pt,"position")==="static"&&Ee(Pt,"transform")==="none"&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=Vn()),n.top+=Pt.scrollTop,n.left+=Pt.scrollLeft):Pt=Vn(),pl=td(Pt)}ze=he.cloneNode(!0),mt(ze,s.ghostClass,!1),mt(ze,s.fallbackClass,!0),mt(ze,s.dragClass,!0),Ee(ze,"transition",""),Ee(ze,"transform",""),Ee(ze,"box-sizing","border-box"),Ee(ze,"margin",0),Ee(ze,"top",n.top),Ee(ze,"left",n.left),Ee(ze,"width",n.width),Ee(ze,"height",n.height),Ee(ze,"opacity","0.8"),Ee(ze,"position",Bi?"absolute":"fixed"),Ee(ze,"zIndex","100000"),Ee(ze,"pointerEvents","none"),Ue.ghost=ze,t.appendChild(ze),Ee(ze,"transform-origin",sd/parseInt(ze.style.width)*100+"% "+od/parseInt(ze.style.height)*100+"%")}},_onDragStart:function(t,n){var s=this,o=t.dataTransfer,l=s.options;if(Ft("dragStart",this,{evt:t}),Ue.eventCanceled){this._onDrop();return}Ft("setupClone",this),Ue.eventCanceled||(vt=Nr(he),vt.draggable=!1,vt.style["will-change"]="",this._hideClone(),mt(vt,this.options.chosenClass,!1),Ue.clone=vt),s.cloneId=Zi(function(){Ft("clone",s),!Ue.eventCanceled&&(s.options.removeCloneOnHide||ft.insertBefore(vt,he),s._hideClone(),xt({sortable:s,name:"clone"}))}),!n&&mt(he,l.dragClass,!0),n?(fa=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Je(document,"mouseup",s._onDrop),Je(document,"touchend",s._onDrop),Je(document,"touchcancel",s._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(s,o,he)),Ye(document,"drop",s),Ee(he,"transform","translateZ(0)")),Zs=!0,s._dragStartId=Zi(s._dragStarted.bind(s,n,t)),Ye(document,"selectstart",s),Ro=!0,Jo&&Ee(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,s=t.target,o,l,i,r=this.options,u=r.group,d=Ue.active,h=Li===u,c=r.sort,f=Dt||d,m,p=this,g=!1;if(Yl)return;function S(we,Ke){Ft(we,p,Mn({evt:t,isOwner:h,axis:m?"vertical":"horizontal",revert:i,dragRect:o,targetRect:l,canSort:c,fromSortable:f,target:s,completed:y,onMove:function(Fe,Ge){return Hi(ft,n,he,o,Fe,ht(Fe),t,Ge)},changed:$},Ke))}function w(){S("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function y(we){return S("dragOverCompleted",{insertion:we}),we&&(h?d._hideClone():d._showClone(p),p!==f&&(mt(he,Dt?Dt.options.ghostClass:d.options.ghostClass,!1),mt(he,r.ghostClass,!0)),Dt!==p&&p!==Ue.active?Dt=p:p===Ue.active&&Dt&&(Dt=null),f===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){S("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===he&&!he.animated||s===n&&!s.animated)&&(Js=null),!r.dragoverBubble&&!t.rootEl&&s!==document&&(he.parentNode[Mt]._isOutsideThisEl(t.target),!we&&Cs(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function $(){Xt=yt(he),rs=yt(he,r.draggable),xt({sortable:p,name:"change",toEl:n,newIndex:Xt,newDraggableIndex:rs,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=gn(s,r.draggable,n,!0),S("dragOver"),Ue.eventCanceled)return g;if(he.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return y(!1);if(fa=!1,d&&!r.disabled&&(h?c||(i=gt!==ft):Dt===this||(this.lastPutMode=Li.checkPull(this,d,he,t))&&u.checkPut(this,d,he,t))){if(m=this._getDirection(t,s)==="vertical",o=ht(he),S("dragOverValid"),Ue.eventCanceled)return g;if(i)return gt=ft,w(),this._hideClone(),S("revert"),Ue.eventCanceled||(Is?ft.insertBefore(he,Is):ft.appendChild(he)),y(!0);var C=Ur(n,r.draggable);if(!C||t8(t,m,this)&&!C.animated){if(C===he)return y(!1);if(C&&n===t.target&&(s=C),s&&(l=ht(s)),Hi(ft,n,he,o,s,l,t,!!s)!==!1)return w(),n.appendChild(he),gt=n,$(),y(!0)}else if(C&&e8(t,m,this)){var I=po(n,0,r,!0);if(I===he)return y(!1);if(s=I,l=ht(s),Hi(ft,n,he,o,s,l,t,!1)!==!1)return w(),n.insertBefore(he,I),gt=n,$(),y(!0)}else if(s.parentNode===n){l=ht(s);var T=0,A,O=he.parentNode!==n,D=!YO(he.animated&&he.toRect||o,s.animated&&s.toRect||l,m),x=m?"top":"left",W=ed(s,"top","top")||ed(he,"top","top"),K=W?W.scrollTop:void 0;Js!==s&&(A=l[x],Zo=!1,Fi=!D&&r.invertSwap||O),T=n8(t,s,l,m,D?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Fi,Js===s);var L;if(T!==0){var k=yt(he);do k-=T,L=gt.children[k];while(L&&(Ee(L,"display")==="none"||L===ze))}if(T===0||L===s)return y(!1);Js=s,Qo=T;var fe=s.nextElementSibling,j=!1;j=T===1;var ue=Hi(ft,n,he,o,s,l,t,j);if(ue!==!1)return(ue===1||ue===-1)&&(j=ue===1),Yl=!0,setTimeout(qO,30),w(),j&&!fe?n.appendChild(he):s.parentNode.insertBefore(he,j?fe:s),W&&Qf(W,0,K-W.scrollTop),gt=he.parentNode,A!==void 0&&!Fi&&(Qi=Math.abs(A-ht(s)[x])),$(),y(!0)}if(n.contains(he))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Je(document,"mousemove",this._onTouchMove),Je(document,"touchmove",this._onTouchMove),Je(document,"pointermove",this._onTouchMove),Je(document,"dragover",Cs),Je(document,"mousemove",Cs),Je(document,"touchmove",Cs)},_offUpEvents:function(){var t=this.el.ownerDocument;Je(t,"mouseup",this._onDrop),Je(t,"touchend",this._onDrop),Je(t,"pointerup",this._onDrop),Je(t,"touchcancel",this._onDrop),Je(document,"selectstart",this)},_onDrop:function(t){var n=this.el,s=this.options;if(Xt=yt(he),rs=yt(he,s.draggable),Ft("drop",this,{evt:t}),gt=he&&he.parentNode,Xt=yt(he),rs=yt(he,s.draggable),Ue.eventCanceled){this._nulling();return}Zs=!1,Fi=!1,Zo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xl(this.cloneId),Xl(this._dragStartId),this.nativeDraggable&&(Je(document,"drop",this),Je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jo&&Ee(document.body,"user-select",""),Ee(he,"transform",""),t&&(Ro&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),ze&&ze.parentNode&&ze.parentNode.removeChild(ze),(ft===gt||Dt&&Dt.lastPutMode!=="clone")&&vt&&vt.parentNode&&vt.parentNode.removeChild(vt),he&&(this.nativeDraggable&&Je(he,"dragend",this),gl(he),he.style["will-change"]="",Ro&&!Zs&&mt(he,Dt?Dt.options.ghostClass:this.options.ghostClass,!1),mt(he,this.options.chosenClass,!1),xt({sortable:this,name:"unchoose",toEl:gt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ft!==gt?(Xt>=0&&(xt({rootEl:gt,name:"add",toEl:gt,fromEl:ft,originalEvent:t}),xt({sortable:this,name:"remove",toEl:gt,originalEvent:t}),xt({rootEl:gt,name:"sort",toEl:gt,fromEl:ft,originalEvent:t}),xt({sortable:this,name:"sort",toEl:gt,originalEvent:t})),Dt&&Dt.save()):Xt!==qs&&Xt>=0&&(xt({sortable:this,name:"update",toEl:gt,originalEvent:t}),xt({sortable:this,name:"sort",toEl:gt,originalEvent:t})),Ue.active&&((Xt==null||Xt===-1)&&(Xt=qs,rs=Xo),xt({sortable:this,name:"end",toEl:gt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ft("nulling",this),ft=he=gt=ze=Is=vt=Xi=us=$s=hn=Ro=Xt=rs=qs=Xo=Js=Qo=Dt=Li=Ue.dragged=Ue.ghost=Ue.clone=Ue.active=null,ma.forEach(function(t){t.checked=!0}),ma.length=hl=ml=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":he&&(this._onDragOver(t),ZO(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,s=this.el.children,o=0,l=s.length,i=this.options;o<l;o++)n=s[o],gn(n,i.draggable,this.el,!1)&&t.push(n.getAttribute(i.dataIdAttr)||o8(n));return t},sort:function(t,n){var s={},o=this.el;this.toArray().forEach(function(l,i){var r=o.children[i];gn(r,this.options.draggable,o,!1)&&(s[l]=r)},this),n&&this.captureAnimationState(),t.forEach(function(l){s[l]&&(o.removeChild(s[l]),o.appendChild(s[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return gn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var s=this.options;if(n===void 0)return s[t];var o=Ii.modifyOption(this,t,n);typeof o!="undefined"?s[t]=o:s[t]=n,t==="group"&&eh(s)},destroy:function(){Ft("destroy",this);var t=this.el;t[Mt]=null,Je(t,"mousedown",this._onTapStart),Je(t,"touchstart",this._onTapStart),Je(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Je(t,"dragover",this),Je(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ha.splice(ha.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!us){if(Ft("hideClone",this),Ue.eventCanceled)return;Ee(vt,"display","none"),this.options.removeCloneOnHide&&vt.parentNode&&vt.parentNode.removeChild(vt),us=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(us){if(Ft("showClone",this),Ue.eventCanceled)return;he.parentNode==ft&&!this.options.group.revertClone?ft.insertBefore(vt,he):Is?ft.insertBefore(vt,Is):ft.appendChild(vt),this.options.group.revertClone&&this.animate(he,vt),Ee(vt,"display",""),us=!1}}};function ZO(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Hi(e,t,n,s,o,l,i,r){var u,d=e[Mt],h=d.options.onMove,c;return window.CustomEvent&&!es&&!_i?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=s,u.related=o||t,u.relatedRect=l||ht(t),u.willInsertAfter=r,u.originalEvent=i,e.dispatchEvent(u),h&&(c=h.call(d,u,i)),c}function gl(e){e.draggable=!1}function qO(){Yl=!1}function e8(e,t,n){var s=ht(po(n.el,0,n.options,!0)),o=10;return t?e.clientX<s.left-o||e.clientY<s.top&&e.clientX<s.right:e.clientY<s.top-o||e.clientY<s.bottom&&e.clientX<s.left}function t8(e,t,n){var s=ht(Ur(n.el,n.options.draggable)),o=10;return t?e.clientX>s.right+o||e.clientX<=s.right&&e.clientY>s.bottom&&e.clientX>=s.left:e.clientX>s.right&&e.clientY>s.top||e.clientX<=s.right&&e.clientY>s.bottom+o}function n8(e,t,n,s,o,l,i,r){var u=s?e.clientY:e.clientX,d=s?n.height:n.width,h=s?n.top:n.left,c=s?n.bottom:n.right,f=!1;if(!i){if(r&&Qi<d*o){if(!Zo&&(Qo===1?u>h+d*l/2:u<c-d*l/2)&&(Zo=!0),Zo)f=!0;else if(Qo===1?u<h+Qi:u>c-Qi)return-Qo}else if(u>h+d*(1-o)/2&&u<c-d*(1-o)/2)return s8(t)}return f=f||i,f&&(u<h+d*l/2||u>c-d*l/2)?u>h+d/2?1:-1:0}function s8(e){return yt(he)<yt(e)?1:-1}function o8(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,s=0;n--;)s+=t.charCodeAt(n);return s.toString(36)}function i8(e){ma.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var s=t[n];s.checked&&ma.push(s)}}function Zi(e){return setTimeout(e,0)}function Xl(e){return clearTimeout(e)}Ga&&Ye(document,"touchmove",function(e){(Ue.active||Zs)&&e.cancelable&&e.preventDefault()});Ue.utils={on:Ye,off:Je,css:Ee,find:Yf,is:function(t,n){return!!gn(t,n,t,!1)},extend:HO,throttle:Xf,closest:gn,toggleClass:mt,clone:Nr,index:yt,nextTick:Zi,cancelNextTick:Xl,detectDirection:qf,getChild:po};Ue.get=function(e){return e[Mt]};Ue.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Ue.utils=Mn(Mn({},Ue.utils),s.utils)),Ii.mount(s)})};Ue.create=function(e,t){return new Ue(e,t)};Ue.version=xO;var St=[],Mo,Ql,Zl=!1,vl,yl,pa,Uo;function a8(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ye(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Ye(document,"touchmove",this._handleFallbackAutoScroll):Ye(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Je(document,"dragover",this._handleAutoScroll):(Je(document,"pointermove",this._handleFallbackAutoScroll),Je(document,"touchmove",this._handleFallbackAutoScroll),Je(document,"mousemove",this._handleFallbackAutoScroll)),ad(),qi(),WO()},nulling:function(){pa=Ql=Mo=Zl=Uo=vl=yl=null,St.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var o=this,l=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=document.elementFromPoint(l,i);if(pa=n,s||this.options.forceAutoScrollFallback||_i||es||Jo){bl(n,this.options,r,s);var u=ds(r,!0);Zl&&(!Uo||l!==vl||i!==yl)&&(Uo&&ad(),Uo=setInterval(function(){var d=ds(document.elementFromPoint(l,i),!0);d!==u&&(u=d,qi()),bl(n,o.options,d,s)},10),vl=l,yl=i)}else{if(!this.options.bubbleScroll||ds(r,!0)===Vn()){qi();return}bl(n,this.options,ds(r,!1),!1)}}},dn(e,{pluginName:"scroll",initializeByDefault:!0})}function qi(){St.forEach(function(e){clearInterval(e.pid)}),St=[]}function ad(){clearInterval(Uo)}var bl=Xf(function(e,t,n,s){if(!!t.scroll){var o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,r=t.scrollSpeed,u=Vn(),d=!1,h;Ql!==n&&(Ql=n,qi(),Mo=t.scroll,h=t.scrollFn,Mo===!0&&(Mo=ds(n,!0)));var c=0,f=Mo;do{var m=f,p=ht(m),g=p.top,S=p.bottom,w=p.left,y=p.right,$=p.width,C=p.height,I=void 0,T=void 0,A=m.scrollWidth,O=m.scrollHeight,D=Ee(m),x=m.scrollLeft,W=m.scrollTop;m===u?(I=$<A&&(D.overflowX==="auto"||D.overflowX==="scroll"||D.overflowX==="visible"),T=C<O&&(D.overflowY==="auto"||D.overflowY==="scroll"||D.overflowY==="visible")):(I=$<A&&(D.overflowX==="auto"||D.overflowX==="scroll"),T=C<O&&(D.overflowY==="auto"||D.overflowY==="scroll"));var K=I&&(Math.abs(y-o)<=i&&x+$<A)-(Math.abs(w-o)<=i&&!!x),L=T&&(Math.abs(S-l)<=i&&W+C<O)-(Math.abs(g-l)<=i&&!!W);if(!St[c])for(var k=0;k<=c;k++)St[k]||(St[k]={});(St[c].vx!=K||St[c].vy!=L||St[c].el!==m)&&(St[c].el=m,St[c].vx=K,St[c].vy=L,clearInterval(St[c].pid),(K!=0||L!=0)&&(d=!0,St[c].pid=setInterval(function(){s&&this.layer===0&&Ue.active._onTouchMove(pa);var fe=St[this.layer].vy?St[this.layer].vy*r:0,j=St[this.layer].vx?St[this.layer].vx*r:0;typeof h=="function"&&h.call(Ue.dragged.parentNode[Mt],j,fe,e,pa,St[this.layer].el)!=="continue"||Qf(St[this.layer].el,j,fe)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&f!==u&&(f=ds(f,!1)));Zl=d}},30),sh=function(t){var n=t.originalEvent,s=t.putSortable,o=t.dragEl,l=t.activeSortable,i=t.dispatchSortableEvent,r=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(!!n){var d=s||l;r();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(h.clientX,h.clientY);u(),d&&!d.el.contains(c)&&(i("spill"),this.onSpill({dragEl:o,putSortable:s}))}};function xr(){}xr.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var o=po(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:sh};dn(xr,{pluginName:"revertOnSpill"});function Lr(){}Lr.prototype={onSpill:function(t){var n=t.dragEl,s=t.putSortable,o=s||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:sh};dn(Lr,{pluginName:"removeOnSpill"});var on;function l8(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var s=n.dragEl;on=s},dragOverValid:function(n){var s=n.completed,o=n.target,l=n.onMove,i=n.activeSortable,r=n.changed,u=n.cancel;if(!!i.options.swap){var d=this.sortable.el,h=this.options;if(o&&o!==d){var c=on;l(o)!==!1?(mt(o,h.swapClass,!0),on=o):on=null,c&&c!==on&&mt(c,h.swapClass,!1)}r(),s(!0),u()}},drop:function(n){var s=n.activeSortable,o=n.putSortable,l=n.dragEl,i=o||this.sortable,r=this.options;on&&mt(on,r.swapClass,!1),on&&(r.swap||o&&o.options.swap)&&l!==on&&(i.captureAnimationState(),i!==s&&s.captureAnimationState(),r8(l,on),i.animateAll(),i!==s&&s.animateAll())},nulling:function(){on=null}},dn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:on}}})}function r8(e,t){var n=e.parentNode,s=t.parentNode,o,l;!n||!s||n.isEqualNode(t)||s.isEqualNode(e)||(o=yt(e),l=yt(t),n.isEqualNode(s)&&o<l&&l++,n.insertBefore(t,n.children[o]),s.insertBefore(e,s.children[l]))}var Be=[],Yt=[],Io,mn,To=!1,Bt=!1,Ys=!1,dt,Do,Wi;function u8(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?Ye(document,"pointerup",this._deselectMultiDrag):(Ye(document,"mouseup",this._deselectMultiDrag),Ye(document,"touchend",this._deselectMultiDrag)),Ye(document,"keydown",this._checkKeyDown),Ye(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,l){var i="";Be.length&&mn===t?Be.forEach(function(r,u){i+=(u?", ":"")+r.textContent}):i=l.textContent,o.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;dt=s},delayEnded:function(){this.isMultiDrag=~Be.indexOf(dt)},setupClone:function(n){var s=n.sortable,o=n.cancel;if(!!this.isMultiDrag){for(var l=0;l<Be.length;l++)Yt.push(Nr(Be[l])),Yt[l].sortableIndex=Be[l].sortableIndex,Yt[l].draggable=!1,Yt[l].style["will-change"]="",mt(Yt[l],this.options.selectedClass,!1),Be[l]===dt&&mt(Yt[l],this.options.chosenClass,!1);s._hideClone(),o()}},clone:function(n){var s=n.sortable,o=n.rootEl,l=n.dispatchSortableEvent,i=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Be.length&&mn===s&&(ld(!0,o),l("clone"),i())},showClone:function(n){var s=n.cloneNowShown,o=n.rootEl,l=n.cancel;!this.isMultiDrag||(ld(!1,o),Yt.forEach(function(i){Ee(i,"display","")}),s(),Wi=!1,l())},hideClone:function(n){var s=this;n.sortable;var o=n.cloneNowHidden,l=n.cancel;!this.isMultiDrag||(Yt.forEach(function(i){Ee(i,"display","none"),s.options.removeCloneOnHide&&i.parentNode&&i.parentNode.removeChild(i)}),o(),Wi=!0,l())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&mn&&mn.multiDrag._deselectMultiDrag(),Be.forEach(function(s){s.sortableIndex=yt(s)}),Be=Be.sort(function(s,o){return s.sortableIndex-o.sortableIndex}),Ys=!0},dragStarted:function(n){var s=this,o=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){Be.forEach(function(i){i!==dt&&Ee(i,"position","absolute")});var l=ht(dt,!1,!0,!0);Be.forEach(function(i){i!==dt&&nd(i,l)}),Bt=!0,To=!0}o.animateAll(function(){Bt=!1,To=!1,s.options.animation&&Be.forEach(function(i){cl(i)}),s.options.sort&&ji()})}},dragOver:function(n){var s=n.target,o=n.completed,l=n.cancel;Bt&&~Be.indexOf(s)&&(o(!1),l())},revert:function(n){var s=n.fromSortable,o=n.rootEl,l=n.sortable,i=n.dragRect;Be.length>1&&(Be.forEach(function(r){l.addAnimationState({target:r,rect:Bt?ht(r):i}),cl(r),r.fromRect=i,s.removeAnimationState(r)}),Bt=!1,d8(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(n){var s=n.sortable,o=n.isOwner,l=n.insertion,i=n.activeSortable,r=n.parentEl,u=n.putSortable,d=this.options;if(l){if(o&&i._hideClone(),To=!1,d.animation&&Be.length>1&&(Bt||!o&&!i.options.sort&&!u)){var h=ht(dt,!1,!0,!0);Be.forEach(function(f){f!==dt&&(nd(f,h),r.appendChild(f))}),Bt=!0}if(!o)if(Bt||ji(),Be.length>1){var c=Wi;i._showClone(s),i.options.animation&&!Wi&&c&&Yt.forEach(function(f){i.addAnimationState({target:f,rect:Do}),f.fromRect=Do,f.thisAnimationDuration=null})}else i._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,o=n.isOwner,l=n.activeSortable;if(Be.forEach(function(r){r.thisAnimationDuration=null}),l.options.animation&&!o&&l.multiDrag.isMultiDrag){Do=dn({},s);var i=Us(dt,!0);Do.top-=i.f,Do.left-=i.e}},dragOverAnimationComplete:function(){Bt&&(Bt=!1,ji())},drop:function(n){var s=n.originalEvent,o=n.rootEl,l=n.parentEl,i=n.sortable,r=n.dispatchSortableEvent,u=n.oldIndex,d=n.putSortable,h=d||this.sortable;if(!!s){var c=this.options,f=l.children;if(!Ys)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),mt(dt,c.selectedClass,!~Be.indexOf(dt)),~Be.indexOf(dt))Be.splice(Be.indexOf(dt),1),Io=null,Vo({sortable:i,rootEl:o,name:"deselect",targetEl:dt,originalEvt:s});else{if(Be.push(dt),Vo({sortable:i,rootEl:o,name:"select",targetEl:dt,originalEvt:s}),s.shiftKey&&Io&&i.el.contains(Io)){var m=yt(Io),p=yt(dt);if(~m&&~p&&m!==p){var g,S;for(p>m?(S=m,g=p):(S=p,g=m+1);S<g;S++)~Be.indexOf(f[S])||(mt(f[S],c.selectedClass,!0),Be.push(f[S]),Vo({sortable:i,rootEl:o,name:"select",targetEl:f[S],originalEvt:s}))}}else Io=dt;mn=h}if(Ys&&this.isMultiDrag){if(Bt=!1,(l[Mt].options.sort||l!==o)&&Be.length>1){var w=ht(dt),y=yt(dt,":not(."+this.options.selectedClass+")");if(!To&&c.animation&&(dt.thisAnimationDuration=null),h.captureAnimationState(),!To&&(c.animation&&(dt.fromRect=w,Be.forEach(function(C){if(C.thisAnimationDuration=null,C!==dt){var I=Bt?ht(C):w;C.fromRect=I,h.addAnimationState({target:C,rect:I})}})),ji(),Be.forEach(function(C){f[y]?l.insertBefore(C,f[y]):l.appendChild(C),y++}),u===yt(dt))){var $=!1;Be.forEach(function(C){if(C.sortableIndex!==yt(C)){$=!0;return}}),$&&r("update")}Be.forEach(function(C){cl(C)}),h.animateAll()}mn=h}(o===l||d&&d.lastPutMode!=="clone")&&Yt.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=Ys=!1,Yt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Je(document,"pointerup",this._deselectMultiDrag),Je(document,"mouseup",this._deselectMultiDrag),Je(document,"touchend",this._deselectMultiDrag),Je(document,"keydown",this._checkKeyDown),Je(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Ys!="undefined"&&Ys)&&mn===this.sortable&&!(n&&gn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Be.length;){var s=Be[0];mt(s,this.options.selectedClass,!1),Be.shift(),Vo({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},dn(e,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[Mt];!s||!s.options.multiDrag||~Be.indexOf(n)||(mn&&mn!==s&&(mn.multiDrag._deselectMultiDrag(),mn=s),mt(n,s.options.selectedClass,!0),Be.push(n))},deselect:function(n){var s=n.parentNode[Mt],o=Be.indexOf(n);!s||!s.options.multiDrag||!~o||(mt(n,s.options.selectedClass,!1),Be.splice(o,1))}},eventProperties:function(){var n=this,s=[],o=[];return Be.forEach(function(l){s.push({multiDragElement:l,index:l.sortableIndex});var i;Bt&&l!==dt?i=-1:Bt?i=yt(l,":not(."+n.options.selectedClass+")"):i=yt(l),o.push({multiDragElement:l,index:i})}),{items:VO(Be),clones:[].concat(Yt),oldIndicies:s,newIndicies:o}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function d8(e,t){Be.forEach(function(n,s){var o=t.children[n.sortableIndex+(e?Number(s):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function ld(e,t){Yt.forEach(function(n,s){var o=t.children[n.sortableIndex+(e?Number(s):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function ji(){Be.forEach(function(e){e!==dt&&e.parentNode&&e.parentNode.removeChild(e)})}Ue.mount(new a8);Ue.mount(Lr,xr);var c8=Object.freeze(Object.defineProperty({__proto__:null,default:Ue,MultiDrag:u8,Sortable:Ue,Swap:l8},Symbol.toStringTag,{value:"Module"})),f8=zf(c8);(function(e,t){(function(s,o){e.exports=o(AO,f8)})(typeof self!="undefined"?self:TO,function(n,s){return function(o){var l={};function i(r){if(l[r])return l[r].exports;var u=l[r]={i:r,l:!1,exports:{}};return o[r].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=o,i.c=l,i.d=function(r,u,d){i.o(r,u)||Object.defineProperty(r,u,{enumerable:!0,get:d})},i.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,u){if(u&1&&(r=i(r)),u&8||u&4&&typeof r=="object"&&r&&r.__esModule)return r;var d=Object.create(null);if(i.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:r}),u&2&&typeof r!="string")for(var h in r)i.d(d,h,function(c){return r[c]}.bind(null,h));return d},i.n=function(r){var u=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(u,"a",u),u},i.o=function(r,u){return Object.prototype.hasOwnProperty.call(r,u)},i.p="",i(i.s="fb15")}({"00ee":function(o,l,i){var r=i("b622"),u=r("toStringTag"),d={};d[u]="z",o.exports=String(d)==="[object z]"},"0366":function(o,l,i){var r=i("1c0b");o.exports=function(u,d,h){if(r(u),d===void 0)return u;switch(h){case 0:return function(){return u.call(d)};case 1:return function(c){return u.call(d,c)};case 2:return function(c,f){return u.call(d,c,f)};case 3:return function(c,f,m){return u.call(d,c,f,m)}}return function(){return u.apply(d,arguments)}}},"057f":function(o,l,i){var r=i("fc6a"),u=i("241c").f,d={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(f){try{return u(f)}catch{return h.slice()}};o.exports.f=function(m){return h&&d.call(m)=="[object Window]"?c(m):u(r(m))}},"06cf":function(o,l,i){var r=i("83ab"),u=i("d1e7"),d=i("5c6c"),h=i("fc6a"),c=i("c04e"),f=i("5135"),m=i("0cfb"),p=Object.getOwnPropertyDescriptor;l.f=r?p:function(S,w){if(S=h(S),w=c(w,!0),m)try{return p(S,w)}catch{}if(f(S,w))return d(!u.f.call(S,w),S[w])}},"0cfb":function(o,l,i){var r=i("83ab"),u=i("d039"),d=i("cc12");o.exports=!r&&!u(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(o,l,i){var r=i("23e7"),u=i("d58f").left,d=i("a640"),h=i("ae40"),c=d("reduce"),f=h("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!f},{reduce:function(p){return u(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(o,l,i){var r=i("c6b6"),u=i("9263");o.exports=function(d,h){var c=d.exec;if(typeof c=="function"){var f=c.call(d,h);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(r(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(d,h)}},"159b":function(o,l,i){var r=i("da84"),u=i("fdbc"),d=i("17c2"),h=i("9112");for(var c in u){var f=r[c],m=f&&f.prototype;if(m&&m.forEach!==d)try{h(m,"forEach",d)}catch{m.forEach=d}}},"17c2":function(o,l,i){var r=i("b727").forEach,u=i("a640"),d=i("ae40"),h=u("forEach"),c=d("forEach");o.exports=!h||!c?function(m){return r(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(o,l,i){var r=i("d066");o.exports=r("document","documentElement")},"1c0b":function(o,l){o.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},"1c7e":function(o,l,i){var r=i("b622"),u=r("iterator"),d=!1;try{var h=0,c={next:function(){return{done:!!h++}},return:function(){d=!0}};c[u]=function(){return this},Array.from(c,function(){throw 2})}catch{}o.exports=function(f,m){if(!m&&!d)return!1;var p=!1;try{var g={};g[u]=function(){return{next:function(){return{done:p=!0}}}},f(g)}catch{}return p}},"1d80":function(o,l){o.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},"1dde":function(o,l,i){var r=i("d039"),u=i("b622"),d=i("2d00"),h=u("species");o.exports=function(c){return d>=51||!r(function(){var f=[],m=f.constructor={};return m[h]=function(){return{foo:1}},f[c](Boolean).foo!==1})}},"23cb":function(o,l,i){var r=i("a691"),u=Math.max,d=Math.min;o.exports=function(h,c){var f=r(h);return f<0?u(f+c,0):d(f,c)}},"23e7":function(o,l,i){var r=i("da84"),u=i("06cf").f,d=i("9112"),h=i("6eeb"),c=i("ce4e"),f=i("e893"),m=i("94ca");o.exports=function(p,g){var S=p.target,w=p.global,y=p.stat,$,C,I,T,A,O;if(w?C=r:y?C=r[S]||c(S,{}):C=(r[S]||{}).prototype,C)for(I in g){if(A=g[I],p.noTargetGet?(O=u(C,I),T=O&&O.value):T=C[I],$=m(w?I:S+(y?".":"#")+I,p.forced),!$&&T!==void 0){if(typeof A==typeof T)continue;f(A,T)}(p.sham||T&&T.sham)&&d(A,"sham",!0),h(C,I,A,p)}}},"241c":function(o,l,i){var r=i("ca84"),u=i("7839"),d=u.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(c){return r(c,d)}},"25f0":function(o,l,i){var r=i("6eeb"),u=i("825a"),d=i("d039"),h=i("ad6d"),c="toString",f=RegExp.prototype,m=f[c],p=d(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),g=m.name!=c;(p||g)&&r(RegExp.prototype,c,function(){var w=u(this),y=String(w.source),$=w.flags,C=String($===void 0&&w instanceof RegExp&&!("flags"in f)?h.call(w):$);return"/"+y+"/"+C},{unsafe:!0})},"2ca0":function(o,l,i){var r=i("23e7"),u=i("06cf").f,d=i("50c4"),h=i("5a34"),c=i("1d80"),f=i("ab13"),m=i("c430"),p="".startsWith,g=Math.min,S=f("startsWith"),w=!m&&!S&&!!function(){var y=u(String.prototype,"startsWith");return y&&!y.writable}();r({target:"String",proto:!0,forced:!w&&!S},{startsWith:function($){var C=String(c(this));h($);var I=d(g(arguments.length>1?arguments[1]:void 0,C.length)),T=String($);return p?p.call(C,T,I):C.slice(I,I+T.length)===T}})},"2d00":function(o,l,i){var r=i("da84"),u=i("342f"),d=r.process,h=d&&d.versions,c=h&&h.v8,f,m;c?(f=c.split("."),m=f[0]+f[1]):u&&(f=u.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=u.match(/Chrome\/(\d+)/),f&&(m=f[1]))),o.exports=m&&+m},"342f":function(o,l,i){var r=i("d066");o.exports=r("navigator","userAgent")||""},"35a1":function(o,l,i){var r=i("f5df"),u=i("3f8c"),d=i("b622"),h=d("iterator");o.exports=function(c){if(c!=null)return c[h]||c["@@iterator"]||u[r(c)]}},"37e8":function(o,l,i){var r=i("83ab"),u=i("9bf2"),d=i("825a"),h=i("df75");o.exports=r?Object.defineProperties:function(f,m){d(f);for(var p=h(m),g=p.length,S=0,w;g>S;)u.f(f,w=p[S++],m[w]);return f}},"3bbe":function(o,l,i){var r=i("861d");o.exports=function(u){if(!r(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(o,l,i){var r=i("6547").charAt,u=i("69f3"),d=i("7dd0"),h="String Iterator",c=u.set,f=u.getterFor(h);d(String,"String",function(m){c(this,{type:h,string:String(m),index:0})},function(){var p=f(this),g=p.string,S=p.index,w;return S>=g.length?{value:void 0,done:!0}:(w=r(g,S),p.index+=w.length,{value:w,done:!1})})},"3f8c":function(o,l){o.exports={}},4160:function(o,l,i){var r=i("23e7"),u=i("17c2");r({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(o,l,i){var r=i("da84");o.exports=r},"44ad":function(o,l,i){var r=i("d039"),u=i("c6b6"),d="".split;o.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return u(h)=="String"?d.call(h,""):Object(h)}:Object},"44d2":function(o,l,i){var r=i("b622"),u=i("7c73"),d=i("9bf2"),h=r("unscopables"),c=Array.prototype;c[h]==null&&d.f(c,h,{configurable:!0,value:u(null)}),o.exports=function(f){c[h][f]=!0}},"44e7":function(o,l,i){var r=i("861d"),u=i("c6b6"),d=i("b622"),h=d("match");o.exports=function(c){var f;return r(c)&&((f=c[h])!==void 0?!!f:u(c)=="RegExp")}},4930:function(o,l,i){var r=i("d039");o.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"4d64":function(o,l,i){var r=i("fc6a"),u=i("50c4"),d=i("23cb"),h=function(c){return function(f,m,p){var g=r(f),S=u(g.length),w=d(p,S),y;if(c&&m!=m){for(;S>w;)if(y=g[w++],y!=y)return!0}else for(;S>w;w++)if((c||w in g)&&g[w]===m)return c||w||0;return!c&&-1}};o.exports={includes:h(!0),indexOf:h(!1)}},"4de4":function(o,l,i){var r=i("23e7"),u=i("b727").filter,d=i("1dde"),h=i("ae40"),c=d("filter"),f=h("filter");r({target:"Array",proto:!0,forced:!c||!f},{filter:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(o,l,i){var r=i("0366"),u=i("7b0b"),d=i("9bdd"),h=i("e95a"),c=i("50c4"),f=i("8418"),m=i("35a1");o.exports=function(g){var S=u(g),w=typeof this=="function"?this:Array,y=arguments.length,$=y>1?arguments[1]:void 0,C=$!==void 0,I=m(S),T=0,A,O,D,x,W,K;if(C&&($=r($,y>2?arguments[2]:void 0,2)),I!=null&&!(w==Array&&h(I)))for(x=I.call(S),W=x.next,O=new w;!(D=W.call(x)).done;T++)K=C?d(x,$,[D.value,T],!0):D.value,f(O,T,K);else for(A=c(S.length),O=new w(A);A>T;T++)K=C?$(S[T],T):S[T],f(O,T,K);return O.length=T,O}},"4fad":function(o,l,i){var r=i("23e7"),u=i("6f53").entries;r({target:"Object",stat:!0},{entries:function(h){return u(h)}})},"50c4":function(o,l,i){var r=i("a691"),u=Math.min;o.exports=function(d){return d>0?u(r(d),9007199254740991):0}},5135:function(o,l){var i={}.hasOwnProperty;o.exports=function(r,u){return i.call(r,u)}},5319:function(o,l,i){var r=i("d784"),u=i("825a"),d=i("7b0b"),h=i("50c4"),c=i("a691"),f=i("1d80"),m=i("8aa5"),p=i("14c3"),g=Math.max,S=Math.min,w=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,$=/\$([$&'`]|\d\d?)/g,C=function(I){return I===void 0?I:String(I)};r("replace",2,function(I,T,A,O){var D=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=O.REPLACE_KEEPS_$0,W=D?"$":"$0";return[function(k,fe){var j=f(this),ue=k==null?void 0:k[I];return ue!==void 0?ue.call(k,j,fe):T.call(String(j),k,fe)},function(L,k){if(!D&&x||typeof k=="string"&&k.indexOf(W)===-1){var fe=A(T,L,this,k);if(fe.done)return fe.value}var j=u(L),ue=String(this),we=typeof k=="function";we||(k=String(k));var Ke=j.global;if(Ke){var ot=j.unicode;j.lastIndex=0}for(var Fe=[];;){var Ge=p(j,ue);if(Ge===null||(Fe.push(Ge),!Ke))break;var Q=String(Ge[0]);Q===""&&(j.lastIndex=m(ue,h(j.lastIndex),ot))}for(var $e="",V=0,Y=0;Y<Fe.length;Y++){Ge=Fe[Y];for(var J=String(Ge[0]),te=g(S(c(Ge.index),ue.length),0),F=[],de=1;de<Ge.length;de++)F.push(C(Ge[de]));var ee=Ge.groups;if(we){var E=[J].concat(F,te,ue);ee!==void 0&&E.push(ee);var _=String(k.apply(void 0,E))}else _=K(J,ue,te,F,ee,k);te>=V&&($e+=ue.slice(V,te)+_,V=te+J.length)}return $e+ue.slice(V)}];function K(L,k,fe,j,ue,we){var Ke=fe+L.length,ot=j.length,Fe=$;return ue!==void 0&&(ue=d(ue),Fe=y),T.call(we,Fe,function(Ge,Q){var $e;switch(Q.charAt(0)){case"$":return"$";case"&":return L;case"`":return k.slice(0,fe);case"'":return k.slice(Ke);case"<":$e=ue[Q.slice(1,-1)];break;default:var V=+Q;if(V===0)return Ge;if(V>ot){var Y=w(V/10);return Y===0?Ge:Y<=ot?j[Y-1]===void 0?Q.charAt(1):j[Y-1]+Q.charAt(1):Ge}$e=j[V-1]}return $e===void 0?"":$e})}})},5692:function(o,l,i){var r=i("c430"),u=i("c6cd");(o.exports=function(d,h){return u[d]||(u[d]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(o,l,i){var r=i("d066"),u=i("241c"),d=i("7418"),h=i("825a");o.exports=r("Reflect","ownKeys")||function(f){var m=u.f(h(f)),p=d.f;return p?m.concat(p(f)):m}},"5a34":function(o,l,i){var r=i("44e7");o.exports=function(u){if(r(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(o,l){o.exports=function(i,r){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:r}}},"5db7":function(o,l,i){var r=i("23e7"),u=i("a2bf"),d=i("7b0b"),h=i("50c4"),c=i("1c0b"),f=i("65f0");r({target:"Array",proto:!0},{flatMap:function(p){var g=d(this),S=h(g.length),w;return c(p),w=f(g,0),w.length=u(w,g,g,S,0,1,p,arguments.length>1?arguments[1]:void 0),w}})},6547:function(o,l,i){var r=i("a691"),u=i("1d80"),d=function(h){return function(c,f){var m=String(u(c)),p=r(f),g=m.length,S,w;return p<0||p>=g?h?"":void 0:(S=m.charCodeAt(p),S<55296||S>56319||p+1===g||(w=m.charCodeAt(p+1))<56320||w>57343?h?m.charAt(p):S:h?m.slice(p,p+2):(S-55296<<10)+(w-56320)+65536)}};o.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(o,l,i){var r=i("861d"),u=i("e8b5"),d=i("b622"),h=d("species");o.exports=function(c,f){var m;return u(c)&&(m=c.constructor,typeof m=="function"&&(m===Array||u(m.prototype))?m=void 0:r(m)&&(m=m[h],m===null&&(m=void 0))),new(m===void 0?Array:m)(f===0?0:f)}},"69f3":function(o,l,i){var r=i("7f9a"),u=i("da84"),d=i("861d"),h=i("9112"),c=i("5135"),f=i("f772"),m=i("d012"),p=u.WeakMap,g,S,w,y=function(D){return w(D)?S(D):g(D,{})},$=function(D){return function(x){var W;if(!d(x)||(W=S(x)).type!==D)throw TypeError("Incompatible receiver, "+D+" required");return W}};if(r){var C=new p,I=C.get,T=C.has,A=C.set;g=function(D,x){return A.call(C,D,x),x},S=function(D){return I.call(C,D)||{}},w=function(D){return T.call(C,D)}}else{var O=f("state");m[O]=!0,g=function(D,x){return h(D,O,x),x},S=function(D){return c(D,O)?D[O]:{}},w=function(D){return c(D,O)}}o.exports={set:g,get:S,has:w,enforce:y,getterFor:$}},"6eeb":function(o,l,i){var r=i("da84"),u=i("9112"),d=i("5135"),h=i("ce4e"),c=i("8925"),f=i("69f3"),m=f.get,p=f.enforce,g=String(String).split("String");(o.exports=function(S,w,y,$){var C=$?!!$.unsafe:!1,I=$?!!$.enumerable:!1,T=$?!!$.noTargetGet:!1;if(typeof y=="function"&&(typeof w=="string"&&!d(y,"name")&&u(y,"name",w),p(y).source=g.join(typeof w=="string"?w:"")),S===r){I?S[w]=y:h(w,y);return}else C?!T&&S[w]&&(I=!0):delete S[w];I?S[w]=y:u(S,w,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||c(this)})},"6f53":function(o,l,i){var r=i("83ab"),u=i("df75"),d=i("fc6a"),h=i("d1e7").f,c=function(f){return function(m){for(var p=d(m),g=u(p),S=g.length,w=0,y=[],$;S>w;)$=g[w++],(!r||h.call(p,$))&&y.push(f?[$,p[$]]:p[$]);return y}};o.exports={entries:c(!0),values:c(!1)}},"73d9":function(o,l,i){var r=i("44d2");r("flatMap")},7418:function(o,l){l.f=Object.getOwnPropertySymbols},"746f":function(o,l,i){var r=i("428f"),u=i("5135"),d=i("e538"),h=i("9bf2").f;o.exports=function(c){var f=r.Symbol||(r.Symbol={});u(f,c)||h(f,c,{value:d.f(c)})}},7839:function(o,l){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(o,l,i){var r=i("1d80");o.exports=function(u){return Object(r(u))}},"7c73":function(o,l,i){var r=i("825a"),u=i("37e8"),d=i("7839"),h=i("d012"),c=i("1be4"),f=i("cc12"),m=i("f772"),p=">",g="<",S="prototype",w="script",y=m("IE_PROTO"),$=function(){},C=function(D){return g+w+p+D+g+"/"+w+p},I=function(D){D.write(C("")),D.close();var x=D.parentWindow.Object;return D=null,x},T=function(){var D=f("iframe"),x="java"+w+":",W;return D.style.display="none",c.appendChild(D),D.src=String(x),W=D.contentWindow.document,W.open(),W.write(C("document.F=Object")),W.close(),W.F},A,O=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}O=A?I(A):T();for(var D=d.length;D--;)delete O[S][d[D]];return O()};h[y]=!0,o.exports=Object.create||function(x,W){var K;return x!==null?($[S]=r(x),K=new $,$[S]=null,K[y]=x):K=O(),W===void 0?K:u(K,W)}},"7dd0":function(o,l,i){var r=i("23e7"),u=i("9ed3"),d=i("e163"),h=i("d2bb"),c=i("d44e"),f=i("9112"),m=i("6eeb"),p=i("b622"),g=i("c430"),S=i("3f8c"),w=i("ae93"),y=w.IteratorPrototype,$=w.BUGGY_SAFARI_ITERATORS,C=p("iterator"),I="keys",T="values",A="entries",O=function(){return this};o.exports=function(D,x,W,K,L,k,fe){u(W,x,K);var j=function(Y){if(Y===L&&Fe)return Fe;if(!$&&Y in Ke)return Ke[Y];switch(Y){case I:return function(){return new W(this,Y)};case T:return function(){return new W(this,Y)};case A:return function(){return new W(this,Y)}}return function(){return new W(this)}},ue=x+" Iterator",we=!1,Ke=D.prototype,ot=Ke[C]||Ke["@@iterator"]||L&&Ke[L],Fe=!$&&ot||j(L),Ge=x=="Array"&&Ke.entries||ot,Q,$e,V;if(Ge&&(Q=d(Ge.call(new D)),y!==Object.prototype&&Q.next&&(!g&&d(Q)!==y&&(h?h(Q,y):typeof Q[C]!="function"&&f(Q,C,O)),c(Q,ue,!0,!0),g&&(S[ue]=O))),L==T&&ot&&ot.name!==T&&(we=!0,Fe=function(){return ot.call(this)}),(!g||fe)&&Ke[C]!==Fe&&f(Ke,C,Fe),S[x]=Fe,L)if($e={values:j(T),keys:k?Fe:j(I),entries:j(A)},fe)for(V in $e)($||we||!(V in Ke))&&m(Ke,V,$e[V]);else r({target:x,proto:!0,forced:$||we},$e);return $e}},"7f9a":function(o,l,i){var r=i("da84"),u=i("8925"),d=r.WeakMap;o.exports=typeof d=="function"&&/native code/.test(u(d))},"825a":function(o,l,i){var r=i("861d");o.exports=function(u){if(!r(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(o,l,i){var r=i("d039");o.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(o,l,i){var r=i("c04e"),u=i("9bf2"),d=i("5c6c");o.exports=function(h,c,f){var m=r(c);m in h?u.f(h,m,d(0,f)):h[m]=f}},"861d":function(o,l){o.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},8875:function(o,l,i){var r,u,d;(function(h,c){u=[],r=c,d=typeof r=="function"?r.apply(l,u):r,d!==void 0&&(o.exports=d)})(typeof self!="undefined"?self:this,function(){function h(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==h&&document.currentScript)return document.currentScript;try{throw new Error}catch(A){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(A.stack)||m.exec(A.stack),g=p&&p[1]||!1,S=p&&p[2]||!1,w=document.location.href.replace(document.location.hash,""),y,$,C,I=document.getElementsByTagName("script");g===w&&(y=document.documentElement.outerHTML,$=new RegExp("(?:[^\\n]+?\\n){0,"+(S-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=y.replace($,"$1").trim());for(var T=0;T<I.length;T++)if(I[T].readyState==="interactive"||I[T].src===g||g===w&&I[T].innerHTML&&I[T].innerHTML.trim()===C)return I[T];return null}}return h})},8925:function(o,l,i){var r=i("c6cd"),u=Function.toString;typeof r.inspectSource!="function"&&(r.inspectSource=function(d){return u.call(d)}),o.exports=r.inspectSource},"8aa5":function(o,l,i){var r=i("6547").charAt;o.exports=function(u,d,h){return d+(h?r(u,d).length:1)}},"8bbf":function(o,l){o.exports=n},"90e3":function(o,l){var i=0,r=Math.random();o.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++i+r).toString(36)}},9112:function(o,l,i){var r=i("83ab"),u=i("9bf2"),d=i("5c6c");o.exports=r?function(h,c,f){return u.f(h,c,d(1,f))}:function(h,c,f){return h[c]=f,h}},9263:function(o,l,i){var r=i("ad6d"),u=i("9f7f"),d=RegExp.prototype.exec,h=String.prototype.replace,c=d,f=function(){var S=/a/,w=/b*/g;return d.call(S,"a"),d.call(w,"a"),S.lastIndex!==0||w.lastIndex!==0}(),m=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,g=f||p||m;g&&(c=function(w){var y=this,$,C,I,T,A=m&&y.sticky,O=r.call(y),D=y.source,x=0,W=w;return A&&(O=O.replace("y",""),O.indexOf("g")===-1&&(O+="g"),W=String(w).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&w[y.lastIndex-1]!==`
`)&&(D="(?: "+D+")",W=" "+W,x++),C=new RegExp("^(?:"+D+")",O)),p&&(C=new RegExp("^"+D+"$(?!\\s)",O)),f&&($=y.lastIndex),I=d.call(A?C:y,W),A?I?(I.input=I.input.slice(x),I[0]=I[0].slice(x),I.index=y.lastIndex,y.lastIndex+=I[0].length):y.lastIndex=0:f&&I&&(y.lastIndex=y.global?I.index+I[0].length:$),p&&I&&I.length>1&&h.call(I[0],C,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(I[T]=void 0)}),I}),o.exports=c},"94ca":function(o,l,i){var r=i("d039"),u=/#|\.prototype\./,d=function(p,g){var S=c[h(p)];return S==m?!0:S==f?!1:typeof g=="function"?r(g):!!g},h=d.normalize=function(p){return String(p).replace(u,".").toLowerCase()},c=d.data={},f=d.NATIVE="N",m=d.POLYFILL="P";o.exports=d},"99af":function(o,l,i){var r=i("23e7"),u=i("d039"),d=i("e8b5"),h=i("861d"),c=i("7b0b"),f=i("50c4"),m=i("8418"),p=i("65f0"),g=i("1dde"),S=i("b622"),w=i("2d00"),y=S("isConcatSpreadable"),$=9007199254740991,C="Maximum allowed index exceeded",I=w>=51||!u(function(){var D=[];return D[y]=!1,D.concat()[0]!==D}),T=g("concat"),A=function(D){if(!h(D))return!1;var x=D[y];return x!==void 0?!!x:d(D)},O=!I||!T;r({target:"Array",proto:!0,forced:O},{concat:function(x){var W=c(this),K=p(W,0),L=0,k,fe,j,ue,we;for(k=-1,j=arguments.length;k<j;k++)if(we=k===-1?W:arguments[k],A(we)){if(ue=f(we.length),L+ue>$)throw TypeError(C);for(fe=0;fe<ue;fe++,L++)fe in we&&m(K,L,we[fe])}else{if(L>=$)throw TypeError(C);m(K,L++,we)}return K.length=L,K}})},"9bdd":function(o,l,i){var r=i("825a");o.exports=function(u,d,h,c){try{return c?d(r(h)[0],h[1]):d(h)}catch(m){var f=u.return;throw f!==void 0&&r(f.call(u)),m}}},"9bf2":function(o,l,i){var r=i("83ab"),u=i("0cfb"),d=i("825a"),h=i("c04e"),c=Object.defineProperty;l.f=r?c:function(m,p,g){if(d(m),p=h(p,!0),d(g),u)try{return c(m,p,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(m[p]=g.value),m}},"9ed3":function(o,l,i){var r=i("ae93").IteratorPrototype,u=i("7c73"),d=i("5c6c"),h=i("d44e"),c=i("3f8c"),f=function(){return this};o.exports=function(m,p,g){var S=p+" Iterator";return m.prototype=u(r,{next:d(1,g)}),h(m,S,!1,!0),c[S]=f,m}},"9f7f":function(o,l,i){var r=i("d039");function u(d,h){return RegExp(d,h)}l.UNSUPPORTED_Y=r(function(){var d=u("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),l.BROKEN_CARET=r(function(){var d=u("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(o,l,i){var r=i("e8b5"),u=i("50c4"),d=i("0366"),h=function(c,f,m,p,g,S,w,y){for(var $=g,C=0,I=w?d(w,y,3):!1,T;C<p;){if(C in m){if(T=I?I(m[C],C,f):m[C],S>0&&r(T))$=h(c,f,T,u(T.length),$,S-1)-1;else{if($>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[$]=T}$++}C++}return $};o.exports=h},a352:function(o,l){o.exports=s},a434:function(o,l,i){var r=i("23e7"),u=i("23cb"),d=i("a691"),h=i("50c4"),c=i("7b0b"),f=i("65f0"),m=i("8418"),p=i("1dde"),g=i("ae40"),S=p("splice"),w=g("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,$=Math.min,C=9007199254740991,I="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!S||!w},{splice:function(A,O){var D=c(this),x=h(D.length),W=u(A,x),K=arguments.length,L,k,fe,j,ue,we;if(K===0?L=k=0:K===1?(L=0,k=x-W):(L=K-2,k=$(y(d(O),0),x-W)),x+L-k>C)throw TypeError(I);for(fe=f(D,k),j=0;j<k;j++)ue=W+j,ue in D&&m(fe,j,D[ue]);if(fe.length=k,L<k){for(j=W;j<x-k;j++)ue=j+k,we=j+L,ue in D?D[we]=D[ue]:delete D[we];for(j=x;j>x-k+L;j--)delete D[j-1]}else if(L>k)for(j=x-k;j>W;j--)ue=j+k-1,we=j+L-1,ue in D?D[we]=D[ue]:delete D[we];for(j=0;j<L;j++)D[j+W]=arguments[j+2];return D.length=x-k+L,fe}})},a4d3:function(o,l,i){var r=i("23e7"),u=i("da84"),d=i("d066"),h=i("c430"),c=i("83ab"),f=i("4930"),m=i("fdbf"),p=i("d039"),g=i("5135"),S=i("e8b5"),w=i("861d"),y=i("825a"),$=i("7b0b"),C=i("fc6a"),I=i("c04e"),T=i("5c6c"),A=i("7c73"),O=i("df75"),D=i("241c"),x=i("057f"),W=i("7418"),K=i("06cf"),L=i("9bf2"),k=i("d1e7"),fe=i("9112"),j=i("6eeb"),ue=i("5692"),we=i("f772"),Ke=i("d012"),ot=i("90e3"),Fe=i("b622"),Ge=i("e538"),Q=i("746f"),$e=i("d44e"),V=i("69f3"),Y=i("b727").forEach,J=we("hidden"),te="Symbol",F="prototype",de=Fe("toPrimitive"),ee=V.set,E=V.getterFor(te),_=Object[F],N=u.Symbol,z=d("JSON","stringify"),X=K.f,ne=L.f,pe=x.f,re=k.f,le=ue("symbols"),Z=ue("op-symbols"),Ie=ue("string-to-symbol-registry"),be=ue("symbol-to-string-registry"),Te=ue("wks"),Ve=u.QObject,We=!Ve||!Ve[F]||!Ve[F].findChild,nt=c&&p(function(){return A(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!=7})?function(xe,De,Me){var Qe=X(_,De);Qe&&delete _[De],ne(xe,De,Me),Qe&&xe!==_&&ne(_,De,Qe)}:ne,Ze=function(xe,De){var Me=le[xe]=A(N[F]);return ee(Me,{type:te,tag:xe,description:De}),c||(Me.description=De),Me},P=m?function(xe){return typeof xe=="symbol"}:function(xe){return Object(xe)instanceof N},U=function(De,Me,Qe){De===_&&U(Z,Me,Qe),y(De);var et=I(Me,!0);return y(Qe),g(le,et)?(Qe.enumerable?(g(De,J)&&De[J][et]&&(De[J][et]=!1),Qe=A(Qe,{enumerable:T(0,!1)})):(g(De,J)||ne(De,J,T(1,{})),De[J][et]=!0),nt(De,et,Qe)):ne(De,et,Qe)},B=function(De,Me){y(De);var Qe=C(Me),et=O(Qe).concat(je(Qe));return Y(et,function(Lt){(!c||ve.call(Qe,Lt))&&U(De,Lt,Qe[Lt])}),De},q=function(De,Me){return Me===void 0?A(De):B(A(De),Me)},ve=function(De){var Me=I(De,!0),Qe=re.call(this,Me);return this===_&&g(le,Me)&&!g(Z,Me)?!1:Qe||!g(this,Me)||!g(le,Me)||g(this,J)&&this[J][Me]?Qe:!0},Re=function(De,Me){var Qe=C(De),et=I(Me,!0);if(!(Qe===_&&g(le,et)&&!g(Z,et))){var Lt=X(Qe,et);return Lt&&g(le,et)&&!(g(Qe,J)&&Qe[J][et])&&(Lt.enumerable=!0),Lt}},Oe=function(De){var Me=pe(C(De)),Qe=[];return Y(Me,function(et){!g(le,et)&&!g(Ke,et)&&Qe.push(et)}),Qe},je=function(De){var Me=De===_,Qe=pe(Me?Z:C(De)),et=[];return Y(Qe,function(Lt){g(le,Lt)&&(!Me||g(_,Lt))&&et.push(le[Lt])}),et};if(f||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor");var De=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Me=ot(De),Qe=function(et){this===_&&Qe.call(Z,et),g(this,J)&&g(this[J],Me)&&(this[J][Me]=!1),nt(this,Me,T(1,et))};return c&&We&&nt(_,Me,{configurable:!0,set:Qe}),Ze(Me,De)},j(N[F],"toString",function(){return E(this).tag}),j(N,"withoutSetter",function(xe){return Ze(ot(xe),xe)}),k.f=ve,L.f=U,K.f=Re,D.f=x.f=Oe,W.f=je,Ge.f=function(xe){return Ze(Fe(xe),xe)},c&&(ne(N[F],"description",{configurable:!0,get:function(){return E(this).description}}),h||j(_,"propertyIsEnumerable",ve,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:N}),Y(O(Te),function(xe){Q(xe)}),r({target:te,stat:!0,forced:!f},{for:function(xe){var De=String(xe);if(g(Ie,De))return Ie[De];var Me=N(De);return Ie[De]=Me,be[Me]=De,Me},keyFor:function(De){if(!P(De))throw TypeError(De+" is not a symbol");if(g(be,De))return be[De]},useSetter:function(){We=!0},useSimple:function(){We=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!c},{create:q,defineProperty:U,defineProperties:B,getOwnPropertyDescriptor:Re}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Oe,getOwnPropertySymbols:je}),r({target:"Object",stat:!0,forced:p(function(){W.f(1)})},{getOwnPropertySymbols:function(De){return W.f($(De))}}),z){var ct=!f||p(function(){var xe=N();return z([xe])!="[null]"||z({a:xe})!="{}"||z(Object(xe))!="{}"});r({target:"JSON",stat:!0,forced:ct},{stringify:function(De,Me,Qe){for(var et=[De],Lt=1,Ya;arguments.length>Lt;)et.push(arguments[Lt++]);if(Ya=Me,!(!w(Me)&&De===void 0||P(De)))return S(Me)||(Me=function(oh,Ti){if(typeof Ya=="function"&&(Ti=Ya.call(this,oh,Ti)),!P(Ti))return Ti}),et[1]=Me,z.apply(null,et)}})}N[F][de]||fe(N[F],de,N[F].valueOf),$e(N,te),Ke[J]=!0},a630:function(o,l,i){var r=i("23e7"),u=i("4df4"),d=i("1c7e"),h=!d(function(c){Array.from(c)});r({target:"Array",stat:!0,forced:h},{from:u})},a640:function(o,l,i){var r=i("d039");o.exports=function(u,d){var h=[][u];return!!h&&r(function(){h.call(null,d||function(){throw 1},1)})}},a691:function(o,l){var i=Math.ceil,r=Math.floor;o.exports=function(u){return isNaN(u=+u)?0:(u>0?r:i)(u)}},ab13:function(o,l,i){var r=i("b622"),u=r("match");o.exports=function(d){var h=/./;try{"/./"[d](h)}catch{try{return h[u]=!1,"/./"[d](h)}catch{}}return!1}},ac1f:function(o,l,i){var r=i("23e7"),u=i("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(o,l,i){var r=i("825a");o.exports=function(){var u=r(this),d="";return u.global&&(d+="g"),u.ignoreCase&&(d+="i"),u.multiline&&(d+="m"),u.dotAll&&(d+="s"),u.unicode&&(d+="u"),u.sticky&&(d+="y"),d}},ae40:function(o,l,i){var r=i("83ab"),u=i("d039"),d=i("5135"),h=Object.defineProperty,c={},f=function(m){throw m};o.exports=function(m,p){if(d(c,m))return c[m];p||(p={});var g=[][m],S=d(p,"ACCESSORS")?p.ACCESSORS:!1,w=d(p,0)?p[0]:f,y=d(p,1)?p[1]:void 0;return c[m]=!!g&&!u(function(){if(S&&!r)return!0;var $={length:-1};S?h($,1,{enumerable:!0,get:f}):$[1]=1,g.call($,w,y)})}},ae93:function(o,l,i){var r=i("e163"),u=i("9112"),d=i("5135"),h=i("b622"),c=i("c430"),f=h("iterator"),m=!1,p=function(){return this},g,S,w;[].keys&&(w=[].keys(),"next"in w?(S=r(r(w)),S!==Object.prototype&&(g=S)):m=!0),g==null&&(g={}),!c&&!d(g,f)&&u(g,f,p),o.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:m}},b041:function(o,l,i){var r=i("00ee"),u=i("f5df");o.exports=r?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(o,l,i){var r=i("83ab"),u=i("9bf2").f,d=Function.prototype,h=d.toString,c=/^\s*function ([^ (]*)/,f="name";r&&!(f in d)&&u(d,f,{configurable:!0,get:function(){try{return h.call(this).match(c)[1]}catch{return""}}})},b622:function(o,l,i){var r=i("da84"),u=i("5692"),d=i("5135"),h=i("90e3"),c=i("4930"),f=i("fdbf"),m=u("wks"),p=r.Symbol,g=f?p:p&&p.withoutSetter||h;o.exports=function(S){return d(m,S)||(c&&d(p,S)?m[S]=p[S]:m[S]=g("Symbol."+S)),m[S]}},b64b:function(o,l,i){var r=i("23e7"),u=i("7b0b"),d=i("df75"),h=i("d039"),c=h(function(){d(1)});r({target:"Object",stat:!0,forced:c},{keys:function(m){return d(u(m))}})},b727:function(o,l,i){var r=i("0366"),u=i("44ad"),d=i("7b0b"),h=i("50c4"),c=i("65f0"),f=[].push,m=function(p){var g=p==1,S=p==2,w=p==3,y=p==4,$=p==6,C=p==5||$;return function(I,T,A,O){for(var D=d(I),x=u(D),W=r(T,A,3),K=h(x.length),L=0,k=O||c,fe=g?k(I,K):S?k(I,0):void 0,j,ue;K>L;L++)if((C||L in x)&&(j=x[L],ue=W(j,L,D),p)){if(g)fe[L]=ue;else if(ue)switch(p){case 3:return!0;case 5:return j;case 6:return L;case 2:f.call(fe,j)}else if(y)return!1}return $?-1:w||y?y:fe}};o.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},c04e:function(o,l,i){var r=i("861d");o.exports=function(u,d){if(!r(u))return u;var h,c;if(d&&typeof(h=u.toString)=="function"&&!r(c=h.call(u))||typeof(h=u.valueOf)=="function"&&!r(c=h.call(u))||!d&&typeof(h=u.toString)=="function"&&!r(c=h.call(u)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(o,l){o.exports=!1},c6b6:function(o,l){var i={}.toString;o.exports=function(r){return i.call(r).slice(8,-1)}},c6cd:function(o,l,i){var r=i("da84"),u=i("ce4e"),d="__core-js_shared__",h=r[d]||u(d,{});o.exports=h},c740:function(o,l,i){var r=i("23e7"),u=i("b727").findIndex,d=i("44d2"),h=i("ae40"),c="findIndex",f=!0,m=h(c);c in[]&&Array(1)[c](function(){f=!1}),r({target:"Array",proto:!0,forced:f||!m},{findIndex:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}}),d(c)},c8ba:function(o,l){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}o.exports=i},c975:function(o,l,i){var r=i("23e7"),u=i("4d64").indexOf,d=i("a640"),h=i("ae40"),c=[].indexOf,f=!!c&&1/[1].indexOf(1,-0)<0,m=d("indexOf"),p=h("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:f||!m||!p},{indexOf:function(S){return f?c.apply(this,arguments)||0:u(this,S,arguments.length>1?arguments[1]:void 0)}})},ca84:function(o,l,i){var r=i("5135"),u=i("fc6a"),d=i("4d64").indexOf,h=i("d012");o.exports=function(c,f){var m=u(c),p=0,g=[],S;for(S in m)!r(h,S)&&r(m,S)&&g.push(S);for(;f.length>p;)r(m,S=f[p++])&&(~d(g,S)||g.push(S));return g}},caad:function(o,l,i){var r=i("23e7"),u=i("4d64").includes,d=i("44d2"),h=i("ae40"),c=h("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!c},{includes:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(o,l,i){var r=i("da84"),u=i("861d"),d=r.document,h=u(d)&&u(d.createElement);o.exports=function(c){return h?d.createElement(c):{}}},ce4e:function(o,l,i){var r=i("da84"),u=i("9112");o.exports=function(d,h){try{u(r,d,h)}catch{r[d]=h}return h}},d012:function(o,l){o.exports={}},d039:function(o,l){o.exports=function(i){try{return!!i()}catch{return!0}}},d066:function(o,l,i){var r=i("428f"),u=i("da84"),d=function(h){return typeof h=="function"?h:void 0};o.exports=function(h,c){return arguments.length<2?d(r[h])||d(u[h]):r[h]&&r[h][c]||u[h]&&u[h][c]}},d1e7:function(o,l,i){var r={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!r.call({1:2},1);l.f=d?function(c){var f=u(this,c);return!!f&&f.enumerable}:r},d28b:function(o,l,i){var r=i("746f");r("iterator")},d2bb:function(o,l,i){var r=i("825a"),u=i("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,h={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(h,[]),d=h instanceof Array}catch{}return function(m,p){return r(m),u(p),d?c.call(m,p):m.__proto__=p,m}}():void 0)},d3b7:function(o,l,i){var r=i("00ee"),u=i("6eeb"),d=i("b041");r||u(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(o,l,i){var r=i("9bf2").f,u=i("5135"),d=i("b622"),h=d("toStringTag");o.exports=function(c,f,m){c&&!u(c=m?c:c.prototype,h)&&r(c,h,{configurable:!0,value:f})}},d58f:function(o,l,i){var r=i("1c0b"),u=i("7b0b"),d=i("44ad"),h=i("50c4"),c=function(f){return function(m,p,g,S){r(p);var w=u(m),y=d(w),$=h(w.length),C=f?$-1:0,I=f?-1:1;if(g<2)for(;;){if(C in y){S=y[C],C+=I;break}if(C+=I,f?C<0:$<=C)throw TypeError("Reduce of empty array with no initial value")}for(;f?C>=0:$>C;C+=I)C in y&&(S=p(S,y[C],C,w));return S}};o.exports={left:c(!1),right:c(!0)}},d784:function(o,l,i){i("ac1f");var r=i("6eeb"),u=i("d039"),d=i("b622"),h=i("9263"),c=i("9112"),f=d("species"),m=!u(function(){var y=/./;return y.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(y,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),g=d("replace"),S=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),w=!u(function(){var y=/(?:)/,$=y.exec;y.exec=function(){return $.apply(this,arguments)};var C="ab".split(y);return C.length!==2||C[0]!=="a"||C[1]!=="b"});o.exports=function(y,$,C,I){var T=d(y),A=!u(function(){var L={};return L[T]=function(){return 7},""[y](L)!=7}),O=A&&!u(function(){var L=!1,k=/a/;return y==="split"&&(k={},k.constructor={},k.constructor[f]=function(){return k},k.flags="",k[T]=/./[T]),k.exec=function(){return L=!0,null},k[T](""),!L});if(!A||!O||y==="replace"&&!(m&&p&&!S)||y==="split"&&!w){var D=/./[T],x=C(T,""[y],function(L,k,fe,j,ue){return k.exec===h?A&&!ue?{done:!0,value:D.call(k,fe,j)}:{done:!0,value:L.call(fe,k,j)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:S}),W=x[0],K=x[1];r(String.prototype,y,W),r(RegExp.prototype,T,$==2?function(L,k){return K.call(L,this,k)}:function(L){return K.call(L,this)})}I&&c(RegExp.prototype[T],"sham",!0)}},d81d:function(o,l,i){var r=i("23e7"),u=i("b727").map,d=i("1dde"),h=i("ae40"),c=d("map"),f=h("map");r({target:"Array",proto:!0,forced:!c||!f},{map:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(o,l,i){(function(r){var u=function(d){return d&&d.Math==Math&&d};o.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof r=="object"&&r)||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(o,l,i){var r=i("23e7"),u=i("83ab"),d=i("56ef"),h=i("fc6a"),c=i("06cf"),f=i("8418");r({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(p){for(var g=h(p),S=c.f,w=d(g),y={},$=0,C,I;w.length>$;)I=S(g,C=w[$++]),I!==void 0&&f(y,C,I);return y}})},dbf1:function(o,l,i){(function(r){i.d(l,"a",function(){return d});function u(){return typeof window!="undefined"?window.console:r.console}var d=u()}).call(this,i("c8ba"))},ddb0:function(o,l,i){var r=i("da84"),u=i("fdbc"),d=i("e260"),h=i("9112"),c=i("b622"),f=c("iterator"),m=c("toStringTag"),p=d.values;for(var g in u){var S=r[g],w=S&&S.prototype;if(w){if(w[f]!==p)try{h(w,f,p)}catch{w[f]=p}if(w[m]||h(w,m,g),u[g]){for(var y in d)if(w[y]!==d[y])try{h(w,y,d[y])}catch{w[y]=d[y]}}}}},df75:function(o,l,i){var r=i("ca84"),u=i("7839");o.exports=Object.keys||function(h){return r(h,u)}},e01a:function(o,l,i){var r=i("23e7"),u=i("83ab"),d=i("da84"),h=i("5135"),c=i("861d"),f=i("9bf2").f,m=i("e893"),p=d.Symbol;if(u&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var g={},S=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),A=this instanceof S?new p(T):T===void 0?p():p(T);return T===""&&(g[A]=!0),A};m(S,p);var w=S.prototype=p.prototype;w.constructor=S;var y=w.toString,$=String(p("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;f(w,"description",{configurable:!0,get:function(){var T=c(this)?this.valueOf():this,A=y.call(T);if(h(g,T))return"";var O=$?A.slice(7,-1):A.replace(C,"$1");return O===""?void 0:O}}),r({global:!0,forced:!0},{Symbol:S})}},e163:function(o,l,i){var r=i("5135"),u=i("7b0b"),d=i("f772"),h=i("e177"),c=d("IE_PROTO"),f=Object.prototype;o.exports=h?Object.getPrototypeOf:function(m){return m=u(m),r(m,c)?m[c]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?f:null}},e177:function(o,l,i){var r=i("d039");o.exports=!r(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(o,l,i){var r=i("fc6a"),u=i("44d2"),d=i("3f8c"),h=i("69f3"),c=i("7dd0"),f="Array Iterator",m=h.set,p=h.getterFor(f);o.exports=c(Array,"Array",function(g,S){m(this,{type:f,target:r(g),index:0,kind:S})},function(){var g=p(this),S=g.target,w=g.kind,y=g.index++;return!S||y>=S.length?(g.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:y,done:!1}:w=="values"?{value:S[y],done:!1}:{value:[y,S[y]],done:!1}},"values"),d.Arguments=d.Array,u("keys"),u("values"),u("entries")},e439:function(o,l,i){var r=i("23e7"),u=i("d039"),d=i("fc6a"),h=i("06cf").f,c=i("83ab"),f=u(function(){h(1)}),m=!c||f;r({target:"Object",stat:!0,forced:m,sham:!c},{getOwnPropertyDescriptor:function(g,S){return h(d(g),S)}})},e538:function(o,l,i){var r=i("b622");l.f=r},e893:function(o,l,i){var r=i("5135"),u=i("56ef"),d=i("06cf"),h=i("9bf2");o.exports=function(c,f){for(var m=u(f),p=h.f,g=d.f,S=0;S<m.length;S++){var w=m[S];r(c,w)||p(c,w,g(f,w))}}},e8b5:function(o,l,i){var r=i("c6b6");o.exports=Array.isArray||function(d){return r(d)=="Array"}},e95a:function(o,l,i){var r=i("b622"),u=i("3f8c"),d=r("iterator"),h=Array.prototype;o.exports=function(c){return c!==void 0&&(u.Array===c||h[d]===c)}},f5df:function(o,l,i){var r=i("00ee"),u=i("c6b6"),d=i("b622"),h=d("toStringTag"),c=u(function(){return arguments}())=="Arguments",f=function(m,p){try{return m[p]}catch{}};o.exports=r?u:function(m){var p,g,S;return m===void 0?"Undefined":m===null?"Null":typeof(g=f(p=Object(m),h))=="string"?g:c?u(p):(S=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":S}},f772:function(o,l,i){var r=i("5692"),u=i("90e3"),d=r("keys");o.exports=function(h){return d[h]||(d[h]=u(h))}},fb15:function(o,l,i){if(i.r(l),typeof window!="undefined"){var r=window.document.currentScript;{var u=i("8875");r=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var d=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(i.p=d[1])}i("99af"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("a434"),i("159b"),i("a4d3"),i("e439"),i("dbb4"),i("b64b");function h(P,U,B){return U in P?Object.defineProperty(P,U,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[U]=B,P}function c(P,U){var B=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);U&&(q=q.filter(function(ve){return Object.getOwnPropertyDescriptor(P,ve).enumerable})),B.push.apply(B,q)}return B}function f(P){for(var U=1;U<arguments.length;U++){var B=arguments[U]!=null?arguments[U]:{};U%2?c(Object(B),!0).forEach(function(q){h(P,q,B[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(B)):c(Object(B)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(B,q))})}return P}function m(P){if(Array.isArray(P))return P}i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function p(P,U){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(P)))){var B=[],q=!0,ve=!1,Re=void 0;try{for(var Oe=P[Symbol.iterator](),je;!(q=(je=Oe.next()).done)&&(B.push(je.value),!(U&&B.length===U));q=!0);}catch(ct){ve=!0,Re=ct}finally{try{!q&&Oe.return!=null&&Oe.return()}finally{if(ve)throw Re}}return B}}i("a630"),i("fb6a"),i("b0c0"),i("25f0");function g(P,U){(U==null||U>P.length)&&(U=P.length);for(var B=0,q=new Array(U);B<U;B++)q[B]=P[B];return q}function S(P,U){if(!!P){if(typeof P=="string")return g(P,U);var B=Object.prototype.toString.call(P).slice(8,-1);if(B==="Object"&&P.constructor&&(B=P.constructor.name),B==="Map"||B==="Set")return Array.from(P);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return g(P,U)}}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(P,U){return m(P)||p(P,U)||S(P,U)||w()}function $(P){if(Array.isArray(P))return g(P)}function C(P){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(P))return Array.from(P)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(P){return $(P)||C(P)||S(P)||I()}var A=i("a352"),O=i.n(A);function D(P){P.parentElement!==null&&P.parentElement.removeChild(P)}function x(P,U,B){var q=B===0?P.children[0]:P.children[B-1].nextSibling;P.insertBefore(U,q)}var W=i("dbf1");i("13d5"),i("4fad"),i("ac1f"),i("5319");function K(P){var U=Object.create(null);return function(q){var ve=U[q];return ve||(U[q]=P(q))}}var L=/-(\w)/g,k=K(function(P){return P.replace(L,function(U,B){return B.toUpperCase()})});i("5db7"),i("73d9");var fe=["Start","Add","Remove","Update","End"],j=["Choose","Unchoose","Sort","Filter","Clone"],ue=["Move"],we=[ue,fe,j].flatMap(function(P){return P}).map(function(P){return"on".concat(P)}),Ke={manage:ue,manageAndEmit:fe,emit:j};function ot(P){return we.indexOf(P)!==-1}i("caad"),i("2ca0");var Fe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ge(P){return Fe.includes(P)}function Q(P){return["transition-group","TransitionGroup"].includes(P)}function $e(P){return["id","class","role","style"].includes(P)||P.startsWith("data-")||P.startsWith("aria-")||P.startsWith("on")}function V(P){return P.reduce(function(U,B){var q=y(B,2),ve=q[0],Re=q[1];return U[ve]=Re,U},{})}function Y(P){var U=P.$attrs,B=P.componentData,q=B===void 0?{}:B,ve=V(Object.entries(U).filter(function(Re){var Oe=y(Re,2),je=Oe[0];return Oe[1],$e(je)}));return f(f({},ve),q)}function J(P){var U=P.$attrs,B=P.callBackBuilder,q=V(te(U));Object.entries(B).forEach(function(Re){var Oe=y(Re,2),je=Oe[0],ct=Oe[1];Ke[je].forEach(function(xe){q["on".concat(xe)]=ct(xe)})});var ve="[data-draggable]".concat(q.draggable||"");return f(f({},q),{},{draggable:ve})}function te(P){return Object.entries(P).filter(function(U){var B=y(U,2),q=B[0];return B[1],!$e(q)}).map(function(U){var B=y(U,2),q=B[0],ve=B[1];return[k(q),ve]}).filter(function(U){var B=y(U,2),q=B[0];return B[1],!ot(q)})}i("c740");function F(P,U){if(!(P instanceof U))throw new TypeError("Cannot call a class as a function")}function de(P,U){for(var B=0;B<U.length;B++){var q=U[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}function ee(P,U,B){return U&&de(P.prototype,U),B&&de(P,B),P}var E=function(U){var B=U.el;return B},_=function(U,B){return U.__draggable_context=B},N=function(U){return U.__draggable_context},z=function(){function P(U){var B=U.nodes,q=B.header,ve=B.default,Re=B.footer,Oe=U.root,je=U.realList;F(this,P),this.defaultNodes=ve,this.children=[].concat(T(q),T(ve),T(Re)),this.externalComponent=Oe.externalComponent,this.rootTransition=Oe.transition,this.tag=Oe.tag,this.realList=je}return ee(P,[{key:"render",value:function(B,q){var ve=this.tag,Re=this.children,Oe=this._isRootComponent,je=Oe?{default:function(){return Re}}:Re;return B(ve,q,je)}},{key:"updated",value:function(){var B=this.defaultNodes,q=this.realList;B.forEach(function(ve,Re){_(E(ve),{element:q[Re],index:Re})})}},{key:"getUnderlyingVm",value:function(B){return N(B)}},{key:"getVmIndexFromDomIndex",value:function(B,q){var ve=this.defaultNodes,Re=ve.length,Oe=q.children,je=Oe.item(B);if(je===null)return Re;var ct=N(je);if(ct)return ct.index;if(Re===0)return 0;var xe=E(ve[0]),De=T(Oe).findIndex(function(Me){return Me===xe});return B<De?0:Re}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),P}(),X=i("8bbf");function ne(P,U){var B=P[U];return B?B():[]}function pe(P){var U=P.$slots,B=P.realList,q=P.getKey,ve=B||[],Re=["header","footer"].map(function(Me){return ne(U,Me)}),Oe=y(Re,2),je=Oe[0],ct=Oe[1],xe=U.item;if(!xe)throw new Error("draggable element must have an item slot");var De=ve.flatMap(function(Me,Qe){return xe({element:Me,index:Qe}).map(function(et){return et.key=q(Me),et.props=f(f({},et.props||{}),{},{"data-draggable":!0}),et})});if(De.length!==ve.length)throw new Error("Item slot must have only one child");return{header:je,footer:ct,default:De}}function re(P){var U=Q(P),B=!Ge(P)&&!U;return{transition:U,externalComponent:B,tag:B?Object(X.resolveComponent)(P):U?X.TransitionGroup:P}}function le(P){var U=P.$slots,B=P.tag,q=P.realList,ve=P.getKey,Re=pe({$slots:U,realList:q,getKey:ve}),Oe=re(B);return new z({nodes:Re,root:Oe,realList:q})}function Z(P,U){var B=this;Object(X.nextTick)(function(){return B.$emit(P.toLowerCase(),U)})}function Ie(P){var U=this;return function(B,q){if(U.realList!==null)return U["onDrag".concat(P)](B,q)}}function be(P){var U=this,B=Ie.call(this,P);return function(q,ve){B.call(U,q,ve),Z.call(U,P,q)}}var Te=null,Ve={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(U){return U}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},We=["update:modelValue","change"].concat(T([].concat(T(Ke.manageAndEmit),T(Ke.emit)).map(function(P){return P.toLowerCase()}))),nt=Object(X.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ve,emits:We,data:function(){return{error:!1}},render:function(){try{this.error=!1;var U=this.$slots,B=this.$attrs,q=this.tag,ve=this.componentData,Re=this.realList,Oe=this.getKey,je=le({$slots:U,tag:q,realList:Re,getKey:Oe});this.componentStructure=je;var ct=Y({$attrs:B,componentData:ve});return je.render(X.h,ct)}catch(xe){return this.error=!0,Object(X.h)("pre",{style:{color:"red"}},xe.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&W.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var U=this;if(!this.error){var B=this.$attrs,q=this.$el,ve=this.componentStructure;ve.updated();var Re=J({$attrs:B,callBackBuilder:{manageAndEmit:function(ct){return be.call(U,ct)},emit:function(ct){return Z.bind(U,ct)},manage:function(ct){return Ie.call(U,ct)}}}),Oe=q.nodeType===1?q:q.parentElement;this._sortable=new O.a(Oe,Re),this.targetDomElement=Oe,Oe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var U=this.list;return U||this.modelValue},getKey:function(){var U=this.itemKey;return typeof U=="function"?U:function(B){return B[U]}}},watch:{$attrs:{handler:function(U){var B=this._sortable;!B||te(U).forEach(function(q){var ve=y(q,2),Re=ve[0],Oe=ve[1];B.option(Re,Oe)})},deep:!0}},methods:{getUnderlyingVm:function(U){return this.componentStructure.getUnderlyingVm(U)||null},getUnderlyingPotencialDraggableComponent:function(U){return U.__draggable_component__},emitChanges:function(U){var B=this;Object(X.nextTick)(function(){return B.$emit("change",U)})},alterList:function(U){if(this.list){U(this.list);return}var B=T(this.modelValue);U(B),this.$emit("update:modelValue",B)},spliceList:function(){var U=arguments,B=function(ve){return ve.splice.apply(ve,T(U))};this.alterList(B)},updatePosition:function(U,B){var q=function(Re){return Re.splice(B,0,Re.splice(U,1)[0])};this.alterList(q)},getRelatedContextFromMoveEvent:function(U){var B=U.to,q=U.related,ve=this.getUnderlyingPotencialDraggableComponent(B);if(!ve)return{component:ve};var Re=ve.realList,Oe={list:Re,component:ve};if(B!==q&&Re){var je=ve.getUnderlyingVm(q)||{};return f(f({},je),Oe)}return Oe},getVmIndexFromDomIndex:function(U){return this.componentStructure.getVmIndexFromDomIndex(U,this.targetDomElement)},onDragStart:function(U){this.context=this.getUnderlyingVm(U.item),U.item._underlying_vm_=this.clone(this.context.element),Te=U.item},onDragAdd:function(U){var B=U.item._underlying_vm_;if(B!==void 0){D(U.item);var q=this.getVmIndexFromDomIndex(U.newIndex);this.spliceList(q,0,B);var ve={element:B,newIndex:q};this.emitChanges({added:ve})}},onDragRemove:function(U){if(x(this.$el,U.item,U.oldIndex),U.pullMode==="clone"){D(U.clone);return}var B=this.context,q=B.index,ve=B.element;this.spliceList(q,1);var Re={element:ve,oldIndex:q};this.emitChanges({removed:Re})},onDragUpdate:function(U){D(U.item),x(U.from,U.item,U.oldIndex);var B=this.context.index,q=this.getVmIndexFromDomIndex(U.newIndex);this.updatePosition(B,q);var ve={element:this.context.element,oldIndex:B,newIndex:q};this.emitChanges({moved:ve})},computeFutureIndex:function(U,B){if(!U.element)return 0;var q=T(B.to.children).filter(function(je){return je.style.display!=="none"}),ve=q.indexOf(B.related),Re=U.component.getVmIndexFromDomIndex(ve),Oe=q.indexOf(Te)!==-1;return Oe||!B.willInsertAfter?Re:Re+1},onDragMove:function(U,B){var q=this.move,ve=this.realList;if(!q||!ve)return!0;var Re=this.getRelatedContextFromMoveEvent(U),Oe=this.computeFutureIndex(Re,U),je=f(f({},this.context),{},{futureIndex:Oe}),ct=f(f({},U),{},{relatedContext:Re,draggedContext:je});return q(ct,B)},onDragEnd:function(){Te=null}}}),Ze=nt;l.default=Ze},fb6a:function(o,l,i){var r=i("23e7"),u=i("861d"),d=i("e8b5"),h=i("23cb"),c=i("50c4"),f=i("fc6a"),m=i("8418"),p=i("b622"),g=i("1dde"),S=i("ae40"),w=g("slice"),y=S("slice",{ACCESSORS:!0,0:0,1:2}),$=p("species"),C=[].slice,I=Math.max;r({target:"Array",proto:!0,forced:!w||!y},{slice:function(A,O){var D=f(this),x=c(D.length),W=h(A,x),K=h(O===void 0?x:O,x),L,k,fe;if(d(D)&&(L=D.constructor,typeof L=="function"&&(L===Array||d(L.prototype))?L=void 0:u(L)&&(L=L[$],L===null&&(L=void 0)),L===Array||L===void 0))return C.call(D,W,K);for(k=new(L===void 0?Array:L)(I(K-W,0)),fe=0;W<K;W++,fe++)W in D&&m(k,fe,D[W]);return k.length=fe,k}})},fc6a:function(o,l,i){var r=i("44ad"),u=i("1d80");o.exports=function(d){return r(u(d))}},fdbc:function(o,l){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(o,l,i){var r=i("4930");o.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Kf);var h8=DO(Kf.exports);class m8{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const s=n.inputBuffer.getChannelData(0);let o,l=0,i=0;for(o=0;o<s.length;++o)l+=s[o]*s[o],Math.abs(s[o])>.99&&(i+=1);this.instant=Math.sqrt(l/s.length),this.slow=.95*this.slow+.05*this.instant,this.clip=i/s.length}}connectToSource(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof n!="undefined"&&n(null)}catch(s){console.error(s),typeof n!="undefined"&&n(s)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const p8=e=>new URLSearchParams(window.location.search).get(e)||"";var En={wsClient:e=>new Vf(`${e.wsUrl}/widget_${e.widget}`,e.widgetToken),getParam:p8};const Es=bs("Page.vue"),No="default",g8="speaking",rd={state:No,frames:[]},ud=.05,v8=ae({components:{AvatarAnimation:Ha},props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data(){return{ws:null,speaking:!1,initialized:!1,audioInitialized:!1,tuberIdx:-1,avatarFixed:"",settings:zl(),showControls:!0}},computed:{tuberDef(){return this.tuberIdx<0||this.tuberIdx>=this.settings.avatarDefinitions.length?null:this.settings.avatarDefinitions[this.tuberIdx]},slots(){const e=this.tuberDef;return e?e.state.slots:{}},lockedState(){var e;return((e=this.tuberDef)==null?void 0:e.state.lockedState)||No},animationName(){return this.lockedState!==No?this.lockedState:this.speaking?g8:No},animations(){return this.tuberDef?this.tuberDef.slotDefinitions.map(this.getSlotStateDefinition):[]}},created(){Un(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]),this.avatarFixed=En.getParam("avatar")},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles()});let t=e.state.tuberIdx;this.avatarFixed&&(t=this.settings.avatarDefinitions.findIndex(n=>n.name===this.avatarFixed)),this.setTuber(t===-1?0:t),this.initialized=!0}),this.ws.onMessage("ctrl",({data:e})=>{if(e.ctrl==="setSlot"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1],s=e.args[2];this.setSlot(n,s)}}else if(e.ctrl==="setSpeaking"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.setSpeaking(n)}}else if(e.ctrl==="lockState"){const t=e.args[0];if(this.tuberIdx===t){const n=e.args[1];this.lockState(n)}}else if(e.ctrl==="setTuber"){const t=e.args[0];this.setTuber(t)}}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{getSlotStateDefinition(e){const t=this.getItem(e);if(!t)return rd;const n=t.states.find(({state:s})=>s===this.animationName);return n&&n.frames.length>0?n:t.states.find(({state:s})=>s===No)||rd},getItem(e){if(e.items.length===0)return null;let t=this.slots[e.slot];return typeof t=="undefined"&&(t=e.defaultItemIndex),(t<0||t>=e.items.length)&&(t=0),e.items[t]},ctrl(e,t){if(!this.ws){Es.error("ctrl: this.ws not initialized");return}this.ws.send(JSON.stringify({event:"ctrl",data:{ctrl:e,args:t}}))},setSlot(e,t,n=!1){this.slots[e]!==t&&(this.settings.avatarDefinitions[this.tuberIdx].state.slots[e]=t,n&&this.ctrl("setSlot",[this.tuberIdx,e,t]))},setSpeaking(e,t=!1){this.speaking!==e&&(this.speaking=e,t&&this.ctrl("setSpeaking",[this.tuberIdx,e]))},lockState(e,t=!1){this.lockedState!==e&&(this.settings.avatarDefinitions[this.tuberIdx].state.lockedState=e,t&&this.ctrl("lockState",[this.tuberIdx,e]))},setTuber(e,t=!1){if(!this.settings){Es.error("setTuber: this.settings not initialized");return}if(this.avatarFixed&&(e=this.settings.avatarDefinitions.findIndex(l=>l.name===this.avatarFixed)),e>=this.settings.avatarDefinitions.length&&(Es.info("setTuber: index out of bounds. using index 0"),e=0),e<0||e>=this.settings.avatarDefinitions.length){Es.error("setTuber: index out of bounds");return}const n=this.settings.avatarDefinitions[e],s=JSON.stringify(n),o=JSON.stringify(this.tuberDef);s!==o&&(this.tuberIdx=e,t&&this.ctrl("setTuber",[this.tuberIdx]))},startMic(){if(this.audioInitialized)return;if(this.audioInitialized=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const e=window.AudioContext||window.webkitAudioContext,t=new e;navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{const s=new m8(t);s.connectToSource(n,o=>{if(o){Es.error({e:o});return}setInterval(()=>{const l=this.speaking?ud/2:ud;this.setSpeaking(s.instant>l,!0)},100)})}).catch(n=>{Es.error({e:n}),alert("Error capturing audio.")})},applyStyles(){if(!this.settings){Es.error("applyStyles: this.settings not initialized");return}const e=this.settings.styles;e.bgColorEnabled&&e.bgColor!=null?document.body.style.backgroundColor=e.bgColor:document.body.style.backgroundColor=""}}}),y8={key:0,class:"base"},b8={key:0},w8={key:0},S8=a("td",null,"Tubers:",-1),$8=["onClick"],C8={key:1},E8=a("td",{colspan:"2"},[a("hr")],-1),_8=[E8],I8=a("td",null,"Start Mic",-1),T8=a("tr",null,[a("td",{colspan:"2"},[a("hr")])],-1),D8=["onClick"],A8=a("td",null,"State:",-1),O8=["onClick"],k8={key:1,class:"toggle-controls"};function P8(e,t,n,s,o,l){const i=me("AvatarAnimation");return e.initialized?(v(),b("div",y8,[a("div",{class:"avatar",style:at({width:`${e.tuberDef.width}px`,height:`${e.tuberDef.height}px`})},[(v(!0),b(ie,null,ye(e.animations,(r,u)=>(v(),Ce(i,{key:u,frames:r.frames,width:e.tuberDef.width,height:e.tuberDef.height},null,8,["frames","width","height"]))),128))],4),e.controls&&e.showControls?(v(),b("table",b8,[e.avatarFixed?H("",!0):(v(),b("tr",w8,[S8,a("td",null,[(v(!0),b(ie,null,ye(e.settings.avatarDefinitions,(r,u)=>(v(),b("button",{key:u,class:Ae({active:e.tuberIdx===u}),onClick:d=>e.setTuber(u,!0)},G(r.name),11,$8))),128))])])),e.avatarFixed?H("",!0):(v(),b("tr",C8,_8)),a("tr",null,[I8,a("td",null,[a("button",{onClick:t[0]||(t[0]=(...r)=>e.startMic&&e.startMic(...r))}," Start ")])]),T8,(v(!0),b(ie,null,ye(e.tuberDef.slotDefinitions,(r,u)=>(v(),b("tr",{key:u},[a("td",null,G(r.slot)+":",1),a("td",null,[(v(!0),b(ie,null,ye(r.items,(d,h)=>(v(),b("button",{key:h,class:Ae({active:e.slots[r.slot]===h}),onClick:c=>e.setSlot(r.slot,h,!0)},G(d.title),11,D8))),128))])]))),128)),a("tr",null,[A8,a("td",null,[(v(!0),b(ie,null,ye(e.tuberDef.stateDefinitions,(r,u)=>(v(),b("button",{key:u,class:Ae({active:e.lockedState===r.value}),onClick:d=>e.lockState(r.value,!0)},G(r.value),11,O8))),128))])])])):H("",!0),e.controls?(v(),b("div",k8,[a("button",{onClick:t[1]||(t[1]=r=>e.showControls=!e.showControls)}," Toggle controls ")])):H("",!0)])):H("",!0)}var V8=He(v8,[["render",P8]]);const R8=ae({}),M8={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U8=a("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),N8=[U8];function x8(e,t,n,s,o,l){return v(),b("svg",M8,N8)}var L8=He(R8,[["render",x8]]);const F8=ae({}),B8={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H8=a("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),W8=[H8];function j8(e,t,n,s,o,l){return v(),b("svg",B8,W8)}var z8=He(F8,[["render",j8]]);const K8=ae({}),G8={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J8=a("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),Y8=[J8];function X8(e,t,n,s,o,l){return v(),b("svg",G8,Y8)}var Q8=He(K8,[["render",X8]]);const Z8=ae({}),q8={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ek=a("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),tk=[ek];function nk(e,t,n,s,o,l){return v(),b("svg",q8,tk)}var sk=He(Z8,[["render",nk]]);const ok=ae({}),ik={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ak=a("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),lk=[ak];function rk(e,t,n,s,o,l){return v(),b("svg",ik,lk)}var uk=He(ok,[["render",rk]]);const dk=ae({}),ck={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fk=a("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),hk=[fk];function mk(e,t,n,s,o,l){return v(),b("svg",ck,hk)}var pk=He(dk,[["render",mk]]);const dd=bs("Page.vue"),cd=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-n.x,y:t.targetTouches[0].clientY-n.y}},fd=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.x,y:t.clientY-n.y}},gk=e=>{const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16);return(n*299+s*587+o*114)/1e3>69},vk=(e,t,n)=>{if(e==="color-sampler")return"crosshair";const s=document.createElement("canvas"),o=s.getContext("2d"),l=10,i=3,r=t+l+i+l+i,u=Math.round(r/2);return s.width=r+1,s.height=r+1,o.fillStyle="#AAA",o.fillRect(0,u-1,l,3),o.fillRect(s.width-l,u-1,l,3),o.fillRect(u-1,0,3,l),o.fillRect(u-1,s.height-l,3,l),o.fillStyle="#666",o.fillRect(1,u,l-2,1),o.fillRect(s.width-l+1,u,l-2,1),o.fillRect(u,1,1,l-2),o.fillRect(u,s.height-l+1,1,l-2),o.beginPath(),o.translate(.5,.5),o.fillStyle=n,o.strokeStyle=gk(String(o.fillStyle))?"#000":"#fff",o.arc(u,u,t/2,0,2*Math.PI),o.translate(-.5,-.5),o.closePath(),e!=="eraser"&&o.fill(),o.stroke(),`url(${s.toDataURL()}) ${u} ${u}, default`},hd=(e,t,n,s)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=n,e.arc(t[0].x,t[0].y,s/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=n,e.lineWidth=s,e.moveTo(t[0].x,t[0].y);for(let o=1;o<t.length;o++)e.lineTo(t[o].x,t[o].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},yk=ae({components:{IconPen:L8,IconEyedropper:z8,IconSend:Q8,IconUndo:sk,IconEraser:uk,IconClear:pk},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},canvasHolderStyle(){return{width:`${this.canvasWidth+4}px`,height:`${this.canvasHeight+4}px`}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},draftstyles(){return{cursor:this.cursor,opacity:`${this.transparency/100}`}},styles(){return{cursor:this.cursor}},cursor(){return vk(this.tool,this.size,this.color)}},created(){Un(()=>Promise.resolve({}),["assets/main.2e35d04c.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=En.wsClient(this.wdata);const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(n=>n.path),this.images.length>0&&t.settings.autofillLatest&&this.stack.length===0&&!this.drawing&&this.modify(this.images[0])}),this.ws.onMessage("image_deleted",t=>{this.favoriteLists=this.favoriteLists.map(n=>(n.list=n.list.filter(s=>s!==t.img),n)),this.images=this.images.filter(n=>n!==t.img)}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const s=new Date,o=this.sending.date.getTime()+500-s.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,o))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const s=new Date,o=this.sending.date.getTime()+500-s.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,o))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)},methods:{opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(n=>{t.src=e,t.onload=()=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData()),n()}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",hd(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",hd(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(cd(this.draftcanvas,e))},mousedown(e){this.startDraw(fd(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(cd(this.draftcanvas,e))},mousemove(e){this.continueDraw(fd(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){dd.error("submitImage: this.ws not set");return}if(this.sending.nonce){dd.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=Or(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,n,s,o]=this.finalctx.getImageData(e.x,e.y,1,1).data,l=i=>yn(i.toString(16),"00");return o?`#${l(t)}${l(n)}${l(s)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}}}),bk={id:"drawcast"},wk={class:"streamer_message"},Sk={class:"streamer_message_inner"},$k={class:"draw_panel"},Ck={class:"draw_panel_inner"},Ek={class:"draw_panel_top"},_k={class:"draw_canvas_holder"},Ik=["width","height"],Tk=["width","height"],Dk={class:"v355_1274"},Ak={class:"card draw_tools_panel"},Ok={class:"draw_tools_tool_buttons"},kk={class:"slider"},Pk=a("div",{class:"bubble bubble-left"},[a("div",{class:"bubble-small bubble-dark"})],-1),Vk={class:"slider-input-holder"},Rk=["max"],Mk=a("div",{class:"bubble bubble-right"},[a("div",{class:"bubble-big bubble-dark"})],-1),Uk={class:"slider"},Nk=a("div",{class:"bubble bubble-left"},[a("div",{class:"bubble-big bubble-light"})],-1),xk={class:"slider-input-holder"},Lk=["max"],Fk=a("div",{class:"bubble bubble-right"},[a("div",{class:"bubble-big bubble-dark"})],-1),Bk={class:"visual_background"},Hk=a("div",{class:"visual_background_title"}," Visual Background: ",-1),Wk={class:"visual_background_colors"},jk=["onClick"],zk={class:"hotkey-help"},Kk=a("div",{class:"hotkey-help-title"}," Hotkeys ",-1),Gk={class:"draw_panel_bottom"},Jk={class:"draw_colors"},Yk={class:"draw_colors_current"},Xk={class:"draw_colors_current_label clickable"},Qk={class:"draw_colors_current_icon"},Zk={class:"draw_colors_palette"},qk=["onClick"],eP=a("div",null,null,-1),tP={class:"drawing_panel_bottom_right"},nP=a("span",{class:"send_button_text"},"\u23F3 Sending...",-1),sP=[nP],oP={class:"send_button_text"},iP={class:"drawings_panel_title"},aP={class:"drawings_panel_title_inner"},lP={class:"drawing_panel_drawings"},rP=["src","onClick"],uP={class:"drawings-panel recent-drawings-panel"},dP={class:"drawings_panel_title"},cP={class:"drawings_panel_title_inner"},fP={class:"drawing_panel_drawings"},hP=["src","onClick"],mP=a("div",{class:"dotdotdot"},null,-1),pP=wc('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),gP=[pP],vP={key:0,class:"dialog success-dialog"},yP={class:"dialog-container"},bP={class:"dialog-image"},wP=a("div",{class:"dialog-title"}," Success! ",-1),SP=["innerHTML"],$P={class:"dialog-footer"},CP={key:1,class:"dialog confirm-dialog"},EP={class:"dialog-container"},_P=["innerHTML"],IP={class:"dialog-footer"},TP={key:2,class:"dialog confirm-dialog"},DP={class:"dialog-container"},AP=["innerHTML"],OP={class:"dialog-footer"},kP={key:3,class:"dialog clear-dialog"},PP={class:"dialog-container"},VP={class:"dialog-image"},RP=["innerHTML"],MP={class:"dialog-footer"};function UP(e,t,n,s,o,l){const i=me("icon-pen"),r=me("icon-eraser"),u=me("icon-eyedropper"),d=me("icon-undo"),h=me("icon-clear"),c=me("icon-send");return v(),b("div",bk,[a("div",{class:Ae(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(v(),b("div",{key:0,class:Ae(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(v(),b("div",{key:0,class:"streamer_avatar",style:at({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):H("",!0),a("div",wk,[a("span",Sk,G(e.customDescription),1)])],2)):H("",!0),a("div",$k,[a("div",Ck,[a("div",Ek,[a("div",_k,[a("div",{class:Ae(["draw_canvas_holder_inner",e.canvasClasses]),style:at(e.canvasHolderStyle)},[a("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.styles)},null,12,Ik),a("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.draftstyles),onTouchstart:t[0]||(t[0]=ia((...f)=>e.touchstart&&e.touchstart(...f),["prevent"])),onTouchmove:t[1]||(t[1]=ia((...f)=>e.touchmove&&e.touchmove(...f),["prevent"])),onMousedown:t[2]||(t[2]=(...f)=>e.mousedown&&e.mousedown(...f))},null,44,Tk)],6)]),a("div",Dk,[a("div",Ak,[a("div",Ok,[a("div",{class:Ae(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=f=>e.tool="pen")},[R(i)],2),a("div",{class:Ae(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=f=>e.tool="eraser")},[R(r)],2),a("div",{class:Ae(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=f=>e.tool="color-sampler")},[R(u)],2),a("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...f)=>e.undo&&e.undo(...f))},[R(d)]),a("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...f)=>e.showClearDialog&&e.showClearDialog(...f))},[R(h)])]),a("div",kk,[Pk,a("div",Vk,[ge(a("input",{"onUpdate:modelValue":t[8]||(t[8]=f=>e.sizeIdx=f),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,Rk),[[Pe,e.sizeIdx]])]),Mk]),a("div",Uk,[Nk,a("div",xk,[ge(a("input",{"onUpdate:modelValue":t[9]||(t[9]=f=>e.transparencyIdx=f),type:"range",min:"0",max:e.transparencies.length-1,step:"1"},null,8,Lk),[[Pe,e.transparencyIdx]])]),Fk]),a("div",Bk,[Hk,a("div",Wk,[(v(),b(ie,null,ye(["transparent-light","transparent-dark"],(f,m)=>a("div",{key:m,class:Ae(["visual_background_button clickable",{"is-current":e.canvasBg===f,[`bg-${f}`]:!0}]),onClick:p=>e.opt("canvasBg",f)},null,10,jk)),64))])])]),a("div",zk,[Kk,(v(!0),b(ie,null,ye(e.hotkeys,(f,m)=>(v(),b("div",{key:m,class:"hotkey-help-item"},G(f),1))),128))])])]),a("div",Gk,[a("div",Jk,[a("div",Yk,[a("label",Xk,[ge(a("input",{"onUpdate:modelValue":t[10]||(t[10]=f=>e.color=f),type:"color"},null,512),[[Pe,e.color]]),a("span",{class:Ae(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:at(e.currentColorStyle)},null,6),a("div",Qk,[R(u)])])]),a("div",Zk,[(v(!0),b(ie,null,ye(e.palette,(f,m)=>(v(),b("div",{key:m,class:"palette_color clickable",style:at({backgroundColor:f}),onClick:p=>{e.color=f,e.tool="pen"}},null,12,qk))),128))])]),eP,a("div",tP,[e.sending.nonce?(v(),b("div",{key:0,class:"button button-primary send_button",onClick:t[11]||(t[11]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},sP)):(v(),b("div",{key:1,class:"button button-primary send_button clickable",onClick:t[12]||(t[12]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},[R(c),a("span",oP,G(e.submitButtonText),1)]))])])])]),(v(!0),b(ie,null,ye(e.favoriteListsFiltered,(f,m)=>(v(),b("div",{key:m,class:"drawings-panel favorite-drawings-panel"},[a("div",iP,[a("span",aP,G(f.title||"Streamer's favorites:"),1)]),a("div",lP,[(v(!0),b(ie,null,ye(f.list,(p,g)=>(v(),b("img",{key:g,class:"image favorite clickable",src:p,height:"190",onClick:S=>e.prepareModify(p)},null,8,rP))),128))])]))),128)),a("div",uP,[a("div",dP,[a("span",cP,G(e.recentImagesTitle),1)]),a("div",fP,[(v(!0),b(ie,null,ye(e.nonfavorites,(f,m)=>(v(),b("img",{key:m,class:"image clickable",src:f,height:"190",onClick:p=>e.prepareModify(f)},null,8,hP))),128)),mP])])],2),a("div",{class:Ae(["drawcast_footer",{blurred:e.dialog}])},gP,2),e.dialog==="success"?(v(),b("div",vP,[a("div",{class:"dialog-bg",onClick:t[13]||(t[13]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),a("div",yP,[a("div",bP,[a("div",{class:"responsive-image",style:at(e.successImageUrlStyle)},null,4)]),wP,a("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,SP),a("div",$P,[a("div",{class:"button button-ok clickable",onClick:t[14]||(t[14]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Draw another one ")])])])):H("",!0),e.dialog==="replace"?(v(),b("div",CP,[a("div",{class:"dialog-bg",onClick:t[15]||(t[15]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),a("div",EP,[a("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,_P),a("div",IP,[a("div",{class:"button button-no-button clickable",onClick:t[16]||(t[16]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),a("div",{class:"button button-danger clickable",onClick:t[17]||(t[17]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Replace image ")])])])):H("",!0),e.dialog==="confirm-submit"?(v(),b("div",TP,[a("div",{class:"dialog-bg",onClick:t[18]||(t[18]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),a("div",DP,[a("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,AP),a("div",OP,[a("div",{class:"button button-no-button clickable",onClick:t[19]||(t[19]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),a("div",{class:"button button-ok clickable",onClick:t[20]||(t[20]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Send ")])])])):H("",!0),e.dialog==="clear"?(v(),b("div",kP,[a("div",{class:"dialog-bg",onClick:t[21]||(t[21]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),a("div",PP,[a("div",VP,[a("div",{class:"responsive-image",style:at(e.clearImageUrlStyle)},null,4)]),a("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,RP),a("div",MP,[a("div",{class:"button button-no-button clickable",onClick:t[22]||(t[22]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),a("div",{class:"button button-danger clickable",onClick:t[23]||(t[23]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Clear ")])])])):H("",!0)])}var NP=He(yk,[["render",UP]]);const xP=bs("MediaQueueElement.vue"),LP=(e,t)=>new Promise(n=>{const s=new Audio(e);s.addEventListener("ended",()=>{n()}),s.volume=Gt.clamp(0,t,1),s.play()}),md=e=>new Promise(t=>{setTimeout(t,e)}),FP=ae({props:{timeBetweenMediaMs:{type:Number,default:400},baseVolume:{type:Number,default:100},displayLatestForever:{type:Boolean,default:!1}},data(){return{queue:[],worker:null,showimage:!1,imgstyle:void 0,videosrc:"",latestResolved:!0}},methods:{async _playone(e){return new Promise(async t=>{this.latestResolved=!1;const n=[];e.video.url&&(this.videosrc=e.video.url,n.push(new Promise(o=>{this.$nextTick(()=>{const l=this.$refs.video,i=e.video.volume/100;l.addEventListener("error",r=>{xP.error({e:r},"error when playing video"),o()}),l.volume=Gt.clamp(0,i,1),l.addEventListener("ended",()=>{o()})})})));let s="";if(e.image_url?s=e.image_url:e.image&&e.image.file&&(s=e.image.urlpath),s&&(await this._prepareImage(s),this.showimage=!0,this.imgstyle={backgroundImage:`url(${s})`}),e.minDurationMs&&n.push(md(Gt.parseHumanDuration(e.minDurationMs))),e.sound&&e.sound.file){const o=e.sound.urlpath,l=this.baseVolume/100,i=e.sound.volume/100,r=l*i;n.push(LP(o,r))}n.length===0&&n.push(md(1e3)),Promise.all(n).then(o=>{this.displayLatestForever||(this.showimage=!1),this.latestResolved=!0,this.videosrc="",t()})})},_addQueue(e){if(this.queue.push(e),this.worker)return;const t=async()=>{if(this.queue.length===0){clearInterval(this.worker),this.worker=null;return}const n=this.queue.shift();if(!n){clearInterval(this.worker),this.worker=null;return}await this._playone(n),this.worker=setTimeout(t,this.timeBetweenMediaMs)};this.worker=setTimeout(t,this.timeBetweenMediaMs)},async _prepareImage(e){return new Promise(t=>{const n=new Image;n.src=e,this.$nextTick(()=>{n.complete?t():n.onload=()=>{t()}})})},playmedia(e){!this.displayLatestForever&&this.latestResolved&&(this.showimage=!1),this._addQueue(e)}}}),BP=FP,HP={key:0,class:"video-container"},WP={class:"video-16-9"},jP=["src"];function zP(e,t,n,s,o,l){return v(),b(ie,null,[a("div",{style:at(e.imgstyle),class:Ae(["image-container",{"m-fadeIn":e.showimage,"m-fadeOut":!e.showimage}])},null,6),e.videosrc?(v(),b("div",HP,[a("div",WP,[a("video",{ref:"video",src:e.videosrc,autoplay:""},null,8,jP)])])):H("",!0)],64)}var Ja=He(BP,[["render",zP],["__scopeId","data-v-1fdc604f"]]);const KP=ae({components:{MediaQueueElement:Ja},props:{wdata:{type:Object,required:!0}},data(){return{inited:!1,ws:null,notificationSoundAudio:null,manualApproval:{items:[]}}},created(){Un(()=>Promise.resolve({}),["assets/main.6b6e9440.css"])},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("init",async e=>{const n=await(await It.getDrawcastAllImages()).json();e.settings.notificationSound&&(this.notificationSoundAudio=new Audio(e.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=e.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(s=>!s.approved).map(s=>s.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),GP={class:"p-2"},JP=a("h1",{class:"title"}," Drawings awaiting approval ",-1),YP={key:0},XP={class:"card-body"},QP=["src"],ZP={class:"card-footer"},qP=["onClick"],eV=["onClick"],tV={key:1};function nV(e,t,n,s,o,l){return v(),b("div",GP,[JP,e.manualApproval.items.length?(v(),b("div",YP,[(v(!0),b(ie,null,ye(e.manualApproval.items,(i,r)=>(v(),b("div",{key:r,class:"image-to-approve card mr-1"},[a("div",XP,[a("img",{src:i,class:"thumbnail mr-1"},null,8,QP)]),a("div",ZP,[a("span",{class:"card-footer-item button is-small is-success is-light",onClick:u=>e.approveImage(i)}," Approve! ",8,qP),a("span",{class:"card-footer-item button is-small is-danger is-light",onClick:u=>e.denyImage(i)}," Deny! ",8,eV)])]))),128))])):(v(),b("div",tV," Currently there are no drawings awaiting approval. "))])}var sV=He(KP,[["render",nV]]);const oV=ae({components:{MediaQueueElement:Ja},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,displayDuration:5e3,displayLatestForever:!1,notificationSound:null,images:[]}},computed:{q(){return this.$refs.q}},created(){Un(()=>Promise.resolve({}),["assets/main.b31286b1.css"])},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.displayLatestForever=e.settings.displayLatestForever,this.notificationSound=e.settings.notificationSound,this.images=e.images.map(t=>t.path),e.settings.displayLatestAutomatically&&this.images.length>0&&this.q.playmedia(mo({image_url:this.images[0],minDurationMs:this.displayDuration}))}),this.ws.onMessage("approved_image_received",e=>{this.images.unshift(e.img),this.images=this.images.slice(0,20),this.q.playmedia(mo({sound:e.mayNotify?this.notificationSound:null,image_url:e.img,minDurationMs:this.displayDuration}))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function iV(e,t,n,s,o,l){const i=me("media-queue-element");return v(),Ce(i,{ref:"q","time-between-media-ms":500,"display-latest-forever":e.displayLatestForever},null,8,["display-latest-forever"])}var aV=He(oV,[["render",iV]]);const lV=ae({components:{MediaQueueElement:Ja},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,settings:Pr(),widgetId:""}},computed:{q(){return this.$refs.q}},created(){Un(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),this.widgetId=En.getParam("id")},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.settings=e.settings}),this.ws.onMessage("playmedia",e=>{!this.widgetId&&e.widgetIds.length>0&&!e.widgetIds.includes("")||this.widgetId&&!e.widgetIds.includes(this.widgetId)||this.q.playmedia(mo(e))}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()}});function rV(e,t,n,s,o,l){const i=me("media-queue-element");return v(),Ce(i,{ref:"q","base-volume":e.settings.volume},null,8,["base-volume"])}var uV=He(lV,[["render",rV]]);const dV={class:"emote-wall"},cV=["src"],fV=ae({__name:"Page",props:{wdata:null},setup(e){const t=e,n=bs("emote_wall/Page.vue");Un(()=>Promise.resolve({}),["assets/main.d3550ad8.css"]);let s=null;const o=se(Pr()),l=se([]),i=Ne(()=>l.value.filter(Q=>Q.active)),r=64,u=window.requestAnimationFrame,d=()=>{for(const Q of l.value)Q.update();l.value=l.value.filter(Q=>!Q.dead),u(d)};u(d);const h=(Q,$e,V,Y,J)=>{const te=3*(V.x-$e.x),F=3*(Y.x-V.x)-te,de=J.x-$e.x-te-F,ee=3*(V.y-$e.y),E=3*(Y.y-V.y)-ee,_=J.y-$e.y-ee-E,N=de*Math.pow(Q,3)+F*Math.pow(Q,2)+te*Q+$e.x,z=_*Math.pow(Q,3)+E*Math.pow(Q,2)+ee*Q+$e.y;return{x:N,y:z}},c=Q=>-(Math.cos(Math.PI*Q)-1)/2,f=-1,m=1,p=-1,g=1,S=-1,w=1,y=()=>Ht(0,window.innerWidth),$=()=>window.innerWidth/2,C=()=>window.innerHeight/2,I=()=>Ht(0,window.innerHeight),T=()=>window.innerHeight,A=()=>window.innerWidth,O=Q=>Q.x+Q.w<=0,D=Q=>Q.x>window.innerWidth,x=Q=>Q.y+Q.h<=0,W=Q=>Q.y>window.innerHeight,K=Q=>O(Q)||D(Q)||x(Q)||W(Q),L=Q=>Q.y<=0,k=Q=>Q.y+Q.h>=T(),fe=Q=>{const $e={x:y(),y:I()},V={x:y(),y:I()},Y={x:y(),y:I()},J={x:y(),y:I()},te=Ht(0,50);let F=0,de=0;const ee=r,E=Q.height*ee/Q.width;return{url:Q.src,x:-ee,y:-E,w:ee,h:E,rot:0,active:!0,dead:!1,update:function(){if(F++,F<te)return;this.active=!0,de+=.005;const _=h(c(de),$e,V,Y,J);this.x=_.x,this.y=_.y,this.w=c(de)*ee,this.h=c(de)*E,de>=2&&(this.dead=!0,n.info("bezier dead"))}}},j=Q=>{const $e=Bn(["right","left"]),V=pn(2,4)*($e==="right"?f:m);let Y=-10;const J=.1,te=.7,F=Ht(0,50);let de=0;const ee=r,E=Q.height*ee/Q.width;return{url:Q.src,x:($e==="right"?A():0)-ee/2,y:I()-E/2,w:ee,h:E,rot:0,active:!1,dead:!1,update:function(){de++,!(de<F)&&(this.active=!0,this.x+=V,this.y+=Y,Y+=J,(O(this)||D(this))&&(this.dead=!0,n.info("bouncy dead")),L(this)&&(this.y=0,Y=5),k(this)&&(this.y=T()-this.h,Y*=-te))}}},ue=Q=>{let $e=pn(4,8);const V=$e,Y=Ht(-20,20),J=.1+Y/50,te=Ht(0,50);let F=0;const de=r+Y,ee=Q.height*de/Q.width;return{url:Q.src,x:y()-de/2,y:0-ee/2,w:de,h:ee,rot:0,active:!1,dead:!1,update:function(){F++,!(F<te)&&(this.active=!0,this.y+=$e,$e+=J,$e=Math.max(V,$e),W(this)&&(this.dead=!0,n.info("rain dead")))}}},we=Q=>{const $e=Ht(-10,10),V=-5+$e/5,Y=V/2;let J=0,te=V;const F=Ht(0,50);let de=0;const ee=r+$e,E=Q.height*ee/Q.width;return{url:Q.src,x:y()-ee/2,y:T()-E/2,w:ee,h:E,rot:0,active:!1,dead:!1,update:function(){de++,!(de<F)&&(this.active=!0,this.y+=te,this.x+=J,de%20===0&&pn(0,1)<.4&&(J===0?(J=Ht(-1,1),te=Math.min(Y,te)):(J=0,te+=.1)),x(this)&&(this.dead=!0,n.info("balloon dead")))}}},Ke=Q=>{const $e=pn(.5,2)*Bn([f,m]),V=pn(.5,2)*Bn([p,g]),Y=pn(1,3)*Bn([S,w]),J=Ht(0,50);let te=0;const F=r,de=Q.height*F/Q.width;return{url:Q.src,x:$()-F/2,y:C()-de/2,w:F,h:de,rot:0,active:!1,dead:!1,update:function(){te++,!(te<J)&&(this.active=!0,this.rot+=Y,this.x+=$e,this.y+=V,K(this)&&(this.dead=!0,n.info("floating space dead")))}}},ot=Q=>{const $e=pn(.5,4)*Bn([f,m]),V=pn(.5,4)*Bn([p,g]),Y=Ht(0,50);let J=0;const te=r,F=Q.height*te/Q.width;return{url:Q.src,x:$()-te/2,y:C()-F/2,w:te,h:F,rot:0,active:!1,dead:!1,update:function(){J++,!(J<Y)&&(this.active=!0,this.x+=$e,this.y+=V,K(this)&&(this.dead=!0,n.info("explode dead")))}}},Fe=Q=>{const $e=pn(.5,4)*Bn([f,m]);let V=pn(-15,-10);const Y=.1,J=.7,te=Ht(0,50);let F=0;const de=r,ee=Q.height*de/Q.width;return{url:Q.src,x:$()-de/2,y:T()-ee,w:de,h:ee,rot:0,active:!1,dead:!1,update:function(){F++,!(F<te)&&(this.active=!0,this.x+=$e,this.y+=V,V+=Y,(O(this)||D(this))&&(this.dead=!0,n.info("fountain dead")),L(this)&&(this.y=0,V=-V),k(this)&&(this.y=T()-this.h,V*=-J))}}},Ge=async Q=>new Promise($e=>{const V=new Image;V.onload=()=>{$e(V)},V.src=Q});return Tt(()=>{s=En.wsClient(t.wdata),s.onMessage("init",Q=>{o.value=Q.settings}),s.onMessage("emotes",async Q=>{const $e=Bn(Q.displayFn);let V;switch($e.fn){case Vt.BALLOON:V=we;break;case Vt.BOUNCY:V=j;break;case Vt.EXPLODE:V=ot;break;case Vt.FLOATING_SPACE:V=Ke;break;case Vt.FOUNTAIN:V=Fe;break;case Vt.RAIN:V=ue;break;case Vt.RANDOM_BEZIER:V=fe;break;default:return}for(const Y of Q.emotes){const J=await Ge(Y.url);l.value.push(V(J,$e.args))}}),s.connect()}),Tn(()=>{s&&s.disconnect()}),(Q,$e)=>(v(),b("div",dV,[(v(!0),b(ie,null,ye(ce(i),(V,Y)=>(v(),b("img",{key:Y,src:V.url,class:"emote",style:at({top:`${V.y}px`,left:`${V.x}px`,width:V.w+"px",height:V.h+"px",transform:`rotate(${V.rot}deg)`})},null,12,cV))),128))]))}}),hV=ae({components:{MediaQueueElement:Ja},props:{wdata:{type:Object,required:!0}},data:()=>({ws:null,data:null,timeout:null,now:null}),computed:{showTimerWhenFinished(){return this.data?!!this.data.settings.showTimerWhenFinished:!1},finishedText(){return this.data?this.data.settings.finishedText:""},finishined(){return this.timeLeft<=0},running(){return this.data?!!this.data.state.running:!1},timeLeftHumanReadable(){if(!this.data)return"";const e=Math.max(this.timeLeft,0),n=1e3*1,s=60*n,o=60*s,l=Gt.pad(Math.floor(e/o),"00"),i=Gt.pad(Math.floor(e%o/s),"00"),r=Gt.pad(Math.floor(e%o%s/n),"00");let u=this.data.settings.timerFormat;return u=u.replace("{hh}",l),u=u.replace("{mm}",i),u=u.replace("{ss}",r),u},timeLeft(){return!this.dateEnd||!this.now?0:this.dateEnd.getTime()-this.now.getTime()},dateEnd(){return!this.dateStarted||!this.data?null:new Date(this.dateStarted.getTime()+this.data.state.durationMs)},dateStarted(){return this.data?new Date(JSON.parse(this.data.state.startTs)):null},widgetStyles(){return this.data?{fontFamily:this.data.settings.fontFamily,fontSize:this.data.settings.fontSize,color:this.data.settings.color}:null},q(){return this.$refs.q}},created(){Un(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"])},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("init",e=>{this.data=e,this.tick()}),this.ws.onMessage("effect",e=>{this.q.playmedia(mo({sound:e.sound,minDurationMs:0}))}),this.ws.connect()},unmounted(){this.timeout&&clearTimeout(this.timeout),this.ws&&this.ws.disconnect()},methods:{tick(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.now=new Date,this.data&&this.data.state.running&&this.tick()},1e3)}}}),mV={key:0},pV={key:1},gV={key:0},vV={key:1};function yV(e,t,n,s,o,l){const i=me("media-queue-element");return v(),b(ie,null,[e.running?(v(),b("div",{key:0,style:at(e.widgetStyles)},[e.finishined?(v(),b("div",pV,[e.showTimerWhenFinished?(v(),b("span",gV,G(e.timeLeftHumanReadable),1)):H("",!0),e.finishedText?(v(),b("span",vV,G(e.finishedText),1)):H("",!0)])):(v(),b("div",mV,G(e.timeLeftHumanReadable),1))],4)):H("",!0),R(i,{ref:"q","time-between-media-ms":100},null,512)],64)}var bV=He(hV,[["render",yV]]);const an=bs("speech-to-text/Page.vue"),wV=ae({props:{controls:{type:Boolean,required:!0},wdata:{type:Object,required:!0}},data:()=>({ws:null,status:"",errors:[],initedSpeech:!1,lastUtterance:"",recognition:{interimResults:!1,continuous:!0},texts:[],timeout:null,settings:null,srObj:null}),computed:{recognizedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].recognized},translatedText(){return this.texts.length===0||!this.texts[0].ready?"":this.texts[0].translated},lastRecognizedText(){return this.texts.length===0?"":this.texts[this.texts.length-1].recognized},wantsSpeech(){return this.settings?this.settings.recognition.synthesize||this.settings.translation.synthesize:!1},textTable(){return this.$refs.text_table}},created(){Un(()=>Promise.resolve({}),["assets/main.789973a0.css"])},mounted(){this.ws=En.wsClient(this.wdata),this.ws.onMessage("text",e=>{this.texts.push({recognized:e.recognized,translated:e.translated,ready:!0}),this._next()}),this.ws.onMessage("init",e=>{this.settings=e.settings,this.$nextTick(()=>{this.applyStyles(),this.initVoiceRecognition()})}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{initSpeech(){an.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),this.initedSpeech=!0},_next(){if(this.timeout){an.info("_next(): timeout still active");return}if(!this.recognizedText&&!this.translatedText){an.info("_next(): recognizedText and translatedText empty");return}if(!this.settings){an.info("_next(): settings empty");return}this.recognizedText&&this.settings.recognition.synthesize&&(an.info("synthesizing recognized text"),this.synthesize(this.recognizedText,this.settings.recognition.synthesizeLang)),this.translatedText&&this.settings.translation.synthesize&&(an.info("synthesizing translated text"),this.synthesize(this.translatedText,this.settings.translation.synthesizeLang)),this.timeout=setTimeout(()=>{this.texts.shift(),this.timeout=null,this._next()},this.calculateSubtitleDisplayTime(`${this.recognizedText} ${this.translatedText}`))},calculateSubtitleDisplayTime(e){const t=Ty(e);return Tf(2*Bs,t,10*Bs)},synthesize(e,t){if(an.info({lastUtterance:this.lastUtterance,text:e,lang:t},"synthesize"),this.lastUtterance!==e){an.info({speechSynthesis},"speechSynthesis"),this.lastUtterance=e;let n=new SpeechSynthesisUtterance(`${this.lastUtterance}`);t&&(n.lang=t),speechSynthesis.cancel(),speechSynthesis.speak(n)}},applyStyles(){if(!this.settings){an.info("applyStyles(): settings empty");return}const e=this.settings.styles,t=e.bgColorEnabled&&e.bgColor!=null?e.bgColor:"";document.body.style.backgroundColor=t,e.vAlign==="top"?this.textTable.style.bottom=null:e.vAlign==="bottom"&&(this.textTable.style.bottom="0px");const n=(s,o,l,i,r)=>{if(i.color!=null&&(o.style.color=i.color),s.style.webkitTextStrokeColor=r,i.strokeWidth!=null){const u=jl(i.strokeWidth);s.style.webkitTextStrokeWidth=u,l.style.webkitTextStrokeWidth=u}if(i.strokeColor!=null&&(l.style.webkitTextStrokeColor=i.strokeColor),i.fontFamily!=null&&(s.style.fontFamily=i.fontFamily,o.style.fontFamily=i.fontFamily,l.style.fontFamily=i.fontFamily),i.fontSize!=null){const u=jl(i.fontSize);s.style.fontSize=u,o.style.fontSize=u,l.style.fontSize=u}i.fontWeight!=null&&(s.style.fontWeight=i.fontWeight,o.style.fontWeight=i.fontWeight,l.style.fontWeight=i.fontWeight)};this.settings.recognition.display&&n(this.$refs["speech_text-imb"],this.$refs["speech_text-fg"],this.$refs["speech_text-bg"],e.recognition,t),this.settings.translation.enabled&&n(this.$refs["trans_text-imb"],this.$refs["trans_text-fg"],this.$refs["trans_text-bg"],e.translation,t)},initVoiceRecognition(){if(!this.controls)return;if(!this.settings){an.info("initVoiceRecognition(): settings empty");return}const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){alert("This widget does not work in this browser. Try a chrome based browser.");return}this.srObj&&(this.srObj.abort(),this.srObj.stop()),this.srObj=new e,this.srObj.lang=this.settings.recognition.lang,this.srObj.interimResults=this.recognition.interimResults,this.srObj.continuous=this.recognition.continuous,this.srObj.onsoundstart=()=>{this.status="Sound started"},this.srObj.onnomatch=()=>{this.status="No match"},this.srObj.onerror=t=>{this.status="Error",this.errors.unshift(t.error),this.errors=this.errors.slice(0,10),this.initVoiceRecognition()},this.srObj.onsoundend=()=>{this.status="Sound ended",this.initVoiceRecognition()},this.srObj.onspeechend=()=>{this.status="Speech ended",this.initVoiceRecognition()},this.srObj.onresult=async t=>{this.onVoiceResult(t),this.initVoiceRecognition()},this.srObj.start()},onVoiceResult(e){if(!this.ws){an.error("onVoiceResult: this.ws not set");return}let t=e.results;an.info({evt:e},"onVoiceResult()");for(var n=e.resultIndex;n<t.length;n++){if(!t[n].isFinal)continue;const s=t[n][0].transcript;if(this.lastRecognizedText!==s){this.ws.send(JSON.stringify({event:"onVoiceResult",text:s}));break}}}}}),SV={key:0,ref:"result_text",class:"big"},$V={key:0},CV={key:0},EV=a("div",null,"Latest errors:",-1),_V={ref:"text_table",class:"btm_table"},IV={align:"center",valign:"bottom"};function TV(e,t,n,s,o,l){return e.settings?(v(),b("div",SV,[e.settings.status.enabled?(v(),b("div",$V,[M(G(e.status)+" ",1),e.errors.length>0?(v(),b("div",CV,[EV,a("ul",null,[(v(!0),b(ie,null,ye(e.errors,(i,r)=>(v(),b("li",{key:r},G(i),1))),128))])])):H("",!0)])):H("",!0),e.controls&&e.wantsSpeech&&!e.initedSpeech?(v(),b("button",{key:1,onClick:t[0]||(t[0]=(...i)=>e.initSpeech&&e.initSpeech(...i))}," Enable Speech Synthesis ")):H("",!0),a("table",_V,[a("tr",null,[a("td",IV,[e.settings.recognition.display?(v(),b("div",{key:0,ref:"speech_text-bg",class:"stroke-single-bg"},G(e.recognizedText),513)):H("",!0),e.settings.recognition.display?(v(),b("div",{key:1,ref:"speech_text-fg",class:"stroke-single-fg"},G(e.recognizedText),513)):H("",!0),e.settings.recognition.display?(v(),b("div",{key:2,ref:"speech_text-imb",class:"stroke-single-imb"},G(e.recognizedText),513)):H("",!0),e.settings.translation.enabled?(v(),b("div",{key:3,ref:"trans_text-bg",class:"stroke-single-bg"},G(e.translatedText),513)):H("",!0),e.settings.translation.enabled?(v(),b("div",{key:4,ref:"trans_text-fg",class:"stroke-single-fg"},G(e.translatedText),513)):H("",!0),e.settings.translation.enabled?(v(),b("div",{key:5,ref:"trans_text-imb",class:"stroke-single-imb"},G(e.translatedText),513)):H("",!0)])])],512)],512)):H("",!0)}var DV=He(wV,[["render",TV]]);const AV=ae({props:{item:{type:Object,required:!0},showThumbnails:{required:!0},timestampFormat:{type:String,default:"YYYY-MM-DD hh:mm:ss"}},computed:{thumbnail(){return`https://i.ytimg.com/vi/${this.item.yt}/mqdefault.jpg`}},methods:{formatTimestamp(e){return Ar(this.timestampFormat,new Date(e))}}}),OV=["data-user","data-yt"],kV={key:0,class:"thumbnail"},PV={class:"media-16-9"},VV=["src"],RV={class:"title"},MV={class:"title-content title-orig"},UV={class:"title-content title-dupl"},NV={class:"meta meta-left"},xV={class:"meta-user"},LV=a("span",{class:"meta-user-text-before"},"requested by ",-1),FV={class:"meta-user-name"},BV=a("span",{class:"meta-user-text-after"},null,-1),HV={key:0,class:"meta-timestamp"},WV={class:"meta-plays"},jV=a("span",{class:"meta-plays-text-before"},"played ",-1),zV={class:"meta-plays-count"},KV={class:"meta-plays-text-after"},GV={class:"meta meta-right vote"},JV={class:"meta-plays"},YV=a("i",{class:"fa fa-repeat"},null,-1),XV={class:"vote-up"},QV=a("i",{class:"fa fa-thumbs-up"},null,-1),ZV={class:"vote-down"},qV=a("i",{class:"fa fa-thumbs-down"},null,-1);function e5(e,t,n,s,o,l){return v(),b("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(v(),b("div",kV,[a("div",PV,[a("img",{src:e.thumbnail},null,8,VV)])])):H("",!0),a("div",RV,[a("span",MV,G(e.item.title||e.item.yt),1),a("span",UV,G(e.item.title||e.item.yt),1)]),a("div",NV,[a("span",xV,[LV,a("span",FV,G(e.item.user),1),BV]),e.timestampFormat?(v(),b("span",HV,G(e.formatTimestamp(e.item.timestamp)),1)):H("",!0),a("span",WV,[jV,a("span",zV,G(e.item.plays),1),a("span",KV," time"+G(e.item.plays===1?"":"s"),1)])]),a("div",GV,[a("span",JV,[YV,M(" "+G(e.item.plays),1)]),a("span",XV,[QV,M(" "+G(e.item.goods),1)]),a("span",ZV,[qV,M(" "+G(e.item.bads),1)])])],8,OV)}var t5=He(AV,[["render",e5]]);const n5={class:"player video-16-9"},s5={key:1,class:"hide-video"},o5={key:2,class:"progress"},i5={class:"list"},a5=ae({__name:"Page",props:{wdata:null},setup(e){const t=e;Un(()=>Promise.resolve({}),["assets/main.32689c31.css"]);const n=bs("Page.vue");let s=null;const o=se(),l=se({tag:""}),i=se(!1),r=se([]),u=se(Wf()),d=se(0),h=se(!1),c=Ne(()=>u.value.customCssPresets[u.value.customCssPresetIdx]||hi()),f=Ne(()=>c.value.showThumbnails==="left"?"with-thumbnails-left":c.value.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"),m=Ne(()=>c.value.showProgressBar?"with-progress-bar":"without-progress-bar"),p=Ne(()=>[f.value,m.value]),g=Ne(()=>({width:`${d.value*100}%`})),S=Ne(()=>r.value.filter((k,fe)=>!C(k,fe))),w=Ne(()=>l.value.tag===""?r.value:r.value.filter(k=>k.tags.includes(l.value.tag))),y=Ne(()=>$.value?!!$.value.hidevideo:!1),$=Ne(()=>w.value.length===0?null:w.value[0]),C=(k,fe)=>c.value.maxItemsShown>=0&&c.value.maxItemsShown-1<fe?!0:l.value.tag!==""&&!k.tags.includes(l.value.tag),I=()=>{T({event:"ended"})},T=k=>{if(!s){n.error("sendMsg, ws not defined");return}s.send(JSON.stringify(k))},A=()=>{i.value=!0,x(),$.value&&(o.value.play($.value.yt),T({event:"play",id:$.value.id}))},O=()=>{$.value&&(o.value.unpause(),T({event:"unpause",id:$.value.id}))},D=()=>{$.value&&(o.value.pause(),T({event:"pause"}))},x=()=>{o.value.setVolume(u.value.volume)},W=()=>{d.value=o.value.getProgress(),c.value.showProgressBar&&requestAnimationFrame(W)},K=k=>k.length>0?k[0].id:null,L=k=>{const fe=k.customCssPresets[k.customCssPresetIdx]||hi();if(c.value.css!==fe.css){let j=document.getElementById("customCss");j&&j.parentElement&&j.parentElement.removeChild(j),j=document.createElement("style"),j.id="customCss",j.textContent=fe.css,document.head.appendChild(j)}c.value.showProgressBar!==fe.showProgressBar&&fe.showProgressBar&&requestAnimationFrame(W),u.value=k,x()};return Tt(()=>{s=En.wsClient(t.wdata),s.onMessage(["save","settings"],k=>{L(k.settings)}),s.onMessage(["onEnded","prev","skip","remove","move","tags"],k=>{L(k.settings);const fe=K(w.value);l.value=k.filter,r.value=k.playlist;const j=K(w.value);fe!==j&&A()}),s.onMessage(["filter"],k=>{L(k.settings);const fe=K(w.value);l.value=k.filter,r.value=k.playlist,w.value.find(j=>j.id===fe)||A()}),s.onMessage(["pause"],k=>{o.value.playing()&&D()}),s.onMessage(["unpause"],k=>{o.value.playing()||(i.value?O():A())}),s.onMessage(["loop"],k=>{o.value.setLoop(!0)}),s.onMessage(["noloop"],k=>{o.value.setLoop(!1)}),s.onMessage(["stats","video","playIdx","shuffle"],k=>{L(k.settings),l.value=k.filter,r.value=k.playlist}),s.onMessage(["add","init"],k=>{L(k.settings),l.value=k.filter,r.value=k.playlist,!h.value&&!o.value.playing()&&u.value.initAutoplay&&A(),h.value=!0}),s.connect()}),Tn(()=>{s&&s.disconnect()}),Xe(r,k=>{k.some((fe,j)=>!C(fe,j))||(console.log("stopping player"),o.value.stop())}),Xe(l,()=>{r.value.some((k,fe)=>!C(k,fe))||(console.log("stopping player"),o.value.stop())}),(k,fe)=>(v(),b("div",{class:Ae(["wrapper",ce(p)])},[a("div",n5,[ce(y)&&u.value.hideVideoImage.file?(v(),Ce(Rr,{key:0,class:"hide-video",src:u.value.hideVideoImage.urlpath},null,8,["src"])):ce(y)?(v(),b("div",s5)):H("",!0),ce(c).showProgressBar?(v(),b("div",o5,[a("div",{class:"progress-value",style:at(ce(g))},null,4)])):H("",!0),R(jf,{ref_key:"player",ref:o,onEnded:I},null,512)]),a("ol",i5,[(v(!0),b(ie,null,ye(ce(S),(j,ue)=>(v(),Ce(t5,{key:ue,class:Ae(ue===0?"playing":"not-playing"),item:j,"show-thumbnails":ce(c).showThumbnails,"timestamp-format":ce(c).timestampFormat},null,8,["class","item","show-thumbnails","timestamp-format"]))),128))])],2))}}),l5=ae({components:{AvatarPage:V8,DrawcastDrawPage:NP,DrawcastControlPage:sV,DrawcastReceivePage:aV,MediaPage:uV,EmoteWallPage:fV,PomoPage:bV,SpeechToTextPage:DV,SrPage:a5},data:()=>({data:null,error:""}),computed:{widget(){return this.data?this.data.widget:null}},async created(){this.error="";const e=this.$route.name==="pub"?await It.getPubData(`${this.$route.params.pub_id}`):await It.getWidgetData(`${this.$route.params.widget_type}`,`${this.$route.params.widget_token}`);if(e.status!==200){this.error="Widget not found...";return}const t=await e.json();document.title=t.title,this.data=t}}),r5={key:11},u5={key:12};function d5(e,t,n,s,o,l){const i=me("avatar-page"),r=me("drawcast-draw-page"),u=me("drawcast-control-page"),d=me("drawcast-receive-page"),h=me("media-page"),c=me("emote-wall-page"),f=me("pomo-page"),m=me("speech-to-text-page"),p=me("sr-page");return e.widget==="avatar"?(v(),Ce(i,{key:0,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="avatar_receive"?(v(),Ce(i,{key:1,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="drawcast_draw"?(v(),Ce(r,{key:2,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_control"?(v(),Ce(u,{key:3,wdata:e.data},null,8,["wdata"])):e.widget==="drawcast_receive"?(v(),Ce(d,{key:4,wdata:e.data},null,8,["wdata"])):e.widget==="media"?(v(),Ce(h,{key:5,wdata:e.data},null,8,["wdata"])):e.widget==="emote_wall"?(v(),Ce(c,{key:6,wdata:e.data},null,8,["wdata"])):e.widget==="pomo"?(v(),Ce(f,{key:7,wdata:e.data},null,8,["wdata"])):e.widget==="speech-to-text"?(v(),Ce(m,{key:8,wdata:e.data,controls:!0},null,8,["wdata"])):e.widget==="speech-to-text_receive"?(v(),Ce(m,{key:9,wdata:e.data,controls:!1},null,8,["wdata"])):e.widget==="sr"?(v(),Ce(p,{key:10,wdata:e.data},null,8,["wdata"])):e.error?(v(),b("div",u5,G(e.error),1)):(v(),b("div",r5," Loading... "))}var pd=He(l5,[["render",d5]]);const c5=async()=>{const e=mv({history:Og(),routes:[{name:"index",path:"/",component:F2,meta:{title:"Hyottoko.club",protected:!0}},{name:"login",path:"/login",component:q2,meta:{title:"Login",protected:!1}},{name:"commands",path:"/commands/",component:s_,meta:{title:"Commands",protected:!0}},{name:"variables",path:"/variables/",component:IO,meta:{title:"Variables",protected:!0}},{name:"sr",path:"/sr/",component:a3,meta:{title:"Song Request",protected:!0}},{name:"speech-to-text",path:"/speech-to-text/",component:mO,meta:{title:"Speech to text",protected:!0}},{name:"avatar",path:"/avatar/",component:h0,meta:{title:"Avatar",protected:!0}},{name:"pomo",path:"/pomo/",component:WI,meta:{title:"Pomo",protected:!0}},{name:"drawcast",path:"/drawcast/",component:O2,meta:{title:"Drawcast",protected:!0}},{name:"settings",path:"/settings/",component:mT,meta:{title:"Settings",protected:!0}},{name:"widget",path:"/widget/:widget_type/:widget_token/",component:pd,meta:{title:"Widget",protected:!1}},{name:"pub",path:"/pub/:pub_id/",component:pd,meta:{title:"Pub",protected:!1}}]});let t=!1;e.beforeEach(async(s,o,l)=>{if(s.name==="widget"||s.name==="pub"){l();return}if(t||(Un(()=>Promise.resolve({}),["assets/style.aaeffa9c.css"]),bn.eventBus.on("login",()=>{Gu.init()}),bn.eventBus.on("logout",()=>{Gu.stop()}),bn.eventBus.on("darkmode",i=>{i?document.documentElement.classList.add("darkmode"):document.documentElement.classList.remove("darkmode")}),await Bf.init(),await di.init(),await bn.init(),t=!0),s.meta.protected&&!bn.getMe()){l({name:"login"});return}if(!s.meta.protected&&bn.getMe()){l({name:"index"});return}o.name&&document.documentElement.classList.remove(`view-${String(o.name)}`),document.documentElement.classList.add(`view-${String(s.name)}`),document.title=`${s.meta.title}`,l()});const n=Ir(py);n.use(e),n.use(fy,{}),n.component("VueDraggable",h8),n.mount("#app")};c5();
