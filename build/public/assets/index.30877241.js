const nh=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};nh();const sh="modulepreload",Fr={},oh="/",Ln=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${oh}${s}`,s in Fr)return;Fr[s]=!0;const o=s.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":sh,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((r,u)=>{a.addEventListener("load",r),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function ha(e,t){const n=Object.create(null),s=e.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const lh="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",ah=ha(lh);function at(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=gt(s)?ch(s):at(s);if(o)for(const i in o)t[i]=o[i]}return t}else{if(gt(e))return e;if(ct(e))return e}}const ih=/;(?![^(]*\))/g,rh=/:([^]+)/,uh=/\/\*.*?\*\//gs;function ch(e){const t={};return e.replace(uh,"").split(ih).forEach(n=>{if(n){const s=n.split(rh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Oe(e){let t="";if(gt(e))t=e;else if(Te(e))for(let n=0;n<e.length;n++){const s=Oe(e[n]);s&&(t+=s+" ")}else if(ct(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function dh(e){if(!e)return null;let{class:t,style:n}=e;return t&&!gt(t)&&(e.class=Oe(t)),n&&(e.style=at(n)),e}const fh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hh=ha(fh);function mc(e){return!!e||e===""}function mh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=gs(e[s],t[s]);return n}function gs(e,t){if(e===t)return!0;let n=Br(e),s=Br(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Zo(e),s=Zo(t),n||s)return e===t;if(n=Te(e),s=Te(t),n||s)return n&&s?mh(e,t):!1;if(n=ct(e),s=ct(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const a in e){const r=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(r&&!u||!r&&u||!gs(e[a],t[a]))return!1}}return String(e)===String(t)}function ma(e,t){return e.findIndex(n=>gs(n,t))}const Q=e=>gt(e)?e:e==null?"":Te(e)||ct(e)&&(e.toString===vc||!Fe(e.toString))?JSON.stringify(e,pc,2):String(e),pc=(e,t)=>t&&t.__v_isRef?pc(e,t.value):no(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o])=>(n[`${s} =>`]=o,n),{})}:Ws(t)?{[`Set(${t.size})`]:[...t.values()]}:ct(t)&&!Te(t)&&!gc(t)?String(t):t,it={},to=[],In=()=>{},ph=()=>!1,vh=/^on[^a-z]/,fl=e=>vh.test(e),Ji=e=>e.startsWith("onUpdate:"),_t=Object.assign,Yi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gh=Object.prototype.hasOwnProperty,et=(e,t)=>gh.call(e,t),Te=Array.isArray,no=e=>hl(e)==="[object Map]",Ws=e=>hl(e)==="[object Set]",Br=e=>hl(e)==="[object Date]",Fe=e=>typeof e=="function",gt=e=>typeof e=="string",Zo=e=>typeof e=="symbol",ct=e=>e!==null&&typeof e=="object",Xi=e=>ct(e)&&Fe(e.then)&&Fe(e.catch),vc=Object.prototype.toString,hl=e=>vc.call(e),yh=e=>hl(e).slice(8,-1),gc=e=>hl(e)==="[object Object]",Qi=e=>gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Uo=ha(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pa=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},bh=/-(\w)/g,Xt=pa(e=>e.replace(bh,(t,n)=>n?n.toUpperCase():"")),wh=/\B([A-Z])/g,fn=pa(e=>e.replace(wh,"-$1").toLowerCase()),ml=pa(e=>e.charAt(0).toUpperCase()+e.slice(1)),No=pa(e=>e?`on${ml(e)}`:""),io=(e,t)=>!Object.is(e,t),so=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ql=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Qn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Hr;const _h=()=>Hr||(Hr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let nn;class Zi{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}run(t){if(this.active){const n=nn;try{return nn=this,t()}finally{nn=n}}}on(){nn=this}off(){nn=this.parent}stop(t){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function Sh(e){return new Zi(e)}function yc(e,t=nn){t&&t.active&&t.effects.push(e)}function $h(){return nn}function Ch(e){nn&&nn.cleanups.push(e)}const qi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},bc=e=>(e.w&ys)>0,wc=e=>(e.n&ys)>0,Eh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ys},Th=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const o=t[s];bc(o)&&!wc(o)?o.delete(e):t[n++]=o,o.w&=~ys,o.n&=~ys}t.length=n}},pi=new WeakMap;let Ao=0,ys=1;const vi=30;let En;const Vs=Symbol(""),gi=Symbol("");class pl{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,yc(this,s)}run(){if(!this.active)return this.fn();let t=En,n=ps;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=En,En=this,ps=!0,ys=1<<++Ao,Ao<=vi?Eh(this):Wr(this),this.fn()}finally{Ao<=vi&&Th(this),ys=1<<--Ao,En=this.parent,ps=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){En===this?this.deferStop=!0:this.active&&(Wr(this),this.onStop&&this.onStop(),this.active=!1)}}function Wr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Ih(e,t){e.effect&&(e=e.effect.fn);const n=new pl(e);t&&(_t(n,t),t.scope&&yc(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function Dh(e){e.effect.stop()}let ps=!0;const _c=[];function go(){_c.push(ps),ps=!1}function yo(){const e=_c.pop();ps=e===void 0?!0:e}function un(e,t,n){if(ps&&En){let s=pi.get(e);s||pi.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=qi()),Sc(o)}}function Sc(e,t){let n=!1;Ao<=vi?wc(e)||(e.n|=ys,n=!bc(e)):n=!e.has(En),n&&(e.add(En),En.deps.push(e))}function Zn(e,t,n,s,o,i){const a=pi.get(e);if(!a)return;let r=[];if(t==="clear")r=[...a.values()];else if(n==="length"&&Te(e)){const u=Qn(s);a.forEach((c,h)=>{(h==="length"||h>=u)&&r.push(c)})}else switch(n!==void 0&&r.push(a.get(n)),t){case"add":Te(e)?Qi(n)&&r.push(a.get("length")):(r.push(a.get(Vs)),no(e)&&r.push(a.get(gi)));break;case"delete":Te(e)||(r.push(a.get(Vs)),no(e)&&r.push(a.get(gi)));break;case"set":no(e)&&r.push(a.get(Vs));break}if(r.length===1)r[0]&&yi(r[0]);else{const u=[];for(const c of r)c&&u.push(...c);yi(qi(u))}}function yi(e,t){const n=Te(e)?e:[...e];for(const s of n)s.computed&&jr(s);for(const s of n)s.computed||jr(s)}function jr(e,t){(e!==En||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ah=ha("__proto__,__v_isRef,__isVue"),$c=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zo)),kh=va(),Oh=va(!1,!0),Vh=va(!0),xh=va(!0,!0),zr=Ph();function Ph(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ze(this);for(let i=0,a=this.length;i<a;i++)un(s,"get",i+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(Ze)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){go();const s=Ze(this)[t].apply(this,n);return yo(),s}}),e}function va(e=!1,t=!1){return function(s,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?kc:Ac:t?Dc:Ic).get(s))return s;const a=Te(s);if(!e&&a&&et(zr,o))return Reflect.get(zr,o,i);const r=Reflect.get(s,o,i);return(Zo(o)?$c.has(o):Ah(o))||(e||un(s,"get",o),t)?r:Dt(r)?a&&Qi(o)?r:r.value:ct(r)?e?tr(r):bo(r):r}}const Rh=Cc(),Mh=Cc(!0);function Cc(e=!1){return function(n,s,o,i){let a=n[s];if(Us(a)&&Dt(a)&&!Dt(o))return!1;if(!e&&(!qo(o)&&!Us(o)&&(a=Ze(a),o=Ze(o)),!Te(n)&&Dt(a)&&!Dt(o)))return a.value=o,!0;const r=Te(n)&&Qi(s)?Number(s)<n.length:et(n,s),u=Reflect.set(n,s,o,i);return n===Ze(i)&&(r?io(o,a)&&Zn(n,"set",s,o):Zn(n,"add",s,o)),u}}function Uh(e,t){const n=et(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&Zn(e,"delete",t,void 0),s}function Nh(e,t){const n=Reflect.has(e,t);return(!Zo(t)||!$c.has(t))&&un(e,"has",t),n}function Lh(e){return un(e,"iterate",Te(e)?"length":Vs),Reflect.ownKeys(e)}const Ec={get:kh,set:Rh,deleteProperty:Uh,has:Nh,ownKeys:Lh},Tc={get:Vh,set(e,t){return!0},deleteProperty(e,t){return!0}},Fh=_t({},Ec,{get:Oh,set:Mh}),Bh=_t({},Tc,{get:xh}),er=e=>e,ga=e=>Reflect.getPrototypeOf(e);function El(e,t,n=!1,s=!1){e=e.__v_raw;const o=Ze(e),i=Ze(t);n||(t!==i&&un(o,"get",t),un(o,"get",i));const{has:a}=ga(o),r=s?er:n?or:el;if(a.call(o,t))return r(e.get(t));if(a.call(o,i))return r(e.get(i));e!==o&&e.get(t)}function Tl(e,t=!1){const n=this.__v_raw,s=Ze(n),o=Ze(e);return t||(e!==o&&un(s,"has",e),un(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Il(e,t=!1){return e=e.__v_raw,!t&&un(Ze(e),"iterate",Vs),Reflect.get(e,"size",e)}function Kr(e){e=Ze(e);const t=Ze(this);return ga(t).has.call(t,e)||(t.add(e),Zn(t,"add",e,e)),this}function Gr(e,t){t=Ze(t);const n=Ze(this),{has:s,get:o}=ga(n);let i=s.call(n,e);i||(e=Ze(e),i=s.call(n,e));const a=o.call(n,e);return n.set(e,t),i?io(t,a)&&Zn(n,"set",e,t):Zn(n,"add",e,t),this}function Jr(e){const t=Ze(this),{has:n,get:s}=ga(t);let o=n.call(t,e);o||(e=Ze(e),o=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return o&&Zn(t,"delete",e,void 0),i}function Yr(){const e=Ze(this),t=e.size!==0,n=e.clear();return t&&Zn(e,"clear",void 0,void 0),n}function Dl(e,t){return function(s,o){const i=this,a=i.__v_raw,r=Ze(a),u=t?er:e?or:el;return!e&&un(r,"iterate",Vs),a.forEach((c,h)=>s.call(o,u(c),u(h),i))}}function Al(e,t,n){return function(...s){const o=this.__v_raw,i=Ze(o),a=no(i),r=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,c=o[e](...s),h=n?er:t?or:el;return!t&&un(i,"iterate",u?gi:Vs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:r?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function os(e){return function(...t){return e==="delete"?!1:this}}function Hh(){const e={get(i){return El(this,i)},get size(){return Il(this)},has:Tl,add:Kr,set:Gr,delete:Jr,clear:Yr,forEach:Dl(!1,!1)},t={get(i){return El(this,i,!1,!0)},get size(){return Il(this)},has:Tl,add:Kr,set:Gr,delete:Jr,clear:Yr,forEach:Dl(!1,!0)},n={get(i){return El(this,i,!0)},get size(){return Il(this,!0)},has(i){return Tl.call(this,i,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:Dl(!0,!1)},s={get(i){return El(this,i,!0,!0)},get size(){return Il(this,!0)},has(i){return Tl.call(this,i,!0)},add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear"),forEach:Dl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Al(i,!1,!1),n[i]=Al(i,!0,!1),t[i]=Al(i,!1,!0),s[i]=Al(i,!0,!0)}),[e,n,t,s]}const[Wh,jh,zh,Kh]=Hh();function ya(e,t){const n=t?e?Kh:zh:e?jh:Wh;return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(et(n,o)&&o in s?n:s,o,i)}const Gh={get:ya(!1,!1)},Jh={get:ya(!1,!0)},Yh={get:ya(!0,!1)},Xh={get:ya(!0,!0)},Ic=new WeakMap,Dc=new WeakMap,Ac=new WeakMap,kc=new WeakMap;function Qh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zh(e){return e.__v_skip||!Object.isExtensible(e)?0:Qh(yh(e))}function bo(e){return Us(e)?e:ba(e,!1,Ec,Gh,Ic)}function Oc(e){return ba(e,!1,Fh,Jh,Dc)}function tr(e){return ba(e,!0,Tc,Yh,Ac)}function qh(e){return ba(e,!0,Bh,Xh,kc)}function ba(e,t,n,s,o){if(!ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=Zh(e);if(a===0)return e;const r=new Proxy(e,a===2?s:n);return o.set(e,r),r}function xs(e){return Us(e)?xs(e.__v_raw):!!(e&&e.__v_isReactive)}function Us(e){return!!(e&&e.__v_isReadonly)}function qo(e){return!!(e&&e.__v_isShallow)}function nr(e){return xs(e)||Us(e)}function Ze(e){const t=e&&e.__v_raw;return t?Ze(t):e}function sr(e){return Ql(e,"__v_skip",!0),e}const el=e=>ct(e)?bo(e):e,or=e=>ct(e)?tr(e):e;function lr(e){ps&&En&&(e=Ze(e),Sc(e.dep||(e.dep=qi())))}function wa(e,t){e=Ze(e),e.dep&&yi(e.dep)}function Dt(e){return!!(e&&e.__v_isRef===!0)}function x(e){return xc(e,!1)}function Vc(e){return xc(e,!0)}function xc(e,t){return Dt(e)?e:new em(e,t)}class em{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ze(t),this._value=n?t:el(t)}get value(){return lr(this),this._value}set value(t){const n=this.__v_isShallow||qo(t)||Us(t);t=n?t:Ze(t),io(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:el(t),wa(this))}}function tm(e){wa(e)}function J(e){return Dt(e)?e.value:e}const nm={get:(e,t,n)=>J(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Dt(o)&&!Dt(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function ar(e){return xs(e)?e:new Proxy(e,nm)}class sm{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>lr(this),()=>wa(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function om(e){return new sm(e)}function lm(e){const t=Te(e)?new Array(e.length):{};for(const n in e)t[n]=Pc(e,n);return t}class am{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Pc(e,t,n){const s=e[t];return Dt(s)?s:new am(e,t,n)}var Rc;class im{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Rc]=!1,this._dirty=!0,this.effect=new pl(t,()=>{this._dirty||(this._dirty=!0,wa(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=Ze(this);return lr(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Rc="__v_isReadonly";function rm(e,t,n=!1){let s,o;const i=Fe(e);return i?(s=e,o=In):(s=e.get,o=e.set),new im(s,o,i||!o,n)}function um(e,...t){}function Jn(e,t,n,s){let o;try{o=s?e(...s):e()}catch(i){js(i,t,n)}return o}function an(e,t,n,s){if(Fe(e)){const i=Jn(e,t,n,s);return i&&Xi(i)&&i.catch(a=>{js(a,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(an(e[i],t,n,s));return o}function js(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const a=t.proxy,r=n;for(;i;){const c=i.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,a,r)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){Jn(u,null,10,[e,a,r]);return}}cm(e,n,o,s)}function cm(e,t,n,s=!0){console.error(e)}let tl=!1,bi=!1;const Ut=[];let xn=0;const oo=[];let Kn=null,Ds=0;const Mc=Promise.resolve();let ir=null;function Zt(e){const t=ir||Mc;return e?t.then(this?e.bind(this):e):t}function dm(e){let t=xn+1,n=Ut.length;for(;t<n;){const s=t+n>>>1;nl(Ut[s])<e?t=s+1:n=s}return t}function _a(e){(!Ut.length||!Ut.includes(e,tl&&e.allowRecurse?xn+1:xn))&&(e.id==null?Ut.push(e):Ut.splice(dm(e.id),0,e),Uc())}function Uc(){!tl&&!bi&&(bi=!0,ir=Mc.then(Nc))}function fm(e){const t=Ut.indexOf(e);t>xn&&Ut.splice(t,1)}function rr(e){Te(e)?oo.push(...e):(!Kn||!Kn.includes(e,e.allowRecurse?Ds+1:Ds))&&oo.push(e),Uc()}function Xr(e,t=tl?xn+1:0){for(;t<Ut.length;t++){const n=Ut[t];n&&n.pre&&(Ut.splice(t,1),t--,n())}}function Zl(e){if(oo.length){const t=[...new Set(oo)];if(oo.length=0,Kn){Kn.push(...t);return}for(Kn=t,Kn.sort((n,s)=>nl(n)-nl(s)),Ds=0;Ds<Kn.length;Ds++)Kn[Ds]();Kn=null,Ds=0}}const nl=e=>e.id==null?1/0:e.id,hm=(e,t)=>{const n=nl(e)-nl(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Nc(e){bi=!1,tl=!0,Ut.sort(hm);const t=In;try{for(xn=0;xn<Ut.length;xn++){const n=Ut[xn];n&&n.active!==!1&&Jn(n,null,14)}}finally{xn=0,Ut.length=0,Zl(),tl=!1,ir=null,(Ut.length||oo.length)&&Nc()}}let Qs,kl=[];function Lc(e,t){var n,s;Qs=e,Qs?(Qs.enabled=!0,kl.forEach(({event:o,args:i})=>Qs.emit(o,...i)),kl=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((s=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||s===void 0)&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Lc(i,t)}),setTimeout(()=>{Qs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,kl=[])},3e3)):kl=[]}function mm(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||it;let o=n;const i=t.startsWith("update:"),a=i&&t.slice(7);if(a&&a in s){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=s[h]||it;f&&(o=n.map(m=>gt(m)?m.trim():m)),d&&(o=n.map(Qn))}let r,u=s[r=No(t)]||s[r=No(Xt(t))];!u&&i&&(u=s[r=No(fn(t))]),u&&an(u,e,6,o);const c=s[r+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,an(c,e,6,o)}}function Fc(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let a={},r=!1;if(!Fe(e)){const u=c=>{const h=Fc(c,t,!0);h&&(r=!0,_t(a,h))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!r?(ct(e)&&s.set(e,null),null):(Te(i)?i.forEach(u=>a[u]=null):_t(a,i),ct(e)&&s.set(e,a),a)}function Sa(e,t){return!e||!fl(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,fn(t))||et(e,t))}let xt=null,$a=null;function sl(e){const t=xt;return xt=e,$a=e&&e.type.__scopeId||null,t}function mn(e){$a=e}function pn(){$a=null}const pm=e=>St;function St(e,t=xt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Ti(-1);const i=sl(t);let a;try{a=e(...o)}finally{sl(i),s._d&&Ti(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Hl(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:i,propsOptions:[a],slots:r,attrs:u,emit:c,render:h,renderCache:d,data:f,setupState:m,ctx:p,inheritAttrs:v}=e;let w,b;const y=sl(e);try{if(n.shapeFlag&4){const $=o||s;w=sn(h.call($,$,d,i,m,f,p)),b=u}else{const $=t;w=sn($.length>1?$(i,{attrs:u,slots:r,emit:c}):$(i,null)),b=t.props?u:gm(u)}}catch($){Ho.length=0,js($,e,1),w=U(Lt)}let S=w;if(b&&v!==!1){const $=Object.keys(b),{shapeFlag:I}=S;$.length&&I&7&&(a&&$.some(Ji)&&(b=ym(b,a)),S=Un(S,b))}return n.dirs&&(S=Un(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),w=S,sl(y),w}function vm(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(bs(s)){if(s.type!==Lt||s.children==="v-if"){if(t)return;t=s}}else return}return t}const gm=e=>{let t;for(const n in e)(n==="class"||n==="style"||fl(n))&&((t||(t={}))[n]=e[n]);return t},ym=(e,t)=>{const n={};for(const s in e)(!Ji(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function bm(e,t,n){const{props:s,children:o,component:i}=e,{props:a,children:r,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Qr(s,a,c):!!a;if(u&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(a[f]!==s[f]&&!Sa(c,f))return!0}}}else return(o||r)&&(!r||!r.$stable)?!0:s===a?!1:s?a?Qr(s,a,c):!0:!!a;return!1}function Qr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!Sa(n,i))return!0}return!1}function ur({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Bc=e=>e.__isSuspense,wm={name:"Suspense",__isSuspense:!0,process(e,t,n,s,o,i,a,r,u,c){e==null?Sm(t,n,s,o,i,a,r,u,c):$m(e,t,n,s,o,a,r,u,c)},hydrate:Cm,create:cr,normalize:Em},_m=wm;function ol(e,t){const n=e.props&&e.props[t];Fe(n)&&n()}function Sm(e,t,n,s,o,i,a,r,u){const{p:c,o:{createElement:h}}=u,d=h("div"),f=e.suspense=cr(e,o,s,t,d,n,i,a,r,u);c(null,f.pendingBranch=e.ssContent,d,null,s,f,i,a),f.deps>0?(ol(e,"onPending"),ol(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,i,a),lo(f,e.ssFallback)):f.resolve()}function $m(e,t,n,s,o,i,a,r,{p:u,um:c,o:{createElement:h}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,m=t.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:w,isHydrating:b}=d;if(v)d.pendingBranch=f,Pn(f,v)?(u(v,f,d.hiddenContainer,null,o,d,i,a,r),d.deps<=0?d.resolve():w&&(u(p,m,n,s,o,null,i,a,r),lo(d,m))):(d.pendingId++,b?(d.isHydrating=!1,d.activeBranch=v):c(v,o,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),w?(u(null,f,d.hiddenContainer,null,o,d,i,a,r),d.deps<=0?d.resolve():(u(p,m,n,s,o,null,i,a,r),lo(d,m))):p&&Pn(f,p)?(u(p,f,n,s,o,d,i,a,r),d.resolve(!0)):(u(null,f,d.hiddenContainer,null,o,d,i,a,r),d.deps<=0&&d.resolve()));else if(p&&Pn(f,p))u(p,f,n,s,o,d,i,a,r),lo(d,f);else if(ol(t,"onPending"),d.pendingBranch=f,d.pendingId++,u(null,f,d.hiddenContainer,null,o,d,i,a,r),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:S}=d;y>0?setTimeout(()=>{d.pendingId===S&&d.fallback(m)},y):y===0&&d.fallback(m)}}function cr(e,t,n,s,o,i,a,r,u,c,h=!1){const{p:d,m:f,um:m,n:p,o:{parentNode:v,remove:w}}=c,b=Qn(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:a,container:s,hiddenContainer:o,anchor:i,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(S=!1){const{vnode:$,activeBranch:I,pendingBranch:C,pendingId:V,effects:A,parentComponent:O,container:B}=y;if(y.isHydrating)y.isHydrating=!1;else if(!S){const k=I&&C.transition&&C.transition.mode==="out-in";k&&(I.transition.afterLeave=()=>{V===y.pendingId&&f(C,B,E,0)});let{anchor:E}=y;I&&(E=p(I),m(I,O,y,!0)),k||f(C,B,E,0)}lo(y,C),y.pendingBranch=null,y.isInFallback=!1;let j=y.parent,H=!1;for(;j;){if(j.pendingBranch){j.effects.push(...A),H=!0;break}j=j.parent}H||rr(A),y.effects=[],ol($,"onResolve")},fallback(S){if(!y.pendingBranch)return;const{vnode:$,activeBranch:I,parentComponent:C,container:V,isSVG:A}=y;ol($,"onFallback");const O=p(I),B=()=>{!y.isInFallback||(d(null,S,V,O,C,null,A,r,u),lo(y,S))},j=S.transition&&S.transition.mode==="out-in";j&&(I.transition.afterLeave=B),y.isInFallback=!0,m(I,C,null,!0),j||B()},move(S,$,I){y.activeBranch&&f(y.activeBranch,S,$,I),y.container=S},next(){return y.activeBranch&&p(y.activeBranch)},registerDep(S,$){const I=!!y.pendingBranch;I&&y.deps++;const C=S.vnode.el;S.asyncDep.catch(V=>{js(V,S,0)}).then(V=>{if(S.isUnmounted||y.isUnmounted||y.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:A}=S;Ii(S,V,!1),C&&(A.el=C);const O=!C&&S.subTree.el;$(S,A,v(C||S.subTree.el),C?null:p(S.subTree),y,a,u),O&&w(O),ur(S,A.el),I&&--y.deps===0&&y.resolve()})},unmount(S,$){y.isUnmounted=!0,y.activeBranch&&m(y.activeBranch,n,S,$),y.pendingBranch&&m(y.pendingBranch,n,S,$)}};return y}function Cm(e,t,n,s,o,i,a,r,u){const c=t.suspense=cr(t,s,n,e.parentNode,document.createElement("div"),null,o,i,a,r,!0),h=u(e,c.pendingBranch=t.ssContent,n,c,i,a);return c.deps===0&&c.resolve(),h}function Em(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Zr(s?n.default:n),e.ssFallback=s?Zr(n.fallback):U(Lt)}function Zr(e){let t;if(Fe(e)){const n=Fs&&e._c;n&&(e._d=!1,g()),e=e(),n&&(e._d=!0,t=Jt,md())}return Te(e)&&(e=vm(e)),e=sn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Hc(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):rr(e)}function lo(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,o=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=o,ur(s,o))}function Lo(e,t){if(Tt){let n=Tt.provides;const s=Tt.parent&&Tt.parent.provides;s===n&&(n=Tt.provides=Object.create(s)),n[e]=t}}function rn(e,t,n=!1){const s=Tt||xt;if(s){const o=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Fe(t)?t.call(s.proxy):t}}function Tm(e,t){return vl(e,null,t)}function Wc(e,t){return vl(e,null,{flush:"post"})}function Im(e,t){return vl(e,null,{flush:"sync"})}const Ol={};function Ge(e,t,n){return vl(e,t,n)}function vl(e,t,{immediate:n,deep:s,flush:o,onTrack:i,onTrigger:a}=it){const r=Tt;let u,c=!1,h=!1;if(Dt(e)?(u=()=>e.value,c=qo(e)):xs(e)?(u=()=>e,s=!0):Te(e)?(h=!0,c=e.some(S=>xs(S)||qo(S)),u=()=>e.map(S=>{if(Dt(S))return S.value;if(xs(S))return ks(S);if(Fe(S))return Jn(S,r,2)})):Fe(e)?t?u=()=>Jn(e,r,2):u=()=>{if(!(r&&r.isUnmounted))return d&&d(),an(e,r,3,[f])}:u=In,t&&s){const S=u;u=()=>ks(S())}let d,f=S=>{d=b.onStop=()=>{Jn(S,r,4)}},m;if(uo)if(f=In,t?n&&an(t,r,3,[u(),h?[]:void 0,f]):u(),o==="sync"){const S=Td();m=S.__watcherHandles||(S.__watcherHandles=[])}else return In;let p=h?new Array(e.length).fill(Ol):Ol;const v=()=>{if(!!b.active)if(t){const S=b.run();(s||c||(h?S.some(($,I)=>io($,p[I])):io(S,p)))&&(d&&d(),an(t,r,3,[S,p===Ol?void 0:h&&p[0]===Ol?[]:p,f]),p=S)}else b.run()};v.allowRecurse=!!t;let w;o==="sync"?w=v:o==="post"?w=()=>Vt(v,r&&r.suspense):(v.pre=!0,r&&(v.id=r.uid),w=()=>_a(v));const b=new pl(u,w);t?n?v():p=b.run():o==="post"?Vt(b.run.bind(b),r&&r.suspense):b.run();const y=()=>{b.stop(),r&&r.scope&&Yi(r.scope.effects,b)};return m&&m.push(y),y}function Dm(e,t,n){const s=this.proxy,o=gt(e)?e.includes(".")?jc(s,e):()=>s[e]:e.bind(s,s);let i;Fe(t)?i=t:(i=t.handler,n=t);const a=Tt;ws(this);const r=vl(o,i.bind(s),n);return a?ws(a):vs(),r}function jc(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function ks(e,t){if(!ct(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Dt(e))ks(e.value,t);else if(Te(e))for(let n=0;n<e.length;n++)ks(e[n],t);else if(Ws(e)||no(e))e.forEach(n=>{ks(n,t)});else if(gc(e))for(const n in e)ks(e[n],t);return e}function dr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ot(()=>{e.isMounted=!0}),Da(()=>{e.isUnmounting=!0}),e}const cn=[Function,Array],Am={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cn,onEnter:cn,onAfterEnter:cn,onEnterCancelled:cn,onBeforeLeave:cn,onLeave:cn,onAfterLeave:cn,onLeaveCancelled:cn,onBeforeAppear:cn,onAppear:cn,onAfterAppear:cn,onAppearCancelled:cn},setup(e,{slots:t}){const n=ts(),s=dr();let o;return()=>{const i=t.default&&Ca(t.default(),!0);if(!i||!i.length)return;let a=i[0];if(i.length>1){for(const v of i)if(v.type!==Lt){a=v;break}}const r=Ze(e),{mode:u}=r;if(s.isLeaving)return za(a);const c=qr(a);if(!c)return za(a);const h=ro(c,r,s,n);Ns(c,h);const d=n.subTree,f=d&&qr(d);let m=!1;const{getTransitionKey:p}=c.type;if(p){const v=p();o===void 0?o=v:v!==o&&(o=v,m=!0)}if(f&&f.type!==Lt&&(!Pn(c,f)||m)){const v=ro(f,r,s,n);if(Ns(f,v),u==="out-in")return s.isLeaving=!0,v.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},za(a);u==="in-out"&&c.type!==Lt&&(v.delayLeave=(w,b,y)=>{const S=zc(s,f);S[String(f.key)]=f,w._leaveCb=()=>{b(),w._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=y})}return a}}},fr=Am;function zc(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function ro(e,t,n,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:r,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:v,onAppear:w,onAfterAppear:b,onAppearCancelled:y}=t,S=String(e.key),$=zc(n,e),I=(A,O)=>{A&&an(A,s,9,O)},C=(A,O)=>{const B=O[1];I(A,O),Te(A)?A.every(j=>j.length<=1)&&B():A.length<=1&&B()},V={mode:i,persisted:a,beforeEnter(A){let O=r;if(!n.isMounted)if(o)O=v||r;else return;A._leaveCb&&A._leaveCb(!0);const B=$[S];B&&Pn(e,B)&&B.el._leaveCb&&B.el._leaveCb(),I(O,[A])},enter(A){let O=u,B=c,j=h;if(!n.isMounted)if(o)O=w||u,B=b||c,j=y||h;else return;let H=!1;const k=A._enterCb=E=>{H||(H=!0,E?I(j,[A]):I(B,[A]),V.delayedLeave&&V.delayedLeave(),A._enterCb=void 0)};O?C(O,[A,k]):k()},leave(A,O){const B=String(e.key);if(A._enterCb&&A._enterCb(!0),n.isUnmounting)return O();I(d,[A]);let j=!1;const H=A._leaveCb=k=>{j||(j=!0,O(),k?I(p,[A]):I(m,[A]),A._leaveCb=void 0,$[B]===e&&delete $[B])};$[B]=e,f?C(f,[A,H]):H()},clone(A){return ro(A,t,n,s)}};return V}function za(e){if(gl(e))return e=Un(e),e.children=null,e}function qr(e){return gl(e)?e.children?e.children[0]:void 0:e}function Ns(e,t){e.shapeFlag&6&&e.component?Ns(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ca(e,t=!1,n){let s=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const r=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===re?(a.patchFlag&128&&o++,s=s.concat(Ca(a.children,t,r))):(t||a.type!==Lt)&&s.push(r!=null?Un(a,{key:r}):a)}if(o>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function ce(e){return Fe(e)?{setup:e,name:e.name}:e}const Ps=e=>!!e.type.__asyncLoader;function km(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,timeout:i,suspensible:a=!0,onError:r}=e;let u=null,c,h=0;const d=()=>(h++,u=null,f()),f=()=>{let m;return u||(m=u=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),r)return new Promise((v,w)=>{r(p,()=>v(d()),()=>w(p),h+1)});throw p}).then(p=>m!==u&&u?u:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return ce({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const m=Tt;if(c)return()=>Ka(c,m);const p=y=>{u=null,js(y,m,13,!s)};if(a&&m.suspense||uo)return f().then(y=>()=>Ka(y,m)).catch(y=>(p(y),()=>s?U(s,{error:y}):null));const v=x(!1),w=x(),b=x(!!o);return o&&setTimeout(()=>{b.value=!1},o),i!=null&&setTimeout(()=>{if(!v.value&&!w.value){const y=new Error(`Async component timed out after ${i}ms.`);p(y),w.value=y}},i),f().then(()=>{v.value=!0,m.parent&&gl(m.parent.vnode)&&_a(m.parent.update)}).catch(y=>{p(y),w.value=y}),()=>{if(v.value&&c)return Ka(c,m);if(w.value&&s)return U(s,{error:w.value});if(n&&!b.value)return U(n)}}})}function Ka(e,t){const{ref:n,props:s,children:o,ce:i}=t.vnode,a=U(e,s,o);return a.ref=n,a.ce=i,delete t.vnode.ce,a}const gl=e=>e.type.__isKeepAlive,Om={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ts(),s=n.ctx;if(!s.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const o=new Map,i=new Set;let a=null;const r=n.suspense,{renderer:{p:u,m:c,um:h,o:{createElement:d}}}=s,f=d("div");s.activate=(y,S,$,I,C)=>{const V=y.component;c(y,S,$,0,r),u(V.vnode,y,S,$,V,r,I,y.slotScopeIds,C),Vt(()=>{V.isDeactivated=!1,V.a&&so(V.a);const A=y.props&&y.props.onVnodeMounted;A&&Kt(A,V.parent,y)},r)},s.deactivate=y=>{const S=y.component;c(y,f,null,1,r),Vt(()=>{S.da&&so(S.da);const $=y.props&&y.props.onVnodeUnmounted;$&&Kt($,S.parent,y),S.isDeactivated=!0},r)};function m(y){Ga(y),h(y,n,r,!0)}function p(y){o.forEach((S,$)=>{const I=Ai(S.type);I&&(!y||!y(I))&&v($)})}function v(y){const S=o.get(y);!a||S.type!==a.type?m(S):a&&Ga(a),o.delete(y),i.delete(y)}Ge(()=>[e.include,e.exclude],([y,S])=>{y&&p($=>ko(y,$)),S&&p($=>!ko(S,$))},{flush:"post",deep:!0});let w=null;const b=()=>{w!=null&&o.set(w,Ja(n.subTree))};return ot(b),Ia(b),Da(()=>{o.forEach(y=>{const{subTree:S,suspense:$}=n,I=Ja(S);if(y.type===I.type){Ga(I);const C=I.component.da;C&&Vt(C,$);return}m(y)})}),()=>{if(w=null,!t.default)return null;const y=t.default(),S=y[0];if(y.length>1)return a=null,y;if(!bs(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return a=null,S;let $=Ja(S);const I=$.type,C=Ai(Ps($)?$.type.__asyncResolved||{}:I),{include:V,exclude:A,max:O}=e;if(V&&(!C||!ko(V,C))||A&&C&&ko(A,C))return a=$,S;const B=$.key==null?I:$.key,j=o.get(B);return $.el&&($=Un($),S.shapeFlag&128&&(S.ssContent=$)),w=B,j?($.el=j.el,$.component=j.component,$.transition&&Ns($,$.transition),$.shapeFlag|=512,i.delete(B),i.add(B)):(i.add(B),O&&i.size>parseInt(O,10)&&v(i.values().next().value)),$.shapeFlag|=256,a=$,Bc(S.type)?S:$}}},Vm=Om;function ko(e,t){return Te(e)?e.some(n=>ko(n,t)):gt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function Kc(e,t){Jc(e,"a",t)}function Gc(e,t){Jc(e,"da",t)}function Jc(e,t,n=Tt){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ea(t,s,n),n){let o=n.parent;for(;o&&o.parent;)gl(o.parent.vnode)&&xm(s,t,n,o),o=o.parent}}function xm(e,t,n,s){const o=Ea(t,e,s,!0);Ct(()=>{Yi(s[t],o)},n)}function Ga(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ja(e){return e.shapeFlag&128?e.ssContent:e}function Ea(e,t,n=Tt,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;go(),ws(n);const r=an(t,n,e,a);return vs(),yo(),r});return s?o.unshift(i):o.push(i),i}}const es=e=>(t,n=Tt)=>(!uo||e==="sp")&&Ea(e,(...s)=>t(...s),n),Ta=es("bm"),ot=es("m"),Yc=es("bu"),Ia=es("u"),Da=es("bum"),Ct=es("um"),Xc=es("sp"),Qc=es("rtg"),Zc=es("rtc");function qc(e,t=Tt){Ea("ec",e,t)}function ve(e,t){const n=xt;if(n===null)return e;const s=Oa(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,r,u,c=it]=t[i];a&&(Fe(a)&&(a={mounted:a,updated:a}),a.deep&&ks(r),o.push({dir:a,instance:s,value:r,oldValue:void 0,arg:u,modifiers:c}))}return e}function Vn(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const r=o[a];i&&(r.oldValue=i[a].value);let u=r.dir[s];u&&(go(),an(u,n,8,[e.el,r,e,t]),yo())}}const hr="components",Pm="directives";function st(e,t){return mr(hr,e,!0,t)||e}const ed=Symbol();function Aa(e){return gt(e)?mr(hr,e,!1)||e:e||ed}function Rm(e){return mr(Pm,e)}function mr(e,t,n=!0,s=!1){const o=xt||Tt;if(o){const i=o.type;if(e===hr){const r=Ai(i,!1);if(r&&(r===t||r===Xt(t)||r===ml(Xt(t))))return i}const a=eu(o[e]||i[e],t)||eu(o.appContext[e],t);return!a&&s?i:a}}function eu(e,t){return e&&(e[t]||e[Xt(t)]||e[ml(Xt(t))])}function ye(e,t,n,s){let o;const i=n&&n[s];if(Te(e)||gt(e)){o=new Array(e.length);for(let a=0,r=e.length;a<r;a++)o[a]=t(e[a],a,void 0,i&&i[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(ct(e))if(e[Symbol.iterator])o=Array.from(e,(a,r)=>t(a,r,void 0,i&&i[r]));else{const a=Object.keys(e);o=new Array(a.length);for(let r=0,u=a.length;r<u;r++){const c=a[r];o[r]=t(e[c],c,r,i&&i[r])}}else o=[];return n&&(n[s]=o),o}function Mm(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(Te(s))for(let o=0;o<s.length;o++)e[s[o].name]=s[o].fn;else s&&(e[s.name]=s.key?(...o)=>{const i=s.fn(...o);return i&&(i.key=s.key),i}:s.fn)}return e}function pr(e,t,n={},s,o){if(xt.isCE||xt.parent&&Ps(xt.parent)&&xt.parent.isCE)return t!=="default"&&(n.name=t),U("slot",n,s&&s());let i=e[t];i&&i._c&&(i._d=!1),g();const a=i&&td(i(n)),r=Ee(re,{key:n.key||a&&a.key||`_${t}`},a||(s?s():[]),a&&e._===1?64:-2);return!o&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),i&&i._c&&(i._d=!0),r}function td(e){return e.some(t=>bs(t)?!(t.type===Lt||t.type===re&&!td(t.children)):!0)?e:null}function nd(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:No(s)]=e[s];return n}const wi=e=>e?wd(e)?Oa(e)||e.proxy:wi(e.parent):null,Fo=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wi(e.parent),$root:e=>wi(e.root),$emit:e=>e.emit,$options:e=>vr(e),$forceUpdate:e=>e.f||(e.f=()=>_a(e.update)),$nextTick:e=>e.n||(e.n=Zt.bind(e.proxy)),$watch:e=>Dm.bind(e)}),Ya=(e,t)=>e!==it&&!e.__isScriptSetup&&et(e,t),_i={get({_:e},t){const{ctx:n,setupState:s,data:o,props:i,accessCache:a,type:r,appContext:u}=e;let c;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(Ya(s,t))return a[t]=1,s[t];if(o!==it&&et(o,t))return a[t]=2,o[t];if((c=e.propsOptions[0])&&et(c,t))return a[t]=3,i[t];if(n!==it&&et(n,t))return a[t]=4,n[t];Si&&(a[t]=0)}}const h=Fo[t];let d,f;if(h)return t==="$attrs"&&un(e,"get",t),h(e);if((d=r.__cssModules)&&(d=d[t]))return d;if(n!==it&&et(n,t))return a[t]=4,n[t];if(f=u.config.globalProperties,et(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return Ya(o,t)?(o[t]=n,!0):s!==it&&et(s,t)?(s[t]=n,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:i}},a){let r;return!!n[a]||e!==it&&et(e,a)||Ya(t,a)||(r=i[0])&&et(r,a)||et(s,a)||et(Fo,a)||et(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:et(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Um=_t({},_i,{get(e,t){if(t!==Symbol.unscopables)return _i.get(e,t,e)},has(e,t){return t[0]!=="_"&&!ah(t)}});let Si=!0;function Nm(e){const t=vr(e),n=e.proxy,s=e.ctx;Si=!1,t.beforeCreate&&tu(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:r,provide:u,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:m,updated:p,activated:v,deactivated:w,beforeDestroy:b,beforeUnmount:y,destroyed:S,unmounted:$,render:I,renderTracked:C,renderTriggered:V,errorCaptured:A,serverPrefetch:O,expose:B,inheritAttrs:j,components:H,directives:k,filters:E}=t;if(c&&Lm(c,s,null,e.appContext.config.unwrapInjectedRef),a)for(const G in a){const le=a[G];Fe(le)&&(s[G]=le.bind(n))}if(o){const G=o.call(n,n);ct(G)&&(e.data=bo(G))}if(Si=!0,i)for(const G in i){const le=i[G],De=Fe(le)?le.bind(n,n):Fe(le.get)?le.get.bind(n,n):In,Ke=!Fe(le)&&Fe(le.set)?le.set.bind(n):In,$e=pe({get:De,set:Ke});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>$e.value,set:He=>$e.value=He})}if(r)for(const G in r)sd(r[G],s,n,G);if(u){const G=Fe(u)?u.call(n):u;Reflect.ownKeys(G).forEach(le=>{Lo(le,G[le])})}h&&tu(h,e,"c");function P(G,le){Te(le)?le.forEach(De=>G(De.bind(n))):le&&G(le.bind(n))}if(P(Ta,d),P(ot,f),P(Yc,m),P(Ia,p),P(Kc,v),P(Gc,w),P(qc,A),P(Zc,C),P(Qc,V),P(Da,y),P(Ct,$),P(Xc,O),Te(B))if(B.length){const G=e.exposed||(e.exposed={});B.forEach(le=>{Object.defineProperty(G,le,{get:()=>n[le],set:De=>n[le]=De})})}else e.exposed||(e.exposed={});I&&e.render===In&&(e.render=I),j!=null&&(e.inheritAttrs=j),H&&(e.components=H),k&&(e.directives=k)}function Lm(e,t,n=In,s=!1){Te(e)&&(e=$i(e));for(const o in e){const i=e[o];let a;ct(i)?"default"in i?a=rn(i.from||o,i.default,!0):a=rn(i.from||o):a=rn(i),Dt(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[o]=a}}function tu(e,t,n){an(Te(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function sd(e,t,n,s){const o=s.includes(".")?jc(n,s):()=>n[s];if(gt(e)){const i=t[e];Fe(i)&&Ge(o,i)}else if(Fe(e))Ge(o,e.bind(n));else if(ct(e))if(Te(e))e.forEach(i=>sd(i,t,n,s));else{const i=Fe(e.handler)?e.handler.bind(n):t[e.handler];Fe(i)&&Ge(o,i,e)}}function vr(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,r=i.get(t);let u;return r?u=r:!o.length&&!n&&!s?u=t:(u={},o.length&&o.forEach(c=>ql(u,c,a,!0)),ql(u,t,a)),ct(t)&&i.set(t,u),u}function ql(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&ql(e,i,n,!0),o&&o.forEach(a=>ql(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const r=Fm[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const Fm={data:nu,props:Ts,emits:Ts,methods:Ts,computed:Ts,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:Ts,directives:Ts,watch:Hm,provide:nu,inject:Bm};function nu(e,t){return t?e?function(){return _t(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function Bm(e,t){return Ts($i(e),$i(t))}function $i(e){if(Te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ft(e,t){return e?[...new Set([].concat(e,t))]:t}function Ts(e,t){return e?_t(_t(Object.create(null),e),t):t}function Hm(e,t){if(!e)return t;if(!t)return e;const n=_t(Object.create(null),e);for(const s in t)n[s]=Ft(e[s],t[s]);return n}function Wm(e,t,n,s=!1){const o={},i={};Ql(i,ka,1),e.propsDefaults=Object.create(null),od(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=s?o:Oc(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function jm(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,r=Ze(o),[u]=e.propsOptions;let c=!1;if((s||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Sa(e.emitsOptions,f))continue;const m=t[f];if(u)if(et(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const p=Xt(f);o[p]=Ci(u,r,p,m,e,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{od(e,t,o,i)&&(c=!0);let h;for(const d in r)(!t||!et(t,d)&&((h=fn(d))===d||!et(t,h)))&&(u?n&&(n[d]!==void 0||n[h]!==void 0)&&(o[d]=Ci(u,r,d,void 0,e,!0)):delete o[d]);if(i!==r)for(const d in i)(!t||!et(t,d)&&!0)&&(delete i[d],c=!0)}c&&Zn(e,"set","$attrs")}function od(e,t,n,s){const[o,i]=e.propsOptions;let a=!1,r;if(t)for(let u in t){if(Uo(u))continue;const c=t[u];let h;o&&et(o,h=Xt(u))?!i||!i.includes(h)?n[h]=c:(r||(r={}))[h]=c:Sa(e.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,a=!0)}if(i){const u=Ze(n),c=r||it;for(let h=0;h<i.length;h++){const d=i[h];n[d]=Ci(o,u,d,c[d],e,!et(c,d))}}return a}function Ci(e,t,n,s,o,i){const a=e[n];if(a!=null){const r=et(a,"default");if(r&&s===void 0){const u=a.default;if(a.type!==Function&&Fe(u)){const{propsDefaults:c}=o;n in c?s=c[n]:(ws(o),s=c[n]=u.call(null,t),vs())}else s=u}a[0]&&(i&&!r?s=!1:a[1]&&(s===""||s===fn(n))&&(s=!0))}return s}function ld(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const i=e.props,a={},r=[];let u=!1;if(!Fe(e)){const h=d=>{u=!0;const[f,m]=ld(d,t,!0);_t(a,f),m&&r.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!u)return ct(e)&&s.set(e,to),to;if(Te(i))for(let h=0;h<i.length;h++){const d=Xt(i[h]);su(d)&&(a[d]=it)}else if(i)for(const h in i){const d=Xt(h);if(su(d)){const f=i[h],m=a[d]=Te(f)||Fe(f)?{type:f}:Object.assign({},f);if(m){const p=au(Boolean,m.type),v=au(String,m.type);m[0]=p>-1,m[1]=v<0||p<v,(p>-1||et(m,"default"))&&r.push(d)}}}const c=[a,r];return ct(e)&&s.set(e,c),c}function su(e){return e[0]!=="$"}function ou(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function lu(e,t){return ou(e)===ou(t)}function au(e,t){return Te(t)?t.findIndex(n=>lu(n,e)):Fe(t)&&lu(t,e)?0:-1}const ad=e=>e[0]==="_"||e==="$stable",gr=e=>Te(e)?e.map(sn):[sn(e)],zm=(e,t,n)=>{if(t._n)return t;const s=St((...o)=>gr(t(...o)),n);return s._c=!1,s},id=(e,t,n)=>{const s=e._ctx;for(const o in e){if(ad(o))continue;const i=e[o];if(Fe(i))t[o]=zm(o,i,s);else if(i!=null){const a=gr(i);t[o]=()=>a}}},rd=(e,t)=>{const n=gr(t);e.slots.default=()=>n},Km=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ze(t),Ql(t,"_",n)):id(t,e.slots={})}else e.slots={},t&&rd(e,t);Ql(e.slots,ka,1)},Gm=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,a=it;if(s.shapeFlag&32){const r=t._;r?n&&r===1?i=!1:(_t(o,t),!n&&r===1&&delete o._):(i=!t.$stable,id(t,o)),a=t}else t&&(rd(e,t),a={default:1});if(i)for(const r in o)!ad(r)&&!(r in a)&&delete o[r]};function ud(){return{app:null,config:{isNativeTag:ph,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jm=0;function Ym(e,t){return function(s,o=null){Fe(s)||(s=Object.assign({},s)),o!=null&&!ct(o)&&(o=null);const i=ud(),a=new Set;let r=!1;const u=i.app={_uid:Jm++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:Dd,get config(){return i.config},set config(c){},use(c,...h){return a.has(c)||(c&&Fe(c.install)?(a.add(c),c.install(u,...h)):Fe(c)&&(a.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!r){const f=U(s,o);return f.appContext=i,h&&t?t(f,c):e(f,c,d),r=!0,u._container=c,c.__vue_app__=u,Oa(f.component)||f.component.proxy}},unmount(){r&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u}};return u}}function ea(e,t,n,s,o=!1){if(Te(e)){e.forEach((f,m)=>ea(f,t&&(Te(t)?t[m]:t),n,s,o));return}if(Ps(s)&&!o)return;const i=s.shapeFlag&4?Oa(s.component)||s.component.proxy:s.el,a=o?null:i,{i:r,r:u}=e,c=t&&t.r,h=r.refs===it?r.refs={}:r.refs,d=r.setupState;if(c!=null&&c!==u&&(gt(c)?(h[c]=null,et(d,c)&&(d[c]=null)):Dt(c)&&(c.value=null)),Fe(u))Jn(u,r,12,[a,h]);else{const f=gt(u),m=Dt(u);if(f||m){const p=()=>{if(e.f){const v=f?et(d,u)?d[u]:h[u]:u.value;o?Te(v)&&Yi(v,i):Te(v)?v.includes(i)||v.push(i):f?(h[u]=[i],et(d,u)&&(d[u]=h[u])):(u.value=[i],e.k&&(h[e.k]=u.value))}else f?(h[u]=a,et(d,u)&&(d[u]=a)):m&&(u.value=a,e.k&&(h[e.k]=a))};a?(p.id=-1,Vt(p,n)):p()}}}let ls=!1;const Vl=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",xl=e=>e.nodeType===8;function Xm(e){const{mt:t,p:n,o:{patchProp:s,createText:o,nextSibling:i,parentNode:a,remove:r,insert:u,createComment:c}}=e,h=(b,y)=>{if(!y.hasChildNodes()){n(null,b,y),Zl(),y._vnode=b;return}ls=!1,d(y.firstChild,b,null,null,null),Zl(),y._vnode=b,ls&&console.error("Hydration completed but contains mismatches.")},d=(b,y,S,$,I,C=!1)=>{const V=xl(b)&&b.data==="[",A=()=>v(b,y,S,$,I,V),{type:O,ref:B,shapeFlag:j,patchFlag:H}=y;let k=b.nodeType;y.el=b,H===-2&&(C=!1,y.dynamicChildren=null);let E=null;switch(O){case Ls:k!==3?y.children===""?(u(y.el=o(""),a(b),b),E=b):E=A():(b.data!==y.children&&(ls=!0,b.data=y.children),E=i(b));break;case Lt:k!==8||V?E=A():E=i(b);break;case Rs:if(V&&(b=i(b),k=b.nodeType),k===1||k===3){E=b;const M=!y.children.length;for(let P=0;P<y.staticCount;P++)M&&(y.children+=E.nodeType===1?E.outerHTML:E.data),P===y.staticCount-1&&(y.anchor=E),E=i(E);return V?i(E):E}else A();break;case re:V?E=p(b,y,S,$,I,C):E=A();break;default:if(j&1)k!==1||y.type.toLowerCase()!==b.tagName.toLowerCase()?E=A():E=f(b,y,S,$,I,C);else if(j&6){y.slotScopeIds=I;const M=a(b);if(t(y,M,null,S,$,Vl(M),C),E=V?w(b):i(b),E&&xl(E)&&E.data==="teleport end"&&(E=i(E)),Ps(y)){let P;V?(P=U(re),P.anchor=E?E.previousSibling:M.lastChild):P=b.nodeType===3?R(""):U("div"),P.el=b,y.component.subTree=P}}else j&64?k!==8?E=A():E=y.type.hydrate(b,y,S,$,I,C,e,m):j&128&&(E=y.type.hydrate(b,y,S,$,Vl(a(b)),I,C,e,d))}return B!=null&&ea(B,null,$,y),E},f=(b,y,S,$,I,C)=>{C=C||!!y.dynamicChildren;const{type:V,props:A,patchFlag:O,shapeFlag:B,dirs:j}=y,H=V==="input"&&j||V==="option";if(H||O!==-1){if(j&&Vn(y,null,S,"created"),A)if(H||!C||O&48)for(const E in A)(H&&E.endsWith("value")||fl(E)&&!Uo(E))&&s(b,E,null,A[E],!1,void 0,S);else A.onClick&&s(b,"onClick",null,A.onClick,!1,void 0,S);let k;if((k=A&&A.onVnodeBeforeMount)&&Kt(k,S,y),j&&Vn(y,null,S,"beforeMount"),((k=A&&A.onVnodeMounted)||j)&&Hc(()=>{k&&Kt(k,S,y),j&&Vn(y,null,S,"mounted")},$),B&16&&!(A&&(A.innerHTML||A.textContent))){let E=m(b.firstChild,y,b,S,$,I,C);for(;E;){ls=!0;const M=E;E=E.nextSibling,r(M)}}else B&8&&b.textContent!==y.children&&(ls=!0,b.textContent=y.children)}return b.nextSibling},m=(b,y,S,$,I,C,V)=>{V=V||!!y.dynamicChildren;const A=y.children,O=A.length;for(let B=0;B<O;B++){const j=V?A[B]:A[B]=sn(A[B]);if(b)b=d(b,j,$,I,C,V);else{if(j.type===Ls&&!j.children)continue;ls=!0,n(null,j,S,null,$,I,Vl(S),C)}}return b},p=(b,y,S,$,I,C)=>{const{slotScopeIds:V}=y;V&&(I=I?I.concat(V):V);const A=a(b),O=m(i(b),y,A,S,$,I,C);return O&&xl(O)&&O.data==="]"?i(y.anchor=O):(ls=!0,u(y.anchor=c("]"),A,O),O)},v=(b,y,S,$,I,C)=>{if(ls=!0,y.el=null,C){const O=w(b);for(;;){const B=i(b);if(B&&B!==O)r(B);else break}}const V=i(b),A=a(b);return r(b),n(null,y,A,V,S,$,Vl(A),I),V},w=b=>{let y=0;for(;b;)if(b=i(b),b&&xl(b)&&(b.data==="["&&y++,b.data==="]")){if(y===0)return i(b);y--}return b};return[h,d]}const Vt=Hc;function cd(e){return fd(e)}function dd(e){return fd(e,Xm)}function fd(e,t){const n=_h();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:a,createText:r,createComment:u,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:m=In,insertStaticContent:p}=e,v=(T,D,W,X=null,ee=null,ie=null,ge=!1,fe=null,de=!!D.dynamicChildren)=>{if(T===D)return;T&&!Pn(T,D)&&(X=Z(T),He(T,ee,ie,!0),T=null),D.patchFlag===-2&&(de=!1,D.dynamicChildren=null);const{type:ne,ref:Ie,shapeFlag:we}=D;switch(ne){case Ls:w(T,D,W,X);break;case Lt:b(T,D,W,X);break;case Rs:T==null&&y(D,W,X,ge);break;case re:H(T,D,W,X,ee,ie,ge,fe,de);break;default:we&1?I(T,D,W,X,ee,ie,ge,fe,de):we&6?k(T,D,W,X,ee,ie,ge,fe,de):(we&64||we&128)&&ne.process(T,D,W,X,ee,ie,ge,fe,de,z)}Ie!=null&&ee&&ea(Ie,T&&T.ref,ie,D||T,!D)},w=(T,D,W,X)=>{if(T==null)s(D.el=r(D.children),W,X);else{const ee=D.el=T.el;D.children!==T.children&&c(ee,D.children)}},b=(T,D,W,X)=>{T==null?s(D.el=u(D.children||""),W,X):D.el=T.el},y=(T,D,W,X)=>{[T.el,T.anchor]=p(T.children,D,W,X,T.el,T.anchor)},S=({el:T,anchor:D},W,X)=>{let ee;for(;T&&T!==D;)ee=f(T),s(T,W,X),T=ee;s(D,W,X)},$=({el:T,anchor:D})=>{let W;for(;T&&T!==D;)W=f(T),o(T),T=W;o(D)},I=(T,D,W,X,ee,ie,ge,fe,de)=>{ge=ge||D.type==="svg",T==null?C(D,W,X,ee,ie,ge,fe,de):O(T,D,ee,ie,ge,fe,de)},C=(T,D,W,X,ee,ie,ge,fe)=>{let de,ne;const{type:Ie,props:we,shapeFlag:Ae,transition:Re,dirs:We}=T;if(de=T.el=a(T.type,ie,we&&we.is,we),Ae&8?h(de,T.children):Ae&16&&A(T.children,de,null,X,ee,ie&&Ie!=="foreignObject",ge,fe),We&&Vn(T,null,X,"created"),we){for(const Qe in we)Qe!=="value"&&!Uo(Qe)&&i(de,Qe,null,we[Qe],ie,T.children,X,ee,q);"value"in we&&i(de,"value",null,we.value),(ne=we.onVnodeBeforeMount)&&Kt(ne,X,T)}V(de,T,T.scopeId,ge,X),We&&Vn(T,null,X,"beforeMount");const tt=(!ee||ee&&!ee.pendingBranch)&&Re&&!Re.persisted;tt&&Re.beforeEnter(de),s(de,D,W),((ne=we&&we.onVnodeMounted)||tt||We)&&Vt(()=>{ne&&Kt(ne,X,T),tt&&Re.enter(de),We&&Vn(T,null,X,"mounted")},ee)},V=(T,D,W,X,ee)=>{if(W&&m(T,W),X)for(let ie=0;ie<X.length;ie++)m(T,X[ie]);if(ee){let ie=ee.subTree;if(D===ie){const ge=ee.vnode;V(T,ge,ge.scopeId,ge.slotScopeIds,ee.parent)}}},A=(T,D,W,X,ee,ie,ge,fe,de=0)=>{for(let ne=de;ne<T.length;ne++){const Ie=T[ne]=fe?us(T[ne]):sn(T[ne]);v(null,Ie,D,W,X,ee,ie,ge,fe)}},O=(T,D,W,X,ee,ie,ge)=>{const fe=D.el=T.el;let{patchFlag:de,dynamicChildren:ne,dirs:Ie}=D;de|=T.patchFlag&16;const we=T.props||it,Ae=D.props||it;let Re;W&&Ss(W,!1),(Re=Ae.onVnodeBeforeUpdate)&&Kt(Re,W,D,T),Ie&&Vn(D,T,W,"beforeUpdate"),W&&Ss(W,!0);const We=ee&&D.type!=="foreignObject";if(ne?B(T.dynamicChildren,ne,fe,W,X,We,ie):ge||le(T,D,fe,null,W,X,We,ie,!1),de>0){if(de&16)j(fe,D,we,Ae,W,X,ee);else if(de&2&&we.class!==Ae.class&&i(fe,"class",null,Ae.class,ee),de&4&&i(fe,"style",we.style,Ae.style,ee),de&8){const tt=D.dynamicProps;for(let Qe=0;Qe<tt.length;Qe++){const N=tt[Qe],F=we[N],K=Ae[N];(K!==F||N==="value")&&i(fe,N,F,K,ee,T.children,W,X,q)}}de&1&&T.children!==D.children&&h(fe,D.children)}else!ge&&ne==null&&j(fe,D,we,Ae,W,X,ee);((Re=Ae.onVnodeUpdated)||Ie)&&Vt(()=>{Re&&Kt(Re,W,D,T),Ie&&Vn(D,T,W,"updated")},X)},B=(T,D,W,X,ee,ie,ge)=>{for(let fe=0;fe<D.length;fe++){const de=T[fe],ne=D[fe],Ie=de.el&&(de.type===re||!Pn(de,ne)||de.shapeFlag&70)?d(de.el):W;v(de,ne,Ie,null,X,ee,ie,ge,!0)}},j=(T,D,W,X,ee,ie,ge)=>{if(W!==X){if(W!==it)for(const fe in W)!Uo(fe)&&!(fe in X)&&i(T,fe,W[fe],null,ge,D.children,ee,ie,q);for(const fe in X){if(Uo(fe))continue;const de=X[fe],ne=W[fe];de!==ne&&fe!=="value"&&i(T,fe,ne,de,ge,D.children,ee,ie,q)}"value"in X&&i(T,"value",W.value,X.value)}},H=(T,D,W,X,ee,ie,ge,fe,de)=>{const ne=D.el=T?T.el:r(""),Ie=D.anchor=T?T.anchor:r("");let{patchFlag:we,dynamicChildren:Ae,slotScopeIds:Re}=D;Re&&(fe=fe?fe.concat(Re):Re),T==null?(s(ne,W,X),s(Ie,W,X),A(D.children,W,Ie,ee,ie,ge,fe,de)):we>0&&we&64&&Ae&&T.dynamicChildren?(B(T.dynamicChildren,Ae,W,ee,ie,ge,fe),(D.key!=null||ee&&D===ee.subTree)&&yr(T,D,!0)):le(T,D,W,Ie,ee,ie,ge,fe,de)},k=(T,D,W,X,ee,ie,ge,fe,de)=>{D.slotScopeIds=fe,T==null?D.shapeFlag&512?ee.ctx.activate(D,W,X,ge,de):E(D,W,X,ee,ie,ge,de):M(T,D,de)},E=(T,D,W,X,ee,ie,ge)=>{const fe=T.component=bd(T,X,ee);if(gl(T)&&(fe.ctx.renderer=z),_d(fe),fe.asyncDep){if(ee&&ee.registerDep(fe,P),!T.el){const de=fe.subTree=U(Lt);b(null,de,D,W)}return}P(fe,T,D,W,ee,ie,ge)},M=(T,D,W)=>{const X=D.component=T.component;if(bm(T,D,W))if(X.asyncDep&&!X.asyncResolved){G(X,D,W);return}else X.next=D,fm(X.update),X.update();else D.el=T.el,X.vnode=D},P=(T,D,W,X,ee,ie,ge)=>{const fe=()=>{if(T.isMounted){let{next:Ie,bu:we,u:Ae,parent:Re,vnode:We}=T,tt=Ie,Qe;Ss(T,!1),Ie?(Ie.el=We.el,G(T,Ie,ge)):Ie=We,we&&so(we),(Qe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Kt(Qe,Re,Ie,We),Ss(T,!0);const N=Hl(T),F=T.subTree;T.subTree=N,v(F,N,d(F.el),Z(F),T,ee,ie),Ie.el=N.el,tt===null&&ur(T,N.el),Ae&&Vt(Ae,ee),(Qe=Ie.props&&Ie.props.onVnodeUpdated)&&Vt(()=>Kt(Qe,Re,Ie,We),ee)}else{let Ie;const{el:we,props:Ae}=D,{bm:Re,m:We,parent:tt}=T,Qe=Ps(D);if(Ss(T,!1),Re&&so(Re),!Qe&&(Ie=Ae&&Ae.onVnodeBeforeMount)&&Kt(Ie,tt,D),Ss(T,!0),we&&oe){const N=()=>{T.subTree=Hl(T),oe(we,T.subTree,T,ee,null)};Qe?D.type.__asyncLoader().then(()=>!T.isUnmounted&&N()):N()}else{const N=T.subTree=Hl(T);v(null,N,W,X,T,ee,ie),D.el=N.el}if(We&&Vt(We,ee),!Qe&&(Ie=Ae&&Ae.onVnodeMounted)){const N=D;Vt(()=>Kt(Ie,tt,N),ee)}(D.shapeFlag&256||tt&&Ps(tt.vnode)&&tt.vnode.shapeFlag&256)&&T.a&&Vt(T.a,ee),T.isMounted=!0,D=W=X=null}},de=T.effect=new pl(fe,()=>_a(ne),T.scope),ne=T.update=()=>de.run();ne.id=T.uid,Ss(T,!0),ne()},G=(T,D,W)=>{D.component=T;const X=T.vnode.props;T.vnode=D,T.next=null,jm(T,D.props,X,W),Gm(T,D.children,W),go(),Xr(),yo()},le=(T,D,W,X,ee,ie,ge,fe,de=!1)=>{const ne=T&&T.children,Ie=T?T.shapeFlag:0,we=D.children,{patchFlag:Ae,shapeFlag:Re}=D;if(Ae>0){if(Ae&128){Ke(ne,we,W,X,ee,ie,ge,fe,de);return}else if(Ae&256){De(ne,we,W,X,ee,ie,ge,fe,de);return}}Re&8?(Ie&16&&q(ne,ee,ie),we!==ne&&h(W,we)):Ie&16?Re&16?Ke(ne,we,W,X,ee,ie,ge,fe,de):q(ne,ee,ie,!0):(Ie&8&&h(W,""),Re&16&&A(we,W,X,ee,ie,ge,fe,de))},De=(T,D,W,X,ee,ie,ge,fe,de)=>{T=T||to,D=D||to;const ne=T.length,Ie=D.length,we=Math.min(ne,Ie);let Ae;for(Ae=0;Ae<we;Ae++){const Re=D[Ae]=de?us(D[Ae]):sn(D[Ae]);v(T[Ae],Re,W,null,ee,ie,ge,fe,de)}ne>Ie?q(T,ee,ie,!0,!1,we):A(D,W,X,ee,ie,ge,fe,de,we)},Ke=(T,D,W,X,ee,ie,ge,fe,de)=>{let ne=0;const Ie=D.length;let we=T.length-1,Ae=Ie-1;for(;ne<=we&&ne<=Ae;){const Re=T[ne],We=D[ne]=de?us(D[ne]):sn(D[ne]);if(Pn(Re,We))v(Re,We,W,null,ee,ie,ge,fe,de);else break;ne++}for(;ne<=we&&ne<=Ae;){const Re=T[we],We=D[Ae]=de?us(D[Ae]):sn(D[Ae]);if(Pn(Re,We))v(Re,We,W,null,ee,ie,ge,fe,de);else break;we--,Ae--}if(ne>we){if(ne<=Ae){const Re=Ae+1,We=Re<Ie?D[Re].el:X;for(;ne<=Ae;)v(null,D[ne]=de?us(D[ne]):sn(D[ne]),W,We,ee,ie,ge,fe,de),ne++}}else if(ne>Ae)for(;ne<=we;)He(T[ne],ee,ie,!0),ne++;else{const Re=ne,We=ne,tt=new Map;for(ne=We;ne<=Ae;ne++){const xe=D[ne]=de?us(D[ne]):sn(D[ne]);xe.key!=null&&tt.set(xe.key,ne)}let Qe,N=0;const F=Ae-We+1;let K=!1,se=0;const be=new Array(F);for(ne=0;ne<F;ne++)be[ne]=0;for(ne=Re;ne<=we;ne++){const xe=T[ne];if(N>=F){He(xe,ee,ie,!0);continue}let je;if(xe.key!=null)je=tt.get(xe.key);else for(Qe=We;Qe<=Ae;Qe++)if(be[Qe-We]===0&&Pn(xe,D[Qe])){je=Qe;break}je===void 0?He(xe,ee,ie,!0):(be[je-We]=ne+1,je>=se?se=je:K=!0,v(xe,D[je],W,null,ee,ie,ge,fe,de),N++)}const Me=K?Qm(be):to;for(Qe=Me.length-1,ne=F-1;ne>=0;ne--){const xe=We+ne,je=D[xe],ht=xe+1<Ie?D[xe+1].el:X;be[ne]===0?v(null,je,W,ht,ee,ie,ge,fe,de):K&&(Qe<0||ne!==Me[Qe]?$e(je,W,ht,2):Qe--)}}},$e=(T,D,W,X,ee=null)=>{const{el:ie,type:ge,transition:fe,children:de,shapeFlag:ne}=T;if(ne&6){$e(T.component.subTree,D,W,X);return}if(ne&128){T.suspense.move(D,W,X);return}if(ne&64){ge.move(T,D,W,z);return}if(ge===re){s(ie,D,W);for(let we=0;we<de.length;we++)$e(de[we],D,W,X);s(T.anchor,D,W);return}if(ge===Rs){S(T,D,W);return}if(X!==2&&ne&1&&fe)if(X===0)fe.beforeEnter(ie),s(ie,D,W),Vt(()=>fe.enter(ie),ee);else{const{leave:we,delayLeave:Ae,afterLeave:Re}=fe,We=()=>s(ie,D,W),tt=()=>{we(ie,()=>{We(),Re&&Re()})};Ae?Ae(ie,We,tt):tt()}else s(ie,D,W)},He=(T,D,W,X=!1,ee=!1)=>{const{type:ie,props:ge,ref:fe,children:de,dynamicChildren:ne,shapeFlag:Ie,patchFlag:we,dirs:Ae}=T;if(fe!=null&&ea(fe,null,W,T,!0),Ie&256){D.ctx.deactivate(T);return}const Re=Ie&1&&Ae,We=!Ps(T);let tt;if(We&&(tt=ge&&ge.onVnodeBeforeUnmount)&&Kt(tt,D,T),Ie&6)L(T.component,W,X);else{if(Ie&128){T.suspense.unmount(W,X);return}Re&&Vn(T,null,D,"beforeUnmount"),Ie&64?T.type.remove(T,D,W,ee,z,X):ne&&(ie!==re||we>0&&we&64)?q(ne,D,W,!1,!0):(ie===re&&we&384||!ee&&Ie&16)&&q(de,D,W),X&&te(T)}(We&&(tt=ge&&ge.onVnodeUnmounted)||Re)&&Vt(()=>{tt&&Kt(tt,D,T),Re&&Vn(T,null,D,"unmounted")},W)},te=T=>{const{type:D,el:W,anchor:X,transition:ee}=T;if(D===re){Se(W,X);return}if(D===Rs){$(T);return}const ie=()=>{o(W),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(T.shapeFlag&1&&ee&&!ee.persisted){const{leave:ge,delayLeave:fe}=ee,de=()=>ge(W,ie);fe?fe(T.el,ie,de):de()}else ie()},Se=(T,D)=>{let W;for(;T!==D;)W=f(T),o(T),T=W;o(D)},L=(T,D,W)=>{const{bum:X,scope:ee,update:ie,subTree:ge,um:fe}=T;X&&so(X),ee.stop(),ie&&(ie.active=!1,He(ge,T,D,W)),fe&&Vt(fe,D),Vt(()=>{T.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},q=(T,D,W,X=!1,ee=!1,ie=0)=>{for(let ge=ie;ge<T.length;ge++)He(T[ge],D,W,X,ee)},Z=T=>T.shapeFlag&6?Z(T.component.subTree):T.shapeFlag&128?T.suspense.next():f(T.anchor||T.el),ae=(T,D,W)=>{T==null?D._vnode&&He(D._vnode,null,null,!0):v(D._vnode||null,T,D,null,null,null,W),Xr(),Zl(),D._vnode=T},z={p:v,um:He,m:$e,r:te,mt:E,mc:A,pc:le,pbc:B,n:Z,o:e};let he,oe;return t&&([he,oe]=t(z)),{render:ae,hydrate:he,createApp:Ym(ae,he)}}function Ss({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function yr(e,t,n=!1){const s=e.children,o=t.children;if(Te(s)&&Te(o))for(let i=0;i<s.length;i++){const a=s[i];let r=o[i];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=o[i]=us(o[i]),r.el=a.el),n||yr(a,r)),r.type===Ls&&(r.el=a.el)}}function Qm(e){const t=e.slice(),n=[0];let s,o,i,a,r;const u=e.length;for(s=0;s<u;s++){const c=e[s];if(c!==0){if(o=n[n.length-1],e[o]<c){t[s]=o,n.push(s);continue}for(i=0,a=n.length-1;i<a;)r=i+a>>1,e[n[r]]<c?i=r+1:a=r;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}const Zm=e=>e.__isTeleport,Bo=e=>e&&(e.disabled||e.disabled===""),iu=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,Ei=(e,t)=>{const n=e&&e.to;return gt(n)?t?t(n):null:n},qm={__isTeleport:!0,process(e,t,n,s,o,i,a,r,u,c){const{mc:h,pc:d,pbc:f,o:{insert:m,querySelector:p,createText:v,createComment:w}}=c,b=Bo(t.props);let{shapeFlag:y,children:S,dynamicChildren:$}=t;if(e==null){const I=t.el=v(""),C=t.anchor=v("");m(I,n,s),m(C,n,s);const V=t.target=Ei(t.props,p),A=t.targetAnchor=v("");V&&(m(A,V),a=a||iu(V));const O=(B,j)=>{y&16&&h(S,B,j,o,i,a,r,u)};b?O(n,C):V&&O(V,A)}else{t.el=e.el;const I=t.anchor=e.anchor,C=t.target=e.target,V=t.targetAnchor=e.targetAnchor,A=Bo(e.props),O=A?n:C,B=A?I:V;if(a=a||iu(C),$?(f(e.dynamicChildren,$,O,o,i,a,r),yr(e,t,!0)):u||d(e,t,O,B,o,i,a,r,!1),b)A||Pl(t,n,I,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Ei(t.props,p);j&&Pl(t,j,null,c,0)}else A&&Pl(t,C,V,c,1)}hd(t)},remove(e,t,n,s,{um:o,o:{remove:i}},a){const{shapeFlag:r,children:u,anchor:c,targetAnchor:h,target:d,props:f}=e;if(d&&i(h),(a||!Bo(f))&&(i(c),r&16))for(let m=0;m<u.length;m++){const p=u[m];o(p,t,n,!0,!!p.dynamicChildren)}},move:Pl,hydrate:ep};function Pl(e,t,n,{o:{insert:s},m:o},i=2){i===0&&s(e.targetAnchor,t,n);const{el:a,anchor:r,shapeFlag:u,children:c,props:h}=e,d=i===2;if(d&&s(a,t,n),(!d||Bo(h))&&u&16)for(let f=0;f<c.length;f++)o(c[f],t,n,2);d&&s(r,t,n)}function ep(e,t,n,s,o,i,{o:{nextSibling:a,parentNode:r,querySelector:u}},c){const h=t.target=Ei(t.props,u);if(h){const d=h._lpa||h.firstChild;if(t.shapeFlag&16)if(Bo(t.props))t.anchor=c(a(e),t,r(e),n,s,o,i),t.targetAnchor=d;else{t.anchor=a(e);let f=d;for(;f;)if(f=a(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(d,t,h,n,s,o,i)}hd(t)}return t.anchor&&a(t.anchor)}const tp=qm;function hd(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const re=Symbol(void 0),Ls=Symbol(void 0),Lt=Symbol(void 0),Rs=Symbol(void 0),Ho=[];let Jt=null;function g(e=!1){Ho.push(Jt=e?null:[])}function md(){Ho.pop(),Jt=Ho[Ho.length-1]||null}let Fs=1;function Ti(e){Fs+=e}function pd(e){return e.dynamicChildren=Fs>0?Jt||to:null,md(),Fs>0&&Jt&&Jt.push(e),e}function _(e,t,n,s,o,i){return pd(l(e,t,n,s,o,i,!0))}function Ee(e,t,n,s,o){return pd(U(e,t,n,s,o,!0))}function bs(e){return e?e.__v_isVNode===!0:!1}function Pn(e,t){return e.type===t.type&&e.key===t.key}function np(e){}const ka="__vInternal",vd=({key:e})=>e!=null?e:null,Wl=({ref:e,ref_key:t,ref_for:n})=>e!=null?gt(e)||Dt(e)||Fe(e)?{i:xt,r:e,k:t,f:!!n}:e:null;function l(e,t=null,n=null,s=0,o=null,i=e===re?0:1,a=!1,r=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vd(t),ref:t&&Wl(t),scopeId:$a,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:xt};return r?(br(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=gt(n)?8:16),Fs>0&&!a&&Jt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Jt.push(u),u}const U=sp;function sp(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===ed)&&(e=Lt),bs(e)){const r=Un(e,t,!0);return n&&br(r,n),Fs>0&&!i&&Jt&&(r.shapeFlag&6?Jt[Jt.indexOf(e)]=r:Jt.push(r)),r.patchFlag|=-2,r}if(cp(e)&&(e=e.__vccOpts),t){t=gd(t);let{class:r,style:u}=t;r&&!gt(r)&&(t.class=Oe(r)),ct(u)&&(nr(u)&&!Te(u)&&(u=_t({},u)),t.style=at(u))}const a=gt(e)?1:Bc(e)?128:Zm(e)?64:ct(e)?4:Fe(e)?2:0;return l(e,t,n,s,o,a,i,!0)}function gd(e){return e?nr(e)||ka in e?_t({},e):e:null}function Un(e,t,n=!1){const{props:s,ref:o,patchFlag:i,children:a}=e,r=t?yl(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:r,key:r&&vd(r),ref:t&&t.ref?n&&o?Te(o)?o.concat(Wl(t)):[o,Wl(t)]:Wl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Un(e.ssContent),ssFallback:e.ssFallback&&Un(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function R(e=" ",t=0){return U(Ls,null,e,t)}function yd(e,t){const n=U(Rs,null,e);return n.staticCount=t,n}function Y(e="",t=!1){return t?(g(),Ee(Lt,null,e)):U(Lt,null,e)}function sn(e){return e==null||typeof e=="boolean"?U(Lt):Te(e)?U(re,null,e.slice()):typeof e=="object"?us(e):U(Ls,null,String(e))}function us(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Un(e)}function br(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Te(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),br(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(ka in t)?t._ctx=xt:o===3&&xt&&(xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:xt},n=32):(t=String(t),s&64?(n=16,t=[R(t)]):n=8);e.children=t,e.shapeFlag|=n}function yl(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Oe([t.class,s.class]));else if(o==="style")t.style=at([t.style,s.style]);else if(fl(o)){const i=t[o],a=s[o];a&&i!==a&&!(Te(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=s[o])}return t}function Kt(e,t,n,s=null){an(e,t,7,[n,s])}const op=ud();let lp=0;function bd(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||op,i={uid:lp++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ld(s,o),emitsOptions:Fc(s,o),emit:null,emitted:null,propsDefaults:it,inheritAttrs:s.inheritAttrs,ctx:it,data:it,props:it,attrs:it,slots:it,refs:it,setupState:it,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=mm.bind(null,i),e.ce&&e.ce(i),i}let Tt=null;const ts=()=>Tt||xt,ws=e=>{Tt=e,e.scope.on()},vs=()=>{Tt&&Tt.scope.off(),Tt=null};function wd(e){return e.vnode.shapeFlag&4}let uo=!1;function _d(e,t=!1){uo=t;const{props:n,children:s}=e.vnode,o=wd(e);Wm(e,n,o,t),Km(e,s);const i=o?ap(e,t):void 0;return uo=!1,i}function ap(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=sr(new Proxy(e.ctx,_i));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?$d(e):null;ws(e),go();const i=Jn(s,e,0,[e.props,o]);if(yo(),vs(),Xi(i)){if(i.then(vs,vs),t)return i.then(a=>{Ii(e,a,t)}).catch(a=>{js(a,e,0)});e.asyncDep=i}else Ii(e,i,t)}else Sd(e,t)}function Ii(e,t,n){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ct(t)&&(e.setupState=ar(t)),Sd(e,n)}let ta,Di;function ip(e){ta=e,Di=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Um))}}const rp=()=>!ta;function Sd(e,t,n){const s=e.type;if(!e.render){if(!t&&ta&&!s.render){const o=s.template||vr(e).template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:r,compilerOptions:u}=s,c=_t(_t({isCustomElement:i,delimiters:r},a),u);s.render=ta(o,c)}}e.render=s.render||In,Di&&Di(e)}ws(e),go(),Nm(e),yo(),vs()}function up(e){return new Proxy(e.attrs,{get(t,n){return un(e,"get","$attrs"),t[n]}})}function $d(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=up(e))},slots:e.slots,emit:e.emit,expose:t}}function Oa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ar(sr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fo)return Fo[n](e)},has(t,n){return n in t||n in Fo}}))}function Ai(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function cp(e){return Fe(e)&&"__vccOpts"in e}const pe=(e,t)=>rm(e,t,uo);function dp(){return null}function fp(){return null}function hp(e){}function mp(e,t){return null}function pp(){return Cd().slots}function vp(){return Cd().attrs}function Cd(){const e=ts();return e.setupContext||(e.setupContext=$d(e))}function gp(e,t){const n=Te(e)?e.reduce((s,o)=>(s[o]={},s),{}):e;for(const s in t){const o=n[s];o?Te(o)||Fe(o)?n[s]={type:o,default:t[s]}:o.default=t[s]:o===null&&(n[s]={default:t[s]})}return n}function yp(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function bp(e){const t=ts();let n=e();return vs(),Xi(n)&&(n=n.catch(s=>{throw ws(t),s})),[n,()=>ws(t)]}function Va(e,t,n){const s=arguments.length;return s===2?ct(t)&&!Te(t)?bs(t)?U(e,null,[t]):U(e,t):U(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&bs(n)&&(n=[n]),U(e,t,n))}const Ed=Symbol(""),Td=()=>rn(Ed);function wp(){}function _p(e,t,n,s){const o=n[s];if(o&&Id(o,e))return o;const i=t();return i.memo=e.slice(),n[s]=i}function Id(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(io(n[s],t[s]))return!1;return Fs>0&&Jt&&Jt.push(e),!0}const Dd="3.2.45",Sp={createComponentInstance:bd,setupComponent:_d,renderComponentRoot:Hl,setCurrentRenderingInstance:sl,isVNode:bs,normalizeVNode:sn},$p=Sp,Cp=null,Ep=null,Tp="http://www.w3.org/2000/svg",As=typeof document!="undefined"?document:null,ru=As&&As.createElement("template"),Ip={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t?As.createElementNS(Tp,e):As.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>As.createTextNode(e),createComment:e=>As.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>As.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,i){const a=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{ru.innerHTML=s?`<svg>${e}</svg>`:e;const r=ru.content;if(s){const u=r.firstChild;for(;u.firstChild;)r.appendChild(u.firstChild);r.removeChild(u)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Dp(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Ap(e,t,n){const s=e.style,o=gt(n);if(n&&!o){for(const i in n)ki(s,i,n[i]);if(t&&!gt(t))for(const i in t)n[i]==null&&ki(s,i,"")}else{const i=s.display;o?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const uu=/\s*!important$/;function ki(e,t,n){if(Te(n))n.forEach(s=>ki(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=kp(e,t);uu.test(n)?e.setProperty(fn(s),n.replace(uu,""),"important"):e[s]=n}}const cu=["Webkit","Moz","ms"],Xa={};function kp(e,t){const n=Xa[t];if(n)return n;let s=Xt(t);if(s!=="filter"&&s in e)return Xa[t]=s;s=ml(s);for(let o=0;o<cu.length;o++){const i=cu[o]+s;if(i in e)return Xa[t]=i}return t}const du="http://www.w3.org/1999/xlink";function Op(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(du,t.slice(6,t.length)):e.setAttributeNS(du,t,n);else{const i=hh(t);n==null||i&&!mc(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function Vp(e,t,n,s,o,i,a){if(t==="innerHTML"||t==="textContent"){s&&a(s,o,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let r=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=mc(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(t)}function Gn(e,t,n,s){e.addEventListener(t,n,s)}function xp(e,t,n,s){e.removeEventListener(t,n,s)}function Pp(e,t,n,s,o=null){const i=e._vei||(e._vei={}),a=i[t];if(s&&a)a.value=s;else{const[r,u]=Rp(t);if(s){const c=i[t]=Np(s,o);Gn(e,r,c,u)}else a&&(xp(e,r,a,u),i[t]=void 0)}}const fu=/(?:Once|Passive|Capture)$/;function Rp(e){let t;if(fu.test(e)){t={};let s;for(;s=e.match(fu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fn(e.slice(2)),t]}let Qa=0;const Mp=Promise.resolve(),Up=()=>Qa||(Mp.then(()=>Qa=0),Qa=Date.now());function Np(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;an(Lp(s,n.value),t,5,[s])};return n.value=e,n.attached=Up(),n}function Lp(e,t){if(Te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const hu=/^on[a-z]/,Fp=(e,t,n,s,o=!1,i,a,r,u)=>{t==="class"?Dp(e,s,o):t==="style"?Ap(e,n,s):fl(t)?Ji(t)||Pp(e,t,n,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bp(e,t,s,o))?Vp(e,t,s,i,a,r,u):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Op(e,t,s,o))};function Bp(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&hu.test(t)&&Fe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||hu.test(t)&&gt(n)?!1:t in e}function Ad(e,t){const n=ce(e);class s extends xa{constructor(i){super(n,i,t)}}return s.def=n,s}const Hp=e=>Ad(e,Wd),Wp=typeof HTMLElement!="undefined"?HTMLElement:class{};class xa extends Wp{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Zt(()=>{this._connected||(xi(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const o of s)this._setAttr(o.attributeName)}).observe(this,{attributes:!0});const t=(s,o=!1)=>{const{props:i,styles:a}=s;let r;if(i&&!Te(i))for(const u in i){const c=i[u];(c===Number||c&&c.type===Number)&&(u in this._props&&(this._props[u]=Qn(this._props[u])),(r||(r=Object.create(null)))[Xt(u)]=!0)}this._numberProps=r,o&&this._resolveProps(s),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=Te(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&s.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of s.map(Xt))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(i){this._setProp(o,i)}})}_setAttr(t){let n=this.getAttribute(t);const s=Xt(t);this._numberProps&&this._numberProps[s]&&(n=Qn(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(fn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(fn(t),n+""):n||this.removeAttribute(fn(t))))}_update(){xi(this._createVNode(),this.shadowRoot)}_createVNode(){const t=U(this._def,_t({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(i,a)=>{this.dispatchEvent(new CustomEvent(i,{detail:a}))};n.emit=(i,...a)=>{s(i,a),fn(i)!==i&&s(fn(i),a)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof xa){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function jp(e="$style"){{const t=ts();if(!t)return it;const n=t.type.__cssModules;if(!n)return it;const s=n[e];return s||it}}function zp(e){const t=ts();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Vi(i,o))},s=()=>{const o=e(t.proxy);Oi(t.subTree,o),n(o)};Wc(s),ot(()=>{const o=new MutationObserver(s);o.observe(t.subTree.el.parentNode,{childList:!0}),Ct(()=>o.disconnect())})}function Oi(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Oi(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Vi(e.el,t);else if(e.type===re)e.children.forEach(n=>Oi(n,t));else if(e.type===Rs){let{el:n,anchor:s}=e;for(;n&&(Vi(n,t),n!==s);)n=n.nextSibling}}function Vi(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const as="transition",So="animation",wr=(e,{slots:t})=>Va(fr,Od(e),t);wr.displayName="Transition";const kd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Kp=wr.props=_t({},fr.props,kd),$s=(e,t=[])=>{Te(e)?e.forEach(n=>n(...t)):e&&e(...t)},mu=e=>e?Te(e)?e.some(t=>t.length>1):e.length>1:!1;function Od(e){const t={};for(const H in e)H in kd||(t[H]=e[H]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:r=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=a,appearToClass:h=r,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=Gp(o),v=p&&p[0],w=p&&p[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:S,onLeave:$,onLeaveCancelled:I,onBeforeAppear:C=b,onAppear:V=y,onAppearCancelled:A=S}=t,O=(H,k,E)=>{rs(H,k?h:r),rs(H,k?c:a),E&&E()},B=(H,k)=>{H._isLeaving=!1,rs(H,d),rs(H,m),rs(H,f),k&&k()},j=H=>(k,E)=>{const M=H?V:y,P=()=>O(k,H,E);$s(M,[k,P]),pu(()=>{rs(k,H?u:i),jn(k,H?h:r),mu(M)||vu(k,s,v,P)})};return _t(t,{onBeforeEnter(H){$s(b,[H]),jn(H,i),jn(H,a)},onBeforeAppear(H){$s(C,[H]),jn(H,u),jn(H,c)},onEnter:j(!1),onAppear:j(!0),onLeave(H,k){H._isLeaving=!0;const E=()=>B(H,k);jn(H,d),xd(),jn(H,f),pu(()=>{!H._isLeaving||(rs(H,d),jn(H,m),mu($)||vu(H,s,w,E))}),$s($,[H,E])},onEnterCancelled(H){O(H,!1),$s(S,[H])},onAppearCancelled(H){O(H,!0),$s(A,[H])},onLeaveCancelled(H){B(H),$s(I,[H])}})}function Gp(e){if(e==null)return null;if(ct(e))return[Za(e.enter),Za(e.leave)];{const t=Za(e);return[t,t]}}function Za(e){return Qn(e)}function jn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function rs(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function pu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Jp=0;function vu(e,t,n,s){const o=e._endId=++Jp,i=()=>{o===e._endId&&s()};if(n)return setTimeout(i,n);const{type:a,timeout:r,propCount:u}=Vd(e,t);if(!a)return s();const c=a+"end";let h=0;const d=()=>{e.removeEventListener(c,f),i()},f=m=>{m.target===e&&++h>=u&&d()};setTimeout(()=>{h<u&&d()},r+1),e.addEventListener(c,f)}function Vd(e,t){const n=window.getComputedStyle(e),s=p=>(n[p]||"").split(", "),o=s(`${as}Delay`),i=s(`${as}Duration`),a=gu(o,i),r=s(`${So}Delay`),u=s(`${So}Duration`),c=gu(r,u);let h=null,d=0,f=0;t===as?a>0&&(h=as,d=a,f=i.length):t===So?c>0&&(h=So,d=c,f=u.length):(d=Math.max(a,c),h=d>0?a>c?as:So:null,f=h?h===as?i.length:u.length:0);const m=h===as&&/\b(transform|all)(,|$)/.test(s(`${as}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:m}}function gu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>yu(n)+yu(e[s])))}function yu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function xd(){return document.body.offsetHeight}const Pd=new WeakMap,Rd=new WeakMap,Yp={name:"TransitionGroup",props:_t({},Kp,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ts(),s=dr();let o,i;return Ia(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!qp(o[0].el,n.vnode.el,a))return;o.forEach(Xp),o.forEach(Qp);const r=o.filter(Zp);xd(),r.forEach(u=>{const c=u.el,h=c.style;jn(c,a),h.transform=h.webkitTransform=h.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,rs(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=Ze(e),r=Od(a);let u=a.tag||re;o=i,i=t.default?Ca(t.default()):[];for(let c=0;c<i.length;c++){const h=i[c];h.key!=null&&Ns(h,ro(h,r,s,n))}if(o)for(let c=0;c<o.length;c++){const h=o[c];Ns(h,ro(h,r,s,n)),Pd.set(h,h.el.getBoundingClientRect())}return U(u,null,i)}}},Md=Yp;function Xp(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Qp(e){Rd.set(e,e.el.getBoundingClientRect())}function Zp(e){const t=Pd.get(e),n=Rd.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${o}px)`,i.transitionDuration="0s",e}}function qp(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(r=>r&&s.classList.remove(r))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(s);const{hasTransform:i}=Vd(s);return o.removeChild(s),i}const _s=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?n=>so(t,n):t};function ev(e){e.target.composing=!0}function bu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ve={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e._assign=_s(o);const i=s||o.props&&o.props.type==="number";Gn(e,t?"change":"input",a=>{if(a.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=Qn(r)),e._assign(r)}),n&&Gn(e,"change",()=>{e.value=e.value.trim()}),t||(Gn(e,"compositionstart",ev),Gn(e,"compositionend",bu),Gn(e,"change",bu))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},i){if(e._assign=_s(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(o||e.type==="number")&&Qn(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},qn={deep:!0,created(e,t,n){e._assign=_s(n),Gn(e,"change",()=>{const s=e._modelValue,o=co(e),i=e.checked,a=e._assign;if(Te(s)){const r=ma(s,o),u=r!==-1;if(i&&!u)a(s.concat(o));else if(!i&&u){const c=[...s];c.splice(r,1),a(c)}}else if(Ws(s)){const r=new Set(s);i?r.add(o):r.delete(o),a(r)}else a(Ud(e,i))})},mounted:wu,beforeUpdate(e,t,n){e._assign=_s(n),wu(e,t,n)}};function wu(e,{value:t,oldValue:n},s){e._modelValue=t,Te(t)?e.checked=ma(t,s.props.value)>-1:Ws(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=gs(t,Ud(e,!0)))}const Yt={created(e,{value:t},n){e.checked=gs(t,n.props.value),e._assign=_s(n),Gn(e,"change",()=>{e._assign(co(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=_s(s),t!==n&&(e.checked=gs(t,s.props.value))}},bl={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Ws(t);Gn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Qn(co(a)):co(a));e._assign(e.multiple?o?new Set(i):i:i[0])}),e._assign=_s(s)},mounted(e,{value:t}){_u(e,t)},beforeUpdate(e,t,n){e._assign=_s(n)},updated(e,{value:t}){_u(e,t)}};function _u(e,t){const n=e.multiple;if(!(n&&!Te(t)&&!Ws(t))){for(let s=0,o=e.options.length;s<o;s++){const i=e.options[s],a=co(i);if(n)Te(t)?i.selected=ma(t,a)>-1:i.selected=t.has(a);else if(gs(co(i),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function co(e){return"_value"in e?e._value:e.value}function Ud(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Nd={created(e,t,n){Rl(e,t,n,null,"created")},mounted(e,t,n){Rl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){Rl(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){Rl(e,t,n,s,"updated")}};function Ld(e,t){switch(e){case"SELECT":return bl;case"TEXTAREA":return Ve;default:switch(t){case"checkbox":return qn;case"radio":return Yt;default:return Ve}}}function Rl(e,t,n,s,o){const a=Ld(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,s)}function tv(){Ve.getSSRProps=({value:e})=>({value:e}),Yt.getSSRProps=({value:e},t)=>{if(t.props&&gs(t.props.value,e))return{checked:!0}},qn.getSSRProps=({value:e},t)=>{if(Te(e)){if(t.props&&ma(e,t.props.value)>-1)return{checked:!0}}else if(Ws(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Nd.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Ld(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const nv=["ctrl","shift","alt","meta"],sv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nv.some(n=>e[`${n}Key`]&&!t.includes(n))},na=(e,t)=>(n,...s)=>{for(let o=0;o<t.length;o++){const i=sv[t[o]];if(i&&i(n,t))return}return e(n,...s)},ov={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fo=(e,t)=>n=>{if(!("key"in n))return;const s=fn(n.key);if(t.some(o=>o===s||ov[o]===s))return e(n)},wo={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):$o(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),$o(e,!0),s.enter(e)):s.leave(e,()=>{$o(e,!1)}):$o(e,t))},beforeUnmount(e,{value:t}){$o(e,t)}};function $o(e,t){e.style.display=t?e._vod:"none"}function lv(){wo.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Fd=_t({patchProp:Fp},Ip);let Wo,Su=!1;function Bd(){return Wo||(Wo=cd(Fd))}function Hd(){return Wo=Su?Wo:dd(Fd),Su=!0,Wo}const xi=(...e)=>{Bd().render(...e)},Wd=(...e)=>{Hd().hydrate(...e)},_r=(...e)=>{const t=Bd().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=jd(s);if(!o)return;const i=t._component;!Fe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t},av=(...e)=>{const t=Hd().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=jd(s);if(o)return n(o,!0,o instanceof SVGElement)},t};function jd(e){return gt(e)?document.querySelector(e):e}let $u=!1;const iv=()=>{$u||($u=!0,tv(),lv())},rv=()=>{};var uv=Object.freeze(Object.defineProperty({__proto__:null,compile:rv,EffectScope:Zi,ReactiveEffect:pl,customRef:om,effect:Ih,effectScope:Sh,getCurrentScope:$h,isProxy:nr,isReactive:xs,isReadonly:Us,isRef:Dt,isShallow:qo,markRaw:sr,onScopeDispose:Ch,proxyRefs:ar,reactive:bo,readonly:tr,ref:x,shallowReactive:Oc,shallowReadonly:qh,shallowRef:Vc,stop:Dh,toRaw:Ze,toRef:Pc,toRefs:lm,triggerRef:tm,unref:J,camelize:Xt,capitalize:ml,normalizeClass:Oe,normalizeProps:dh,normalizeStyle:at,toDisplayString:Q,toHandlerKey:No,BaseTransition:fr,Comment:Lt,Fragment:re,KeepAlive:Vm,Static:Rs,Suspense:_m,Teleport:tp,Text:Ls,callWithAsyncErrorHandling:an,callWithErrorHandling:Jn,cloneVNode:Un,compatUtils:Ep,computed:pe,createBlock:Ee,createCommentVNode:Y,createElementBlock:_,createElementVNode:l,createHydrationRenderer:dd,createPropsRestProxy:yp,createRenderer:cd,createSlots:Mm,createStaticVNode:yd,createTextVNode:R,createVNode:U,defineAsyncComponent:km,defineComponent:ce,defineEmits:fp,defineExpose:hp,defineProps:dp,get devtools(){return Qs},getCurrentInstance:ts,getTransitionRawChildren:Ca,guardReactiveProps:gd,h:Va,handleError:js,initCustomFormatter:wp,inject:rn,isMemoSame:Id,isRuntimeOnly:rp,isVNode:bs,mergeDefaults:gp,mergeProps:yl,nextTick:Zt,onActivated:Kc,onBeforeMount:Ta,onBeforeUnmount:Da,onBeforeUpdate:Yc,onDeactivated:Gc,onErrorCaptured:qc,onMounted:ot,onRenderTracked:Zc,onRenderTriggered:Qc,onServerPrefetch:Xc,onUnmounted:Ct,onUpdated:Ia,openBlock:g,popScopeId:pn,provide:Lo,pushScopeId:mn,queuePostFlushCb:rr,registerRuntimeCompiler:ip,renderList:ye,renderSlot:pr,resolveComponent:st,resolveDirective:Rm,resolveDynamicComponent:Aa,resolveFilter:Cp,resolveTransitionHooks:ro,setBlockTracking:Ti,setDevtoolsHook:Lc,setTransitionHooks:Ns,ssrContextKey:Ed,ssrUtils:$p,toHandlers:nd,transformVNodeArgs:np,useAttrs:vp,useSSRContext:Td,useSlots:pp,useTransitionState:dr,version:Dd,warn:um,watch:Ge,watchEffect:Tm,watchPostEffect:Wc,watchSyncEffect:Im,withAsyncContext:bp,withCtx:St,withDefaults:mp,withDirectives:ve,withMemo:_p,withScopeId:pm,Transition:wr,TransitionGroup:Md,VueElement:xa,createApp:_r,createSSRApp:av,defineCustomElement:Ad,defineSSRCustomElement:Hp,hydrate:Wd,initDirectivesForSSR:iv,render:xi,useCssModule:jp,useCssVars:zp,vModelCheckbox:qn,vModelDynamic:Nd,vModelRadio:Yt,vModelSelect:bl,vModelText:Ve,vShow:wo,withKeys:fo,withModifiers:na},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Zs=typeof window!="undefined";function cv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function qa(e,t){const n={};for(const s in t){const o=t[s];n[s]=An(o)?o.map(e):e(o)}return n}const jo=()=>{},An=Array.isArray,dv=/\/$/,fv=e=>e.replace(dv,"");function ei(e,t,n="/"){let s,o={},i="",a="";const r=t.indexOf("#");let u=t.indexOf("?");return r<u&&r>=0&&(u=-1),u>-1&&(s=t.slice(0,u),i=t.slice(u+1,r>-1?r:t.length),o=e(i)),r>-1&&(s=s||t.slice(0,r),a=t.slice(r,t.length)),s=vv(s!=null?s:t,n),{fullPath:s+(i&&"?")+i+a,path:s,query:o,hash:a}}function hv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Cu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function mv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&ho(t.matched[s],n.matched[o])&&zd(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ho(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function zd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pv(e[n],t[n]))return!1;return!0}function pv(e,t){return An(e)?Eu(e,t):An(t)?Eu(t,e):e===t}function Eu(e,t){return An(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function vv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ll;(function(e){e.pop="pop",e.push="push"})(ll||(ll={}));var zo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(zo||(zo={}));function gv(e){if(!e)if(Zs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fv(e)}const yv=/^[^#]+#/;function bv(e,t){return e.replace(yv,"#")+t}function wv(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Pa=()=>({left:window.pageXOffset,top:window.pageYOffset});function _v(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=wv(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Tu(e,t){return(history.state?history.state.position-t:-1)+e}const Pi=new Map;function Sv(e,t){Pi.set(e,t)}function $v(e){const t=Pi.get(e);return Pi.delete(e),t}let Cv=()=>location.protocol+"//"+location.host;function Kd(e,t){const{pathname:n,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){let r=o.includes(e.slice(i))?e.slice(i).length:1,u=o.slice(r);return u[0]!=="/"&&(u="/"+u),Cu(u,"")}return Cu(n,e)+s+o}function Ev(e,t,n,s){let o=[],i=[],a=null;const r=({state:f})=>{const m=Kd(e,location),p=n.value,v=t.value;let w=0;if(f){if(n.value=m,t.value=f,a&&a===p){a=null;return}w=v?f.position-v.position:0}else s(m);o.forEach(b=>{b(n.value,p,{delta:w,type:ll.pop,direction:w?w>0?zo.forward:zo.back:zo.unknown})})};function u(){a=n.value}function c(f){o.push(f);const m=()=>{const p=o.indexOf(f);p>-1&&o.splice(p,1)};return i.push(m),m}function h(){const{history:f}=window;!f.state||f.replaceState(lt({},f.state,{scroll:Pa()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",h),{pauseListeners:u,listen:c,destroy:d}}function Iu(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Pa():null}}function Tv(e){const{history:t,location:n}=window,s={value:Kd(e,n)},o={value:t.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,c,h){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+u:Cv()+e+u;try{t[h?"replaceState":"pushState"](c,"",f),o.value=c}catch(m){console.error(m),n[h?"replace":"assign"](f)}}function a(u,c){const h=lt({},t.state,Iu(o.value.back,u,o.value.forward,!0),c,{position:o.value.position});i(u,h,!0),s.value=u}function r(u,c){const h=lt({},o.value,t.state,{forward:u,scroll:Pa()});i(h.current,h,!0);const d=lt({},Iu(s.value,u,null),{position:h.position+1},c);i(u,d,!1),s.value=u}return{location:s,state:o,push:r,replace:a}}function Iv(e){e=gv(e);const t=Tv(e),n=Ev(e,t.state,t.location,t.replace);function s(i,a=!0){a||n.pauseListeners(),history.go(i)}const o=lt({location:"",base:e,go:s,createHref:bv.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Dv(e){return typeof e=="string"||e&&typeof e=="object"}function Gd(e){return typeof e=="string"||typeof e=="symbol"}const is={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jd=Symbol("");var Du;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Du||(Du={}));function mo(e,t){return lt(new Error,{type:e,[Jd]:!0},t)}function Hn(e,t){return e instanceof Error&&Jd in e&&(t==null||!!(e.type&t))}const Au="[^/]+?",Av={sensitive:!1,strict:!1,start:!0,end:!0},kv=/[.+*?^${}()[\]/\\]/g;function Ov(e,t){const n=lt({},Av,t),s=[];let o=n.start?"^":"";const i=[];for(const c of e){const h=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let d=0;d<c.length;d++){const f=c[d];let m=40+(n.sensitive?.25:0);if(f.type===0)d||(o+="/"),o+=f.value.replace(kv,"\\$&"),m+=40;else if(f.type===1){const{value:p,repeatable:v,optional:w,regexp:b}=f;i.push({name:p,repeatable:v,optional:w});const y=b||Au;if(y!==Au){m+=10;try{new RegExp(`(${y})`)}catch($){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+$.message)}}let S=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(S=w&&c.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),o+=S,m+=20,w&&(m+=-8),v&&(m+=-20),y===".*"&&(m+=-50)}h.push(m)}s.push(h)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function r(c){const h=c.match(a),d={};if(!h)return null;for(let f=1;f<h.length;f++){const m=h[f]||"",p=i[f-1];d[p.name]=m&&p.repeatable?m.split("/"):m}return d}function u(c){let h="",d=!1;for(const f of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const m of f)if(m.type===0)h+=m.value;else if(m.type===1){const{value:p,repeatable:v,optional:w}=m,b=p in c?c[p]:"";if(An(b)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=An(b)?b.join("/"):b;if(!y)if(w)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);h+=y}}return h||"/"}return{re:a,score:s,keys:i,parse:r,stringify:u}}function Vv(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function xv(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const i=Vv(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(ku(s))return 1;if(ku(o))return-1}return o.length-s.length}function ku(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pv={type:0,value:""},Rv=/[a-zA-Z0-9_]/;function Mv(e){if(!e)return[[]];if(e==="/")return[[Pv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const o=[];let i;function a(){i&&o.push(i),i=[]}let r=0,u,c="",h="";function d(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:h,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=u}for(;r<e.length;){if(u=e[r++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&d(),a()):u===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:u==="("?n=2:Rv.test(u)?f():(d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--);break;case 2:u===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+u:n=3:h+=u;break;case 3:d(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&r--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),o}function Uv(e,t,n){const s=Ov(Mv(e.path),n),o=lt(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Nv(e,t){const n=[],s=new Map;t=xu({strict:!1,end:!0,sensitive:!1},t);function o(h){return s.get(h)}function i(h,d,f){const m=!f,p=Lv(h);p.aliasOf=f&&f.record;const v=xu(t,h),w=[p];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const $ of S)w.push(lt({},p,{components:f?f.record.components:p.components,path:$,aliasOf:f?f.record:p}))}let b,y;for(const S of w){const{path:$}=S;if(d&&$[0]!=="/"){const I=d.record.path,C=I[I.length-1]==="/"?"":"/";S.path=d.record.path+($&&C+$)}if(b=Uv(S,d,v),f?f.alias.push(b):(y=y||b,y!==b&&y.alias.push(b),m&&h.name&&!Vu(b)&&a(h.name)),p.children){const I=p.children;for(let C=0;C<I.length;C++)i(I[C],b,f&&f.children[C])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&u(b)}return y?()=>{a(y)}:jo}function a(h){if(Gd(h)){const d=s.get(h);d&&(s.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function r(){return n}function u(h){let d=0;for(;d<n.length&&xv(h,n[d])>=0&&(h.record.path!==n[d].record.path||!Yd(h,n[d]));)d++;n.splice(d,0,h),h.record.name&&!Vu(h)&&s.set(h.record.name,h)}function c(h,d){let f,m={},p,v;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw mo(1,{location:h});v=f.record.name,m=lt(Ou(d.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),h.params&&Ou(h.params,f.keys.map(y=>y.name))),p=f.stringify(m)}else if("path"in h)p=h.path,f=n.find(y=>y.re.test(p)),f&&(m=f.parse(p),v=f.record.name);else{if(f=d.name?s.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw mo(1,{location:h,currentLocation:d});v=f.record.name,m=lt({},d.params,h.params),p=f.stringify(m)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:v,path:p,params:m,matched:w,meta:Bv(w)}}return e.forEach(h=>i(h)),{addRoute:i,resolve:c,removeRoute:a,getRoutes:r,getRecordMatcher:o}}function Ou(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Lv(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Fv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Fv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function Vu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Bv(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function xu(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Yd(e,t){return t.children.some(n=>n===e||Yd(e,n))}const Xd=/#/g,Hv=/&/g,Wv=/\//g,jv=/=/g,zv=/\?/g,Qd=/\+/g,Kv=/%5B/g,Gv=/%5D/g,Zd=/%5E/g,Jv=/%60/g,qd=/%7B/g,Yv=/%7C/g,ef=/%7D/g,Xv=/%20/g;function Sr(e){return encodeURI(""+e).replace(Yv,"|").replace(Kv,"[").replace(Gv,"]")}function Qv(e){return Sr(e).replace(qd,"{").replace(ef,"}").replace(Zd,"^")}function Ri(e){return Sr(e).replace(Qd,"%2B").replace(Xv,"+").replace(Xd,"%23").replace(Hv,"%26").replace(Jv,"`").replace(qd,"{").replace(ef,"}").replace(Zd,"^")}function Zv(e){return Ri(e).replace(jv,"%3D")}function qv(e){return Sr(e).replace(Xd,"%23").replace(zv,"%3F")}function eg(e){return e==null?"":qv(e).replace(Wv,"%2F")}function sa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function tg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(Qd," "),a=i.indexOf("="),r=sa(a<0?i:i.slice(0,a)),u=a<0?null:sa(i.slice(a+1));if(r in t){let c=t[r];An(c)||(c=t[r]=[c]),c.push(u)}else t[r]=u}return t}function Pu(e){let t="";for(let n in e){const s=e[n];if(n=Zv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(An(s)?s.map(i=>i&&Ri(i)):[s&&Ri(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function ng(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=An(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const sg=Symbol(""),Ru=Symbol(""),Ra=Symbol(""),$r=Symbol(""),Mi=Symbol("");function Co(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function cs(e,t,n,s,o){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((a,r)=>{const u=d=>{d===!1?r(mo(4,{from:n,to:t})):d instanceof Error?r(d):Dv(d)?r(mo(2,{from:t,to:d})):(i&&s.enterCallbacks[o]===i&&typeof d=="function"&&i.push(d),a())},c=e.call(s&&s.instances[o],t,n,u);let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(d=>r(d))})}function ti(e,t,n,s){const o=[];for(const i of e)for(const a in i.components){let r=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(og(r)){const c=(r.__vccOpts||r)[t];c&&o.push(cs(c,n,s,i,a))}else{let u=r();o.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${i.path}"`));const h=cv(c)?c.default:c;i.components[a]=h;const f=(h.__vccOpts||h)[t];return f&&cs(f,n,s,i,a)()}))}}return o}function og(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Mu(e){const t=rn(Ra),n=rn($r),s=pe(()=>t.resolve(J(e.to))),o=pe(()=>{const{matched:u}=s.value,{length:c}=u,h=u[c-1],d=n.matched;if(!h||!d.length)return-1;const f=d.findIndex(ho.bind(null,h));if(f>-1)return f;const m=Uu(u[c-2]);return c>1&&Uu(h)===m&&d[d.length-1].path!==m?d.findIndex(ho.bind(null,u[c-2])):f}),i=pe(()=>o.value>-1&&rg(n.params,s.value.params)),a=pe(()=>o.value>-1&&o.value===n.matched.length-1&&zd(n.params,s.value.params));function r(u={}){return ig(u)?t[J(e.replace)?"replace":"push"](J(e.to)).catch(jo):Promise.resolve()}return{route:s,href:pe(()=>s.value.href),isActive:i,isExactActive:a,navigate:r}}const lg=ce({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Mu,setup(e,{slots:t}){const n=bo(Mu(e)),{options:s}=rn(Ra),o=pe(()=>({[Nu(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Nu(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Va("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),ag=lg;function ig(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rg(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!An(o)||o.length!==s.length||s.some((i,a)=>i!==o[a]))return!1}return!0}function Uu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Nu=(e,t,n)=>e!=null?e:t!=null?t:n,ug=ce({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=rn(Mi),o=pe(()=>e.route||s.value),i=rn(Ru,0),a=pe(()=>{let c=J(i);const{matched:h}=o.value;let d;for(;(d=h[c])&&!d.components;)c++;return c}),r=pe(()=>o.value.matched[a.value]);Lo(Ru,pe(()=>a.value+1)),Lo(sg,r),Lo(Mi,o);const u=x();return Ge(()=>[u.value,r.value,e.name],([c,h,d],[f,m,p])=>{h&&(h.instances[d]=c,m&&m!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),c&&h&&(!m||!ho(h,m)||!f)&&(h.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=o.value,h=e.name,d=r.value,f=d&&d.components[h];if(!f)return Lu(n.default,{Component:f,route:c});const m=d.props[h],p=m?m===!0?c.params:typeof m=="function"?m(c):m:null,w=Va(f,lt({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[h]=null)},ref:u}));return Lu(n.default,{Component:w,route:c})||w}}});function Lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cg=ug;function dg(e){const t=Nv(e.routes,e),n=e.parseQuery||tg,s=e.stringifyQuery||Pu,o=e.history,i=Co(),a=Co(),r=Co(),u=Vc(is);let c=is;Zs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=qa.bind(null,L=>""+L),d=qa.bind(null,eg),f=qa.bind(null,sa);function m(L,q){let Z,ae;return Gd(L)?(Z=t.getRecordMatcher(L),ae=q):ae=L,t.addRoute(ae,Z)}function p(L){const q=t.getRecordMatcher(L);q&&t.removeRoute(q)}function v(){return t.getRoutes().map(L=>L.record)}function w(L){return!!t.getRecordMatcher(L)}function b(L,q){if(q=lt({},q||u.value),typeof L=="string"){const T=ei(n,L,q.path),D=t.resolve({path:T.path},q),W=o.createHref(T.fullPath);return lt(T,D,{params:f(D.params),hash:sa(T.hash),redirectedFrom:void 0,href:W})}let Z;if("path"in L)Z=lt({},L,{path:ei(n,L.path,q.path).path});else{const T=lt({},L.params);for(const D in T)T[D]==null&&delete T[D];Z=lt({},L,{params:d(L.params)}),q.params=d(q.params)}const ae=t.resolve(Z,q),z=L.hash||"";ae.params=h(f(ae.params));const he=hv(s,lt({},L,{hash:Qv(z),path:ae.path})),oe=o.createHref(he);return lt({fullPath:he,hash:z,query:s===Pu?ng(L.query):L.query||{}},ae,{redirectedFrom:void 0,href:oe})}function y(L){return typeof L=="string"?ei(n,L,u.value.path):lt({},L)}function S(L,q){if(c!==L)return mo(8,{from:q,to:L})}function $(L){return V(L)}function I(L){return $(lt(y(L),{replace:!0}))}function C(L){const q=L.matched[L.matched.length-1];if(q&&q.redirect){const{redirect:Z}=q;let ae=typeof Z=="function"?Z(L):Z;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=y(ae):{path:ae},ae.params={}),lt({query:L.query,hash:L.hash,params:"path"in ae?{}:L.params},ae)}}function V(L,q){const Z=c=b(L),ae=u.value,z=L.state,he=L.force,oe=L.replace===!0,T=C(Z);if(T)return V(lt(y(T),{state:typeof T=="object"?lt({},z,T.state):z,force:he,replace:oe}),q||Z);const D=Z;D.redirectedFrom=q;let W;return!he&&mv(s,ae,Z)&&(W=mo(16,{to:D,from:ae}),Ke(ae,ae,!0,!1)),(W?Promise.resolve(W):O(D,ae)).catch(X=>Hn(X)?Hn(X,2)?X:De(X):G(X,D,ae)).then(X=>{if(X){if(Hn(X,2))return V(lt({replace:oe},y(X.to),{state:typeof X.to=="object"?lt({},z,X.to.state):z,force:he}),q||D)}else X=j(D,ae,!0,oe,z);return B(D,ae,X),X})}function A(L,q){const Z=S(L,q);return Z?Promise.reject(Z):Promise.resolve()}function O(L,q){let Z;const[ae,z,he]=fg(L,q);Z=ti(ae.reverse(),"beforeRouteLeave",L,q);for(const T of ae)T.leaveGuards.forEach(D=>{Z.push(cs(D,L,q))});const oe=A.bind(null,L,q);return Z.push(oe),Gs(Z).then(()=>{Z=[];for(const T of i.list())Z.push(cs(T,L,q));return Z.push(oe),Gs(Z)}).then(()=>{Z=ti(z,"beforeRouteUpdate",L,q);for(const T of z)T.updateGuards.forEach(D=>{Z.push(cs(D,L,q))});return Z.push(oe),Gs(Z)}).then(()=>{Z=[];for(const T of L.matched)if(T.beforeEnter&&!q.matched.includes(T))if(An(T.beforeEnter))for(const D of T.beforeEnter)Z.push(cs(D,L,q));else Z.push(cs(T.beforeEnter,L,q));return Z.push(oe),Gs(Z)}).then(()=>(L.matched.forEach(T=>T.enterCallbacks={}),Z=ti(he,"beforeRouteEnter",L,q),Z.push(oe),Gs(Z))).then(()=>{Z=[];for(const T of a.list())Z.push(cs(T,L,q));return Z.push(oe),Gs(Z)}).catch(T=>Hn(T,8)?T:Promise.reject(T))}function B(L,q,Z){for(const ae of r.list())ae(L,q,Z)}function j(L,q,Z,ae,z){const he=S(L,q);if(he)return he;const oe=q===is,T=Zs?history.state:{};Z&&(ae||oe?o.replace(L.fullPath,lt({scroll:oe&&T&&T.scroll},z)):o.push(L.fullPath,z)),u.value=L,Ke(L,q,Z,oe),De()}let H;function k(){H||(H=o.listen((L,q,Z)=>{if(!Se.listening)return;const ae=b(L),z=C(ae);if(z){V(lt(z,{replace:!0}),ae).catch(jo);return}c=ae;const he=u.value;Zs&&Sv(Tu(he.fullPath,Z.delta),Pa()),O(ae,he).catch(oe=>Hn(oe,12)?oe:Hn(oe,2)?(V(oe.to,ae).then(T=>{Hn(T,20)&&!Z.delta&&Z.type===ll.pop&&o.go(-1,!1)}).catch(jo),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),G(oe,ae,he))).then(oe=>{oe=oe||j(ae,he,!1),oe&&(Z.delta&&!Hn(oe,8)?o.go(-Z.delta,!1):Z.type===ll.pop&&Hn(oe,20)&&o.go(-1,!1)),B(ae,he,oe)}).catch(jo)}))}let E=Co(),M=Co(),P;function G(L,q,Z){De(L);const ae=M.list();return ae.length?ae.forEach(z=>z(L,q,Z)):console.error(L),Promise.reject(L)}function le(){return P&&u.value!==is?Promise.resolve():new Promise((L,q)=>{E.add([L,q])})}function De(L){return P||(P=!L,k(),E.list().forEach(([q,Z])=>L?Z(L):q()),E.reset()),L}function Ke(L,q,Z,ae){const{scrollBehavior:z}=e;if(!Zs||!z)return Promise.resolve();const he=!Z&&$v(Tu(L.fullPath,0))||(ae||!Z)&&history.state&&history.state.scroll||null;return Zt().then(()=>z(L,q,he)).then(oe=>oe&&_v(oe)).catch(oe=>G(oe,L,q))}const $e=L=>o.go(L);let He;const te=new Set,Se={currentRoute:u,listening:!0,addRoute:m,removeRoute:p,hasRoute:w,getRoutes:v,resolve:b,options:e,push:$,replace:I,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:a.add,afterEach:r.add,onError:M.add,isReady:le,install(L){const q=this;L.component("RouterLink",ag),L.component("RouterView",cg),L.config.globalProperties.$router=q,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>J(u)}),Zs&&!He&&u.value===is&&(He=!0,$(o.location).catch(z=>{}));const Z={};for(const z in is)Z[z]=pe(()=>u.value[z]);L.provide(Ra,q),L.provide($r,bo(Z)),L.provide(Mi,u);const ae=L.unmount;te.add(L),L.unmount=function(){te.delete(L),te.size<1&&(c=is,H&&H(),H=null,u.value=is,He=!1,P=!1),ae()}}};return Se}function Gs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function fg(e,t){const n=[],s=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const r=t.matched[a];r&&(e.matched.find(c=>ho(c,r))?s.push(r):n.push(r));const u=e.matched[a];u&&(t.matched.find(c=>ho(c,u))||o.push(u))}return[n,s,o]}function Cr(){return rn(Ra)}function hg(){return rn($r)}var mg=Object.defineProperty,Fu=Object.getOwnPropertySymbols,pg=Object.prototype.hasOwnProperty,vg=Object.prototype.propertyIsEnumerable,Bu=(e,t,n)=>t in e?mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tf=(e,t)=>{for(var n in t||(t={}))pg.call(t,n)&&Bu(e,n,t[n]);if(Fu)for(var n of Fu(t))vg.call(t,n)&&Bu(e,n,t[n]);return e},Ma=e=>typeof e=="function",Ua=e=>typeof e=="string",nf=e=>Ua(e)&&e.trim().length>0,gg=e=>typeof e=="number",Os=e=>typeof e=="undefined",al=e=>typeof e=="object"&&e!==null,yg=e=>Rn(e,"tag")&&nf(e.tag),sf=e=>window.TouchEvent&&e instanceof TouchEvent,of=e=>Rn(e,"component")&&lf(e.component),bg=e=>Ma(e)||al(e),lf=e=>!Os(e)&&(Ua(e)||bg(e)||of(e)),Hu=e=>al(e)&&["height","width","right","left","top","bottom"].every(t=>gg(e[t])),Rn=(e,t)=>(al(e)||Ma(e))&&t in e,wg=(e=>()=>e++)(0);function ni(e){return sf(e)?e.targetTouches[0].clientX:e.clientX}function Wu(e){return sf(e)?e.targetTouches[0].clientY:e.clientY}var _g=e=>{Os(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},wl=e=>of(e)?wl(e.component):yg(e)?ce({render(){return e}}):typeof e=="string"?e:Ze(J(e)),Sg=e=>{if(typeof e=="string")return e;const t=Rn(e,"props")&&al(e.props)?e.props:{},n=Rn(e,"listeners")&&al(e.listeners)?e.listeners:{};return{component:wl(e),props:t,listeners:n}},$g=()=>typeof window!="undefined",Er=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(s=>s(t))}},Cg=e=>["on","off","emit"].every(t=>Rn(e,t)&&Ma(e[t])),on;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(on||(on={}));var oa;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(oa||(oa={}));var ln;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(ln||(ln={}));var Tn="Vue-Toastification",Sn={type:{type:String,default:on.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},af={type:Sn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},jl={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Sn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Ui={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},rf={transition:{type:[Object,String],default:`${Tn}__bounce`}},Eg={position:{type:String,default:oa.TOP_RIGHT},draggable:Sn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Sn.trueBoolean,pauseOnHover:Sn.trueBoolean,closeOnClick:Sn.trueBoolean,timeout:Ui.timeout,hideProgressBar:Ui.hideProgressBar,toastClassName:Sn.classNames,bodyClassName:Sn.classNames,icon:af.customIcon,closeButton:jl.component,closeButtonClassName:jl.classNames,showCloseButtonOnHover:jl.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Er}},Tg={id:{type:[String,Number],required:!0,default:0},type:Sn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Ig={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Sn.trueBoolean,maxToasts:{type:Number,default:20},transition:rf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Sn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Yn={CORE_TOAST:Eg,TOAST:Tg,CONTAINER:Ig,PROGRESS_BAR:Ui,ICON:af,TRANSITION:rf,CLOSE_BUTTON:jl},uf=ce({name:"VtProgressBar",props:Yn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Tn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Dg(e,t){return g(),_("div",{style:at(e.style),class:Oe(e.cpClass)},null,6)}uf.render=Dg;var Ag=uf,cf=ce({name:"VtCloseButton",props:Yn.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?wl(this.component):"button"},classes(){const e=[`${Tn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),kg=R(" \xD7 ");function Og(e,t){return g(),Ee(Aa(e.buttonComponent),yl({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:St(()=>[kg]),_:1},16,["aria-label","class"])}cf.render=Og;var Vg=cf,df={},xg={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Pg=l("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Rg=[Pg];function Mg(e,t){return g(),_("svg",xg,Rg)}df.render=Mg;var Ug=df,ff={},Ng={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Lg=l("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Fg=[Lg];function Bg(e,t){return g(),_("svg",Ng,Fg)}ff.render=Bg;var ju=ff,hf={},Hg={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Wg=l("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),jg=[Wg];function zg(e,t){return g(),_("svg",Hg,jg)}hf.render=zg;var Kg=hf,mf={},Gg={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Jg=l("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Yg=[Jg];function Xg(e,t){return g(),_("svg",Gg,Yg)}mf.render=Xg;var Qg=mf,pf=ce({name:"VtIcon",props:Yn.ICON,computed:{customIconChildren(){return Rn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Ua(this.customIcon)?this.trimValue(this.customIcon):Rn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Rn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:lf(this.customIcon)?wl(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[on.DEFAULT]:ju,[on.INFO]:ju,[on.SUCCESS]:Ug,[on.ERROR]:Qg,[on.WARNING]:Kg}[this.type]},iconClasses(){const e=[`${Tn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return nf(e)?e.trim():t}}});function Zg(e,t){return g(),Ee(Aa(e.component),{class:Oe(e.iconClasses)},{default:St(()=>[R(Q(e.customIconChildren),1)]),_:1},8,["class"])}pf.render=Zg;var qg=pf,vf=ce({name:"VtToast",components:{ProgressBar:Ag,CloseButton:Vg,Icon:qg},inheritAttrs:!1,props:Object.assign({},Yn.CORE_TOAST,Yn.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Tn}__toast`,`${Tn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Tn}__toast--rtl`),e},bodyClasses(){return[`${Tn}__toast-${Ua(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Hu(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Rn,getVueComponentFromObj:wl,closeToast(){this.eventBus.emit(ln.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:ni(e),y:Wu(e)},this.dragStart=ni(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:ni(e),y:Wu(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Hu(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),ey=["role"];function ty(e,t){const n=st("Icon"),s=st("CloseButton"),o=st("ProgressBar");return g(),_("div",{class:Oe(e.classes),style:at(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(g(),Ee(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Y("v-if",!0),l("div",{role:e.accessibility.toastRole||"alert",class:Oe(e.bodyClasses)},[typeof e.content=="string"?(g(),_(re,{key:0},[R(Q(e.content),1)],2112)):(g(),Ee(Aa(e.getVueComponentFromObj(e.content)),yl({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},nd(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ey),e.closeButton?(g(),Ee(s,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:na(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Y("v-if",!0),e.timeout?(g(),Ee(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Y("v-if",!0)],38)}vf.render=ty;var ny=vf,gf=ce({name:"VtTransition",props:Yn.TRANSITION,emits:["leave"],methods:{hasProp:Rn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function sy(e,t){return g(),Ee(Md,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:St(()=>[pr(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}gf.render=sy;var oy=gf,yf=ce({name:"VueToastification",devtools:{hide:!0},components:{Toast:ny,VtTransition:oy},props:Object.assign({},Yn.CORE_TOAST,Yn.CONTAINER,Yn.TRANSITION),data(){return{count:0,positions:Object.values(oa),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(ln.ADD,this.addToast),e.on(ln.CLEAR,this.clearToasts),e.on(ln.DISMISS,this.dismissToast),e.on(ln.UPDATE,this.updateToast),e.on(ln.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ma(e)&&(e=await e()),_g(this.$el),e.appendChild(this.$el)},setToast(e){Os(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Sg(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];!Os(t)&&!Os(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(n=>n.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Os(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Tn}__container`,e].concat(this.defaults.containerClassName)}}});function ly(e,t){const n=st("Toast"),s=st("VtTransition");return g(),_("div",null,[(g(!0),_(re,null,ye(e.positions,o=>(g(),_("div",{key:o},[U(s,{transition:e.defaults.transition,class:Oe(e.getClasses(o))},{default:St(()=>[(g(!0),_(re,null,ye(e.getPositionToasts(o),i=>(g(),Ee(n,yl({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}yf.render=ly;var ay=yf,zu=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new Er;t&&Zt(()=>{const i=_r(ay,tf({},e)),a=i.mount(document.createElement("div")),r=e.onMounted;if(Os(r)||r(a,i),e.shareAppContext){const u=e.shareAppContext;u===!0?console.warn(`[${Tn}] App to share context with was not provided.`):(i._context.components=u._context.components,i._context.directives=u._context.directives,i._context.mixins=u._context.mixins,i._context.provides=u._context.provides,i.config.globalProperties=u.config.globalProperties)}});const s=(i,a)=>{const r=Object.assign({},{id:wg(),type:on.DEFAULT},a,{content:i});return n.emit(ln.ADD,r),r.id};s.clear=()=>n.emit(ln.CLEAR,void 0),s.updateDefaults=i=>{n.emit(ln.UPDATE_DEFAULTS,i)},s.dismiss=i=>{n.emit(ln.DISMISS,i)};function o(i,{content:a,options:r},u=!1){const c=Object.assign({},r,{content:a});n.emit(ln.UPDATE,{id:i,options:c,create:u})}return s.update=o,s.success=(i,a)=>s(i,Object.assign({},a,{type:on.SUCCESS})),s.info=(i,a)=>s(i,Object.assign({},a,{type:on.INFO})),s.error=(i,a)=>s(i,Object.assign({},a,{type:on.ERROR})),s.warning=(i,a)=>s(i,Object.assign({},a,{type:on.WARNING})),s},iy=()=>{const e=()=>console.warn(`[${Tn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Ni(e){return $g()?Cg(e)?zu({eventBus:e},!1):zu(e,!0):iy()}var bf=Symbol("VueToastification"),wf=new Er,ry=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const n=Ni(tf({eventBus:wf},t));e.provide(bf,n)},_f=e=>{if(e)return Ni(e);const t=ts()?rn(bf,void 0):void 0;return t||Ni(wf)},uy=ry;var dt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const cy={};function dy(e,t){const n=st("router-view");return g(),Ee(n)}var fy=dt(cy,[["render",dy]]);const hy=1,Bs=1e3*hy,il=60*Bs,rl=60*il,la=24*rl;let Oo=[];const my=e=>{switch(e){case"error":Oo=["error"];break;case"warn":Oo=["error","warn"];break;case"info":Oo=["error","warn","info"];break;case"debug":Oo=["error","warn","info","debug"];break}};my("info");const Fn=(e,...t)=>{const n=e,s=o=>(...i)=>{Oo.includes(o)&&console[o](Tr("hh:mm:ss",new Date),`[${n}]`,...t,...i)};return{error:s("error"),warn:s("warn"),info:s("info"),debug:s("debug")}},py=e=>[...e].length,vy=["January","February","March","April","May","June","July","August","September","October","November","December"],gy=["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],Tr=(e,t)=>e.replace(/(YYYY|MM|DD|hh|mm|ss|Month(?:\.(?:de|en))?)/g,(n,s)=>{switch(s){case"YYYY":return $n(t.getFullYear(),"0000");case"MM":return $n(t.getMonth()+1,"00");case"DD":return $n(t.getDate(),"00");case"hh":return $n(t.getHours(),"00");case"mm":return $n(t.getMinutes(),"00");case"ss":return $n(t.getSeconds(),"00");case"Month.de":return gy[t.getMonth()];case"Month.en":case"Month":return vy[t.getMonth()];default:return n}}),$n=(e,t)=>{const n=`${e}`;return n.length>=t.length?n:t.substr(0,t.length-n.length)+n};function Ir(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}const Dr=(e,t=!1)=>{if(e==="")throw new Error("unable to parse duration");const n=`${e}`.trim();if(!n)throw new Error("unable to parse duration");const s=f=>{if(f<0&&!t)throw new Error("negative value not allowed");return f};if(n.match(/^-?\d+$/))return s(parseInt(n,10));const o=n.match(/^(-?(?:\d*)\.(?:\d*))(d|h|m|s)$/);if(o){const f=parseFloat(o[1]);if(isNaN(f))throw new Error("unable to parse duration");const m=o[2];let p=0;return m==="d"?p=f*la:m==="h"?p=f*rl:m==="m"?p=f*il:m==="s"&&(p=f*Bs),s(Math.round(p))}const i=n.match(/^(-?)(?:(\d+)d)?\s?(?:(\d+)h)?\s?(?:(\d+)m)?\s?(?:(\d+)s)?\s?(?:(\d+)ms)?$/);if(!i)throw new Error("unable to parse duration");const a=i[1]?-1:1,r=i[2]?parseInt(i[2],10):0,u=i[3]?parseInt(i[3],10):0,c=i[4]?parseInt(i[4],10):0,h=i[5]?parseInt(i[5],10):0,d=i[6]?parseInt(i[6],10):0;return s(a*(h*Bs+c*il+u*rl+r*la+d))},yy=(e,t=!1)=>{try{return Dr(e,t)}catch{return 0}},Sf=(e,t=["ms","s","m","h","d"])=>{let n=e;const s=Math.floor(n/la);n=n%la;const o=Math.floor(n/rl);n=n%rl;const i=Math.floor(n/il);n=n%il;const a=Math.floor(n/Bs);n=n%Bs;const u=[n,a,i,o,s];let c=0;for(;c<u.length&&u[c]===0;)c++;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;const d=[];for(let f=c;f<=h;f++)d.unshift(`${u[f]}${t[f]}`);return d.join(" ")};function by(e,t,n){if(n>=e.length){let s=n-e.length+1;for(;s--;)e.push(void 0)}return e.splice(n,0,e.splice(t,1)[0]),e}const Na=(e,t,n)=>{if(t===n||t<0||t>e.length-1||n<0||n>e.length-1)return!1;const s=e[t];return e[t]=e[n],e[n]=s,!0},wy=(e,t)=>{const n=[/\$args(?:\((\d*)(:?)(\d*)\))?/g,/\$rand\(\s*(\d+)?\s*,\s*?(\d+)?\s*\)/g,/\$daysuntil\("([^"]+)"\)/g,/\$daysuntil\("([^"]+)",\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*,\s*?"([^"]*)"\s*\)/g,/\$var\(([^)]+)\)/g,/\$bot\.(version|date|website|github|features)/g,/\$user(?:\(([^)]+)\)|())\.(name|profile_image_url|recent_clip_url|last_stream_category)/g,/\$customapi\(([^$)]*)\)\['([A-Za-z0-9_ -]+)'\]/g,/\$customapi\(([^$)]*)\)/g,/\$urlencode\(([^$)]*)\)/g,/\$calc\((\d+)([*/+-])(\d+)\)/g];let s=e,o;do{o=s;for(const i of n)s=s.replace(i,t)}while(o!==s);return s},_y=(e,t=",",n=-1)=>{const s=e.split(t);return n===-1||s.length<=n?s:[...s.slice(0,n-1),s.slice(n-1).join(t)]},Sy=e=>{let t=e.length;for(;t>0;){const n=Math.floor(Math.random()*t);t--;const s=e[t];e[t]=e[n],e[n]=s}return e};function $f(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath}}function Cf(e){return{filename:e.originalname,file:e.filename,urlpath:e.urlpath,volume:100}}const $y=e=>{const t=e.replace(/\W/g,"");return Math.floor(t.length*1e3/12)},Li=(e,t="pt")=>{const n=`${e}`;return n.match(/^\d+$/)?`${n}${t}`:n},ue=(e,t,n)=>{let s=e;for(const o of t){if(typeof s!="object"||s===null||!Object.keys(s).includes(o))return n;s=s[o]}return s},Ef=(e,t,n)=>Math.max(e,Math.min(n,t)),bn=(e,t)=>Math.random()*(t-e)+e,zt=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),zn=e=>e[zt(0,e.length-1)],Cy=(e,t,n,s,o)=>{const i=a=>new Date(`${$n(a.getFullYear(),"0000")}-${$n(a.getMonth()+1,"00")}-${$n(a.getDate(),"00")}`);try{const a=new Date(e);if(isNaN(a.getTime()))return o;const r=new Date,u=i(a).getTime()-i(r).getTime(),c=Math.ceil(u/1e3/60/60/24);let h="{days}";return c===0?h=s:c===1?h=n:h=t,h.replace("{days}",`${c}`)}catch{return o}};var Qt={arrayMove:by,arraySwap:Na,clamp:Ef,daysUntil:Cy,doDummyReplacements:wy,getRandom:zn,getRandomFloat:bn,getRandomInt:zt,humanDuration:Sf,mediaFileFromUploadedFile:$f,mustParseHumanDuration:Dr,pad:$n,parseHumanDuration:yy,shuffle:Sy,soundMediaFileFromUploadedFile:Cf,split:_y,toNumberUnitString:Li,unicodeLength:py};const Tf=(e=null)=>({name:ue(e,["name"],""),width:ue(e,["width"],64),height:ue(e,["height"],64),stateDefinitions:ue(e,["stateDefinitions"],[]),slotDefinitions:ue(e,["slotDefinitions"],[]),state:ue(e,["state"],{slots:{},lockedState:""})}),Fi=(e=null)=>({styles:{bgColor:ue(e,["styles","bgColor"],"#80ff00"),bgColorEnabled:ue(e,["styles","bgColorEnabled"],!0)},avatarDefinitions:ue(e,["avatarDefinitions"],[]).map(Tf)}),Ey=["placeholder"],ut=ce({__name:"StringInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue);return Ge(()=>n.modelValue,o=>{s.value=o}),Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>ve((g(),_("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value=a),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Ey)),[[Ve,s.value]])}}),Ty=["src","width","height"],ul=ce({__name:"AvatarAnimation",props:{frames:{type:Array,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=x(null),s=x(-1),o=pe(()=>s.value>=0&&s.value<t.frames.length?t.frames[s.value].url:""),i=()=>{if(t.frames.length===0){s.value=-1;return}n.value&&(clearTimeout(n.value),n.value=null),s.value++,s.value>=t.frames.length&&(s.value=0),n.value=setTimeout(()=>{i()},t.frames[s.value].duration)};return ot(()=>{i(),Ge(()=>t.frames,()=>{s.value=-1,i()},{deep:!0})}),Ct(()=>{n.value&&(clearTimeout(n.value),n.value=null)}),(a,r)=>(g(),_("span",{class:"avatar-animation",style:at({width:`${e.width}px`,height:`${e.width}px`})},[J(o)?(g(),_("img",{key:0,src:J(o),width:e.width,height:e.height},null,8,Ty)):(g(),_("span",{key:1,style:at({width:`${e.width}px`,height:`${e.width}px`,display:"inline-block"})},null,4))],4))}}),La=async(e,t,n)=>new Promise((s,o)=>{const i=new window.XMLHttpRequest;i.open(e,t,!0),i.withCredentials=!0;const a=n.headers||{};for(const r in a)i.setRequestHeader(r,a[r]);i.addEventListener("load",function(r){s({status:this.status,text:this.responseText,json:async()=>JSON.parse(this.responseText)})}),i.addEventListener("error",function(r){o(new Error("xhr error"))}),i.upload&&n.onUploadProgress&&i.upload.addEventListener("progress",function(r){n.onUploadProgress&&n.onUploadProgress(r)}),i.send(n.body)}),vn=async(e,t={})=>La("get",e,t),Iy=async(e,t={})=>La("post",e,t),If=async(e,t)=>La("post",e,{headers:{Accept:"application/json","Content-Type":"application/json"},body:t}),si=async(e,t)=>If(e,JSON.stringify(t));function Dy(e){const t=[];for(const n in e){const s=[n,e[n]].map(encodeURIComponent);t.push(s.join("="))}return t.length===0?"":`?${t.join("&")}`}var At={saveVariables:async e=>si("/api/save-variables",e),saveUserSettings:async e=>si("/api/save-settings",e),getPageVariablesData:async()=>vn("/api/page/variables"),getPageIndexData:async()=>vn("/api/page/index"),getPageSettingsData:async()=>vn("/api/page/settings"),getDataGlobal:async()=>vn("/api/data/global"),getMe:async()=>vn("/api/user/me"),logout:async()=>Iy("/api/logout"),getConf:async()=>vn("/api/conf"),upload:async(e,t)=>{const n=new FormData;return n.append("file",e,e.name),La("post","/api/upload",{body:n,onUploadProgress:t})},importPlaylist:async e=>If("/api/sr/import",e),getDrawcastAllImages:async()=>vn("/api/drawcast/all-images"),getGeneralGlobalEmotes:async()=>vn("/api/general/global-emotes"),getGeneralChannelEmotes:async e=>vn("/api/general/channel-emotes"+Dy({channel_name:e})),createWidgetUrl:async e=>si("/api/widget/create_url",e),getWidgetData:async(e,t)=>vn(`/api/widget/${e}/${t}/`),getPubData:async e=>vn(`/api/pub/${e}`)};let Df=null;const Ay=async()=>{const e=await At.getConf();Df=e.status===200?await e.json():null};var Ar={init:Ay,getConf:()=>Df};function Af(e){return{all:e=e||new Map,on:function(t,n){var s=e.get(t);s?s.push(n):e.set(t,[n])},off:function(t,n){var s=e.get(t);s&&(n?s.splice(s.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var s=e.get(t);s&&s.slice().map(function(o){o(n)}),(s=e.get("*"))&&s.slice().map(function(o){o(t,n)})}}}let aa=null;const cl=Af(),kf=()=>localStorage.getItem("darkmode")==="1",ky=e=>{localStorage.setItem("darkmode",e?"1":"0"),cl.emit("darkmode",e)};async function Oy(){cl.emit("darkmode",kf());const e=await At.getMe();aa=e.status===200?await e.json():null,aa&&cl.emit("login")}async function Vy(){return(await(await At.logout()).json()).success?(aa=null,cl.emit("logout"),{error:!1}):{error:"[2021-09-25 18:36]"}}var Cn={getMe:()=>aa,isDarkmode:kf,setDarkmode:ky,eventBus:cl,logout:Vy,init:Oy};const xy=1001,Eo=4e3,Wn=Fn("WsWrapper.ts");class Py{constructor(t,n){this.addr=t,this.protocols=n,this.id=null,this.handle=null,this.reconnectTimeout=null,this.sendBuffer=[],this.timerId=0,this.gotPong=!1,this.pongWaitTimerId=0,this.onopen=()=>{},this.onclose=()=>{},this.onmessage=()=>{}}keepAlive(t=2e4){this.handle&&this.handle.readyState==this.handle.OPEN&&(this.gotPong=!1,this.handle.send(JSON.stringify({type:"ping"})),this.pongWaitTimerId&&clearTimeout(this.pongWaitTimerId),this.pongWaitTimerId=setTimeout(()=>{!this.gotPong&&this.handle&&this.handle.close()},1e3)),this.timerId=setTimeout(()=>{this.keepAlive(t)},t)}cancelKeepAlive(){this.timerId&&clearTimeout(this.timerId)}send(t){this.handle?this.handle.send(t):this.sendBuffer.push(t)}connect(){const t=Ir(10);this.id=t;const n=()=>{this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectTimeout=setTimeout(()=>{this.connect()},1e3)};Wn.info({id:t,addr:this.addr},"trying to connect");const s=new WebSocket(this.addr,this.protocols);s.onopen=o=>{if(Wn.info({id:t},"ws connected"),t!==this.id){Wn.info({id:t,this_id:this.id},"connected but it is not the last attempt"),s.close(Eo);return}for(this.handle&&(Wn.error({e:o},"handle already existed, closing old one and replacing it"),this.handle.close(Eo)),this.handle=s;this.sendBuffer.length>0;){const i=this.sendBuffer.shift();i&&this.handle.send(i)}this.onopen(o),this.keepAlive()},s.onmessage=o=>{try{const i=JSON.parse(o.data);if(i.type&&i.type==="pong"){this.gotPong=!0;return}}catch{}this.onmessage(o)},s.onerror=o=>{this.cancelKeepAlive(),Wn.error({e:o,id:t})},s.onclose=o=>{this.cancelKeepAlive(),this.handle=null,this.onclose(o),o.code===Eo?Wn.info({id:t},"custom disconnect, will not reconnect"):o.code===xy?Wn.info({id:t},"going away, will not reconnect"):(Wn.info({id:t,code:o.code},"connection closed, trying to reconnect."),n())}}disconnect(){this.handle&&(Wn.info({code:Eo},"handle existed, closing"),this.handle.close(Eo))}}const Ku=Fn("WsClient.ts");class Of extends Py{constructor(t,n){super(t,n),this._on={},this.onopen=s=>{this._dispatch("socket","open",s)},this.onmessage=s=>{if(this._dispatch("socket","message",s),this._on.message){const o=this._parseMessageData(s.data);o.event&&this._dispatch("message",`${o.event}`,o.data,o)}},this.onclose=s=>{this._dispatch("socket","close",s)}}onSocket(t,n){this.addEventListener("socket",t,n)}onMessage(t,n){this.addEventListener("message",t,n)}addEventListener(t,n,s){const o=Array.isArray(n)?n:[n];this._on[t]=this._on[t]||{};for(const i of o)this._on[t][i]=this._on[t][i]||[],this._on[t][i].push(s)}_parseMessageData(t){try{const n=JSON.parse(t);if(n.event)return n.data=n.data||null,n}catch(n){Ku.info({e:n})}return{event:null,data:null}}_dispatch(t,n,...s){const i=(this._on[t]||{})[n]||[];if(i.length!==0){Ku.info({type:t,tag:n},"ws dispatch");for(const a of i)a(...s)}}}const Ry=e=>{const t=Ar.getConf(),n=Cn.getMe();return new Of(`${t.wsBase}/${e}`,n?n.token:"")},_l=e=>{if(e.dataTransfer.items){for(let t=0;t<e.dataTransfer.items.length;t++)if(e.dataTransfer.items[t].kind==="file")return e.dataTransfer.items[t].getAsFile();return null}for(let t=0;t<e.dataTransfer.files.length;t++)return e.dataTransfer.files[t];return null};var zs={wsClient:Ry,getFileFromDropEvent:_l,getParam:e=>new URLSearchParams(window.location.search).get(e)||""};const My={class:"upload"},Uy=["disabled","accept"],Ny={class:"button is-small"},Ly=ce({__name:"UploadInput",props:{accept:null,label:{default:"Upload File"}},emits:["uploaded"],setup(e,{expose:t,emit:n}){const s=e,o=x(!1),i=x(0),a=pe(()=>Math.round(i.value*100)),r=pe(()=>o.value?` Uploading (${a.value}%)`:s.label?` ${s.label}`:""),u=pe(()=>{if(!o.value)return{};const d=a.value,f="rgba(0,255,0, .5)";return{background:`linear-gradient(90deg, ${f} 0%, ${f} ${d}%, transparent ${d}%)`}}),c=async d=>{o.value=!0;const f=await At.upload(d,p=>{i.value=p.loaded/p.total});o.value=!1;const m=await f.json();n("uploaded",m)},h=async d=>{const f=d.target;!f.files||f.files.length===0||c(f.files[0])};return t({uploadFile:c}),(d,f)=>(g(),_("label",My,[l("input",{type:"file",disabled:o.value,style:{display:"none"},accept:e.accept,onChange:h},null,40,Uy),l("span",Ny,[l("i",{class:Oe(["fa fa-upload",{"mr-1":J(r)}])},null,2),R(Q(J(r)),1)]),l("span",{class:"progress",style:at(J(u))},null,4)]))}});var Fa=dt(Ly,[["__scopeId","data-v-6e2ea3c1"]]);const Fy=["placeholder"],kr=ce({__name:"IntegerInput",props:{modelValue:null,placeholder:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(`${n.modelValue}`);return Ge(()=>n.modelValue,o=>{s.value=`${o}`}),Ge(s,o=>{const i=parseInt(`${o}`,10);t("update:modelValue",isNaN(i)?0:i)},{deep:!0}),(o,i)=>ve((g(),_("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value=a),class:"input is-small",placeholder:e.placeholder,type:"text"},null,8,Fy)),[[Ve,s.value]])}});const By=e=>(mn("data-v-d53f9f12"),e=e(),pn(),e),Hy=By(()=>l("i",{class:"fa fa-trash"},null,-1)),Wy=[Hy],jy=["src"],zy=ce({__name:"AvatarFrameUpload",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x({url:"",duration:100}),o=x(!1),i=x(),a=()=>{s.value=n.modelValue!==null?JSON.parse(JSON.stringify(n.modelValue)):{url:"",duration:100}},r=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},u=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},c=()=>{s.value={url:"",duration:100},r()},h=p=>{s.value={url:p.urlpath,duration:100},r()},d=p=>{o.value=!1,p.preventDefault(),p.stopPropagation();const v=_l(p);return v&&(s.value.url="",i.value.uploadFile(v)),!1},f=p=>(o.value=!0,p.preventDefault(),p.stopPropagation(),!1),m=p=>(o.value=!1,p.preventDefault(),p.stopPropagation(),!1);return ot(()=>{Ge(()=>n.modelValue,()=>{a()}),a()}),(p,v)=>(g(),_("span",{class:Oe(["avatar-animation-frame",{"dragging-over":o.value}]),onDrop:d,onDragover:f,onDragleave:m},[l("div",{class:"avatar-animation-frame-remove"},[l("span",{class:"button is-small",onClick:c},Wy)]),s.value.url?(g(),_("img",{key:0,src:s.value.url,width:"64",height:"64"},null,8,jy)):Y("",!0),ve(U(Fa,{ref_key:"uploadComponent",ref:i,accept:"image/*",label:"",class:"avatar-animation-frame-upload",onUploaded:h},null,512),[[wo,!s.value.url]]),U(kr,{modelValue:s.value.duration,"onUpdate:modelValue":[v[0]||(v[0]=w=>s.value.duration=w),u]},null,8,["modelValue"])],34))}});var Ky=dt(zy,[["__scopeId","data-v-d53f9f12"]]);const Gy={class:"avatar-slot-item-state-editor-title"},Jy=l("i",{class:"fa fa-plus"},null,-1),Yy=[Jy],Xy=ce({__name:"AvatarSlotItemStateEditor",props:{modelValue:null,defaultState:null},setup(e){const t=e,n=x(!1),s=x(),o=d=>(n.value=!0,d.preventDefault(),d.stopPropagation(),!1),i=d=>{n.value=!1,d.preventDefault(),d.stopPropagation()},a=d=>{!d.dataTransfer||d.dataTransfer.getData("avatar-image-url")&&d.preventDefault()},r=d=>{if(!!d.dataTransfer)if(n.value=!1,d.preventDefault(),d.stopPropagation(),d.dataTransfer.getData("avatar-image-url")){const f={url:d.dataTransfer.getData("avatar-image-url"),duration:100};t.modelValue.frames.push(f)}else{const f=_l(d);f&&s.value.uploadFile(f)}},u=d=>{t.modelValue.frames.push({url:d.urlpath,duration:100})},c=(d,f)=>{f.url===""?t.modelValue.frames=t.modelValue.frames.filter((m,p)=>p!==d):t.modelValue.frames[d]=f},h=()=>{const d={url:"",duration:100};t.modelValue.frames.push(d)};return(d,f)=>(g(),_("div",{class:Oe(["avatar-slot-item-state-editor card",{"dragging-over":n.value}]),onDragover:o,onDragenter:a,onDragleave:i,onDrop:r},[l("div",Gy,Q(e.modelValue.state),1),e.modelValue.frames.length?(g(),Ee(ul,{key:0,frames:e.modelValue.frames},null,8,["frames"])):(g(),Ee(ul,{key:1,frames:e.defaultState.frames,class:"avatar-fallback-animation"},null,8,["frames"])),l("div",null,[(g(!0),_(re,null,ye(e.modelValue.frames,(m,p)=>(g(),_("div",{key:p,class:"avatar-animation-card mr-1"},[U(Ky,{"model-value":m,"onUpdate:modelValue":v=>c(p,v)},null,8,["model-value","onUpdate:modelValue"])]))),128)),l("div",{class:"avatar-animation-card mr-1"},[l("span",{class:"avatar-animation-frame"},[l("span",{class:"button is-small",onClick:h},Yy)])])]),ve(U(Fa,{ref_key:"uploadComponent",ref:s,accept:"image/*",label:"",onUploaded:u},null,512),[[wo,!1]])],34))}});const Qy={class:"avatar-slot-item-editor p-1"},Zy={class:"level"},qy={class:"level-left"},e1={class:"level-item"},t1={class:"level-item"},n1={key:0,class:"has-text-success mr-1"},s1=l("i",{class:"fa fa-check"},null,-1),o1={class:"level-right"},l1={class:"level-item"},a1={class:"level-item"},i1={class:"level-item"},r1=l("i",{class:"fa fa-trash"},null,-1),u1=[r1],c1=ce({__name:"AvatarSlotItemEditor",props:{modelValue:null,isDefault:{type:Boolean}},emits:["makeDefault","moveUp","moveDown","remove"],setup(e,{emit:t}){const n=e,s=x(!1),o=pe(()=>n.modelValue.states.find(({state:a})=>a==="default")),i=()=>{t("makeDefault",n.modelValue)};return(a,r)=>(g(),_("div",Qy,[l("div",Zy,[l("div",qy,[l("div",e1,[ve(l("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>e.modelValue.title=u),type:"text",class:Oe(["input is-small avatar-slot-item-editor-title",{"is-static":!s.value}]),onFocus:r[1]||(r[1]=u=>s.value=!0),onBlur:r[2]||(r[2]=u=>s.value=!1)},null,34),[[Ve,e.modelValue.title]])]),l("div",t1,[e.isDefault?(g(),_("span",n1,[s1,R(" Default")])):(g(),_("span",{key:1,class:"button is-small",onClick:i},"Make default"))])]),l("div",o1,[l("div",l1,[l("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:r[3]||(r[3]=u=>t("moveUp"))})]),l("div",a1,[l("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:r[4]||(r[4]=u=>t("moveDown"))})]),l("div",i1,[l("span",{class:"button is-small",onClick:r[5]||(r[5]=u=>t("remove"))},u1)])])]),(g(!0),_(re,null,ye(e.modelValue.states,(u,c)=>(g(),Ee(Xy,{key:c,class:"mr-1","model-value":u,"default-state":J(o)},null,8,["model-value","default-state"]))),128))]))}});const d1={class:"avatar-slot-definition-editor"},f1={class:"level avatar-slot-definition-editor-title p-1"},h1={class:"level-left"},m1={class:"level-item"},p1={class:"level-item"},v1={class:"level-right"},g1={class:"level-item"},y1={class:"level-item"},b1={class:"level-item"},w1=l("i",{class:"fa fa-trash"},null,-1),_1=[w1],S1={class:"p-1"},$1=ce({__name:"AvatarSlotDefinitionEditor",props:{modelValue:null,avatarDef:null},emits:["update:modelValue","remove","moveUp","moveDown"],setup(e,{emit:t}){const n=e,s=x(!1),o=pe(()=>n.modelValue.defaultItemIndex>=0&&n.modelValue.items.length>n.modelValue.defaultItemIndex?n.modelValue.items[n.modelValue.defaultItemIndex]:null),i=pe(()=>{if(!o.value)return[];const p=o.value.states.find(({state:v})=>v==="default");return p?p.frames:[]}),a=()=>{t("update:modelValue",n.modelValue)},r=(p,v)=>{n.modelValue.items[p]=v,a()},u=(p,v)=>{n.modelValue.items=n.modelValue.items.filter((w,b)=>b!==p),p<=n.modelValue.defaultItemIndex&&(n.modelValue.defaultItemIndex=n.modelValue.defaultItemIndex-1),n.modelValue.items.length>0&&n.modelValue.defaultItemIndex<0&&(n.modelValue.defaultItemIndex=0),a()},c=(p,v)=>{n.modelValue.defaultItemIndex=p,a()},h=()=>{const p={title:`${n.modelValue.slot} item ${n.modelValue.items.length+1}`,states:n.avatarDef.stateDefinitions.map(v=>({state:v.value,frames:[]}))};n.modelValue.items.push(p),n.modelValue.defaultItemIndex===-1&&(n.modelValue.defaultItemIndex=0),a()},d=p=>{m(p-1,p)},f=p=>{m(p+1,p)},m=(p,v)=>{Na(n.modelValue.items,p,v)&&(n.modelValue.defaultItemIndex===p?n.modelValue.defaultItemIndex=v:n.modelValue.defaultItemIndex===v&&(n.modelValue.defaultItemIndex=p))};return(p,v)=>(g(),_("div",d1,[l("div",f1,[l("div",h1,[l("div",m1,[U(ul,{frames:J(i),width:32,height:32},null,8,["frames"])]),l("div",p1,[ve(l("input",{"onUpdate:modelValue":v[0]||(v[0]=w=>e.modelValue.slot=w),class:Oe(["input is-small avatar-slot-definition-editor-title-input",{"is-static":!s.value}]),onFocus:v[1]||(v[1]=w=>s.value=!0),onBlur:v[2]||(v[2]=w=>s.value=!1)},null,34),[[Ve,e.modelValue.slot]])])]),l("div",v1,[l("div",g1,[l("i",{class:"fa fa-chevron-up is-clickable ml-1",onClick:v[3]||(v[3]=w=>t("moveUp"))})]),l("div",y1,[l("i",{class:"fa fa-chevron-down is-clickable ml-1",onClick:v[4]||(v[4]=w=>t("moveDown"))})]),l("div",b1,[l("span",{class:"button is-small",onClick:v[5]||(v[5]=w=>t("remove"))},_1)])])]),l("div",S1,[(g(!0),_(re,null,ye(e.modelValue.items,(w,b)=>(g(),Ee(c1,{key:b,class:Oe(["card mb-1",{"is-default":b===e.modelValue.defaultItemIndex}]),"model-value":w,"is-default":b===e.modelValue.defaultItemIndex,onMoveUp:y=>d(b),onMoveDown:y=>f(b),"onUpdate:modelValue":y=>r(b,y),onRemove:y=>u(b),onMakeDefault:y=>c(b)},null,8,["class","model-value","is-default","onMoveUp","onMoveDown","onUpdate:modelValue","onRemove","onMakeDefault"]))),128))]),l("span",{class:"button is-small",onClick:h},"Add item")]))}}),C1=ce({components:{StringInput:ut,AvatarSlotDefinitionEditor:$1},props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","cancel"],data:()=>({item:null,itemStr:"null",newState:"",newSlotDefinitionName:""}),computed:{cardBody(){return this.$refs.cardBody?this.$refs.cardBody:null},allImagesDiv(){return this.$refs.allImagesDiv?this.$refs.allImagesDiv:null},allImages(){var t;const e=[];return(t=this.item)==null||t.slotDefinitions.forEach(n=>{n.items.forEach(s=>{s.states.forEach(o=>{o.frames.forEach(i=>{i.url&&!e.includes(i.url)&&e.push(i.url)})})})}),e},isStateAddable(){return!(!this.item||this.newState===""||this.item.stateDefinitions.find(({value:e})=>e===this.newState))}},watch:{modelValue:{handler(e){this.item=JSON.parse(this.itemStr)}},item:{handler(e){this.itemStr=JSON.stringify(e)},deep:!0},itemStr:{handler(e){const t=JSON.stringify(this.item);try{const n=JSON.parse(e);t!==n&&(this.item=n)}catch(n){console.warn(n)}}}},mounted(){this.itemStr=JSON.stringify(this.modelValue),this.item=JSON.parse(this.itemStr),this.adjustAllImagesDivSize(),window.addEventListener("resize",this.adjustAllImagesDivSize)},unmounted(){window.removeEventListener("resize",this.adjustAllImagesDivSize)},methods:{autoDetectDimensions(){if(this.allImages.length===0)return;const e=new Image;e.onload=()=>{!this.item||(this.item.width=e.width,this.item.height=e.height)},e.src=this.allImages[0]},adjustAllImagesDivSize(){this.$nextTick(()=>{if(!this.cardBody||!this.allImagesDiv)return;const e=this.cardBody.clientHeight;this.allImagesDiv.style.maxHeight=`${e}px`})},imageDragStart(e){if(!e.dataTransfer)return;const n=e.target.getAttribute("data-src");!n||e.dataTransfer.setData("avatar-image-url",n)},emitUpdate(){if(!this.item){console.warn("emitUpdate: this.item not initialized");return}this.$emit("update:modelValue",Tf({name:this.item.name,width:parseInt(`${this.item.width}`,10),height:parseInt(`${this.item.height}`,10),stateDefinitions:this.item.stateDefinitions,slotDefinitions:this.item.slotDefinitions,state:this.item.state}))},onSaveClick(){this.emitUpdate()},onSaveAndCloseClick(){this.emitUpdate(),this.$emit("cancel")},onCancelClick(){this.$emit("cancel")},onOverlayClick(){this.$emit("cancel")},onCloseClick(){this.$emit("cancel")},addStateDefinition(){if(!this.item){console.warn("addStateDefinition: this.item not initialized");return}const e={value:this.newState,deletable:!0};this.item.stateDefinitions.push(e);for(let t of this.item.slotDefinitions)for(let n of t.items)n.states.push({state:e.value,frames:[]})},removeStateDefinition(e){if(!this.item){console.warn("removeStateDefinition: this.item not initialized");return}const t=[];for(let s in this.item.stateDefinitions)parseInt(s,10)!==parseInt(`${e}`,10)&&t.push(this.item.stateDefinitions[s]);this.item.stateDefinitions=t;const n=t.map(s=>s.value);for(let s of this.item.slotDefinitions)for(let o of s.items)o.states=o.states.filter(i=>n.includes(i.state))},removeSlotDefinition(e){if(!this.item){console.warn("removeSlotDefinition: this.item not initialized");return}const t=[];for(let n in this.item.slotDefinitions)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.item.slotDefinitions[n]);this.item.slotDefinitions=t},updateSlotDefinition(e,t){if(!this.item){console.warn("updateSlotDefinition: this.item not initialized");return}this.item.slotDefinitions[parseInt(`${e}`,10)]=t},addSlotDefinition(){if(!this.item){console.warn("addSlotDefinition: this.item not initialized");return}const e={slot:"Unnamed slot",defaultItemIndex:-1,items:[]};this.item.slotDefinitions.push(e)},moveSlotUp(e){this.swapItems(e-1,e)},moveSlotDown(e){this.swapItems(e+1,e)},swapItems(e,t){if(!this.item){console.warn("swapItems: this.item not initialized");return}Na(this.item.slotDefinitions,e,t)}}}),E1={key:0,class:"avatar-editor modal is-active"},T1={class:"modal-card"},I1={class:"modal-card-head"},D1=l("p",{class:"modal-card-title"}," Edit Avatar ",-1),A1={ref:"cardBody",class:"modal-card-body"},k1={class:"columns"},O1={class:"column is-three-quarters"},V1={class:"table is-striped"},x1=l("td",null,"Name:",-1),P1=l("td",null,"Dimensions:",-1),R1=l("td",null,"States:",-1),M1=["onClick"],U1=l("i",{class:"fa fa-trash"},null,-1),N1=[U1],L1=["disabled"],F1=l("td",null,"Slots",-1),B1={class:"column"},H1=l("div",null,"JSON:",-1),W1=l("div",null,"All images in use:",-1),j1={ref:"allImagesDiv",class:"avatar-all-images"},z1=["src","data-src"],K1={class:"modal-card-foot"};function G1(e,t,n,s,o,i){const a=st("StringInput"),r=st("AvatarSlotDefinitionEditor");return e.item?(g(),_("div",E1,[l("div",{class:"modal-background",onClick:t[0]||(t[0]=(...u)=>e.onOverlayClick&&e.onOverlayClick(...u))}),l("div",T1,[l("header",I1,[D1,l("button",{class:"delete","aria-label":"close",onClick:t[1]||(t[1]=(...u)=>e.onCloseClick&&e.onCloseClick(...u))})]),l("section",A1,[l("div",k1,[l("div",O1,[l("table",V1,[l("tbody",null,[l("tr",null,[x1,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>e.item.name=u),class:"input is-small"},null,512),[[Ve,e.item.name]])])]),l("tr",null,[P1,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>e.item.width=u),class:"input is-small number-input"},null,512),[[Ve,e.item.width]]),R("\u2716"),ve(l("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>e.item.height=u),class:"input is-small number-input"},null,512),[[Ve,e.item.height]]),R(" Pixels "),e.allImages.length?(g(),_("span",{key:0,class:"button is-small",onClick:t[5]||(t[5]=(...u)=>e.autoDetectDimensions&&e.autoDetectDimensions(...u))},"Auto-detect")):Y("",!0)])]),l("tr",null,[R1,l("td",null,[(g(!0),_(re,null,ye(e.item.stateDefinitions,(u,c)=>(g(),_("span",{key:c,class:"tag"},[l("span",null,Q(u.value),1),u.deletable?(g(),_("span",{key:0,class:"ml-1 is-clickable",onClick:h=>e.removeStateDefinition(c)},N1,8,M1)):Y("",!0)]))),128)),U(a,{modelValue:e.newState,"onUpdate:modelValue":t[6]||(t[6]=u=>e.newState=u),placeholder:"State"},null,8,["modelValue"]),l("span",{class:"button is-small",disabled:e.isStateAddable?void 0:!0,onClick:t[7]||(t[7]=(...u)=>e.addStateDefinition&&e.addStateDefinition(...u))},"Add custom state",8,L1)])]),l("tr",null,[F1,l("td",null,[(g(!0),_(re,null,ye(e.item.slotDefinitions,(u,c)=>(g(),Ee(r,{key:c,class:"card mb-2","model-value":u,"avatar-def":e.item,"onUpdate:modelValue":h=>e.updateSlotDefinition(c,h),onMoveUp:h=>e.moveSlotUp(c),onMoveDown:h=>e.moveSlotDown(c),onRemove:h=>e.removeSlotDefinition(c)},null,8,["model-value","avatar-def","onUpdate:modelValue","onMoveUp","onMoveDown","onRemove"]))),128))])])])]),l("span",{class:"button is-small",onClick:t[8]||(t[8]=(...u)=>e.addSlotDefinition&&e.addSlotDefinition(...u))},"Add slot")]),l("div",B1,[H1,ve(l("textarea",{"onUpdate:modelValue":t[9]||(t[9]=u=>e.itemStr=u),class:"textarea mb-2"},null,512),[[Ve,e.itemStr]]),W1,l("div",j1,[(g(!0),_(re,null,ye(e.allImages,(u,c)=>(g(),_("img",{key:c,src:u,draggable:"true",class:"mr-1 mb-1","data-src":u,onDragstart:t[10]||(t[10]=(...h)=>e.imageDragStart&&e.imageDragStart(...h))},null,40,z1))),128))],512)])])],512),l("footer",K1,[l("button",{class:"button is-small is-primary",onClick:t[11]||(t[11]=(...u)=>e.onSaveClick&&e.onSaveClick(...u))}," Save "),l("button",{class:"button is-small is-primary",onClick:t[12]||(t[12]=(...u)=>e.onSaveAndCloseClick&&e.onSaveAndCloseClick(...u))}," Save and close "),l("button",{class:"button is-small",onClick:t[13]||(t[13]=(...u)=>e.onCancelClick&&e.onCancelClick(...u))}," Cancel ")])])])):Y("",!0)}var J1=dt(C1,[["render",G1]]);const Y1=ce({__name:"AvatarPreview",props:{avatar:{type:Object,required:!0},width:{type:Number,required:!1,default:64},height:{type:Number,required:!1,default:64}},setup(e){const t=e,n=pe(()=>t.avatar.slotDefinitions.map(s=>{const o=s.items[s.defaultItemIndex];if(!o)return{state:"",frames:[]};const i=o.states.find(({state:a})=>a==="default");return i||{state:"",frames:[]}}));return(s,o)=>(g(),_("div",{class:"avatar-preview",style:at({width:`${e.width}px`,height:`${e.height}px`})},[(g(!0),_(re,null,ye(J(n),(i,a)=>(g(),Ee(ul,{key:a,frames:i.frames,width:e.width,height:e.height},null,8,["frames","width","height"]))),128))],4))}});const X1={key:0,class:"doubleclick-button-message mr-2 p-1 has-text-danger"},Q1=ce({__name:"DoubleclickButton",props:{message:null,timeout:null},emits:["click","doubleclick"],setup(e,{emit:t}){const n=e,s=x(null),o=x(null),i=pe(()=>o.value===null||s.value===null?{}:{width:`${s.value/n.timeout*100}%`}),a=()=>{o.value===null?(t("click"),s.value=n.timeout,o.value=setInterval(()=>{s.value&&(s.value-=10),(!s.value||s.value<=0)&&(clearInterval(o.value),o.value=null,s.value=null)},10)):(t("doubleclick"),o.value&&(clearInterval(o.value),o.value=null,s.value=null))};return(r,u)=>(g(),_("button",{class:"doubleclick-button",onClick:a},[pr(r.$slots,"default",{},void 0,!0),o.value?(g(),_("span",X1,[R(Q(e.message)+" ",1),l("span",{class:"doubleclick-button-timout-indicator",style:at(J(i))},null,4)])):Y("",!0)]))}});var Ks=dt(Q1,[["__scopeId","data-v-62933d05"]]),Z1="/assets/hyottoko.30d2bcb9.png";const ia=Af();let ao,oi={problems:[]};function q1(){ao=zs.wsClient("core"),ao.onMessage(["status"],e=>{JSON.stringify(oi)!==JSON.stringify(e)&&(oi=e,ia.emit("status",oi))}),ao.connect()}function eb(){ao&&(ao.disconnect(),ao=null)}var Gu={init:q1,stop:eb,eventBus:ia};const Bn=ce({__name:"CheckboxInput",props:{modelValue:null,onValue:{default:!0},offValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue===n.onValue),o=()=>{t("update:modelValue",s.value?n.onValue:n.offValue)};return(i,a)=>ve((g(),_("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),type:"checkbox",onChange:o},null,544)),[[qn,s.value]])}}),tb={class:"modal is-active"},nb={class:"modal-card"},sb=l("header",{class:"modal-card-head"},[l("p",{class:"modal-card-title"}," Problems ")],-1),ob={class:"modal-card-body"},lb={class:"pl-4"},ab={key:0},ib={key:1},rb=ce({__name:"ProblemsDialog",props:{problems:null},emits:["close"],setup(e,{emit:t}){const n=()=>{t("close")};return(s,o)=>{const i=st("router-link");return g(),_("div",tb,[l("div",{class:"modal-background",onClick:n}),l("div",nb,[sb,l("section",ob,[l("ol",lb,[(g(!0),_(re,null,ye(e.problems,(a,r)=>(g(),_("li",{key:r},[a.message==="access_token_invalid"?(g(),_("div",ab,[R(" The Access Token for channel "),l("b",null,Q(a.details.channel_name),1),R(" is invalid. Please go to "),U(i,{to:{name:"settings"}},{default:St(()=>[R(" Settings ")]),_:1}),R(" and update the token. ")])):(g(),_("div",ib,Q(a),1))]))),128))])]),l("footer",{class:"modal-card-foot"},[l("button",{class:"button is-small",onClick:n}," Close ")])])])}}}),ub={class:"navbar",role:"navigation","aria-label":"main navigation"},cb={class:"navbar-brand"},db=l("img",{src:Z1,width:"32",height:"32",alt:"hyottoko.club",class:"flip-horizontal mr-1"},null,-1),fb={class:"greeting"},hb=l("span",{"aria-hidden":"true"},null,-1),mb=l("span",{"aria-hidden":"true"},null,-1),pb=l("span",{"aria-hidden":"true"},null,-1),vb=[hb,mb,pb],gb={class:"navbar-start"},yb={class:"navbar-end"},bb=l("i",{class:"fa fa-warning mr-1"},null,-1),wb={class:"navbar-item"},_b=l("label",{for:"darkmode-switch"},"Switch dark/light mode",-1),ns=ce({__name:"NavbarElement",setup(e){const t=[{to:{name:"index"},text:"Widgets"},{to:{name:"commands"},text:"Commands"},{to:{name:"variables"},text:"Variables"},{to:{name:"sr"},text:"Song Request"},{to:{name:"speech-to-text"},text:"Speech-To-Text"},{to:{name:"avatar"},text:"Avatar"},{to:{name:"drawcast"},text:"Drawcast"},{to:{name:"pomo"},text:"Pomo"},{to:{name:"settings"},text:"Settings"}],n=x(Cn.getMe()),s=x(!1),o=x([]),i=x(!1),a=x(Cn.isDarkmode()),r=pe(()=>{var m,p;return((p=(m=n.value)==null?void 0:m.user)==null?void 0:p.name)||""}),u=()=>{Cn.setDarkmode(a.value)},c=m=>{o.value=m.problems},h=()=>{i.value=!i.value},d=Cr(),f=async()=>{const m=await Cn.logout();if(m.error)throw new Error(m.error);d.push({name:"login"})};return ot(()=>{ia.on("status",c)}),Ct(()=>{ia.off("status",c)}),(m,p)=>{const v=st("router-link");return g(),_(re,null,[l("nav",ub,[l("div",cb,[U(v,{class:"navbar-item",to:{name:"index"}},{default:St(()=>[db,l("span",fb,"Welcome back, "+Q(J(r)),1)]),_:1}),l("a",{role:"button",class:Oe(["navbar-burger",{"is-active":i.value}]),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",onClick:h},vb,2)]),l("div",{id:"navbarBasicExample",class:Oe(["navbar-menu",{"is-active":i.value}])},[l("div",gb,[(g(),_(re,null,ye(t,(w,b)=>U(v,{key:b,class:"navbar-item",to:w.to},{default:St(()=>[R(Q(w.text),1)]),_:2},1032,["to"])),64))]),l("div",yb,[o.value.length?(g(),_("a",{key:0,class:"navbar-item has-text-danger",onClick:p[0]||(p[0]=w=>s.value=!0)},[bb,R(" "+Q(o.value.length)+" Problem"+Q(o.value.length>1?"s":""),1)])):Y("",!0),l("span",wb,[U(Bn,{id:"darkmode-switch",modelValue:a.value,"onUpdate:modelValue":[p[1]||(p[1]=w=>a.value=w),u],class:"mr-1"},null,8,["modelValue"]),_b]),l("a",{class:"navbar-item",onClick:f},"Logout")])],2)]),s.value?(g(),Ee(rb,{key:0,problems:o.value,onClose:p[2]||(p[2]=w=>s.value=!1)},null,8,["problems"])):Y("",!0)],64)}}}),Sb={name:"Hyottoko-Chan",width:400,height:400,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1},{value:"brb",deletable:!0}],slotDefinitions:[{slot:"Base",defaultItemIndex:0,items:[{title:"Default Clothing",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bVyo1l-BASE.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/JFvasz-2022-01-30T01_30_40.133Z-xUI5QQ.png",duration:100}]}]},{title:"Neko Maid",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/CnWpBL-BASE 2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"https://hyottoko.club/uploads/xV8vXJ-brb2.png",duration:100}]}]}]},{slot:"Mouth",defaultItemIndex:0,items:[{title:"Confused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/GkDE45-mouth-confused-open.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/snKSAf-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Mild Smile",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/TTeOCx-mouth-mild-smile.png",duration:100}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/gjs4vW-mouth-open.png",duration:100}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/bbpNaD-mouth-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Eyes",defaultItemIndex:1,items:[{title:"Calm",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/NO7zrl-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/nmUEqi-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/9eidC9-l2idid-eyes-calm.png",duration:4500},{url:"https://hyottoko.club/uploads/pw1HJw-nmUEqi-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Interested",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/2wlpCr-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/DwiBor-eyes-closed.png",duration:150}]},{state:"speaking",frames:[{url:"https://hyottoko.club/uploads/5fP25n-eyes-interested.png",duration:4500},{url:"https://hyottoko.club/uploads/PYiAtV-eyes-closed.png",duration:150}]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Focused",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/LQkiXq-eyes-down-focused.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]},{slot:"Hands + Table",defaultItemIndex:0,items:[{title:"Empty",states:[{state:"default",frames:[{url:"",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[]}]},{title:"Mouse Study",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/YJnPbG-mouse-study.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Tablet",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/MNHy2s-tablet-osu.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Knitting",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/pn9ZlM-knitting-hands2.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]},{title:"Hands Cross Stitch",states:[{state:"default",frames:[{url:"https://hyottoko.club/uploads/XZRYyh-crossstitch-hands.png",duration:100}]},{state:"speaking",frames:[]},{state:"brb",frames:[{url:"",duration:100}]}]}]}],state:{slots:{Mouth:1,Eyes:1,Base:1,"Hands + Table":1},lockedState:"default"}};const $b={class:"view"},Cb={id:"top",ref:"top"},Eb={id:"actionbar",class:"p-1"},Tb=["href"],Ib=["href"],Db={key:0,id:"main",ref:"main"},Ab={class:"tabs"},kb=["onClick"],Ob={key:0,class:"table is-striped"},Vb=l("tr",null,[l("td",{colspan:"3"}," General ")],-1),xb=l("td",null,[l("code",null,"settings.style.bgColor")],-1),Pb=["disabled"],Rb=l("td",null,[l("code",null,"settings.style.bgColorEnabled")],-1),Mb={key:1},Ub={class:"table is-striped"},Nb=l("thead",null,[l("tr",null,[l("th"),l("th"),l("th",null,"Preview"),l("th",null,"Name"),l("th",null,"Actions")])],-1),Lb=l("td",{class:"pt-4 handle"},[l("i",{class:"fa fa-arrows"})],-1),Fb={class:"pl-0 pr-0"},Bb=["onClick"],Hb=l("i",{class:"fa fa-pencil"},null,-1),Wb=[Hb],jb={class:"pl-0 pr-0"},zb=l("i",{class:"fa fa-trash"},null,-1),Kb=["onClick"],Gb=l("i",{class:"fa fa-clone"},null,-1),Jb=[Gb],Yb=["href"],Xb=l("i",{class:"fa fa-external-link mr-1"},null,-1),Qb=["href"],Zb=l("i",{class:"fa fa-external-link mr-1"},null,-1),qb=ce({__name:"AvatarView",setup(e){const t=Fn("AvatarView.vue"),n=[{tab:"avatars",title:"Avatars"},{tab:"settings",title:"Settings"}];let s=null;const o=x(-1),i=x(null),a=x(Fi()),r=x(Fi()),u=x(!1),c=x("avatars"),h=x(""),d=x(""),f=I=>{o.value=I,i.value=a.value.avatarDefinitions[I]},m=I=>{a.value.avatarDefinitions=a.value.avatarDefinitions.filter((C,V)=>V!==I),y()},p=I=>{o.value=a.value.avatarDefinitions.length,i.value=JSON.parse(JSON.stringify(a.value.avatarDefinitions[I]))},v=I=>{a.value.avatarDefinitions[o.value]=I,y()},w=()=>{const I={name:"Unnamed Avatar",width:64,height:64,stateDefinitions:[{value:"default",deletable:!1},{value:"speaking",deletable:!1}],slotDefinitions:[],state:{slots:{},lockedState:"default"}};o.value=a.value.avatarDefinitions.length,i.value=I},b=()=>{const I=JSON.parse(JSON.stringify(Sb));o.value=a.value.avatarDefinitions.length,i.value=I},y=()=>{S({event:"save",settings:a.value})},S=I=>{if(!s){t.warn("sendMsg: ws not initialized");return}s.send(JSON.stringify(I))},$=I=>{a.value.avatarDefinitions=Qt.arrayMove(a.value.avatarDefinitions,I.oldIndex,I.newIndex),y()};return ot(()=>{s=zs.wsClient("avatar"),s.onMessage("init",I=>{a.value=I.settings,h.value=I.controlWidgetUrl,d.value=I.displayWidgetUrl,u.value=!0}),s.connect()}),Ct(()=>{s&&s.disconnect()}),(I,C)=>{const V=st("vue-draggable");return g(),_("div",$b,[l("div",Cb,[U(ns),l("div",Eb,[l("a",{class:"button is-small mr-1",href:h.value,target:"_blank"},"Open control widget",8,Tb),l("a",{class:"button is-small mr-1",href:d.value,target:"_blank"},"Open display widget",8,Ib)])],512),u.value?(g(),_("div",Db,[l("div",Ab,[l("ul",null,[(g(),_(re,null,ye(n,(A,O)=>l("li",{key:O,class:Oe({"is-active":c.value===A.tab}),onClick:B=>c.value=A.tab},[l("a",null,Q(A.title),1)],10,kb)),64))])]),c.value==="settings"?(g(),_("table",Ob,[l("tbody",null,[Vb,l("tr",null,[xb,l("td",null,[ve(l("input",{"onUpdate:modelValue":C[0]||(C[0]=A=>a.value.styles.bgColor=A),class:"input is-small",type:"color","on:update:modelValue":y},null,544),[[Ve,a.value.styles.bgColor]])]),l("td",null,[l("button",{class:"button is-small",disabled:a.value.styles.bgColor===r.value.styles.bgColor,onClick:C[1]||(C[1]=A=>a.value.styles.bgColor=r.value.styles.bgColor)}," Reset to default ",8,Pb)])]),l("tr",null,[Rb,l("td",null,[U(Bn,{modelValue:a.value.styles.bgColorEnabled,"onUpdate:modelValue":[C[2]||(C[2]=A=>a.value.styles.bgColorEnabled=A),y]},null,8,["modelValue"])])])])])):Y("",!0),c.value==="avatars"?(g(),_("div",Mb,[l("table",Ub,[Nb,U(V,{"model-value":a.value.avatarDefinitions,tag:"tbody",handle:".handle","item-key":"id",onEnd:$},{item:St(({element:A,index:O})=>[l("tr",null,[Lb,l("td",Fb,[l("button",{class:"button is-small",onClick:B=>f(O)},Wb,8,Bb)]),l("td",null,[U(Y1,{avatar:A},null,8,["avatar"])]),l("td",null,Q(A.name),1),l("td",jb,[U(Ks,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:B=>m(O)},{default:St(()=>[zb]),_:2},1032,["onDoubleclick"]),l("button",{class:"button is-small mr-1",onClick:B=>p(O)},Jb,8,Kb),l("a",{class:"button is-small mr-1",href:h.value+"?avatar="+A.name,target:"_blank"},[Xb,R(" Control widget")],8,Yb),l("a",{class:"button is-small",href:d.value+"?avatar="+A.name,target:"_blank"},[Zb,R(" Display widget")],8,Qb)])])]),_:1},8,["model-value"])]),i.value?(g(),Ee(J1,{key:0,"model-value":i.value,"onUpdate:modelValue":v,onCancel:C[3]||(C[3]=A=>i.value=null)},null,8,["model-value"])):Y("",!0),l("span",{class:"button is-small mr-1",onClick:w},"Add new avatar"),l("span",{class:"button is-small",onClick:b},"Add example avatar (Hyottoko-Chan)")])):Y("",!0)],512)):Y("",!0)])}}}),Or=()=>({volume:100}),e0=()=>({showImages:!0,autocommands:[]});var Mt=(e=>(e.BALLOON="balloon",e.BOUNCY="bouncy",e.EXPLODE="explode",e.FLOATING_SPACE="floatingSpace",e.FOUNTAIN="fountain",e.RAIN="rain",e.RANDOM_BEZIER="randomBezier",e))(Mt||{}),Gt=(e=>(e.COMMAND="command",e.REWARD_REDEMPTION="reward_redemption",e.FOLLOW="follow",e.SUB="sub",e.BITS="bits",e.RAID="raid",e.TIMER="timer",e.FIRST_CHAT="first_chat",e))(Gt||{}),_e=(e=>(e.VARIABLE_CHANGE="variable_change",e.CHAT="chat",e.DICT_LOOKUP="dict_lookup",e.EMOTES="emotes",e.MEDIA="media",e.MADOCHAN="madochan",e.SET_CHANNEL_TITLE="set_channel_title",e.SET_CHANNEL_GAME_ID="set_channel_game_id",e.ADD_STREAM_TAGS="add_stream_tags",e.REMOVE_STREAM_TAGS="remove_stream_tags",e.CHATTERS="chatters",e.COUNTDOWN="countdown",e.MEDIA_VOLUME="media_volume",e))(_e||{}),Pe=(e=>(e.TEXT="text",e.SR_CURRENT="sr_current",e.SR_UNDO="sr_undo",e.SR_GOOD="sr_good",e.SR_BAD="sr_bad",e.SR_STATS="sr_stats",e.SR_PREV="sr_prev",e.SR_NEXT="sr_next",e.SR_JUMPTONEW="sr_jumptonew",e.SR_CLEAR="sr_clear",e.SR_RM="sr_rm",e.SR_SHUFFLE="sr_shuffle",e.SR_RESET_STATS="sr_reset_stats",e.SR_LOOP="sr_loop",e.SR_NOLOOP="sr_noloop",e.SR_PAUSE="sr_pause",e.SR_UNPAUSE="sr_unpause",e.SR_HIDEVIDEO="sr_hidevideo",e.SR_SHOWVIDEO="sr_showvideo",e.SR_REQUEST="sr_request",e.SR_RE_REQUEST="sr_re_request",e.SR_ADDTAG="sr_addtag",e.SR_RMTAG="sr_rmtag",e.SR_VOLUME="sr_volume",e.SR_FILTER="sr_filter",e.SR_PRESET="sr_preset",e.SR_QUEUE="sr_queue",e))(Pe||{}),Ba=(e=>(e.TEXT="text",e.MEDIA="media",e.DELAY="delay",e))(Ba||{});const It=["mod","broadcaster"],Vf=[{value:"broadcaster",label:"Broadcaster"},{value:"mod",label:"Moderators"},{value:"sub",label:"Subscribers"},{value:"regular",label:"Regular Users"}],t0=e=>{if(e.length===0)return"Everyone";const t=[];return Vf.forEach(n=>{e.includes(n.value)&&t.push(n.label)}),t.join(", ")},xf=()=>"",n0=(e=null)=>({filename:ue(e,["filename"],""),file:ue(e,["file"],""),urlpath:ue(e,["urlpath"],""),volume:ue(e,["volume"],100)}),s0=(e=null)=>({filename:ue(e,["filename"],""),file:ue(e,["file"],""),urlpath:ue(e,["urlpath"],"")}),o0=(e=null)=>({url:ue(e,["url"],""),volume:ue(e,["volume"],100)}),po=(e=null)=>({widgetIds:ue(e,["widgetIds"],[]),sound:n0(e==null?void 0:e.sound),image:s0(e==null?void 0:e.image),image_url:ue(e,["image_url"],""),video:o0(e==null?void 0:e.video),minDurationMs:ue(e,["minDurationMs"],"1s")}),l0=()=>({type:Ba.DELAY,value:"1s"}),a0=()=>({type:Ba.TEXT,value:xf()}),i0=()=>({type:Ba.MEDIA,value:po()}),Pf=e=>({type:e,data:{command:"",commandExact:!1,minInterval:0,minLines:0,since:"stream"}}),r0=()=>new Date().toJSON(),u0=()=>Ir(10),nt=(e="",t=!1)=>{const n=Pf(Gt.COMMAND);return n.data.command=e,n.data.commandExact=t,n},c0=e=>{if(e.type===Gt.COMMAND)return!!e.data.command;if(e.type===Gt.TIMER){try{Dr(e.data.minInterval)}catch{return!1}const t=parseInt(`${e.data.minLines}`,10);return!isNaN(t)}return!0},rt=e=>{if(typeof e.action=="undefined")throw new Error("action required");return{id:typeof e.id!="undefined"?e.id:u0(),createdAt:typeof e.createdAt!="undefined"?e.createdAt:r0(),action:e.action,triggers:typeof e.triggers!="undefined"?e.triggers:[],effects:typeof e.effects!="undefined"?e.effects:[],variables:typeof e.variables!="undefined"?e.variables:[],data:typeof e.data!="undefined"?e.data:{},cooldown:typeof e.cooldown!="undefined"?e.cooldown:{global:"0",perUser:"0"},restrict_to:typeof e.restrict_to!="undefined"?e.restrict_to:[],disallow_users:typeof e.disallow_users!="undefined"?e.disallow_users:[],allow_users:typeof e.allow_users!="undefined"?e.allow_users:[]}},Ko={text:{Name:()=>"command",Description:()=>"",NewCommand:()=>rt({triggers:[nt()],action:Pe.TEXT})},sr_current:{Name:()=>"sr_current",Description:()=>"Show what song is currently playing",NewCommand:()=>rt({action:Pe.SR_CURRENT,triggers:[nt("!sr current",!0)]})},sr_undo:{Name:()=>"sr_undo",Description:()=>"Remove the song that was last added by oneself.",NewCommand:()=>rt({action:Pe.SR_UNDO,triggers:[nt("!sr undo",!0)]})},sr_good:{Name:()=>"sr_good",Description:()=>"Vote the current song up",NewCommand:()=>rt({action:Pe.SR_GOOD,triggers:[nt("!sr good",!0)]})},sr_bad:{Name:()=>"sr_bad",Description:()=>"Vote the current song down",NewCommand:()=>rt({action:Pe.SR_BAD,triggers:[nt("!sr bad",!0)]})},sr_stats:{Name:()=>"sr_stats",Description:()=>"Show stats about the playlist",NewCommand:()=>rt({action:Pe.SR_STATS,triggers:[nt("!sr stats",!0),nt("!sr stat",!0)]})},sr_prev:{Name:()=>"sr_prev",Description:()=>"Skip to the previous song",NewCommand:()=>rt({action:Pe.SR_PREV,triggers:[nt("!sr prev",!0)],restrict_to:It})},sr_next:{Name:()=>"sr_next",Description:()=>"Skip to the next song",NewCommand:()=>rt({action:Pe.SR_NEXT,triggers:[nt("!sr next",!0),nt("!sr skip",!0)],restrict_to:It})},sr_jumptonew:{Name:()=>"sr_jumptonew",Description:()=>"Jump to the next unplayed song",NewCommand:()=>rt({action:Pe.SR_JUMPTONEW,triggers:[nt("!sr jumptonew",!0)],restrict_to:It})},sr_clear:{Name:()=>"sr_clear",Description:()=>"Clear the playlist",NewCommand:()=>rt({action:Pe.SR_CLEAR,triggers:[nt("!sr clear",!0)],restrict_to:It})},sr_rm:{Name:()=>"sr_rm",Description:()=>"Remove the current song from the playlist",NewCommand:()=>rt({action:Pe.SR_RM,triggers:[nt("!sr rm",!0)],restrict_to:It})},sr_shuffle:{Name:()=>"sr_shuffle",Description:()=>`Shuffle the playlist (current song unaffected).
    <br />
    Non-played and played songs will be shuffled separately and non-played
    songs will be put after currently playing song.`,NewCommand:()=>rt({action:Pe.SR_SHUFFLE,triggers:[nt("!sr shuffle",!0)],restrict_to:It})},sr_reset_stats:{Name:()=>"sr_reset_stats",Description:()=>"Reset all statistics of all songs",NewCommand:()=>rt({action:Pe.SR_RESET_STATS,triggers:[nt("!sr resetStats",!0)],restrict_to:It})},sr_loop:{Name:()=>"sr_loop",Description:()=>"Loop the current song",NewCommand:()=>rt({action:Pe.SR_LOOP,triggers:[nt("!sr loop",!0)],restrict_to:It})},sr_noloop:{Name:()=>"sr_noloop",Description:()=>"Stop looping the current song",NewCommand:()=>rt({action:Pe.SR_NOLOOP,triggers:[nt("!sr noloop",!0),nt("!sr unloop",!0)],restrict_to:It})},sr_pause:{Name:()=>"sr_pause",Description:()=>"Pause currently playing song",NewCommand:()=>rt({action:Pe.SR_PAUSE,triggers:[nt("!sr pause",!0)],restrict_to:It})},sr_unpause:{Name:()=>"sr_unpause",Description:()=>"Unpause currently paused song",NewCommand:()=>rt({action:Pe.SR_UNPAUSE,triggers:[nt("!sr nopause",!0),nt("!sr unpause",!0)],restrict_to:It})},sr_hidevideo:{Name:()=>"sr_hidevideo",Description:()=>"Hide video for current song",NewCommand:()=>rt({action:Pe.SR_HIDEVIDEO,triggers:[nt("!sr hidevideo",!0)],restrict_to:It})},sr_showvideo:{Name:()=>"sr_showvideo",Description:()=>"Show video for current song",NewCommand:()=>rt({action:Pe.SR_SHOWVIDEO,triggers:[nt("!sr showvideo",!0)],restrict_to:It})},sr_request:{Name:()=>"sr_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    at youtube (by id or by title)
    and queue the first result in the playlist (after the first found
    batch of unplayed songs).`,NewCommand:()=>rt({action:Pe.SR_REQUEST,triggers:[nt("!sr")]})},sr_re_request:{Name:()=>"sr_re_request",Description:()=>`
    Search for <code>&lt;SEARCH&gt;</code> (argument to this command)
    in the current playlist and queue the first result in the playlist
    (after the first found batch of unplayed songs).`,NewCommand:()=>rt({action:Pe.SR_RE_REQUEST,triggers:[nt("!resr")]})},sr_addtag:{Name:()=>"sr_addtag",Description:()=>"Add tag <code>&lt;TAG&gt;</code> (argument to this command) to the current song",NewCommand:()=>rt({action:Pe.SR_ADDTAG,triggers:[nt("!sr tag"),nt("!sr addtag")],restrict_to:It,data:{tag:""}})},sr_rmtag:{Name:()=>"sr_rmtag",Description:()=>"Remove tag <code>&lt;TAG&gt;</code> (argument to this command) from the current song",NewCommand:()=>rt({action:Pe.SR_RMTAG,triggers:[nt("!sr rmtag")],restrict_to:It})},sr_volume:{Name:()=>"sr_volume",Description:()=>`Sets the song request volume to <code>&lt;VOLUME&gt;</code> (argument to this command, min 0, max 100).
    <br />
    If no argument is given, just outputs the current volume`,NewCommand:()=>rt({action:Pe.SR_VOLUME,triggers:[nt("!sr volume")],restrict_to:It})},sr_filter:{Name:()=>"sr_filter",Description:()=>`Play only songs with the given tag <code>&lt;TAG&gt;</code> (argument to this command). If no tag
  is given, play all songs.`,NewCommand:()=>rt({action:Pe.SR_FILTER,triggers:[nt("!sr filter")],restrict_to:It})},sr_preset:{Name:()=>"sr_preset",Description:()=>`Switches to the preset <code>&lt;PRESET&gt;</code> (argument to this command) if it exists.
  If no arguments are given, outputs all available presets.`,NewCommand:()=>rt({action:Pe.SR_PRESET,triggers:[nt("!sr preset")],restrict_to:It})},sr_queue:{Name:()=>"sr_queue",Description:()=>"Shows the next 3 songs that will play.",NewCommand:()=>rt({action:Pe.SR_QUEUE,triggers:[nt("!sr queue")]})}},d0=()=>[{type:_e.CHAT,label:"Add chat",title:"chat"},{type:_e.MEDIA,label:"Add media",title:"media"},{type:_e.MEDIA_VOLUME,label:"Add media volume",title:"media_volume"},{type:_e.EMOTES,label:"Add emotes",title:"emotes"},{type:_e.SET_CHANNEL_TITLE,label:"Add set_channel_title",title:"set_channel_title"},{type:_e.SET_CHANNEL_GAME_ID,label:"Add set_channel_game_id",title:"set_channel_game_id"},{type:_e.CHATTERS,label:"Add chatters",title:"chatters"},{type:_e.DICT_LOOKUP,label:"Add dict_lookup",title:"dict_lookup"},{type:_e.ADD_STREAM_TAGS,label:"Add add_stream_tags",title:"add_stream_tags"},{type:_e.REMOVE_STREAM_TAGS,label:"Add remove_stream_tags",title:"remove_stream_tags"},{type:_e.MADOCHAN,label:"Add madochan",title:"madochan"},{type:_e.COUNTDOWN,label:"Add countdown",title:"countdown"},{type:_e.VARIABLE_CHANGE,label:"Add variable_change",title:"variable_change"}],f0=e=>{switch(e){case _e.VARIABLE_CHANGE:return{name:"",change:"set",value:""};case _e.CHAT:return{text:[""]};case _e.DICT_LOOKUP:return{lang:"ja",phrase:""};case _e.EMOTES:return{displayFn:[],emotes:[]};case _e.MEDIA:return po();case _e.MADOCHAN:return{model:"100epochs800lenhashingbidirectional.h5",weirdness:"1"};case _e.SET_CHANNEL_TITLE:return{title:""};case _e.SET_CHANNEL_GAME_ID:return{game_id:""};case _e.ADD_STREAM_TAGS:return{tag:""};case _e.REMOVE_STREAM_TAGS:return{tag:""};case _e.CHATTERS:return{};case _e.COUNTDOWN:return{type:"auto",step:"",steps:"3",interval:"1s",intro:"Starting countdown...",outro:"Done!",actions:[]};default:return{}}},h0=e=>({type:e,data:f0(e)}),m0=()=>[{type:Gt.COMMAND,label:"Add Command",title:"Command"},{type:Gt.FIRST_CHAT,label:"Add First Chat",title:"First Chat"},{type:Gt.REWARD_REDEMPTION,label:"Add Reward Redemption",title:"Reward Redemption"},{type:Gt.BITS,label:"Add Bits",title:"Bits"},{type:Gt.FOLLOW,label:"Add Follow",title:"Follow"},{type:Gt.RAID,label:"Add Raid",title:"Raid"},{type:Gt.SUB,label:"Add Sub",title:"Sub"},{type:Gt.TIMER,label:"Add Timer",title:"Timer"}];const p0=e=>(mn("data-v-59e39ba2"),e=e(),pn(),e),v0={class:"dropdown-trigger"},g0=p0(()=>l("span",{class:"icon is-small"},[l("i",{class:"fa fa-angle-down","aria-hidden":"true"})],-1)),y0={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},b0={class:"dropdown-content"},w0=["title","onClick"],_0=ce({__name:"DropdownButton",props:{label:null,actions:null},emits:["click"],setup(e,{emit:t}){const n=x(!1),s=x(),o=()=>{n.value=!0},i=()=>{n.value=!1},a=u=>{i(),t("click",u)},r=u=>{!s.value||s.value.contains(u.target)||i()};return ot(()=>{window.addEventListener("click",r)}),Ct(()=>{window.removeEventListener("click",r)}),(u,c)=>(g(),_("div",{ref_key:"dropdown",ref:s,class:Oe(["dropdown mr-1",{"is-active":n.value}])},[l("div",v0,[l("button",{class:"button is-small mr-1","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:o},[l("span",null,Q(e.label),1),g0])]),l("div",y0,[l("div",b0,[(g(!0),_(re,null,ye(e.actions,(h,d)=>(g(),_("span",{key:d,class:"dropdown-item is-clickable",title:h.title,onClick:f=>a(h)},Q(h.label),9,w0))),128))])])],2))}});var Bi=dt(_0,[["__scopeId","data-v-59e39ba2"]]);const Dn=ce({__name:"DurationInput",props:{modelValue:{required:!0},allowNegative:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(""),o=x(!0),i=pe(()=>o.value?[]:["has-background-danger-light","has-text-danger-dark"]);return ot(()=>{s.value=`${n.modelValue}`,Ge(s,a=>{try{const r=Qt.doDummyReplacements(a,"0");Qt.mustParseHumanDuration(r,n.allowNegative),o.value=!0}catch{o.value=!1}t("update:modelValue",a)}),Ge(()=>n.modelValue,a=>{s.value=`${a}`})}),(a,r)=>ve((g(),_("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>s.value=u),class:Oe(["input is-small spaceinput",J(i)])},null,2)),[[Ve,s.value]])}}),S0={class:"dropdown-trigger"},$0={key:0,class:"icon is-small is-left"},C0={id:"dropdown-menu",class:"dropdown-menu",role:"menu"},E0={class:"dropdown-content"},T0=["onClick","innerHTML"],Rf=ce({__name:"DropdownInput",props:{modelValue:{type:String,required:!0},values:{type:Array,required:!0},icon:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue),o=d=>n.values.filter(f=>f.value.includes(d)),i=x(!1),a=x(),r=d=>{s.value=d.value,c()},u=()=>{i.value=!0},c=()=>{i.value=!1},h=d=>{!a.value||a.value.contains(d.target)||c()};return ot(()=>{window.addEventListener("click",h),Ge(s,d=>{t("update:modelValue",d)}),Ge(()=>n.modelValue,d=>{s.value=d})}),Ct(()=>{window.removeEventListener("click",h)}),(d,f)=>(g(),_("div",{ref_key:"dropdown",ref:a,class:Oe(["dropdown",{"is-active":i.value}])},[l("div",S0,[ve(l("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>s.value=m),type:"text",class:Oe(["input is-small",d.$attrs.class]),onFocus:u},null,34),[[Ve,s.value]]),e.icon?(g(),_("span",$0,[l("i",{class:Oe(["fa",[`fa-${e.icon}`]])},null,2)])):Y("",!0)]),l("div",C0,[l("div",E0,[(g(!0),_(re,null,ye(o(s.value),(m,p)=>(g(),_("a",{key:p,class:"dropdown-item",onClick:v=>r(m),innerHTML:m.label},null,8,T0))),128))])])],2))}}),I0=l("tr",null,[l("td",null," Name: "),l("td",null," Change: "),l("td",null," Value: ")],-1),D0={class:"select is-small"},A0=l("option",{value:"set"}," set ",-1),k0=l("option",{value:"increase_by"}," increase by ",-1),O0=l("option",{value:"decrease_by"}," decrease by ",-1),V0=[A0,k0,O0],x0=ce({__name:"VariableChangeEffect",props:{modelValue:null,itemVariables:null,globalVariables:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue),o=()=>{const i=n.itemVariables.slice().map(a=>({var:a,type:"local"}));return n.globalVariables.forEach(a=>{i.find(r=>r.var.name===a.name)||i.push({var:a,type:"global"})}),i};return Ge(s,i=>{t("update:modelValue",i)},{deep:!0}),(i,a)=>(g(),_("div",null,[l("table",null,[I0,l("tr",null,[l("td",null,[U(Rf,{modelValue:s.value.data.name,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.data.name=r),values:o().map(r=>({value:r.var.name,label:`${r.var.name} (${r.type}), <code>${r.var.value}</code>`}))},null,8,["modelValue","values"])]),l("td",null,[l("div",D0,[ve(l("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>s.value.data.change=r)},V0,512),[[bl,s.value.data.change]])])]),l("td",null,[U(ut,{modelValue:s.value.data.value,"onUpdate:modelValue":a[2]||(a[2]=r=>s.value.data.value=r)},null,8,["modelValue"])])])])]))}}),P0={class:"macro-select"},R0={key:0,class:"table-holder"},M0=["title"],U0=["onClick"],Hs=ce({__name:"MacroSelect",emits:["selected"],setup(e,{emit:t}){const n=[{value:"$args",title:"All arguments, joined with spaces"},{value:"$args(0)",title:"First argument"},{value:"$args(1:)",title:"Arguments starting from the second one, joined with spaces"},{value:"$args(1:4)",title:"Second to fifth arguments, joined with spaces"},{value:"$args(:4)",title:"All arguments up to and including the fifth, joined with spaces"},{value:"$var(VARNAME)",title:"Value of variable VARNAME"},{value:"$bot.version",title:"Bot version"},{value:"$bot.date",title:"Bot build date"},{value:"$bot.website",title:"Bot website"},{value:"$bot.github",title:"Bot github link"},{value:"$bot.features",title:"Bot feature description"},{value:"$rand(1,100)",title:"Random number between (inclusive) 1 and 100"},{value:'$daysuntil("2023-12-24")',title:"Days until a specified date in the format YYYY-MM-DD."},{value:'$daysuntil("2023-12-24", "{days} days left", "One day left", "It is today")',title:"Days until a specified date in the format YYYY-MM-DD, with more control over output."},{value:"$user.name",title:"Name of user who executed the command"},{value:"$user.profile_image_url",title:"Profile image url of user who executed the command"},{value:"$user.username",title:"Username of user who executed the command"},{value:"$user.twitch_url",title:"Twitch url of user who executed the command"},{value:"$user.recent_clip_url",title:"Recent clip url of user who executed the command"},{value:"$user.last_stream_category",title:"Last stream category of user who executed the command"},{value:"$user(NAME).name",title:"Name of user identified by username NAME"},{value:"$user(NAME).username",title:"Username of user identified by username NAME"},{value:"$user(NAME).twitch_url",title:"Twitch url of user identified by username NAME"},{value:"$user(NAME).profile_image_url",title:"Profile image url of user identified by username NAME"},{value:"$user(NAME).recent_clip_url",title:"Recent clip url of user identified by username NAME"},{value:"$user(NAME).last_stream_category",title:"Last stream category of user identified by username NAME"},{value:"$customapi(URL)",title:"Text response of a GET request to URL."},{value:"$customapi(URL)['FIELD']",title:"Field FIELD of a json returned from GET request to URL."},{value:"$calc(NUM_1+NUM_2)",title:"The result of addition of NUM_1 and NUM_2"},{value:"$calc(NUM_1-NUM_2)",title:"The result of substraction of NUM_1 and NUM_2"},{value:"$calc(NUM_1*NUM_2)",title:"The result of multiplication of NUM_1 and NUM_2"},{value:"$calc(NUM_1/NUM_2)",title:"The result of division of NUM_1 and NUM_2"}],s=x(!1);return(o,i)=>(g(),_("div",P0,[l("a",{onClick:i[0]||(i[0]=a=>s.value=!s.value)},"Select macro"),s.value?(g(),_("div",R0,[l("table",null,[(g(),_(re,null,ye(n,(a,r)=>l("tr",{key:r},[l("td",{title:a.title},[l("code",{class:"is-clickable",onClick:u=>t("selected",a)},Q(a.value),9,U0)],8,M0),l("td",null,Q(a.title),1)])),64))])])):Y("",!0)]))}});const Vr=e=>(mn("data-v-d9d8d450"),e=e(),pn(),e),N0=["onUpdate:modelValue"],L0=["disabled","onClick"],F0=Vr(()=>l("i",{class:"fa fa-remove"},null,-1)),B0=[F0],H0=Vr(()=>l("i",{class:"fa fa-plus mr-1"},null,-1)),W0=Vr(()=>l("div",null,[l("p",{class:"help"}," If multiple responses exist, a random one will be used when the command is triggered. ")],-1)),j0=ce({__name:"ChatEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue),o=()=>{s.value.data.text.push(xf())},i=a=>{s.value.data.text=s.value.data.text.filter((r,u)=>u!==a)};return Ge(s,a=>{t("update:modelValue",a)},{deep:!0}),(a,r)=>(g(),_("div",null,[(g(!0),_(re,null,ye(s.value.data.text,(u,c)=>(g(),_("div",{key:c,class:"field textarea-holder"},[ve(l("textarea",{"onUpdate:modelValue":h=>s.value.data.text[c]=h,class:Oe(["textarea",{"has-background-danger-light":!s.value.data.text[c],"has-text-danger-dark":!s.value.data.text[c]}])},null,10,N0),[[Ve,s.value.data.text[c]]]),l("div",null,[U(Hs,{class:"help",onSelected:h=>s.value.data.text[c]+=h.value},null,8,["onSelected"])]),l("button",{class:"button is-small",disabled:s.value.data.text.length<=1,onClick:h=>i(c)},B0,8,L0)]))),128)),l("div",{class:"field"},[l("button",{class:"button is-small",onClick:o},[H0,R(" Add response ")])]),W0]))}});var z0=dt(j0,[["__scopeId","data-v-d9d8d450"]]);const K0=l("td",null," Language: ",-1),G0={colspan:"3"},J0=["title","onClick"],Y0=l("td",null," Phrase: ",-1),X0=l("tr",null,[l("td",null," Response: "),l("td",{colspan:"2"},[l("div",{class:"help"},[R(" Outputs the translation for the input phrase. The translation is always from/to english. "),l("br"),R(" To let the user decide on the language use "),l("code",null,"$args(0)"),R(" as language, and "),l("code",null,"$args(1:)"),R(" as phrase. "),l("br"),R(" If phrase is left empty, all arguments to the command will be used as the phrase. ")])])],-1),Q0=ce({__name:"DictLookupEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=[{value:"ja",flag:"\u{1F1EF}\u{1F1F5}",title:"Japanese"},{value:"ru",flag:"\u{1F1F7}\u{1F1FA}",title:"Russian"},{value:"de",flag:"\u{1F1E9}\u{1F1EA}",title:"German"},{value:"es",flag:"\u{1F1EA}\u{1F1F8}",title:"Spanish"},{value:"fr",flag:"\u{1F1EB}\u{1F1F7}",title:"French"},{value:"it",flag:"\u{1F1EE}\u{1F1F9}",title:"Italian"},{value:"pt",flag:"\u{1F1F5}\u{1F1F9}/\u{1F1E7}\u{1F1F7}",title:"Portuguese"}],o=x(n.modelValue);return Ge(o,i=>{t("update:modelValue",i)},{deep:!0}),(i,a)=>(g(),_("div",null,[l("table",null,[l("tr",null,[K0,l("td",null,[ve(l("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>o.value.data.lang=r),class:"input is-small spaceinput mb-1"},null,512),[[Ve,o.value.data.lang]])]),l("td",null,[U(Hs,{class:"help",onSelected:a[1]||(a[1]=r=>o.value.data.lang+=r.value)})])]),l("tr",null,[l("td",G0,[(g(),_(re,null,ye(s,(r,u)=>l("span",{key:u,class:"button is-small mr-1",title:r.title,onClick:c=>o.value.data.lang=r.value},Q(r.flag),9,J0)),64))])]),l("tr",null,[Y0,l("td",null,[ve(l("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>o.value.data.phrase=r),class:"input is-small spaceinput mb-1"},null,512),[[Ve,o.value.data.phrase]])]),l("td",null,[U(Hs,{class:"help",onSelected:a[3]||(a[3]=r=>o.value.data.phrase+=r.value)})])]),X0])]))}});const Z0={class:"control"},q0={class:"select is-small"},ew=["onUpdate:modelValue"],tw=["value"],nw=["onClick"],sw=l("i",{class:"fa fa-remove"},null,-1),ow=[sw],lw=l("i",{class:"fa fa-plus mr-1"},null,-1),aw={class:"emote-select"},iw=["src","onClick"],rw={class:"field has-addons"},uw={class:"control"},cw=l("i",{class:"fa fa-plus mr-1"},null,-1),dw={class:"emote-select"},fw={class:"emote-set-name"},hw=["src","onClick"],mw=ce({__name:"EmotesEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=[Mt.BALLOON,Mt.BOUNCY,Mt.EXPLODE,Mt.FLOATING_SPACE,Mt.FOUNTAIN,Mt.RAIN,Mt.RANDOM_BEZIER],o=x(n.modelValue),i=x([]),a=f=>{o.value.data.displayFn=o.value.data.displayFn.filter((m,p)=>p!==f)},r=()=>{o.value.data.displayFn.push({fn:Mt.FLOATING_SPACE,args:[]})},u=f=>{o.value.data.emotes=o.value.data.emotes.filter((m,p)=>p!==f)},c=f=>{o.value.data.emotes.push({url:f})},h=x(""),d=async()=>{const f=h.value;if(i.value.find(v=>v.name===f))return;const p=await(await At.getGeneralChannelEmotes(f)).json();i.value.unshift({name:f,emotes:p.data.map(v=>`https://static-cdn.jtvnw.net/emoticons/v2/${v.id}/default/dark/3.0`)})};return Ta(async()=>{i.value=[];const m=await(await At.getGeneralGlobalEmotes()).json();i.value.push({name:"global",emotes:m.data.map(p=>`https://static-cdn.jtvnw.net/emoticons/v2/${p.id}/default/dark/3.0`)})}),Ge(o,f=>{t("update:modelValue",f)},{deep:!0}),(f,m)=>(g(),_("div",null,[l("div",null,[R(" Display Functions: "),(g(!0),_(re,null,ye(o.value.data.displayFn,(p,v)=>(g(),_("div",{key:v,class:"field has-addons mb-1"},[l("div",Z0,[l("div",q0,[ve(l("select",{"onUpdate:modelValue":w=>o.value.data.displayFn[v].fn=w},[(g(),_(re,null,ye(s,(w,b)=>l("option",{key:b,value:w},Q(w),9,tw)),64))],8,ew),[[bl,o.value.data.displayFn[v].fn]])])]),l("button",{class:"button is-small",onClick:w=>a(v)},ow,8,nw)]))),128)),l("button",{class:"button is-small",onClick:m[0]||(m[0]=p=>r())},[lw,R(" Add ")])]),l("div",null,[R(" Emotes: "),l("div",aw,[(g(!0),_(re,null,ye(o.value.data.emotes,(p,v)=>(g(),_("img",{key:v,src:p.url,onClick:w=>u(v)},null,8,iw))),128))]),l("div",rw,[l("div",uw,[U(ut,{modelValue:h.value,"onUpdate:modelValue":m[1]||(m[1]=p=>h.value=p),placeholder:"Enter channel name here"},null,8,["modelValue"])]),l("button",{class:"button is-small",onClick:d},[cw,R(" Show emotes from channel ")])]),l("div",dw,[R(" Select emotes to display: "),(g(!0),_(re,null,ye(i.value,(p,v)=>(g(),_("div",{key:v},[l("div",fw,Q(p.name),1),(g(!0),_(re,null,ye(p.emotes,(w,b)=>(g(),_("img",{key:b,src:w,onClick:y=>c(w)},null,8,hw))),128))]))),128))])])]))}});const pw={class:"columns"},vw={class:"column is-four-fifth"},gw={class:"control has-icons-left has-icons-right range slider"},yw=["min","max"],bw={class:"icon is-small is-left"},ww={class:"icon is-small is-right"},_w={class:"column is-one-fifth"},Sw=ce({__name:"SliderInput",props:{modelValue:{type:Number,required:!0},iconLeft:String,iconRight:String,min:{type:Number,default:0},max:{type:Number,default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue),o=()=>{t("update:modelValue",parseInt(`${s.value}`,10))};return(i,a)=>(g(),_("div",pw,[l("div",vw,[l("div",gw,[ve(l("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),type:"range",class:"input is-small",min:e.min,max:e.max,onInput:o},null,40,yw),[[Ve,s.value]]),l("span",bw,[l("i",{class:Oe(["fa",e.iconLeft])},null,2)]),l("span",ww,[l("i",{class:Oe(["fa",e.iconRight])},null,2)])])]),l("div",_w,[ve(l("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>s.value=r),type:"number",class:"input is-small",onInput:o},null,544),[[Ve,s.value]])])]))}});var $w=dt(Sw,[["__scopeId","data-v-f81629be"]]);const Ha=ce({__name:"VolumeSlider",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(parseInt(`${e.modelValue}`,10)),o=()=>{t("update:modelValue",parseInt(`${s.value}`,10))};return(i,a)=>(g(),Ee($w,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=r=>s.value=r),o],class:"volume-slider","icon-left":"fa-volume-down","icon-right":"fa-volume-up",min:0,max:100},null,8,["modelValue"]))}}),Cw=["title"],xr=ce({__name:"ResponsiveImage",props:{src:String,title:String,height:{type:String,default:"100%"},width:{type:String,default:"100%"}},setup(e){const t=e,n=pe(()=>({display:"inline-block",verticalAlign:"text-bottom",backgroundImage:`url(${t.src})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:t.width,height:t.height}));return(s,o)=>(g(),_("div",{class:"responsive-image",style:at(J(n)),title:e.title},null,12,Cw))}});const Ew=e=>(mn("data-v-87bc64f8"),e=e(),pn(),e),Tw=Ew(()=>l("i",{class:"fa fa-remove mr-1"},null,-1)),Iw={key:2},Dw=ce({__name:"ImageUpload",props:{modelValue:null,width:{default:"100%"},height:{default:"90px"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue?JSON.parse(JSON.stringify(n.modelValue)):{file:"",filename:"",urlpath:""}),o=x(!1),i=x(),a=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},r=()=>{s.value={file:"",filename:"",urlpath:""},a()},u=f=>{s.value=$f(f),a()},c=f=>{o.value=!1,f.preventDefault(),f.stopPropagation();const m=_l(f);return m&&(s.value.file="",i.value.uploadFile(m)),!1},h=f=>(o.value=!0,f.preventDefault(),f.stopPropagation(),!1),d=f=>(o.value=!1,f.preventDefault(),f.stopPropagation(),!1);return(f,m)=>(g(),_("div",{class:Oe(["image-upload",{"dragging-over":o.value}]),onDrop:c,onDragover:h,onDragleave:d},[s.value.file?(g(),Ee(xr,{key:0,src:s.value.urlpath,title:s.value.filename,width:e.width,height:e.height,style:{display:"block"}},null,8,["src","title","width","height"])):Y("",!0),s.value.file?(g(),_("button",{key:1,class:"button is-small",onClick:r},[Tw,R(" Remove ")])):Y("",!0),s.value.file?(g(),_("br",Iw)):Y("",!0),U(Fa,{ref_key:"uploadComponent",ref:i,accept:"image/*",label:"Upload Image",class:Oe({"mt-1":s.value.file}),onUploaded:u},null,8,["class"])],34))}});var Pr=dt(Dw,[["__scopeId","data-v-87bc64f8"]]);const Mf=ce({__name:"AudioPlayer",props:{src:String,name:String,volume:{required:!0},baseVolume:{default:100}},setup(e){const t=e,n=x(null),s=x(!1),o=pe(()=>s.value?"fa-stop":"fa-play"),i=()=>{if(!!n.value){if(s.value)n.value.pause(),n.value.currentTime=0;else{const r=parseInt(`${t.baseVolume}`,10)/100,u=parseInt(`${t.volume}`,10)/100;n.value.volume=r*u,n.value.play()}s.value=!s.value}},a=()=>{n.value&&(n.value.pause(),n.value=null),n.value=new Audio(t.src),n.value.addEventListener("ended",()=>{s.value=!1}),s.value=!1};return ot(()=>{a(),Ge(()=>t.src,()=>{a()})}),(r,u)=>e.src?(g(),_("span",{key:0,class:"player",onClick:i},[R(Q(e.name)+" ",1),l("i",{class:Oe(["fa ml-1",J(o)])},null,2)])):Y("",!0)}});const Aw=e=>(mn("data-v-aa5eacc2"),e=e(),pn(),e),kw=Aw(()=>l("i",{class:"fa fa-remove mr-1"},null,-1)),Ow={key:3},Vw=ce({__name:"SoundUpload",props:{modelValue:null,baseVolume:{default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x(n.modelValue?JSON.parse(JSON.stringify(n.modelValue)):{file:"",filename:"",urlpath:"",volume:100}),o=x(!1),i=x(),a=()=>{t("update:modelValue",JSON.parse(JSON.stringify(s.value)))},r=()=>{s.value={file:"",filename:"",urlpath:"",volume:100},a()},u=f=>{s.value=Cf(f),a()},c=f=>{o.value=!1,f.preventDefault(),f.stopPropagation();const m=_l(f);return m&&(s.value.file="",i.value.uploadFile(m)),!1},h=f=>(o.value=!0,f.preventDefault(),f.stopPropagation(),!1),d=f=>(o.value=!1,f.preventDefault(),f.stopPropagation(),!1);return(f,m)=>(g(),_("div",{class:Oe(["sound-upload",{"dragging-over":o.value}]),onDrop:c,onDragover:h,onDragleave:d},[s.value.file?(g(),Ee(Mf,{key:0,src:s.value.urlpath,name:s.value.filename,volume:s.value.volume,"base-volume":e.baseVolume,class:"button is-small"},null,8,["src","name","volume","base-volume"])):Y("",!0),s.value.file?(g(),Ee(Ha,{key:1,"model-value":s.value.volume,"onUpdate:modelValue":m[0]||(m[0]=p=>{s.value.volume=p,a()})},null,8,["model-value"])):Y("",!0),s.value.file?(g(),_("button",{key:2,class:"button is-small",onClick:r},[kw,R(" Remove ")])):Y("",!0),s.value.file?(g(),_("br",Ow)):Y("",!0),U(Fa,{ref_key:"uploadComponent",ref:i,accept:"audio/*",label:"Upload Sound",class:Oe({"mt-1":s.value.file}),onUploaded:u},null,8,["class"])],34))}});var hs=dt(Vw,[["__scopeId","data-v-aa5eacc2"]]);const xw={key:0,class:"field has-addons"},Pw=["href"],Rw={class:"control mr-1"},Mw=["href"],Uw=["onClick"],Nw=l("i",{class:"fa fa-remove"},null,-1),Lw=[Nw],Fw=l("i",{class:"fa fa-plus mr-1"},null,-1),Bw=l("div",null,[l("p",{class:"help"}," Define in which widgets this media should show up in. Leave the list empty to only show in the default widget. ")],-1),Hw={class:"mr-1"},Ww={class:"mr-1"},jw={class:"mr-1"},zw={class:"mr-1"},Kw={key:0},Gw={class:"control has-icons-left"},Jw=l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-hourglass"})],-1),Yw=l("div",{class:"help"}," The minimum duration that images will be displayed. Sound will always play for their full length regardless of this setting. ",-1),Xw={key:1},Qw={key:2},Zw={key:3},qw={key:4},e_=l("td",null,"Url:",-1),t_=l("td",null,"Volume:",-1),n_=l("div",{class:"help"},[R(" The video url has to be a twitch clip url ("),l("code",null,"https://clips.twitch.tv/..."),R(") or a URL to a video file (a URL usually ending in "),l("code",null,".mp4"),R(" or similar). Currently Youtube or other Video Hosters are not supported. ")],-1),s_=ce({__name:"MediaEffect",props:{modelValue:null,widgetUrl:null,baseVolume:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue),o=x(""),i=h=>{s.value.data.sound=h},a=h=>{s.value.data.image=h},r=()=>{s.value.data.widgetIds.push("")},u=h=>{s.value.data.widgetIds=s.value.data.widgetIds.filter((d,f)=>f!==h)},c=x();return Ta(()=>{s.value.data.video.url?o.value="video":s.value.data.sound.file?s.value.data.image.file||s.value.data.image_url?o.value="image,sound":o.value="sound":o.value="image",Zt(()=>{const h=c.value.querySelector('input[type="text"]');h&&h.focus()})}),Ge(s,h=>{t("update:modelValue",h)},{deep:!0}),(h,d)=>(g(),_("div",{ref_key:"el",ref:c},[l("div",null,[R(" Widgets: "),s.value.data.widgetIds.length===0?(g(),_("div",xw,[R(" This media will show in the\xA0 "),l("a",{href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,Pw),R(". ")])):Y("",!0),(g(!0),_(re,null,ye(s.value.data.widgetIds,(f,m)=>(g(),_("div",{key:m,class:"field has-addons"},[l("div",Rw,[U(ut,{modelValue:s.value.data.widgetIds[m],"onUpdate:modelValue":p=>s.value.data.widgetIds[m]=p},null,8,["modelValue","onUpdate:modelValue"])]),l("a",{class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(f)}`,target:"_blank"},"Open widget",8,Mw),l("button",{class:"button is-small",onClick:p=>u(m)},Lw,8,Uw)]))),128)),l("div",{class:"field"},[l("button",{class:"button is-small",onClick:r},[Fw,R(" Add widget ")])]),Bw]),l("div",null,[R(" Type: "),l("div",null,[l("label",Hw,[ve(l("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>o.value=f),type:"radio",value:"image"},null,512),[[Yt,o.value]]),R(" Image")]),l("label",Ww,[ve(l("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>o.value=f),type:"radio",value:"image,sound"},null,512),[[Yt,o.value]]),R(" Image + Sound")]),l("label",jw,[ve(l("input",{"onUpdate:modelValue":d[2]||(d[2]=f=>o.value=f),type:"radio",value:"sound"},null,512),[[Yt,o.value]]),R(" Sound")]),l("label",zw,[ve(l("input",{"onUpdate:modelValue":d[3]||(d[3]=f=>o.value=f),type:"radio",value:"video"},null,512),[[Yt,o.value]]),R(" Video")])])]),o.value==="image"||o.value==="image,sound"?(g(),_("div",Kw,[R(" Display-Duration: "),l("div",Gw,[U(Dn,{"model-value":s.value.data.minDurationMs,"onUpdate:modelValue":d[4]||(d[4]=f=>s.value.data.minDurationMs=f)},null,8,["model-value"]),Jw]),Yw])):Y("",!0),o.value==="image"||o.value==="image,sound"?(g(),_("div",Xw,[R(" Image: "),l("div",null,[U(Pr,{modelValue:s.value.data.image,"onUpdate:modelValue":[d[5]||(d[5]=f=>s.value.data.image=f),a]},null,8,["modelValue"])])])):Y("",!0),o.value==="image"||o.value==="image,sound"?(g(),_("div",Qw,[R(" Image (by URL): "),l("div",null,[U(ut,{modelValue:s.value.data.image_url,"onUpdate:modelValue":d[6]||(d[6]=f=>s.value.data.image_url=f)},null,8,["modelValue"])]),l("div",null,[l("span",{class:"button is-small",onClick:d[7]||(d[7]=f=>s.value.data.image_url="$user($args).profile_image_url")},"Twitch profile image of user given by args"),l("span",{class:"button is-small",onClick:d[8]||(d[8]=f=>s.value.data.image_url="$user.profile_image_url")},"Twitch profile image of user who executes the command")])])):Y("",!0),o.value==="sound"||o.value==="image,sound"?(g(),_("div",Zw,[R(" Sound: "),l("div",null,[U(hs,{modelValue:s.value.data.sound,"onUpdate:modelValue":[d[9]||(d[9]=f=>s.value.data.sound=f),i],"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])])])):Y("",!0),o.value==="video"?(g(),_("div",qw,[R(" Video: "),l("table",null,[l("tr",null,[e_,l("td",null,[U(ut,{modelValue:s.value.data.video.url,"onUpdate:modelValue":d[10]||(d[10]=f=>s.value.data.video.url=f)},null,8,["modelValue"])])]),l("tr",null,[t_,l("td",null,[U(Ha,{modelValue:s.value.data.video.volume,"onUpdate:modelValue":d[11]||(d[11]=f=>s.value.data.video.volume=f)},null,8,["modelValue"])])])]),n_,l("div",null,[l("span",{class:"button is-small",onClick:d[12]||(d[12]=f=>s.value.data.video.url="$user($args).recent_clip_url")},"A recent twitch clip of user given by args"),l("span",{class:"button is-small",onClick:d[13]||(d[13]=f=>s.value.data.video.url="$user.recent_clip_url")},"A recent twitch clip of user who executes the command")])])):Y("",!0)],512))}}),o_=l("td",null,"Model:",-1),l_=l("td",{class:"help"},[R(" For possible values refer to "),l("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),a_=l("td",null,"Weirdness:",-1),i_=l("td",{class:"help"},[R(" For possible values refer to "),l("a",{href:"https://madochan.hyottoko.club/",target:"_blank"},"madochan")],-1),r_=ce({__name:"MadochanEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[l("table",null,[l("tr",null,[o_,l("td",null,[ve(l("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data.model=a),class:"input is-small spaceinput"},null,512),[[Ve,s.value.data.model]])]),l_]),l("tr",null,[a_,l("td",null,[ve(l("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>s.value.data.weirdness=a),class:"input is-small spaceinput"},null,512),[[Ve,s.value.data.weirdness]])]),i_])])]))}}),u_=ce({__name:"SetChannelTitleEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[l("table",null,[l("tr",null,[l("td",null,[ve(l("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data.title=a),placeholder:"Add the stream title here",class:"input is-small spaceinput mb-1"},null,512),[[Ve,s.value.data.title]])]),l("td",null,[U(Hs,{class:"help",onSelected:i[1]||(i[1]=a=>{s.value.data.title+=a.value})})])])])]))}}),c_=ce({__name:"SetChannelGameIdEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[l("table",null,[l("tr",null,[l("td",null,[ve(l("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data.game_id=a),placeholder:"Add the stream category here",class:"input is-small spaceinput mb-1"},null,512),[[Ve,s.value.data.game_id]])]),l("td",null,[U(Hs,{class:"help",onSelected:i[1]||(i[1]=a=>s.value.data.game_id+=a.value)})])])])]))}}),d_=ce({__name:"AddStreamTagsEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[l("table",null,[l("tr",null,[l("td",null,[ve(l("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data.tag=a),placeholder:"Add a tag to add here",class:"input is-small spaceinput mb-1"},null,512),[[Ve,s.value.data.tag]])]),l("td",null,[U(Hs,{class:"help",onSelected:i[1]||(i[1]=a=>s.value.data.tag+=a.value)})])])])]))}}),f_=ce({__name:"RemoveStreamTagsEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[l("table",null,[l("tr",null,[l("td",null,[ve(l("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data.tag=a),placeholder:"Add a tag to remove here",class:"input is-small spaceinput mb-1"},null,512),[[Ve,s.value.data.tag]])]),l("td",null,[U(Hs,{class:"help",onSelected:i[1]||(i[1]=a=>s.value.data.tag+=a.value)})])])])]))}}),h_=l("div",null,"Outputs the people who chatted during the stream.",-1),m_=[h_],p_=ce({__name:"ChattersEffect",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,m_))}}),v_={class:"control"},g_={class:"radio"},y_={class:"radio"},b_={key:0},w_={class:"spacerow"},__=l("label",{class:"spacelabel"},"Steps ",-1),S_={class:"spacerow"},$_=l("label",{class:"spacelabel"},"Interval ",-1),C_={class:"spacerow"},E_=l("label",{class:"spacelabel"},"Intro ",-1),T_={class:"spacerow"},I_=l("label",{class:"spacelabel"},"Outro ",-1),D_={key:1},A_={class:"field has-addons mr-1"},k_=l("span",{class:"handle p-2"},[l("i",{class:"fa fa-arrows"})],-1),O_={key:0,class:"control has-icons-left"},V_=l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-hourglass"})],-1),x_={key:1,class:"control has-icons-left"},P_=l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-comments-o"})],-1),R_={key:2,class:"control has-icons-left"},M_=l("td",null,"Image:",-1),U_=l("td",null,"Sound:",-1),N_=l("td",null,"Duration:",-1),L_={class:"control has-icons-left"},F_=l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-hourglass"})],-1),B_={class:"control"},H_=["onClick"],W_=l("i",{class:"fa fa-remove"},null,-1),j_=[W_],z_=l("i",{class:"fa fa-hourglass mr-1"},null,-1),K_=l("i",{class:"fa fa-comments-o mr-1"},null,-1),G_=l("i",{class:"fa fa-picture-o mr-1"},null,-1),J_=ce({__name:"CountdownEditor",props:{modelValue:null,baseVolume:{default:100}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=x({type:n.modelValue.type||"auto",actions:n.modelValue.actions||[],step:n.modelValue.step,steps:n.modelValue.steps,interval:n.modelValue.interval,intro:n.modelValue.intro,outro:n.modelValue.outro});Ge(s,()=>{t("update:modelValue",{type:s.value.type,actions:s.value.actions,step:s.value.step,steps:s.value.steps,interval:s.value.interval,intro:s.value.intro,outro:s.value.outro})},{deep:!0});const o=d=>{s.value.actions=Qt.arrayMove(s.value.actions,d.oldIndex,d.newIndex)},i=()=>{s.value.actions.push(l0())},a=()=>{s.value.actions.push(a0())},r=()=>{s.value.actions.push(i0())},u=d=>{s.value.actions=s.value.actions.filter((f,m)=>m!==d)},c=(d,f)=>{s.value.actions[d].value.sound=f},h=(d,f)=>{s.value.actions[d].value.image=f};return(d,f)=>{const m=st("vue-draggable");return g(),_("div",null,[l("div",v_,[l("label",g_,[ve(l("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>s.value.type=p),type:"radio",value:"manual"},null,512),[[Yt,s.value.type]]),R(" Manual ")]),l("label",y_,[ve(l("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>s.value.type=p),type:"radio",value:"auto"},null,512),[[Yt,s.value.type]]),R(" Auto ")])]),s.value.type==="auto"?(g(),_("div",b_,[l("div",w_,[__,ve(l("input",{"onUpdate:modelValue":f[2]||(f[2]=p=>s.value.steps=p),class:"input is-small spaceinput"},null,512),[[Ve,s.value.steps]])]),l("div",S_,[$_,U(Dn,{"model-value":s.value.interval,"onUpdate:modelValue":f[3]||(f[3]=p=>s.value.interval=p)},null,8,["model-value"])]),l("div",C_,[E_,ve(l("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>s.value.intro=p),class:"input is-small spaceinput"},null,512),[[Ve,s.value.intro]])]),l("div",T_,[I_,ve(l("input",{"onUpdate:modelValue":f[5]||(f[5]=p=>s.value.outro=p),class:"input is-small spaceinput"},null,512),[[Ve,s.value.outro]])])])):(g(),_("div",D_,[U(m,{"model-value":s.value.actions,handle:".handle","item-key":"id",onEnd:o},{item:St(({element:p,index:v})=>[l("div",A_,[k_,p.type==="delay"?(g(),_("div",O_,[U(Dn,{"model-value":p.value,"onUpdate:modelValue":w=>p.value=w},null,8,["model-value","onUpdate:modelValue"]),V_])):p.type==="text"?(g(),_("div",x_,[U(ut,{modelValue:p.value,"onUpdate:modelValue":w=>p.value=w},null,8,["modelValue","onUpdate:modelValue"]),P_])):p.type==="media"?(g(),_("div",R_,[l("table",null,[l("tr",null,[M_,l("td",null,[U(Pr,{modelValue:p.value.image,"onUpdate:modelValue":[w=>p.value.image=w,w=>h(v,w)]},null,8,["modelValue","onUpdate:modelValue"])])]),l("tr",null,[U_,l("td",null,[U(hs,{modelValue:p.value.sound,"onUpdate:modelValue":[w=>p.value.sound=w,w=>c(v,w)],"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])])]),l("tr",null,[N_,l("td",null,[l("div",L_,[U(Dn,{"model-value":p.value.minDurationMs,"onUpdate:modelValue":w=>p.value.minDurationMs=w},null,8,["model-value","onUpdate:modelValue"]),F_])])])])])):Y("",!0),l("div",B_,[l("button",{class:"button is-small",onClick:w=>u(v)},j_,8,H_)])])]),_:1},8,["model-value"]),l("button",{class:"button is-small",onClick:i},[z_,R(" Add Delay ")]),l("button",{class:"button is-small",onClick:a},[K_,R(" Add Chat ")]),l("button",{class:"button is-small",onClick:r},[G_,R(" Add Media ")])]))])}}}),Y_=ce({__name:"CountdownEffect",props:{modelValue:null,baseVolume:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue);return Ge(s,o=>{t("update:modelValue",o)},{deep:!0}),(o,i)=>(g(),_("div",null,[U(J_,{modelValue:s.value.data,"onUpdate:modelValue":i[0]||(i[0]=a=>s.value.data=a),"base-volume":e.baseVolume},null,8,["modelValue","base-volume"])]))}}),X_={class:"table"},Q_=l("i",{class:"fa fa-trash"},null,-1),Z_=ce({__name:"EffectsEditor",props:{modelValue:null,itemVariables:null,globalVariables:null,baseVolume:null,widgetUrl:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue),o=i=>{s.value=s.value.filter((a,r)=>r!==i)};return Ge(s,i=>{t("update:modelValue",i)}),(i,a)=>(g(),_("div",null,[l("table",X_,[(g(!0),_(re,null,ye(s.value,(r,u)=>(g(),_("tr",{key:u},[l("td",null,[l("code",null,Q(r.type),1)]),l("td",null,[r.type===J(_e).VARIABLE_CHANGE?(g(),Ee(x0,{key:0,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c,"item-variables":e.itemVariables,"global-variables":e.globalVariables},null,8,["modelValue","onUpdate:modelValue","item-variables","global-variables"])):Y("",!0),r.type===J(_e).CHAT?(g(),Ee(z0,{key:1,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).DICT_LOOKUP?(g(),Ee(Q0,{key:2,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).EMOTES?(g(),Ee(mw,{key:3,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).MEDIA?(g(),Ee(s_,{key:4,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["modelValue","onUpdate:modelValue","base-volume","widget-url"])):Y("",!0),r.type===J(_e).MADOCHAN?(g(),Ee(r_,{key:5,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).SET_CHANNEL_TITLE?(g(),Ee(u_,{key:6,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).SET_CHANNEL_GAME_ID?(g(),Ee(c_,{key:7,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).ADD_STREAM_TAGS?(g(),Ee(d_,{key:8,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).REMOVE_STREAM_TAGS?(g(),Ee(f_,{key:9,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).CHATTERS?(g(),Ee(p_,{key:10,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c},null,8,["modelValue","onUpdate:modelValue"])):Y("",!0),r.type===J(_e).COUNTDOWN?(g(),Ee(Y_,{key:11,modelValue:s.value[u],"onUpdate:modelValue":c=>s.value[u]=c,"base-volume":e.baseVolume},null,8,["modelValue","onUpdate:modelValue","base-volume"])):Y("",!0)]),l("td",null,[U(Ks,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:c=>o(u)},{default:St(()=>[Q_]),_:2},1032,["onDoubleclick"])])]))),128))])]))}});const Pt=e=>(mn("data-v-4184de62"),e=e(),pn(),e),q_={class:"trigger-editor"},eS={key:0,class:"field has-addons"},tS=Pt(()=>l("span",{class:"mr-1"},"First chat by user",-1)),nS={class:"control"},sS={class:"mr-1"},oS={class:"mr-1"},lS={class:"control"},aS=["disabled"],iS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),rS=[iS],uS={key:1,class:"field has-addons"},cS={class:"control has-icons-left mr-1"},dS=Pt(()=>l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-comments-o"})],-1)),fS={class:"control mr-1",title:"Check if command should only be executed if it matches exactly (= no arguments come after it)."},hS=Pt(()=>l("span",{class:"is-small is-left"},"exact",-1)),mS={class:"control"},pS=["disabled"],vS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),gS=[vS],yS={key:2,class:"field has-addons"},bS={class:"control has-icons-left"},wS={class:"control"},_S=["disabled"],SS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),$S=[SS],CS={key:3,class:"timer-trigger"},ES={class:"control remove-control"},TS=["disabled"],IS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),DS=[IS],AS={class:"timer-trigger-inner"},kS=Pt(()=>l("label",{class:"mr-1"},"Messages \u2265",-1)),OS={class:"control has-icons-left mr-1"},VS=Pt(()=>l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-comments-o"})],-1)),xS=Pt(()=>l("label",{class:"mr-1"},"Interval \u2265",-1)),PS={class:"control has-icons-left has-icons-right mr-1"},RS=Pt(()=>l("span",{class:"icon is-small is-left"},[l("i",{class:"fa fa-hourglass"})],-1)),MS=Pt(()=>l("p",{class:"help"},[R(" Command will be triggered when at least "),l("code",null,"Messages"),R(" chat messages arrived AND "),l("code",null,"Interval"),R(" have passed. ")],-1)),US={key:4,class:"field has-addons"},NS={class:"control"},LS=["disabled"],FS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),BS=[FS],HS={key:5,class:"field has-addons"},WS={class:"control"},jS=["disabled"],zS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),KS=[zS],GS={key:6,class:"field has-addons"},JS={class:"control"},YS=["disabled"],XS=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),QS=[XS],ZS={key:7,class:"field has-addons"},qS={class:"control"},e$=["disabled"],t$=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),n$=[t$],s$={key:8},o$={class:"control"},l$=["disabled"],a$=Pt(()=>l("i",{class:"fa fa-remove"},null,-1)),i$=[a$],r$=ce({__name:"TriggerEditor",props:{modelValue:null,removable:{type:Boolean},channelPointsCustomRewards:null},emits:["update:modelValue","remove"],setup(e,{emit:t}){const n=e,s=x({type:"",data:{since:"",command:"",commandExact:!1,minInterval:0,minLines:0}}),o=pe(()=>{const u=[];for(let c in n.channelPointsCustomRewards)u.push(...n.channelPointsCustomRewards[c].map(h=>({type:h,title:h,label:h})));return u.sort((c,h)=>c.title===h.title?0:c.title<h.title?-1:1),u}),i=()=>{t("remove")},a=()=>{t("update:modelValue",s.value)};return(u=>{s.value=JSON.parse(JSON.stringify(u))})(n.modelValue),Ge(()=>n.modelValue,u=>{s.value=u}),(u,c)=>(g(),_("div",q_,[s.value.type==="first_chat"?(g(),_("div",eS,[tS,l("div",nS,[l("label",sS,[ve(l("input",{"onUpdate:modelValue":c[0]||(c[0]=h=>s.value.data.since=h),type:"radio",class:"checkbox mr-1",value:"alltime",onChange:a},null,544),[[Yt,s.value.data.since]]),R(" Alltime ")]),l("label",oS,[ve(l("input",{"onUpdate:modelValue":c[1]||(c[1]=h=>s.value.data.since=h),type:"radio",class:"checkbox mr-1",value:"stream",onChange:a},null,544),[[Yt,s.value.data.since]]),R(" Current Stream ")])]),l("div",lS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},rS,8,aS)])])):s.value.type==="command"?(g(),_("div",uS,[l("div",cS,[ve(l("input",{"onUpdate:modelValue":c[2]||(c[2]=h=>s.value.data.command=h),class:Oe(["input is-small",{"has-background-danger-light":!s.value.data.command,"has-text-danger-dark":!s.value.data.command}]),type:"text",onInput:a},null,34),[[Ve,s.value.data.command]]),dS]),l("div",fS,[l("label",null,[U(Bn,{modelValue:s.value.data.commandExact,"onUpdate:modelValue":[c[3]||(c[3]=h=>s.value.data.commandExact=h),a],class:"mr-1"},null,8,["modelValue"]),hS])]),l("div",mS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},gS,8,pS)])])):s.value.type==="reward_redemption"?(g(),_("div",yS,[l("div",bS,[U(Rf,{modelValue:s.value.data.command,"onUpdate:modelValue":[c[4]||(c[4]=h=>s.value.data.command=h),a],values:J(o).map(h=>({value:h.type,label:h.label})),class:Oe({"has-background-danger-light":!s.value.data.command,"has-text-danger-dark":!s.value.data.command}),icon:"bullseye"},null,8,["modelValue","values","class"])]),l("div",wS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},$S,8,_S)])])):s.value.type==="timer"?(g(),_("div",CS,[l("div",ES,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},DS,8,TS)]),l("div",AS,[kS,l("div",OS,[U(kr,{modelValue:s.value.data.minLines,"onUpdate:modelValue":[c[5]||(c[5]=h=>s.value.data.minLines=h),a]},null,8,["modelValue"]),VS]),xS,l("div",PS,[U(Dn,{"model-value":s.value.data.minInterval,"onUpdate:modelValue":c[6]||(c[6]=h=>{s.value.data.minInterval=h,a()})},null,8,["model-value"]),RS])]),MS])):s.value.type==="sub"?(g(),_("div",US,[R(" Sub "),l("div",NS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},BS,8,LS)])])):s.value.type==="bits"?(g(),_("div",HS,[R(" Bits "),l("div",WS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},KS,8,jS)])])):s.value.type==="follow"?(g(),_("div",GS,[R(" Follow "),l("div",JS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},QS,8,YS)])])):s.value.type==="raid"?(g(),_("div",ZS,[R(" Raid "),l("div",qS,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},n$,8,e$)])])):(g(),_("div",s$,[R(" Unknown trigger: "+Q(s.value)+" ",1),l("div",o$,[l("button",{class:"button is-small",disabled:!e.removable,onClick:i},i$,8,l$)])]))]))}});var u$=dt(r$,[["__scopeId","data-v-4184de62"]]);const kt=e=>(mn("data-v-0c01ea93"),e=e(),pn(),e),c$={class:"modal-card"},d$={class:"modal-card-head"},f$={class:"modal-card-title"},h$={key:0,class:"help"},m$=["innerHTML"],p$={class:"modal-card-body"},v$={class:"table is-striped"},g$=kt(()=>l("div",null,"Triggers:",-1)),y$={key:0},b$=kt(()=>l("td",null,"Tag:",-1)),w$=kt(()=>l("div",null,"Effects:",-1)),_$=kt(()=>l("div",null,"Variables:",-1)),S$={key:0},$$=kt(()=>l("thead",null,[l("tr",null,[l("td",null,"Name"),l("td",null,"Value")])],-1)),C$=["onClick"],E$=kt(()=>l("i",{class:"fa fa-remove"},null,-1)),T$=[E$],I$=kt(()=>l("div",{class:"help"},[R(" Variables can be used from the command with "),l("code",null,"$var(variable_name)"),R(". If the referenced variable is not defined here, "),l("a",{href:"/variables/",target:"_blank"},"global variables"),R(" are used. ")],-1)),D$=kt(()=>l("td",null,"Permissions:",-1)),A$=["value"],k$=kt(()=>l("div",null,"Disallow Users:",-1)),O$={class:"control"},V$=["onClick"],x$=kt(()=>l("i",{class:"fa fa-remove"},null,-1)),P$=[x$],R$=kt(()=>l("div",{class:"help"}," Users added here will not be able to execute the command. ",-1)),M$=kt(()=>l("div",null,"Allow Users:",-1)),U$={class:"control"},N$=["onClick"],L$=kt(()=>l("i",{class:"fa fa-remove"},null,-1)),F$=[L$],B$=kt(()=>l("div",{class:"help"}," Users added here will be able to execute the command, regardless of if they are disallowed as well and regardless of their status (eg. mod, sub). ",-1)),H$=kt(()=>l("td",null," Cooldown: ",-1)),W$=kt(()=>l("td",null,"Global",-1)),j$=kt(()=>l("td",{rowspan:"2"},[l("div",{class:"help"},[R(" If a cooldown is set, the command will not be executed unless the set amount of time has passed since the command was executed the last time."),l("br"),R(" Examples:"),l("br"),l("code",null,"24h"),R(" = 24 hours"),l("br"),l("code",null,"30m"),R(" = 30 minutes"),l("br"),l("code",null,"50s"),R(" = 50 seconds"),l("br"),l("code",null,"0"),R(" = no cooldown"),l("br")])],-1)),z$=kt(()=>l("td",null,"Per User",-1)),K$={class:"modal-card-foot"},G$=["disabled"],J$=["disabled"],Y$=ce({__name:"CommandEditor",props:{modelValue:null,mode:null,globalVariables:null,channelPointsCustomRewards:null,baseVolume:null,widgetUrl:null},emits:["cancel","save","save-and-close"],setup(e,{emit:t}){const n=e,s=x(JSON.parse(JSON.stringify(n.modelValue))),o=x(),i=x(Vf),a=pe(()=>{for(const $ of s.value.triggers)if(!c0($))return!1;return!0}),r=Ko[s.value.action].Description(),c=`${{create:"Create new ",edit:"Edit "}[n.mode]}${Ko[s.value.action].Name()}`,h=$=>{s.value.effects.push(h0($.type))},d=$=>{s.value.triggers.push(Pf($.type))},f=()=>{s.value.variables.push({name:"",value:""})},m=$=>{s.value.variables=s.value.variables.filter((I,C)=>C!==$)},p=()=>{t("save",s.value)},v=()=>{t("save-and-close",s.value)},w=()=>{t("cancel")},b=()=>{t("cancel")},y=()=>{t("cancel")},S=$=>{s.value.triggers=s.value.triggers.filter((I,C)=>C!==$)};return Ge(()=>n.modelValue,$=>{s.value=JSON.parse(JSON.stringify($))},{deep:!0}),ot(()=>{Zt(()=>{const $=o.value.querySelector('input[type="text"]');$&&$.focus()})}),($,I)=>(g(),_("div",{ref_key:"el",ref:o,class:"modal is-active"},[l("div",{class:"modal-background",onClick:y}),l("div",c$,[l("header",d$,[l("div",f$,[R(Q(c)+" "),J(r)?(g(),_("div",h$,[l("div",{innerHTML:J(r)},null,8,m$)])):Y("",!0)]),l("button",{class:"delete","aria-label":"close",onClick:b})]),l("section",p$,[l("table",v$,[l("tbody",null,[l("tr",null,[l("td",null,[g$,U(Bi,{actions:J(m0)(),label:"Add trigger",onClick:d},null,8,["actions"])]),l("td",null,[(g(!0),_(re,null,ye(s.value.triggers,(C,V)=>(g(),Ee(u$,{key:V,class:"spacerow","model-value":C,"channel-points-custom-rewards":e.channelPointsCustomRewards,removable:s.value.triggers.length>1,"onUpdate:modelValue":A=>s.value.triggers[V]=A,onRemove:A=>S(V)},null,8,["model-value","channel-points-custom-rewards","removable","onUpdate:modelValue","onRemove"]))),128))])]),s.value.action==="sr_addtag"?(g(),_("tr",y$,[b$,l("td",null,[ve(l("input",{"onUpdate:modelValue":I[0]||(I[0]=C=>s.value.data.tag=C),class:"input is-small spaceinput mb-1"},null,512),[[Ve,s.value.data.tag]]),l("span",{class:"button is-small mr-1",onClick:I[1]||(I[1]=C=>s.value.data.tag="")},"All args")])])):Y("",!0),l("tr",null,[l("td",null,[w$,U(Bi,{actions:J(d0)(),label:"Add effect",onClick:h},null,8,["actions"])]),l("td",null,[U(Z_,{modelValue:s.value.effects,"onUpdate:modelValue":I[2]||(I[2]=C=>s.value.effects=C),"item-variables":s.value.variables,"global-variables":e.globalVariables,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["modelValue","item-variables","global-variables","base-volume","widget-url"])])]),l("tr",null,[l("td",null,[_$,l("span",{class:"button is-small",onClick:f},"Add Variable")]),l("td",null,[s.value.variables.length>0?(g(),_("table",S$,[$$,l("tbody",null,[(g(!0),_(re,null,ye(s.value.variables,(C,V)=>(g(),_("tr",{key:V},[l("td",null,[U(ut,{modelValue:C.name,"onUpdate:modelValue":A=>C.name=A},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[U(ut,{modelValue:C.value,"onUpdate:modelValue":A=>C.value=A},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[l("button",{class:"button is-small",onClick:A=>m(V)},T$,8,C$)])]))),128))])])):Y("",!0),I$])]),l("tr",null,[D$,l("td",null,[(g(!0),_(re,null,ye(i.value,(C,V)=>(g(),_("label",{key:V,class:"mr-1"},[ve(l("input",{"onUpdate:modelValue":I[3]||(I[3]=A=>s.value.restrict_to=A),type:"checkbox",value:C.value},null,8,A$),[[qn,s.value.restrict_to]]),R(" "+Q(C.label),1)]))),128))])]),l("tr",null,[l("td",null,[k$,l("span",{class:"button is-small",onClick:I[4]||(I[4]=C=>s.value.disallow_users.push(""))},"Add User")]),l("td",null,[(g(!0),_(re,null,ye(s.value.disallow_users,(C,V)=>(g(),_("div",{key:V,class:"field has-addons"},[l("div",O$,[U(ut,{modelValue:s.value.disallow_users[V],"onUpdate:modelValue":A=>s.value.disallow_users[V]=A},null,8,["modelValue","onUpdate:modelValue"])]),l("button",{class:"button is-small",onClick:A=>s.value.disallow_users=s.value.disallow_users.filter((O,B)=>B!==V)},P$,8,V$)]))),128)),R$])]),l("tr",null,[l("td",null,[M$,l("span",{class:"button is-small",onClick:I[5]||(I[5]=C=>s.value.allow_users.push(""))},"Add User")]),l("td",null,[(g(!0),_(re,null,ye(s.value.allow_users,(C,V)=>(g(),_("div",{key:V,class:"field has-addons"},[l("div",U$,[U(ut,{modelValue:s.value.allow_users[V],"onUpdate:modelValue":A=>s.value.allow_users[V]=A},null,8,["modelValue","onUpdate:modelValue"])]),l("button",{class:"button is-small",onClick:A=>s.value.allow_users=s.value.allow_users.filter((O,B)=>B!==V)},F$,8,N$)]))),128)),B$])]),l("tr",null,[H$,l("td",null,[l("table",null,[l("tr",null,[W$,l("td",null,[U(Dn,{modelValue:s.value.cooldown.global,"onUpdate:modelValue":I[6]||(I[6]=C=>s.value.cooldown.global=C)},null,8,["modelValue"])]),j$]),l("tr",null,[z$,l("td",null,[U(Dn,{modelValue:s.value.cooldown.perUser,"onUpdate:modelValue":I[7]||(I[7]=C=>s.value.cooldown.perUser=C)},null,8,["modelValue"])])])])])])])])]),l("footer",K$,[l("button",{class:"button is-small is-primary",disabled:!J(a),onClick:p}," Save ",8,G$),l("button",{class:"button is-small is-primary",disabled:!J(a),onClick:v}," Save and close ",8,J$),l("button",{class:"button is-small",onClick:w}," Cancel ")])])],512))}});var X$=dt(Y$,[["__scopeId","data-v-0c01ea93"]]);const Q$={key:0},Z$={key:1},Vo=ce({__name:"DurationDisplay",props:{value:{required:!0}},setup(e){const t=e,n=pe(()=>{try{return Qt.mustParseHumanDuration(`${t.value}`),"span"}catch{return"code"}}),s=pe(()=>{try{return Qt.humanDuration(Qt.mustParseHumanDuration(`${t.value}`))}catch{return t.value}});return(o,i)=>J(n)==="span"?(g(),_("span",Q$,Q(J(s)),1)):(g(),_("code",Z$,Q(J(s)),1))}}),q$={key:0},eC={key:0},tC={key:0},nC=["href"],sC=["href"],oC={key:1,class:"spacerow media-holder media-holder-inline"},lC={key:1},aC={key:2,class:"fa fa-plus is-justify-content-center mr-2 ml-2"},iC={key:3,class:"ml-2"},rC={key:4,class:"ml-2"},uC=l("span",{class:"ml-1 mr-1"},"in the",-1),cC=["href"],dC=["href"],fC={key:2},hC={key:0},mC=l("span",null,"\u2192",-1),pC=l("span",null,"\u2192",-1),vC={key:1},gC={key:1},yC={key:2},bC={key:0},wC={key:1},_C={key:2},SC={key:3},$C={key:3},CC={key:4},EC={key:5},TC={key:6},IC={key:7},DC={key:8},AC={key:9},kC=l("br",null,null,-1),OC=l("br",null,null,-1),VC=["src"],xC={key:10},PC=l("br",null,null,-1),RC=l("br",null,null,-1),MC={key:11},UC={key:12},NC={key:13},LC=ce({__name:"EffectInfo",props:{effect:null,imagesVisible:{type:Boolean},baseVolume:null,widgetUrl:null},setup(e){return(t,n)=>(g(),_("div",null,[e.effect.type===J(_e).CHAT?(g(),_("div",q$,[(g(!0),_(re,null,ye(e.effect.data.text,(s,o)=>(g(),_(re,{key:o},[l("code",null,Q(e.effect.data.text[o]),1),o<e.effect.data.text.length-1?(g(),_("span",eC,"or")):Y("",!0)],64))),128))])):e.effect.type===J(_e).MEDIA?(g(),_("div",{key:1,class:Oe(e.effect.type)},[e.effect.data.video.url?(g(),_("div",tC,[R(" Play Video "),l("code",null,Q(e.effect.data.video.url),1),R(" in the "),e.effect.data.widgetIds.length===0?(g(),_("a",{key:0,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,nC)):Y("",!0),(g(!0),_(re,null,ye(e.effect.data.widgetIds,(s,o)=>(g(),_("a",{key:o,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(s)}`,target:"_blank"},[l("code",null,Q(s),1),R(" Widget ")],8,sC))),128))])):e.effect.data.image_url||e.effect.data.image.file||e.effect.data.sound.file?(g(),_("div",oC,[(e.effect.data.image_url||e.effect.data.image.file)&&e.imagesVisible?(g(),Ee(xr,{key:0,src:e.effect.data.image_url||e.effect.data.image.urlpath,title:e.effect.data.image.filename,width:"100px",height:"50px",style:{display:"inline-block"}},null,8,["src","title"])):e.effect.data.image_url||e.effect.data.image.file?(g(),_("code",lC,Q(e.effect.data.image_url||e.effect.data.image.filename),1)):Y("",!0),(e.effect.data.image_url||e.effect.data.image.file)&&e.effect.data.sound.file?(g(),_("i",aC)):Y("",!0),U(Mf,{src:e.effect.data.sound.urlpath,name:e.effect.data.sound.filename,volume:e.effect.data.sound.volume,"base-volume":e.baseVolume,class:"button is-small is-justify-content-center"},null,8,["src","name","volume","base-volume"]),(e.effect.data.image_url||e.effect.data.image.file)&&e.effect.data.sound.file?(g(),_("span",iC,[R("for at least "),U(Vo,{value:e.effect.data.minDurationMs},null,8,["value"])])):e.effect.data.image_url||e.effect.data.image.file?(g(),_("span",rC,[R("for "),U(Vo,{value:e.effect.data.minDurationMs},null,8,["value"])])):Y("",!0),uC,e.effect.data.widgetIds.length===0?(g(),_("a",{key:5,class:"button is-small mr-1",href:`${e.widgetUrl}`,target:"_blank"},"default widget",8,cC)):Y("",!0),(g(!0),_(re,null,ye(e.effect.data.widgetIds,(s,o)=>(g(),_("a",{key:o,class:"button is-small mr-1",href:`${e.widgetUrl}?id=${encodeURIComponent(s)}`,target:"_blank"},[l("code",null,Q(s),1),R(" Widget ")],8,dC))),128))])):Y("",!0)],2)):e.effect.type===J(_e).COUNTDOWN?(g(),_("div",fC,[(e.effect.data.type||"auto")==="auto"?(g(),_("div",hC,[l("code",null,Q(e.effect.data.intro),1),mC,l("code",null,Q(e.effect.data.steps),1),R(" \u2715 "),U(Vo,{value:e.effect.data.interval},null,8,["value"]),pC,l("code",null,Q(e.effect.data.outro),1)])):(g(),_("div",vC,[(g(!0),_(re,null,ye(e.effect.data.actions,(s,o)=>(g(),_(re,{key:o},[s.type==="delay"?(g(),Ee(Vo,{key:0,value:s.value},null,8,["value"])):Y("",!0),s.type==="text"?(g(),_("code",gC,Q(s.value),1)):Y("",!0),s.type==="media"?(g(),_("code",yC,[R(" Media("),s.value.image.file?(g(),_("span",bC,Q(s.value.image.filename),1)):Y("",!0),s.value.image.file&&s.value.sound.file?(g(),_("span",wC,"+")):Y("",!0),s.value.sound.file?(g(),_("span",_C,Q(s.value.sound.filename),1)):Y("",!0),R(") ")])):Y("",!0),o<e.effect.data.actions.length-1?(g(),_("span",SC,"\u2192")):Y("",!0)],64))),128))]))])):e.effect.type===J(_e).DICT_LOOKUP?(g(),_("div",$C,[R(" Dictionary lookup. Language: "),l("code",null,Q(e.effect.data.lang),1),R(" Phrase: "),l("code",null,Q(e.effect.data.phrase),1)])):e.effect.type===J(_e).CHATTERS?(g(),_("div",CC," Outputs the people who chatted during the stream. ")):e.effect.type===J(_e).ADD_STREAM_TAGS?(g(),_("div",EC,[R(" Add stream tags. Tags: "),l("code",null,Q(e.effect.data.tag),1)])):e.effect.type===J(_e).REMOVE_STREAM_TAGS?(g(),_("div",TC,[R(" Remove stream tags. Tags: "),l("code",null,Q(e.effect.data.tag),1)])):e.effect.type===J(_e).SET_CHANNEL_GAME_ID?(g(),_("div",IC,[R(" Set stream category to "),l("code",null,Q(e.effect.data.game_id),1)])):e.effect.type===J(_e).SET_CHANNEL_TITLE?(g(),_("div",DC,[R(" Set stream title to "),l("code",null,Q(e.effect.data.title),1)])):e.effect.type===J(_e).EMOTES?(g(),_("div",AC,[R(" Show emotes on the emote wall. "),kC,R(" Function(s): "),l("code",null,Q(e.effect.data.displayFn.map(s=>s.fn).join(", ")),1),OC,R(" Emote(s): "),(g(!0),_(re,null,ye(e.effect.data.emotes,(s,o)=>(g(),_("img",{key:o,src:s.url,width:"32"},null,8,VC))),128))])):e.effect.type===J(_e).MADOCHAN?(g(),_("div",xC,[R(" Generate a definition for a word. "),PC,R(" Model: "),l("code",null,Q(e.effect.data.model),1),R(),RC,R(" Weirdness: "),l("code",null,Q(e.effect.data.weirdness),1)])):e.effect.type===J(_e).MEDIA_VOLUME?(g(),_("div",MC," Change the base volume of media playing in the media widget. ")):e.effect.type===J(_e).VARIABLE_CHANGE?(g(),_("div",UC,[R(" Change variable. "),l("code",null,Q(e.effect.data.name),1),l("code",null,Q(e.effect.data.change),1),l("code",null,Q(e.effect.data.value),1)])):(g(),_("div",NC,Q(e.effect),1))]))}}),FC={key:0},BC={key:0},HC={key:1},WC={key:1},jC={key:2},zC=l("span",{class:"is-small",title:"Channel Point Reward"},[l("i",{class:"fa fa-bullseye"}),R(": ")],-1),KC={key:3},GC=l("span",{class:"is-small"},"Timer: ",-1),JC={key:4},YC=l("span",{class:"is-small"},"Sub",-1),XC=[YC],QC={key:5},ZC=l("span",{class:"is-small"},"Follow",-1),qC=[ZC],eE={key:6},tE=l("span",{class:"is-small"},"Bits",-1),nE=[tE],sE={key:7},oE=l("span",{class:"is-small"},"Raid",-1),lE=[oE],aE=ce({__name:"TriggerInfo",props:{trigger:null},setup(e){return(t,n)=>e.trigger.type==="first_chat"?(g(),_("div",FC,[R(" First chat: "),e.trigger.data.since==="alltime"?(g(),_("code",BC,"alltime")):Y("",!0),e.trigger.data.since==="stream"?(g(),_("code",HC,"current stream")):Y("",!0)])):e.trigger.type==="command"?(g(),_("div",WC,[l("code",null,Q(e.trigger.data.command),1)])):e.trigger.type==="reward_redemption"?(g(),_("div",jC,[zC,l("code",null,Q(e.trigger.data.command),1)])):e.trigger.type==="timer"?(g(),_("div",KC,[GC,l("code",null,[R(Q(e.trigger.data.minLines)+" lines, ",1),U(Vo,{value:e.trigger.data.minInterval},null,8,["value"])])])):e.trigger.type==="sub"?(g(),_("div",JC,XC)):e.trigger.type==="follow"?(g(),_("div",QC,qC)):e.trigger.type==="bits"?(g(),_("div",eE,nE)):e.trigger.type==="raid"?(g(),_("div",sE,lE)):Y("",!0)}});const On=e=>(mn("data-v-5ce6484b"),e=e(),pn(),e),iE={class:"actions"},rE=On(()=>l("div",{class:"mr-1"}," Filter: ",-1)),uE={class:"field has-addons mr-1 mb-0"},cE={class:"control"},dE={key:2,class:"field"},fE=["value"],hE={key:3,class:"field"},mE=["value"],pE={key:0,class:"table-container"},vE={ref:"table",class:"table is-striped"},gE=On(()=>l("th",null,null,-1)),yE=On(()=>l("th",null,null,-1)),bE=On(()=>l("th",null,"Triggers",-1)),wE={key:0},_E={key:1},SE={key:0},$E={key:2},CE=On(()=>l("th",null,"Permissions",-1)),EE=On(()=>l("th",null,null,-1)),TE=On(()=>l("th",null,null,-1)),IE=On(()=>l("td",{class:"pt-4 handle"},[l("i",{class:"fa fa-arrows"})],-1)),DE={class:"pl-0 pr-0"},AE=["onClick"],kE=On(()=>l("i",{class:"fa fa-pencil"},null,-1)),OE=[kE],VE={class:"col-triggers"},xE={key:0},PE=["innerHTML"],RE={key:1},ME={key:2},UE={class:"pl-0 pr-0"},NE=On(()=>l("i",{class:"fa fa-trash"},null,-1)),LE=["onClick"],FE=On(()=>l("i",{class:"fa fa-clone"},null,-1)),BE=[FE],HE={key:1},WE=ce({__name:"CommandsEditor",props:{globalVariables:null,channelPointsCustomRewards:null,possibleActions:null,possibleEffects:null,baseVolume:null,modelValue:null,showToggleImages:{type:Boolean,default:!1},showFilters:{type:Boolean,default:!1},showImages:{type:Boolean,default:!1},widgetUrl:{default:""}},emits:["update:modelValue","showImagesChange"],setup(e,{emit:t}){const n=e,s=(E,M)=>E.length===0?!0:E.includes(M.action),o=(E,M)=>{if(E.length===0)return!0;for(const P of M.effects)if(E.includes(P.type))return!0;return!1},i=(E,M)=>M.triggers.some(P=>P.type===Gt.COMMAND||P.type===Gt.REWARD_REDEMPTION?P.data.command.toLowerCase().indexOf(E)>=0:!1),a=(E,M)=>{if(!M.effects)return!1;for(const P of M.effects)if(P.type===_e.CHAT&&P.data.text.some(le=>le.toLowerCase().indexOf(E)>=0))return!0;return!1},r=x(JSON.parse(JSON.stringify(n.modelValue))),u=x(null),c=x(null),h=x({search:"",actions:[],effects:[]}),d=x(n.showImages),f=pe(()=>n.possibleEffects.map(E=>({type:E}))),m=pe(()=>n.possibleEffects.map(E=>({effect:E,count:y(E)})).filter(E=>E.count>0)),p=pe(()=>n.possibleActions.map(E=>({type:E,title:H(E),label:`Add ${k(E)}`}))),v=pe(()=>n.possibleActions.map(E=>({action:E,count:S(E)})).filter(E=>E.count>0)),w=()=>{t("showImagesChange",d.value)},b=()=>{t("update:modelValue",r.value)},y=E=>{let M=0;for(const P of r.value)P.effects&&P.effects.some(G=>G.type===E)&&M++;return M},S=E=>{let M=0;for(const P of r.value)P.action===E&&M++;return M},$=E=>{if(!s(h.value.actions,E)||!o(h.value.effects,E))return!0;if(!h.value.search)return!1;const M=h.value.search.toLowerCase();return!(i(M,E)||a(M,E))},I=E=>{r.value=r.value.filter((M,P)=>P!==E),b()},C=E=>{const M=E.type;u.value=-1,c.value=Ko[M].NewCommand()},V=E=>{u.value=E,c.value=r.value[E]},A=E=>{u.value=-1,c.value=JSON.parse(JSON.stringify(r.value[E]))},O=E=>{u.value!==null&&(u.value===-1?(r.value.unshift(E),u.value=0):r.value[u.value]=E,b())},B=E=>{O(E),u.value=null,c.value=null},j=E=>{r.value=Qt.arrayMove(r.value,E.oldIndex,E.newIndex),b()},H=E=>Ko[E].Description(),k=E=>Ko[E].Name();return(E,M)=>{const P=st("vue-draggable");return g(),_("div",null,[l("div",iE,[J(p).length===1?(g(),_("span",{key:0,class:"button is-small mr-1",onClick:M[0]||(M[0]=G=>C(J(p)[0]))},"Add command")):(g(),Ee(Bi,{key:1,actions:J(p),label:"Add command",onClick:C},null,8,["actions"])),rE,l("div",uE,[l("div",cE,[ve(l("input",{"onUpdate:modelValue":M[1]||(M[1]=G=>h.value.search=G),class:"input is-small"},null,512),[[Ve,h.value.search]])])]),e.showFilters&&J(p).length>1?(g(),_("div",dE,[(g(!0),_(re,null,ye(J(v),(G,le)=>(g(),_("label",{key:le,class:"mr-1"},[ve(l("input",{"onUpdate:modelValue":M[2]||(M[2]=De=>h.value.actions=De),class:"mr-1",type:"checkbox",value:G.action},null,8,fE),[[qn,h.value.actions]]),R(Q(G.action)+" ("+Q(G.count)+")",1)]))),128))])):Y("",!0),e.showFilters&&J(f).length>1?(g(),_("div",hE,[(g(!0),_(re,null,ye(J(m),(G,le)=>(g(),_("label",{key:le,class:"mr-1"},[ve(l("input",{"onUpdate:modelValue":M[3]||(M[3]=De=>h.value.effects=De),class:"mr-1",type:"checkbox",value:G.effect},null,8,mE),[[qn,h.value.effects]]),R(Q(G.effect)+" ("+Q(G.count)+")",1)]))),128))])):Y("",!0)]),r.value.length>0?(g(),_("div",pE,[l("table",vE,[l("thead",null,[l("tr",null,[gE,yE,bE,e.possibleActions.length>1?(g(),_("th",wE," Action ")):Y("",!0),e.possibleEffects.length>0?(g(),_("th",_E,[R(" Effects "),e.showToggleImages?(g(),_("label",SE,[U(Bn,{modelValue:d.value,"onUpdate:modelValue":[M[4]||(M[4]=G=>d.value=G),w]},null,8,["modelValue"]),R(" Show images ")])):Y("",!0)])):Y("",!0),J(p).length>1?(g(),_("th",$E," Type ")):Y("",!0),CE,EE,TE])]),U(P,{"model-value":r.value,tag:"tbody",handle:".handle","item-key":"id",onEnd:j},{item:St(({element:G,index:le})=>[ve(l("tr",null,[IE,l("td",DE,[l("button",{class:"button is-small",onClick:De=>V(le)},OE,8,AE)]),l("td",VE,[(g(!0),_(re,null,ye(G.triggers,(De,Ke)=>(g(),_("div",{key:Ke,class:"spacerow"},[U(aE,{trigger:De},null,8,["trigger"])]))),128))]),e.possibleActions.length>1?(g(),_("td",xE,[H(G.action)?(g(),_("div",{key:0,innerHTML:H(G.action)},null,8,PE)):Y("",!0)])):Y("",!0),e.possibleEffects.length>0?(g(),_("td",RE,[l("table",null,[(g(!0),_(re,null,ye(G.effects,(De,Ke)=>(g(),_("tr",{key:Ke},[l("td",null,[l("code",null,Q(De.type),1)]),l("td",null,[U(LC,{effect:De,"images-visible":d.value,"base-volume":e.baseVolume,"widget-url":e.widgetUrl},null,8,["effect","images-visible","base-volume","widget-url"])])]))),128))])])):Y("",!0),J(p).length>1?(g(),_("td",ME,Q(G.action),1)):Y("",!0),l("td",null,Q(J(t0)(G.restrict_to)),1),l("td",UE,[U(Ks,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:De=>I(le)},{default:St(()=>[NE]),_:2},1032,["onDoubleclick"]),l("button",{class:"button is-small",onClick:De=>A(le)},BE,8,LE)])],512),[[wo,!$(G)]])]),_:1},8,["model-value"])],512)])):(g(),_("div",HE," No commands set up ")),u.value!==null&&c.value?(g(),Ee(X$,{key:2,"global-variables":e.globalVariables,"channel-points-custom-rewards":e.channelPointsCustomRewards,"model-value":c.value,mode:u.value>=r.value.length?"create":"edit","base-volume":e.baseVolume,"widget-url":e.widgetUrl,onSave:O,onSaveAndClose:B,onCancel:M[5]||(M[5]=G=>c.value=null)},null,8,["global-variables","channel-points-custom-rewards","model-value","mode","base-volume","widget-url"])):Y("",!0)])}}});var Uf=dt(WE,[["__scopeId","data-v-5ce6484b"]]);const jE={class:"view"},zE={id:"top",ref:"top"},KE={id:"main",ref:"main"},GE={class:"tabs"},JE=["onClick"],YE=["href"],XE={key:1},QE={key:0,ref:"table",class:"table is-striped"},ZE=l("td",null,[l("code",null,"settings.volume")],-1),qE=l("td",null,"Base volume for all media playing from commands",-1),e2=ce({__name:"CommandsView",setup(e){const t=x([]),n=x(Or()),s=x(e0()),o=x([]),i=x({});let a=null;const r=[Pe.TEXT],u=[_e.VARIABLE_CHANGE,_e.CHAT,_e.DICT_LOOKUP,_e.EMOTES,_e.MEDIA,_e.MADOCHAN,_e.SET_CHANNEL_TITLE,_e.SET_CHANNEL_GAME_ID,_e.ADD_STREAM_TAGS,_e.REMOVE_STREAM_TAGS,_e.CHATTERS,_e.COUNTDOWN,_e.MEDIA_VOLUME],c=[{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"}],h=x(!1),d=x("commands"),f=x(""),m=pe(()=>n.value.volume),p=b=>{s.value.showImages=b,v()},v=()=>{w({event:"save",commands:t.value,settings:n.value,adminSettings:s.value})},w=b=>{if(!a){console.warn("sendMsg: this.ws not initialized");return}a.send(JSON.stringify(b))};return ot(()=>{a=zs.wsClient("general"),a.onMessage("init",b=>{t.value=b.commands,n.value=b.settings,f.value=b.mediaWidgetUrl,s.value=b.adminSettings,o.value=b.globalVariables,i.value=b.channelPointsCustomRewards,h.value=!0}),a.connect()}),Ct(()=>{a&&a.disconnect()}),(b,y)=>(g(),_("div",jE,[l("div",zE,[U(ns)],512),l("div",KE,[l("div",GE,[l("ul",null,[(g(),_(re,null,ye(c,(S,$)=>l("li",{key:$,class:Oe({"is-active":d.value===S.tab}),onClick:I=>d.value=S.tab},[l("a",null,Q(S.title),1)],10,JE)),64)),l("li",null,[l("a",{class:"button is-small mr-1",href:f.value,target:"_blank"},"Open Media widget",8,YE)])])]),h.value&&d.value==="commands"?(g(),Ee(Uf,{key:0,modelValue:t.value,"onUpdate:modelValue":[y[0]||(y[0]=S=>t.value=S),v],"global-variables":o.value,"channel-points-custom-rewards":i.value,"possible-actions":r,"possible-effects":u,"base-volume":J(m),"show-toggle-images":!0,"show-filters":!0,"widget-url":f.value,"show-images":s.value.showImages,onShowImagesChange:p},null,8,["modelValue","global-variables","channel-points-custom-rewards","base-volume","widget-url","show-images"])):Y("",!0),h.value&&d.value==="settings"?(g(),_("div",XE,[n.value?(g(),_("table",QE,[l("tbody",null,[l("tr",null,[ZE,l("td",null,[U(Ha,{modelValue:n.value.volume,"onUpdate:modelValue":[y[1]||(y[1]=S=>n.value.volume=S),v]},null,8,["modelValue"])]),qE])])],512)):Y("",!0)])):Y("",!0)],512)]))}}),t2=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath}:null,n2=e=>e?{file:e.file,filename:e.filename,urlpath:!e.urlpath&&e.file?`/uploads/${encodeURIComponent(e.file)}`:e.urlpath,volume:e.volume}:null,Ju=(e=null)=>({submitButtonText:ue(e,["submitButtonText"],"Submit"),submitConfirm:ue(e,["submitConfirm"],""),recentImagesTitle:ue(e,["recentImagesTitle"],""),canvasWidth:ue(e,["canvasWidth"],720),canvasHeight:ue(e,["canvasHeight"],405),customDescription:ue(e,["customDescription"],""),customProfileImage:!e||typeof e.customProfileImage=="undefined"?null:t2(e.customProfileImage),palette:ue(e,["palette"],["#000000","#808080","#ff0000","#ff8000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff8080","#80ff80","#ffffff","#c0c0c0","#800000","#804000","#808000","#008000","#008080","#000080","#800080","#8080ff","#ffff80"]),displayDuration:ue(e,["displayDuration"],5e3),displayLatestForever:ue(e,["displayLatestForever"],!1),displayLatestAutomatically:ue(e,["displayLatestAutomatically"],!1),autofillLatest:ue(e,["autofillLatest"],!1),notificationSound:!e||typeof e.notificationSound=="undefined"?null:n2(e.notificationSound),requireManualApproval:ue(e,["requireManualApproval"],!1),favoriteLists:ue(e,["favoriteLists"],[{list:ue(e,["favorites"],[]),title:ue(e,["favoriteImagesTitle"],"")}])});const s2=ce({components:{CheckboxInput:Bn,DoubleclickButton:Ks,ImageUpload:hs,IntegerInput:kr,NavbarElement:ns,SoundUpload:hs,StringInput:ut},data:()=>({unchangedJson:"{}",changedJson:"{}",inited:!1,settings:Ju(),defaultSettings:Ju(),ws:null,drawUrl:"",notificationSoundAudio:null,manualApproval:{hovered:"",items:[]},favoriteSelection:{hovered:"",items:[],pagination:{page:1,perPage:20}},controlWidgetUrl:"",receiveWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson},favoriteSelectionTotalPages(){return Math.floor(this.favoriteSelection.items.length/this.favoriteSelection.pagination.perPage)+(this.favoriteSelection.items.length%this.favoriteSelection.pagination.perPage===0?0:1)},currentFavoriteSelectionItems(){const e=(this.favoriteSelection.pagination.page-1)*this.favoriteSelection.pagination.perPage;return this.favoriteSelection.items.slice(e,e+this.favoriteSelection.pagination.perPage)}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async created(){this.ws=zs.wsClient("drawcast"),this.ws.onMessage("init",async e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.drawUrl=e.drawUrl,this.controlWidgetUrl=e.controlWidgetUrl,this.receiveWidgetUrl=e.receiveWidgetUrl;const n=await(await At.getDrawcastAllImages()).json();this.favoriteSelection.items=n.map(s=>s.path),this.settings.notificationSound&&(this.notificationSoundAudio=new Audio(this.settings.notificationSound.urlpath),this.notificationSoundAudio.volume=this.settings.notificationSound.volume/100),this.manualApproval.items=n.filter(s=>!s.approved).map(s=>s.path),this.inited=!0}),this.ws.onMessage("approved_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice()}),this.ws.onMessage("image_deleted",e=>{this.settings.favoriteLists=this.settings.favoriteLists.map(t=>(t.list=t.list.filter(n=>n!==e.img),t)),this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("denied_image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img)}),this.ws.onMessage("image_received",e=>{this.favoriteSelection.items=this.favoriteSelection.items.filter(t=>t!==e.img),this.manualApproval.items=this.manualApproval.items.filter(t=>t!==e.img),this.favoriteSelection.items.unshift(e.img),this.favoriteSelection.items=this.favoriteSelection.items.slice(),this.manualApproval.items.push(e.img),this.manualApproval.items=this.manualApproval.items.slice(),e.mayNotify&&this.notificationSoundAudio&&this.notificationSoundAudio.play()}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{deleteImage(e){this.sendMsg({event:"delete_image",path:e})},approveImage(e){this.sendMsg({event:"approve_image",path:e})},denyImage(e){this.sendMsg({event:"deny_image",path:e})},addFavoriteList(){if(!this.settings){console.warn("addFavoriteList: this.settings not initialized");return}this.settings.favoriteLists.push({list:[],title:""})},moveFavoriteListUp(e){this.swapItems(e-1,e)},moveFavoriteListDown(e){this.swapItems(e+1,e)},swapItems(e,t){Na(this.settings.favoriteLists,e,t)},removeFavoriteList(e){if(!this.settings){console.warn("removeFavoriteList: this.settings not initialized");return}const t=[];for(let n in this.settings.favoriteLists)parseInt(n,10)!==parseInt(`${e}`,10)&&t.push(this.settings.favoriteLists[n]);this.settings.favoriteLists=t},toggleFavorite(e,t){if(!this.settings){console.warn("toggleFavorite: this.settings not initialized");return}this.settings.favoriteLists[e].list.includes(t)?this.settings.favoriteLists[e].list=this.settings.favoriteLists[e].list.filter(n=>n!==t):this.settings.favoriteLists[e].list.push(t)},customProfileImageChanged(e){if(!this.settings){console.warn("customProfileImageChanged: this.settings not initialized");return}this.settings.customProfileImage=e.file?e:null},notificationSoundChanged(e){if(!this.settings){console.warn("notificationSoundChanged: this.settings not initialized");return}this.settings.notificationSound=e.file?e:null},sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:{canvasWidth:parseInt(`${this.settings.canvasWidth}`,10)||720,canvasHeight:parseInt(`${this.settings.canvasHeight}`,10)||405,submitButtonText:this.settings.submitButtonText,submitConfirm:this.settings.submitConfirm,recentImagesTitle:this.settings.recentImagesTitle,customDescription:this.settings.customDescription,customProfileImage:this.settings.customProfileImage,palette:this.settings.palette,displayDuration:parseInt(`${this.settings.displayDuration}`,10)||5e3,displayLatestForever:this.settings.displayLatestForever,displayLatestAutomatically:this.settings.displayLatestAutomatically,autofillLatest:this.settings.autofillLatest,requireManualApproval:this.settings.requireManualApproval,notificationSound:this.settings.notificationSound,favoriteLists:this.settings.favoriteLists}})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),o2={class:"view"},l2={id:"top",ref:"top"},a2={id:"actionbar",class:"p-1"},i2=["disabled"],r2=["href"],u2=["href"],c2={id:"main",ref:"main"},d2={key:0,ref:"table",class:"table is-striped"},f2=l("tr",null,[l("td",{colspan:"3"}," General ")],-1),h2=l("td",null,[l("code",null,"settings.canvasWidth")],-1),m2=l("td",null,[R(" Width of the drawing area."),l("br"),R(" Caution: changing this will clear the area for currenty connected users. ")],-1),p2=l("td",null,[l("code",null,"settings.canvasHeight")],-1),v2=l("td",null,[R(" Height of the drawing area."),l("br"),R(" Caution: changing this will clear the area for currenty connected users. ")],-1),g2=l("td",null,[l("code",null,"settings.displayDuration")],-1),y2=l("td",null," The duration in Milliseconds that each drawing will be shown ",-1),b2=l("td",null,[l("code",null,"settings.requireManualApproval")],-1),w2=l("td",null," If checked, new drawings need to be approved before being displayed for anyone. ",-1),_2=l("br",null,null,-1),S2=["href"],$2={key:0},C2={class:"card-body"},E2=["src"],T2={class:"card-footer"},I2=["onClick"],D2=["onClick"],A2={key:1},k2=l("td",null,null,-1),O2=l("td",null,[l("code",null,"settings.displayLatestForever")],-1),V2=l("td",null,"If checked, the latest drawing will be shown indefinately.",-1),x2=l("td",null,[l("code",null,"settings.displayLatestAutomatically")],-1),P2=l("td",null," If checked, the latest drawing will be shown in widget automatically. ",-1),R2=l("td",null,[l("code",null,"settings.autofillLatest")],-1),M2=l("td",null," Fill the latest submitted drawing into the draw panel when opening the draw page. ",-1),U2=l("td",null,[l("code",null,"settings.submitButtonText")],-1),N2=l("td",null,null,-1),L2=l("td",null,[l("code",null,"settings.submitConfirm")],-1),F2=l("td",null," Leave empty if no confirm is required by user before sending. ",-1),B2=l("td",null,[l("code",null,"settings.recentImagesTitle")],-1),H2=l("td",null,"Title for the recently submitted images gallery.",-1),W2=l("td",null,[l("code",null,"settings.customDescription")],-1),j2=l("td",null,"Description text below the drawing panel.",-1),z2=l("td",null,[l("code",null,"settings.customProfileImage")],-1),K2=l("td",null,[R(" Profile image that will be displayed next to the "),l("code",null,"settings.customDescription"),R(". ")],-1),G2=l("td",null,[l("code",null,"settings.palette")],-1),J2=["onUpdate:modelValue"],Y2=l("br",null,null,-1),X2=l("br",null,null,-1),Q2=l("td",null,[R(" Default colors appearing on the draw page."),l("br"),R(" Caution: Changing this will change selected color for currenty connected users. ")],-1),Z2=l("td",null,[l("code",null,"settings.notificationSound")],-1),q2=l("td",null,[R(" Add a sound here that plays when new drawings arrive. "),l("br"),R(" This is played in this window, if approval is necessary, otherwise it will play in the display widget. It won't play in the draw widget. ")],-1),eT=l("div",null,[l("code",null,"settings.favoriteLists")],-1),tT={class:"preview"},nT=["src"],sT={key:0},oT=["onClick"],lT=l("i",{class:"fa fa-chevron-up"},null,-1),aT=[lT],iT=["onClick"],rT=l("i",{class:"fa fa-chevron-down"},null,-1),uT=[rT],cT=["onClick"],dT=l("i",{class:"fa fa-trash"},null,-1),fT=[dT],hT=l("td",null,"Title:",-1),mT=l("td",null,"Currently selected favorites:",-1),pT={class:"favorites"},vT=["src","onClick","onMouseover"],gT=l("td",null,"All images:",-1),yT={class:"favorites-select"},bT=["src","onMouseover"],wT={class:"buttons"},_T=["onClick"],ST=l("i",{class:"fa fa-trash"},null,-1),$T=["disabled"],CT=["disabled"],ET=l("td",null," The favorites will always be displayed at the beginning of the gallery in the draw widget. ",-1);function TT(e,t,n,s,o,i){const a=st("NavbarElement"),r=st("IntegerInput"),u=st("CheckboxInput"),c=st("StringInput"),h=st("ImageUpload"),d=st("SoundUpload"),f=st("DoubleclickButton");return g(),_("div",o2,[l("div",l2,[U(a),l("div",a2,[l("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...m)=>e.sendSave&&e.sendSave(...m))}," Save ",8,i2),l("a",{class:"button is-small mr-1",href:e.receiveWidgetUrl,target:"_blank"},"Open widget",8,r2),l("a",{class:"button is-small",href:e.drawUrl,target:"_blank"},"Open draw",8,u2)])],512),l("div",c2,[e.inited?(g(),_("table",d2,[l("tbody",null,[f2,l("tr",null,[h2,l("td",null,[U(r,{modelValue:e.settings.canvasWidth,"onUpdate:modelValue":t[1]||(t[1]=m=>e.settings.canvasWidth=m)},null,8,["modelValue"])]),m2]),l("tr",null,[p2,l("td",null,[U(r,{modelValue:e.settings.canvasHeight,"onUpdate:modelValue":t[2]||(t[2]=m=>e.settings.canvasHeight=m)},null,8,["modelValue"])]),v2]),l("tr",null,[g2,l("td",null,[U(r,{modelValue:e.settings.displayDuration,"onUpdate:modelValue":t[3]||(t[3]=m=>e.settings.displayDuration=m)},null,8,["modelValue"])]),y2]),l("tr",null,[b2,l("td",null,[U(u,{modelValue:e.settings.requireManualApproval,"onUpdate:modelValue":t[4]||(t[4]=m=>e.settings.requireManualApproval=m)},null,8,["modelValue"])]),w2]),l("tr",null,[l("td",null,[R(" Pending approval "),_2,l("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open in separate tab",8,S2)]),l("td",null,[e.manualApproval.items.length?(g(),_("div",$2,[(g(!0),_(re,null,ye(e.manualApproval.items,(m,p)=>(g(),_("div",{key:p,class:"image-to-approve card mr-1"},[l("div",C2,[l("img",{src:m,width:"250",class:"thumbnail mr-1"},null,8,E2)]),l("div",T2,[l("span",{class:"card-footer-item button is-small is-success is-light",onClick:v=>e.approveImage(m)}," Approve! ",8,I2),l("span",{class:"card-footer-item button is-small is-danger is-light",onClick:v=>e.denyImage(m)}," Deny! ",8,D2)])]))),128))])):(g(),_("div",A2," Currently there are no drawings awaiting approval. "))]),k2]),l("tr",null,[O2,l("td",null,[U(u,{modelValue:e.settings.displayLatestForever,"onUpdate:modelValue":t[5]||(t[5]=m=>e.settings.displayLatestForever=m)},null,8,["modelValue"])]),V2]),l("tr",null,[x2,l("td",null,[U(u,{modelValue:e.settings.displayLatestAutomatically,"onUpdate:modelValue":t[6]||(t[6]=m=>e.settings.displayLatestAutomatically=m)},null,8,["modelValue"])]),P2]),l("tr",null,[R2,l("td",null,[U(u,{modelValue:e.settings.autofillLatest,"onUpdate:modelValue":t[7]||(t[7]=m=>e.settings.autofillLatest=m)},null,8,["modelValue"])]),M2]),l("tr",null,[U2,l("td",null,[U(c,{modelValue:e.settings.submitButtonText,"onUpdate:modelValue":t[8]||(t[8]=m=>e.settings.submitButtonText=m)},null,8,["modelValue"])]),N2]),l("tr",null,[L2,l("td",null,[U(c,{modelValue:e.settings.submitConfirm,"onUpdate:modelValue":t[9]||(t[9]=m=>e.settings.submitConfirm=m)},null,8,["modelValue"])]),F2]),l("tr",null,[B2,l("td",null,[U(c,{modelValue:e.settings.recentImagesTitle,"onUpdate:modelValue":t[10]||(t[10]=m=>e.settings.recentImagesTitle=m)},null,8,["modelValue"])]),H2]),l("tr",null,[W2,l("td",null,[ve(l("textarea",{"onUpdate:modelValue":t[11]||(t[11]=m=>e.settings.customDescription=m),class:"textarea"},null,512),[[Ve,e.settings.customDescription]])]),j2]),l("tr",null,[z2,l("td",null,[U(h,{modelValue:e.settings.customProfileImage,"onUpdate:modelValue":[t[12]||(t[12]=m=>e.settings.customProfileImage=m),e.customProfileImageChanged],width:"100px",height:"50px",class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),K2]),l("tr",null,[G2,l("td",null,[(g(!0),_(re,null,ye(e.settings.palette,(m,p)=>(g(),_("label",{key:p,class:"square"},[ve(l("input",{"onUpdate:modelValue":v=>e.settings.palette[p]=v,type:"color"},null,8,J2),[[Ve,e.settings.palette[p]]]),l("span",{class:"square-inner",style:at({backgroundColor:m})},null,4)]))),128)),Y2,X2,l("button",{class:"button is-small",onClick:t[13]||(t[13]=m=>e.settings.palette=e.defaultSettings.palette)}," Reset to default palette ")]),Q2]),l("tr",null,[Z2,l("td",null,[U(d,{modelValue:e.settings.notificationSound,"onUpdate:modelValue":[t[14]||(t[14]=m=>e.settings.notificationSound=m),e.notificationSoundChanged],class:"spacerow media-holder"},null,8,["modelValue","onUpdate:modelValue"])]),q2]),l("tr",null,[l("td",null,[eT,l("div",null,[l("span",{class:"button is-small",onClick:t[15]||(t[15]=(...m)=>e.addFavoriteList&&e.addFavoriteList(...m))},"Add a list")]),l("div",tT,[e.favoriteSelection.hovered?(g(),_("img",{key:0,src:e.favoriteSelection.hovered},null,8,nT)):Y("",!0)])]),l("td",null,[(g(!0),_(re,null,ye(e.settings.favoriteLists,(m,p)=>(g(),_("div",{key:p,class:"card p-2 mb-2"},[e.settings.favoriteLists.length>1?(g(),_("div",sT,[l("span",{class:Oe(["button is-small ml-1",{"is-disabled":p>0}]),onClick:v=>e.moveFavoriteListUp(p)},aT,10,oT),l("span",{class:Oe(["button is-small ml-1",{"is-disabled":p<e.settings.favoriteLists.length-1}]),onClick:v=>e.moveFavoriteListDown(p)},uT,10,iT),l("span",{class:"button is-small ml-1",onClick:v=>e.removeFavoriteList(p)},fT,8,cT)])):Y("",!0),l("table",null,[l("tr",null,[hT,l("td",null,[U(c,{modelValue:m.title,"onUpdate:modelValue":v=>m.title=v},null,8,["modelValue","onUpdate:modelValue"])])]),l("tr",null,[mT,l("td",null,[l("div",pT,[(g(!0),_(re,null,ye(m.list,(v,w)=>(g(),_("img",{key:w,src:v,width:"50",height:"50",class:"thumbnail is-favorited mr-1",onClick:b=>e.toggleFavorite(p,v),onMouseover:b=>e.favoriteSelection.hovered=v,onMouseleave:t[16]||(t[16]=b=>e.favoriteSelection.hovered="")},null,40,vT))),128))])])]),l("tr",null,[gT,l("td",null,[l("div",yT,[(g(!0),_(re,null,ye(e.currentFavoriteSelectionItems,(v,w)=>(g(),_("div",{key:w,class:"favorites-select-image"},[l("img",{src:v,width:"100",height:"100",class:Oe(["thumbnail mr-1",{"is-favorited":m.list.includes(v)}]),onMouseover:b=>e.favoriteSelection.hovered=v,onMouseleave:t[17]||(t[17]=b=>e.favoriteSelection.hovered="")},null,42,bT),l("div",wT,[l("span",{class:"button is-small",onClick:b=>e.toggleFavorite(p,v)},[l("i",{class:Oe(["fa fa-star",{"has-text-warning":m.list.includes(v)}])},null,2)],8,_T),U(f,{class:"button is-small",message:"Are you sure?",timeout:1e3,onDoubleclick:b=>e.deleteImage(v)},{default:St(()=>[ST]),_:2},1032,["onDoubleclick"])])]))),128))]),l("span",{class:"button is-small mr-1",disabled:e.favoriteSelection.pagination.page>1?void 0:!0,onClick:t[18]||(t[18]=v=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page-1)},"Prev",8,$T),l("span",{class:"button is-small",disabled:e.favoriteSelection.pagination.page<e.favoriteSelectionTotalPages?void 0:!0,onClick:t[19]||(t[19]=v=>e.favoriteSelection.pagination.page=e.favoriteSelection.pagination.page+1)},"Next",8,CT)])])])]))),128))]),ET])])],512)):Y("",!0)],512)])}var IT=dt(s2,[["render",TT]]);const DT=ce({components:{NavbarElement:ns},data:()=>({widgets:[],toast:_f()}),async created(){const e=await At.getPageIndexData();if(e.status!==200){this.$router.push({name:"login"});return}const t=await e.json();this.widgets=t.widgets},methods:{async newUrl(e){const t=await At.createWidgetUrl({type:e.type,pub:e.pub});if(t.status===200)try{const n=await t.json();n.url&&(this.widgets=this.widgets.map(s=>(s.type===e.type&&(s.url=n.url),s))),this.toast.success("New URL created")}catch{this.toast.error("New URL couldn't be created")}else this.toast.error("New URL couldn't be created")}}}),AT={key:0,class:"view"},kT={id:"top",ref:"top"},OT={id:"main",ref:"main"},VT={class:"table is-striped is-fullwidth"},xT=l("thead",null,[l("tr",null,[l("th",null,"Widget"),l("th",null,"Hint"),l("th")])],-1),PT=["href"],RT=["onClick"];function MT(e,t,n,s,o,i){const a=st("NavbarElement");return e.widgets?(g(),_("div",AT,[l("div",kT,[U(a)],512),l("div",OT,[l("table",VT,[xT,l("tbody",null,[(g(!0),_(re,null,ye(e.widgets,(r,u)=>(g(),_("tr",{key:u},[l("td",null,[l("a",{href:r.url,target:"blank"},Q(r.title),9,PT)]),l("td",null,Q(r.hint),1),l("td",null,[l("span",{class:"button is-small ml-1",onClick:c=>e.newUrl(r)},"Generate new url",8,RT)])]))),128))])])],512)])):Y("",!0)}var UT=dt(DT,[["render",MT]]);const NT=e=>{const t=["analytics:read:extensions","analytics:read:games","bits:read","channel:edit:commercial","channel:manage:broadcast","channel:manage:extensions","channel:manage:redemptions","channel:manage:videos","channel:read:editors","channel:read:hype_train","channel:read:redemptions","channel:read:stream_key","channel:read:subscriptions","clips:edit","moderation:read","user:edit","user:edit:follows","user:read:blocked_users","user:manage:blocked_users","user:read:broadcast","user:read:email"],n=document.location,s=`${n.protocol}//${n.host}/twitch/redirect_uri`;return`https://id.twitch.tv/oauth2/authorize?response_type=code&client_id=${e}&redirect_uri=${s}&scope=${t.join("+")}`};var LT={accessTokenLink:NT};const Hi={data:{registeredUserCount:0,streamingUserCount:0}},FT=async()=>{try{const t=await(await At.getDataGlobal()).json();Hi.data.registeredUserCount=t.registeredUserCount,Hi.data.streamingUserCount=t.streamingUserCount}catch(e){console.error(e)}};var Nf={getData:()=>Hi.data,init:FT};const BT={key:0,class:"field has-text-grey-light"},HT={key:1,class:"field has-text-grey-light"},WT=ce({__name:"GlobalUserInfo",setup(e){const t=Nf.getData();return(n,s)=>(g(),_(re,null,[J(t).registeredUserCount?(g(),_("div",BT," There are currently "+Q(J(t).registeredUserCount)+" streamer"+Q(J(t).registeredUserCount>1?"s":"")+" registered \u2728. ",1)):Y("",!0),J(t).streamingUserCount?(g(),_("div",HT,Q(J(t).streamingUserCount)+" streamer "+Q(J(t).streamingUserCount>1?"are":"is")+" live right now. ",1)):Y("",!0)],64))}}),jT={class:"view center-screen mt-2"},zT=l("h1",{class:"title is-4"}," Hyottoko.club ",-1),KT={class:"field"},GT=["href"],JT=l("span",{class:"icon is-left"},[l("i",{class:"fa fa-twitch"})],-1),XT=l("span",null,"Login with Twitch",-1),QT=[JT,XT],ZT=ce({__name:"LoginView",setup(e){const t=LT.accessTokenLink(Ar.getConf().twitchClientId);return(n,s)=>(g(),_("div",jT,[zT,l("form",null,[l("div",KT,[l("a",{class:"button is-twitch is-fullwidth",href:J(t)},QT,8,GT)]),U(WT)])]))}}),zl=(e=null)=>({chatMessage:ue(e,["chatMessage"],""),sound:ue(e,["sound"],{file:"",filename:"",urlpath:"",volume:100})}),Lf=(e=null)=>({effect:zl(ue(e,["effect"],null)),offsetMs:ue(e,["offsetMs"],"")}),qT=(e=null)=>({fontFamily:ue(e,["fontFamily"],""),fontSize:ue(e,["fontSize"],"72px"),color:ue(e,["color"],""),timerFormat:ue(e,["timerFormat"],"{mm}:{ss}"),showTimerWhenFinished:ue(e,["showTimerWhenFinished"],!0),finishedText:ue(e,["finishedText"],""),startEffect:zl(ue(e,["startEffect"],null)),endEffect:zl(ue(e,["endEffect"],null)),stopEffect:zl(ue(e,["stopEffect"],null)),notifications:ue(e,["notifications"],[]).map(Lf)}),eI={class:"view"},tI={id:"top",ref:"top"},nI={id:"actionbar",class:"p-1"},sI=["disabled"],oI=["href"],lI={id:"main",ref:"main"},aI={key:0,ref:"table",class:"table is-striped"},iI=l("tr",null,[l("td",{colspan:"2"}," Pomo ")],-1),rI=l("td",null,[l("code",null,"settings.color")],-1),uI=l("td",null,"The text color in the widget.",-1),cI=l("td",null,[l("code",null,"settings.fontFamily")],-1),dI=l("td",null,"The font in the widget.",-1),fI=l("td",null,[l("code",null,"settings.fontSize")],-1),hI=l("td",null,[R(" The text size in the widget, for example "),l("code",null,"12px"),R(", "),l("code",null,"20pt"),R(". ")],-1),mI=l("td",null,[l("code",null,"settings.timerFormat")],-1),pI=l("td",null,[R(" Format of the timer, you can use the following placeholders: "),l("code",{innerHTML:"{{hh}}"}),R(" for hours, "),l("code",{innerHTML:"{{mm}}"}),R(" for minutes, "),l("code",{innerHTML:"{{ss}}"}),R(" for seconds. ")],-1),vI=l("td",null,[l("code",null,"settings.finishedText")],-1),gI=l("td",null,"Text that is displayed when the timer reaches 0.",-1),yI=l("td",null,[l("code",null,"settings.showTimerWhenFinished")],-1),bI=l("td",null," If enabled, the timer will be displayed even when it reached 0. ",-1),wI=l("td",null,[l("code",null,"settings.startEffect.chatMessage")],-1),_I=l("td",null,"Chat message that is sent when pomo is started.",-1),SI=l("td",null,[l("code",null,"settings.startEffect.sound")],-1),$I=l("td",null,"Sound that will be displayed when pomo is started.",-1),CI=l("td",null,[l("code",null,"settings.endEffect.chatMessage")],-1),EI=l("td",null,"Chat message that is sent when pomo reaches 0.",-1),TI=l("td",null,[l("code",null,"settings.endEffect.sound")],-1),II=l("td",null,"Sound that will be displayed when pomo reaches 0.",-1),DI=l("td",null,[l("code",null,"settings.stopEffect.chatMessage")],-1),AI=l("td",null," Chat message that is sent when pomo is stopped (via pomo exit). ",-1),kI=l("td",null,[l("code",null,"settings.stopEffect.sound")],-1),OI=l("td",null," Sound that will be displayed when pomo is stopped (via pomo exit). ",-1),VI=l("code",null,"settings.notifications",-1),xI=["onClick"],PI=l("td",null,[l("code",null,"offsetMs")],-1),RI=l("td",null," Offset to the end of pomo. Negative offset means time before end of pomo. ",-1),MI=l("td",null,[l("code",null,"chatMessage")],-1),UI=l("td",null,"Chat message sent at the set offset.",-1),NI=l("td",null,[l("code",null,"sound")],-1),LI=l("td",null,"Sound played at the set offset.",-1),FI=ce({__name:"PomoModuleView",setup(e){let t=null;const n=x("{}"),s=x("{}"),o=x(qT()),i=x(!1),a=x(""),r=pe(()=>n.value!==s.value),u=f=>{if(!t){console.warn("sendMsg: ws not initialized");return}t.send(JSON.stringify(f))},c=()=>{u({event:"save",settings:o.value})},h=()=>{o.value.notifications.push(Lf())},d=f=>{o.value.notifications=o.value.notifications.filter((m,p)=>p!==f)};return Ge(o,f=>{s.value=JSON.stringify(f)},{deep:!0}),ot(()=>{t=zs.wsClient("pomo"),t.onMessage("init",f=>{o.value=f.settings,n.value=JSON.stringify(f.settings),a.value=f.widgetUrl,i.value=!0}),t.connect()}),Ct(()=>{t&&t.disconnect()}),(f,m)=>(g(),_("div",eI,[l("div",tI,[U(ns),l("div",nI,[l("button",{class:"button is-small is-primary mr-1",disabled:!J(r),onClick:c}," Save ",8,sI),l("a",{class:"button is-small mr-1",href:a.value,target:"_blank"},"Open widget",8,oI)])],512),l("div",lI,[i.value?(g(),_("table",aI,[l("tbody",null,[iI,l("tr",null,[rI,l("td",null,[ve(l("input",{"onUpdate:modelValue":m[0]||(m[0]=p=>o.value.color=p),class:"input is-small",type:"color"},null,512),[[Ve,o.value.color]])]),uI]),l("tr",null,[cI,l("td",null,[U(ut,{modelValue:o.value.fontFamily,"onUpdate:modelValue":m[1]||(m[1]=p=>o.value.fontFamily=p)},null,8,["modelValue"])]),dI]),l("tr",null,[fI,l("td",null,[U(ut,{modelValue:o.value.fontSize,"onUpdate:modelValue":m[2]||(m[2]=p=>o.value.fontSize=p)},null,8,["modelValue"])]),hI]),l("tr",null,[mI,l("td",null,[U(ut,{modelValue:o.value.timerFormat,"onUpdate:modelValue":m[3]||(m[3]=p=>o.value.timerFormat=p)},null,8,["modelValue"])]),pI]),l("tr",null,[vI,l("td",null,[U(ut,{modelValue:o.value.finishedText,"onUpdate:modelValue":m[4]||(m[4]=p=>o.value.finishedText=p)},null,8,["modelValue"])]),gI]),l("tr",null,[yI,l("td",null,[U(Bn,{modelValue:o.value.showTimerWhenFinished,"onUpdate:modelValue":m[5]||(m[5]=p=>o.value.showTimerWhenFinished=p)},null,8,["modelValue"])]),bI]),l("tr",null,[wI,l("td",null,[U(ut,{modelValue:o.value.startEffect.chatMessage,"onUpdate:modelValue":m[6]||(m[6]=p=>o.value.startEffect.chatMessage=p)},null,8,["modelValue"])]),_I]),l("tr",null,[SI,l("td",null,[U(hs,{modelValue:o.value.startEffect.sound,"onUpdate:modelValue":m[7]||(m[7]=p=>o.value.startEffect.sound=p),"base-volume":100},null,8,["modelValue"])]),$I]),l("tr",null,[CI,l("td",null,[U(ut,{modelValue:o.value.endEffect.chatMessage,"onUpdate:modelValue":m[8]||(m[8]=p=>o.value.endEffect.chatMessage=p)},null,8,["modelValue"])]),EI]),l("tr",null,[TI,l("td",null,[U(hs,{modelValue:o.value.endEffect.sound,"onUpdate:modelValue":m[9]||(m[9]=p=>o.value.endEffect.sound=p),"base-volume":100},null,8,["modelValue"])]),II]),l("tr",null,[DI,l("td",null,[U(ut,{modelValue:o.value.stopEffect.chatMessage,"onUpdate:modelValue":m[10]||(m[10]=p=>o.value.stopEffect.chatMessage=p)},null,8,["modelValue"])]),AI]),l("tr",null,[kI,l("td",null,[U(hs,{modelValue:o.value.stopEffect.sound,"onUpdate:modelValue":m[11]||(m[11]=p=>o.value.stopEffect.sound=p),"base-volume":100},null,8,["modelValue"])]),OI]),l("tr",null,[l("td",null,[VI,l("span",{class:"button is-small",onClick:h},"Add notification")]),l("td",null,[(g(!0),_(re,null,ye(o.value.notifications,(p,v)=>(g(),_("div",{key:v},[l("span",{class:"button is-small",onClick:w=>d(v)},"Remove",8,xI),l("table",null,[l("tr",null,[PI,l("td",null,[U(Dn,{modelValue:p.offsetMs,"onUpdate:modelValue":w=>p.offsetMs=w,"allow-negative":!0},null,8,["modelValue","onUpdate:modelValue"])]),RI]),l("tr",null,[MI,l("td",null,[U(ut,{modelValue:p.effect.chatMessage,"onUpdate:modelValue":w=>p.effect.chatMessage=w},null,8,["modelValue","onUpdate:modelValue"])]),UI]),l("tr",null,[NI,l("td",null,[U(hs,{modelValue:p.effect.sound,"onUpdate:modelValue":w=>p.effect.sound=w,"base-volume":100},null,8,["modelValue","onUpdate:modelValue"])]),LI])])]))),128))])])])],512)):Y("",!0)],512)]))}}),BI={class:"view"},HI={id:"top",ref:"top"},WI={id:"actionbar",class:"p-1"},jI=["disabled"],zI={id:"main"},KI={class:"mb-4"},GI=l("h1",{class:"title mb-2"}," User ",-1),JI={class:"table is-striped"},YI=l("td",null,"Name:",-1),XI=l("td",null,"Email:",-1),QI=l("td",null,"Twitch Id:",-1),ZI=l("td",null,"Twitch Login:",-1),qI=l("td",null,"Bot enabled:",-1),e3=l("td",null,"Bot status messages:",-1),t3={key:0,class:"mb-4"},n3=l("h1",{class:"title mb-2"}," Twitch-Bot ",-1),s3=l("p",null,[R(" Please refer to "),l("a",{href:"https://dev.twitch.tv/docs/irc/#building-the-bot",target:"_blank"},"building the bot"),R(". ")],-1),o3={class:"table is-striped"},l3=l("td",null,"Bot name:",-1),a3=l("td",null,"Bot oauth (pass):",-1),i3=l("td",null,"Bot client_id:",-1),r3=l("td",null,"Bot client_secret:",-1),u3=ce({__name:"SettingsView",setup(e){const t=Cr(),n=x("[]"),s=x("[]"),o=x({id:0,twitch_id:"",twitch_login:"",name:"",email:"",groups:[],tmi_identity_client_id:"",tmi_identity_client_secret:"",tmi_identity_password:"",tmi_identity_username:"",bot_enabled:!1,bot_status_messages:!1}),i=pe(()=>o.value.groups.includes("admin")),a=pe(()=>n.value!==s.value),r=()=>{s.value=JSON.stringify({user:o.value})},u=()=>{n.value=JSON.stringify({user:o.value}),s.value=n.value},c=async()=>{await At.saveUserSettings({user:o.value}),u()};return Ge(o,()=>{r()},{deep:!0}),ot(async()=>{const h=await At.getPageSettingsData();if(h.status!==200){t.push({name:"login"});return}const d=await h.json();o.value=d.user,u()}),(h,d)=>(g(),_("div",BI,[l("div",HI,[U(ns),l("div",WI,[l("button",{class:"button is-small is-primary",disabled:!J(a),onClick:c}," Save ",8,jI)])],512),l("div",zI,[l("div",KI,[GI,l("table",JI,[l("tbody",null,[l("tr",null,[YI,l("td",null,Q(o.value.name),1)]),l("tr",null,[XI,l("td",null,Q(o.value.email),1)]),l("tr",null,[QI,l("td",null,Q(o.value.twitch_id),1)]),l("tr",null,[ZI,l("td",null,Q(o.value.twitch_login),1)]),l("tr",null,[qI,l("td",null,[ve(l("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>o.value.bot_enabled=f),type:"checkbox"},null,512),[[qn,o.value.bot_enabled]])])]),l("tr",null,[e3,l("td",null,[ve(l("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>o.value.bot_status_messages=f),type:"checkbox"},null,512),[[qn,o.value.bot_status_messages]])])])])])]),J(i)?(g(),_("div",t3,[n3,s3,l("table",o3,[l("tbody",null,[l("tr",null,[l3,l("td",null,[U(ut,{modelValue:o.value.tmi_identity_username,"onUpdate:modelValue":d[2]||(d[2]=f=>o.value.tmi_identity_username=f)},null,8,["modelValue"])])]),l("tr",null,[a3,l("td",null,[ve(l("input",{"onUpdate:modelValue":d[3]||(d[3]=f=>o.value.tmi_identity_password=f),class:"input is-small",type:"password"},null,512),[[Ve,o.value.tmi_identity_password]])])]),l("tr",null,[i3,l("td",null,[U(ut,{modelValue:o.value.tmi_identity_client_id,"onUpdate:modelValue":d[4]||(d[4]=f=>o.value.tmi_identity_client_id=f)},null,8,["modelValue"])])]),l("tr",null,[r3,l("td",null,[ve(l("input",{"onUpdate:modelValue":d[5]||(d[5]=f=>o.value.tmi_identity_client_secret=f),class:"input is-small",type:"password"},null,512),[[Ve,o.value.tmi_identity_client_secret]])])])])])])):Y("",!0)])]))}});var wn=(e=>(e.TITLE="title",e.TIMESTAMP="timestamp",e.PLAYS="plays",e.USER="user",e.DURATION="duration",e))(wn||{});const dl=(e=null)=>({name:ue(e,["name"],""),css:ue(e,["css"],""),showProgressBar:ue(e,["showProgressBar"],!1),showThumbnails:typeof(e==null?void 0:e.showThumbnails)=="undefined"||e.showThumbnails===!0?"left":e.showThumbnails,maxItemsShown:ue(e,["maxItemsShown"],-1),timestampFormat:typeof(e==null?void 0:e.timestampFormat)=="undefined"?"":e.timestampFormat}),Ff=(e=null)=>{var t,n;return{volume:ue(e,["volume"],100),initAutoplay:ue(e,["initAutoplay"],!0),hideVideoImage:{file:ue(e,["hideVideoImage","file"],""),filename:ue(e,["hideVideoImage","filename"],""),urlpath:(t=e==null?void 0:e.hideVideoImage)!=null&&t.urlpath?e.hideVideoImage.urlpath:(n=e==null?void 0:e.hideVideoImage)!=null&&n.file?`/uploads/${encodeURIComponent(e.hideVideoImage.file)}`:""},maxSongLength:{viewer:ue(e,["maxSongLength","viewer"],0),mod:ue(e,["maxSongLength","mod"],0),sub:ue(e,["maxSongLength","sub"],0)},maxSongsQueued:{viewer:parseInt(String(ue(e,["maxSongsQueued","viewer"],0)),10),mod:parseInt(String(ue(e,["maxSongsQueued","mod"],0)),10),sub:parseInt(String(ue(e,["maxSongsQueued","sub"],0)),10)},customCssPresets:ue(e,["customCssPresets"],[]).map(dl),customCssPresetIdx:ue(e,["customCssPresetIdx"],0)}};const Et=e=>(mn("data-v-b1370eba"),e=e(),pn(),e),c3={class:"filters"},d3={class:"currentfilter"},f3=Et(()=>l("div",{class:"mr-1"}," Filter: ",-1)),h3=Et(()=>l("i",{class:"fa fa-remove ml-1"},null,-1)),m3={key:1,class:"field has-addons mr-1 mb-0"},p3={class:"control"},v3={class:"control"},g3={class:"pt-1"},y3={key:0},b3={class:"table is-striped"},w3=Et(()=>l("th",null,null,-1)),_3=Et(()=>l("th",null,null,-1)),S3=Et(()=>l("th",null,null,-1)),$3=Et(()=>l("th",null,null,-1)),C3=Et(()=>l("th",null,null,-1)),E3=Et(()=>l("th",null,null,-1)),T3=Et(()=>l("th",null,null,-1)),I3=Et(()=>l("td",{class:"pt-4 handle"},[l("i",{class:"fa fa-arrows"})],-1)),D3=["disabled","onClick"],A3=Et(()=>l("i",{class:"fa fa-play"},null,-1)),k3=[A3],O3=["href"],V3=Et(()=>l("i",{class:"fa fa-external-link"},null,-1)),x3=["onClick"],P3=Et(()=>l("i",{class:"fa fa-remove ml-1"},null,-1)),R3=["onClick"],M3=Et(()=>l("i",{class:"fa fa-plus"},null,-1)),U3=[M3],N3={key:0,class:"field has-addons"},L3={class:"control"},F3=["onKeyup"],B3={class:"control"},H3=["disabled","onClick"],W3=["onClick"],j3=Et(()=>l("i",{class:"fa fa-eraser"},null,-1)),z3=[j3],K3=["title","onClick"],G3=["onClick"],J3=Et(()=>l("i",{class:"fa fa-thumbs-up mr-1"},null,-1)),Y3=["onClick"],X3=Et(()=>l("i",{class:"fa fa-eraser"},null,-1)),Q3=[X3],Z3=["onClick"],q3=Et(()=>l("i",{class:"fa fa-thumbs-down mr-1"},null,-1)),e4=["onClick"],t4=Et(()=>l("i",{class:"fa fa-eraser"},null,-1)),n4=[t4],s4=Et(()=>l("i",{class:"fa fa-trash"},null,-1)),o4={key:1},l4=ce({__name:"PlaylistEditor",props:{playlist:null,filter:null},emits:["stopPlayer","filterChange","ctrl"],setup(e,{emit:t}){const n=e,s=x(!0),o=x(""),i=x(""),a=x(-1),r=x(20),u=x(),c=pe(()=>n.playlist.map(S=>({id:S.id,tags:S.tags,yt:S.yt,title:S.title,timestamp:S.timestamp,durationMs:S.durationMs,hidevideo:!!S.hidevideo,last_play:S.last_play,plays:S.plays,goods:S.goods,bads:S.bads,user:S.user,filteredOut:b(S)})).slice(0,r.value)),h=pe(()=>n.filter.tag===""?0:n.playlist.findIndex(S=>S.tags.includes(n.filter.tag))),d=(S,$)=>{w("sort",[S,$])},f=S=>Tr("YYYY-MM-DD hh:mm:ss",new Date(S)),m=(S,$)=>{const I=!!S.hidevideo;w("videoVisibility",[I,$])},p=S=>{w("move",[S.oldIndex,S.newIndex])},v=S=>{t("filterChange",S)},w=(S,$)=>{t("ctrl",[S,$])},b=S=>n.filter.tag!==""&&!S.tags.includes(n.filter.tag),y=S=>{a.value=S,Zt(()=>{const $=u.value.querySelector("table .filter-tag-input");$&&$.focus()})};return Ge(()=>n.playlist,(S,$)=>{S.find(I=>!b(I))||t("stopPlayer")}),Ge(()=>n.filter,()=>{n.playlist.find(S=>!b(S))||t("stopPlayer")}),(S,$)=>{const I=st("vue-draggable");return g(),_("div",{ref_key:"el",ref:u},[l("div",c3,[l("div",d3,[f3,e.filter.tag?(g(),_("span",{key:0,class:"tag mr-1",onClick:$[0]||($[0]=C=>v(""))},[R(Q(e.filter.tag)+" ",1),h3])):(g(),_("div",m3,[l("div",p3,[ve(l("input",{"onUpdate:modelValue":$[1]||($[1]=C=>o.value=C),class:"input is-small filter-tag-input",type:"text",onKeyup:$[2]||($[2]=fo(C=>v(o.value),["enter"]))},null,544),[[Ve,o.value]])]),l("div",v3,[l("span",{class:"button is-small",onClick:$[3]||($[3]=C=>v(o.value))},"Apply filter")])])),l("label",g3,[U(Bn,{modelValue:s.value,"onUpdate:modelValue":$[4]||($[4]=C=>s.value=C)},null,8,["modelValue"]),R(" Hide filtered out")])])]),e.playlist.length>0?(g(),_("div",y3,[l("table",b3,[l("thead",null,[l("tr",null,[w3,_3,S3,l("th",null,[R(" Title "),l("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by title, A - Z",onClick:$[5]||($[5]=C=>d(J(wn).TITLE,1))}),l("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by title, Z - A",onClick:$[6]||($[6]=C=>d(J(wn).TITLE,-1))})]),l("th",null,[R(" User "),l("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by user, A - Z",onClick:$[7]||($[7]=C=>d(J(wn).USER,1))}),l("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by user, Z - A",onClick:$[8]||($[8]=C=>d(J(wn).USER,-1))})]),l("th",null,[R(" Date "),l("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by date, oldest to newest",onClick:$[9]||($[9]=C=>d(J(wn).TIMESTAMP,1))}),l("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by date, newest to oldest",onClick:$[10]||($[10]=C=>d(J(wn).TIMESTAMP,-1))})]),l("th",null,[R(" Duration "),l("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by duration, longest to shortest",onClick:$[11]||($[11]=C=>d(J(wn).DURATION,1))}),l("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by duration, shortest to longest",onClick:$[12]||($[12]=C=>d(J(wn).DURATION,-1))})]),l("th",null,[R(" Plays "),l("i",{class:"fa fa-chevron-up is-clickable",title:"Sort by plays, fewest to most",onClick:$[13]||($[13]=C=>d(J(wn).PLAYS,1))}),l("i",{class:"fa fa-chevron-down is-clickable",title:"Sort by plays, most to fewest",onClick:$[14]||($[14]=C=>d(J(wn).PLAYS,-1))})]),$3,C3,E3,T3])]),U(I,{"model-value":J(c),tag:"tbody",handle:".handle","item-key":"id",onEnd:p},{item:St(({element:C,index:V})=>[ve(l("tr",null,[I3,l("td",null,Q(V+1),1),l("td",null,[V!==J(h)?(g(),_("button",{key:0,class:"button is-small",disabled:C.filteredOut?!0:void 0,title:"Play",onClick:A=>w("playIdx",[V])},k3,8,D3)):Y("",!0)]),l("td",null,[l("a",{href:"https://www.youtube.com/watch?v="+C.yt,target:"_blank"},[R(Q(C.title||C.yt)+" ",1),V3],8,O3),l("div",null,[(g(!0),_(re,null,ye(C.tags,(A,O)=>(g(),_("span",{key:O,class:"tag",onClick:B=>w("rmtag",[A,V])},[R(Q(A)+" ",1),P3],8,x3))),128)),l("span",{class:"button is-small",onClick:A=>y(V)},U3,8,R3)]),a.value===V?(g(),_("div",N3,[l("div",L3,[ve(l("input",{"onUpdate:modelValue":$[15]||($[15]=A=>i.value=A),class:"input is-small filter-tag-input",type:"text",onKeyup:fo(A=>{w("addtag",[i.value,V]),i.value=""},["enter"])},null,40,F3),[[Ve,i.value]])]),l("div",B3,[l("span",{class:"button is-small",disabled:i.value?void 0:!0,onClick:A=>{w("addtag",[i.value,V]),i.value=""}},"Add tag",8,H3)])])):Y("",!0)]),l("td",null,Q(C.user),1),l("td",null,Q(f(C.timestamp)),1),l("td",null,Q(J(Sf)(C.durationMs)),1),l("td",null,[R(Q(C.plays)+"x ",1),l("button",{class:"button is-small ml-1",title:"Reset plays",onClick:A=>w("resetStatIdx",["plays",V])},z3,8,W3)]),l("td",null,[l("button",{class:"button is-small",title:C.hidevideo?"Video hidden":"Video visible",onClick:A=>m(C,V)},[l("i",{class:Oe(["fa mr-1",{"fa-eye":!C.hidevideo,"fa-eye-slash":C.hidevideo}])},null,2)],8,K3)]),l("td",null,[l("button",{class:"button is-small",onClick:A=>w("goodIdx",[V])},[J3,R(" "+Q(C.goods),1)],8,G3),l("button",{class:"button is-small ml-1",title:"Reset upvotes",onClick:A=>w("resetStatIdx",["goods",V])},Q3,8,Y3)]),l("td",null,[l("button",{class:"button is-small",onClick:A=>w("badIdx",[V])},[q3,R(" "+Q(C.bads),1)],8,Z3),l("button",{class:"button is-small ml-1",title:"Reset downvotes",onClick:A=>w("resetStatIdx",["bads",V])},n4,8,e4)]),l("td",null,[U(Ks,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,title:"Remove",onDoubleclick:A=>w("rmIdx",[V])},{default:St(()=>[s4]),_:2},1032,["onDoubleclick"])])],512),[[wo,!s.value||!C.filteredOut]])]),_:1},8,["model-value"])]),l("div",null,[r.value<e.playlist.length?(g(),_("span",{key:0,class:"button is-small mr-1",onClick:$[16]||($[16]=C=>r.value+=20)},"Show more (+20)")):Y("",!0),r.value<e.playlist.length?(g(),_("span",{key:1,class:"button is-small",onClick:$[17]||($[17]=C=>r.value=e.playlist.length)},"Show all ("+Q(e.playlist.length)+")",1)):Y("",!0)])])):(g(),_("div",o4," Playlist is empty "))],512)}}});var a4=dt(l4,[["__scopeId","data-v-b1370eba"]]);const qt=e=>(mn("data-v-43dec804"),e=e(),pn(),e),i4={class:"modal-card"},r4=qt(()=>l("div",{class:"modal-card-title"}," Edit Preset ",-1)),u4={class:"modal-card-body"},c4={class:"table is-striped is-fullwidth"},d4=qt(()=>l("td",null,"Title",-1)),f4=qt(()=>l("td",null,"Show progress bar",-1)),h4=qt(()=>l("td",null,"Render a progress bar in the bottom part of the video in the widget.",-1)),m4=qt(()=>l("td",null,"Show thumbnails",-1)),p4={class:"mr-1"},v4={class:"mr-1"},g4={class:"mr-1"},y4=qt(()=>l("td",null,"Render video thumbnails in the widget.",-1)),b4=qt(()=>l("td",null,"Timestamp Format",-1)),w4=qt(()=>l("td",null,[R(" Define how to display the timestamp. "),l("br"),R(" Leave empty to not display the timestamp. "),l("br"),R(" Example: "),l("code",null,"YYYY-MM-DD hh:mm:ss"),R(),l("br"),R(" Reference: "),l("br"),l("code",null,"YYYY"),R(" Year "),l("br"),l("code",null,"MM"),R(" Month "),l("br"),l("code",null,"DD"),R(" Day "),l("br"),l("code",null,"hh"),R(" Hour "),l("br"),l("code",null,"mm"),R(" Minute "),l("br"),l("code",null,"ss"),R(" Second "),l("br"),l("code",null,"Month"),R(" Full month name in english (eg. January, March...) "),l("br"),l("code",null,"Month.en"),R(" Full month name in english (eg. January, March...) "),l("br"),l("code",null,"Month.de"),R(" Full month name in german (eg. Januar, M\xE4rz...) "),l("br")],-1)),_4=qt(()=>l("td",null,"Maximum number of playlist items displayed",-1)),S4=qt(()=>l("td",null,"Max. number of items displayed in the playlist. Set to -1 for no limit.",-1)),$4=qt(()=>l("td",null,"Custom CSS",-1)),C4=qt(()=>l("p",null,"Classes that can be used for styling:",-1)),E4={class:"table"},T4=qt(()=>l("thead",null,[l("tr",null,[l("th",null,"Class"),l("th",null,"Description")])],-1)),I4=qt(()=>l("p",null,[l("b",null,"Examples:")],-1)),D4=ce({__name:"PresetEditor",props:{modelValue:null},emits:["cancel","save","save-and-close"],setup(e,{emit:t}){const s=x(e.modelValue),o=x(),i={classExamples:[{class:".wrapper",desc:"Wrapper for everything"},{class:".player",desc:"The player"},{class:".list",desc:"The playlist"},{class:".item",desc:"A playlist item"},{class:".playing",desc:"Currently playing item"},{class:".not-playing",desc:"Queued items"},{class:".title",desc:"Wrapper for the title of a playlist item"},{class:".title-content",desc:"Title texts"},{class:".title-orig",desc:"Title text displayed by default"},{class:".title-dupl",desc:"Title text duplicated, useful for marquee effect"},{class:".vote",desc:"Vote elements"},{class:".vote-up",desc:"Up vote element"},{class:".vote-down",desc:"Down vote element"},{class:".meta",desc:"Meta info about an item"},{class:".meta-user",desc:"User who requested the song"},{class:".meta-timestamp",desc:"Time at which the song was requested"},{class:".meta-plays",desc:"How many times the song was played"}],codeExamples:[{desc:"Hide Player:",code:".player { position: absolute; }"},{desc:"Change font to external font:",code:`@import url('https://fonts.googleapis.com/css2?family=Shadows+Into+Light');
body { font-family: 'Shadows into Light'; font-size: 30px; }`},{desc:"Change colors of items:",code:`.playing { background: #222; color: #bbb; }
.not-playing { background: #eee; color: #444; }`},{desc:"Display something in front of the currently playing item title:",code:".playing .title:before { content: '\u{1F3B6} Now Playing \u{1F3B6} ' }"},{desc:"Add a margin between the items:",code:".item { margin-bottom: 20px; }"},{desc:"Hide votes and meta:",code:".vote, .meta { display: none; }"},{desc:"Hide down votes:",code:".vote-down { display: none; }"},{desc:"Hite all items starting from the 6th:",code:".item:nth-child(n+6) { display: none; }"},{desc:"Show only titles and marquee the current song:",code:`.playing .title { overflow: hidden; white-space: nowrap; height: 20px; line-height: 20px; }
.playing .title-content { position: absolute; padding: 0 10px; min-width: 100%; animation: init 5s linear, back 10s linear 5s infinite; }
.playing .title-content.title-dupl { display: block; animation: back 10s linear 0s infinite; }
.title { margin-bottom: 0; }
.meta-left, .meta-right, .thumbnail { display: none; }
@keyframes back {
    from { transform: translateX(100%); }
    to { transform: translateX(-100%); }
}
@keyframes init {
    to { transform: translateX(-100%); }
}`},{desc:"Replace icon for thumbs-up with an image",code:`.meta-right .vote-up { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }
.meta-right .vote-up .fa { display: none; }`},{desc:"Remove text before/after username",code:`.meta-user-text-before,
.meta-user-text-after {display: none}`},{desc:"Add a fontawesome icon before username (\\f075 is the icon unicode, refer to https://fontawesome.com/v4.7/icons/)",code:'.meta-user-name::before { content: "\\f075"; display: inline-block; font: normal normal normal 14px/1 FontAwesome; font-size: inherit; margin-right: .5em; }'},{desc:"Add an image icon before username",code:".meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }"},{desc:"Add an image icon before username for specific user only",code:`[data-user="nc_para_" i] .meta-user-name { background: url('https://hyottoko.club/assets/hyottoko.30d2bcb9.png') no-repeat 0 center; background-size: 1em; padding-left: 1.2em; }`},{desc:"Change item display depending on username (this one changes background and makes thumbnails black boxes)",code:`[data-user="nc_para_" i] { background: #dd0066; }
[data-user="nc_para_" i] .thumbnail img { display: none; }
[data-user="nc_para_" i] .thumbnail { background: black; }`},{desc:"Show player left of the playlist (and limit its height to 320px)",code:`.wrapper { display: grid; grid-template-areas: "player playlist"; grid-template-columns: 50% auto; grid-template-rows: 320px; }
.player iframe { height: 320px; }`},{desc:"Show thumbnails only, and display meta info above them",code:`.item { display: block; position: relative; padding: 0; color: white; }
.title, .meta-left, .meta-right { position: absolute; padding: .2em; background: rgba(244,0,90,.9); }
.meta-left { top: 0; left: 0; font-size: 1em; }
.meta-right { top: 0; right: 0; font-size: 1em; }
.title { bottom: 0; left: 0; right: 0; margin-bottom: 0; }
.thumbnail { width: auto; }`},{desc:"Align thumbnails to the bottom",code:".thumbnail { align-self: end; }"},{desc:"Align thumbnails to the center",code:".thumbnail { align-self: center; }"},{desc:"Add a margin/padding to the thumbnails",code:".thumbnail { padding: 20px; }"},{desc:"Show number of plays not at player, but in icon form on the right near votes",code:`.meta-left .meta-user:after,
.meta-left .meta-plays { display: none; }
.meta-right .meta-plays { display: inline-block; }`},{desc:"Show the progress bar only, and no video (progress bar above list)",code:`
.player { height: 5px; padding-bottom: 0; }
.progress { height: 5px; }`},{desc:"Show the progress bar only, and no video (progress bar below list)",code:`
.wrapper { display: grid; grid-template-areas: "list" "player"; }
.player { height: 5px; padding-bottom: 0; grid-area: player }
.list { grid-area: list }
.progress { height: 5px; }`}]},a=()=>{t("save",s.value)},r=()=>{t("save-and-close",s.value)},u=()=>{t("cancel")},c=()=>{t("cancel")},h=()=>{t("cancel")};return ot(()=>{Zt(()=>{const d=o.value.querySelector('input[type="text"]');d&&d.focus()})}),(d,f)=>(g(),_("div",{ref_key:"el",ref:o,class:"modal is-active"},[l("div",{class:"modal-background",onClick:h}),l("div",i4,[l("header",{class:"modal-card-head"},[r4,l("button",{class:"delete","aria-label":"close",onClick:c})]),l("section",u4,[l("table",c4,[l("tr",null,[d4,l("td",null,[U(ut,{modelValue:s.value.name,"onUpdate:modelValue":f[0]||(f[0]=m=>s.value.name=m)},null,8,["modelValue"])])]),l("tr",null,[f4,l("td",null,[U(Bn,{modelValue:s.value.showProgressBar,"onUpdate:modelValue":f[1]||(f[1]=m=>s.value.showProgressBar=m)},null,8,["modelValue"])]),h4]),l("tr",null,[m4,l("td",null,[l("label",p4,[ve(l("input",{"onUpdate:modelValue":f[2]||(f[2]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:!1},null,512),[[Yt,s.value.showThumbnails]]),R("Off")]),l("label",v4,[ve(l("input",{"onUpdate:modelValue":f[3]||(f[3]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:"left"},null,512),[[Yt,s.value.showThumbnails]]),R("Left")]),l("label",g4,[ve(l("input",{"onUpdate:modelValue":f[4]||(f[4]=m=>s.value.showThumbnails=m),class:"mr-1",type:"radio",value:"right"},null,512),[[Yt,s.value.showThumbnails]]),R("Right")])]),y4]),l("tr",null,[b4,l("td",null,[U(ut,{modelValue:s.value.timestampFormat,"onUpdate:modelValue":f[5]||(f[5]=m=>s.value.timestampFormat=m)},null,8,["modelValue"])]),w4]),l("tr",null,[_4,l("td",null,[ve(l("input",{"onUpdate:modelValue":f[6]||(f[6]=m=>s.value.maxItemsShown=m),type:"number",min:"-1"},null,512),[[Ve,s.value.maxItemsShown]])]),S4]),l("tr",null,[$4,l("td",null,[ve(l("textarea",{"onUpdate:modelValue":f[7]||(f[7]=m=>s.value.css=m),class:"textarea"},null,512),[[Ve,s.value.css]])]),l("td",null,[C4,l("table",E4,[T4,l("tbody",null,[(g(!0),_(re,null,ye(i.classExamples,(m,p)=>(g(),_("tr",{key:p},[l("td",null,[l("code",null,Q(m.class),1)]),l("td",null,Q(m.desc),1)]))),128))])]),I4,(g(!0),_(re,null,ye(i.codeExamples,(m,p)=>(g(),_("p",{key:p},[R(Q(m.desc)+" ",1),l("pre",null,[l("code",null,Q(m.code),1)])]))),128))])])])]),l("footer",{class:"modal-card-foot"},[l("button",{class:"button is-small is-primary",onClick:a}," Save "),l("button",{class:"button is-small is-primary",onClick:r}," Save and close "),l("button",{class:"button is-small",onClick:u}," Cancel ")])])],512))}});var A4=dt(D4,[["__scopeId","data-v-43dec804"]]);const k4={key:0,class:"table is-striped is-fullwidth"},O4=l("tr",null,[l("td",{colspan:"3"}," General ")],-1),V4=l("td",null,[l("code",null,"settings.volume")],-1),x4=l("td",null,"Base volume for all songs played.",-1),P4=l("td",null,[l("code",null,"settings.initAutoplay")],-1),R4=l("td",null,"If checked, the widget will autoplay when first opened.",-1),M4=l("td",null,[l("code",null,"settings.hideVideoImage")],-1),U4=l("td",null,"Image to display when a video is hidden.",-1),N4=l("td",null,[l("code",null,"settings.maxSongLength.viewer")],-1),L4=l("td",null,[R(" Limits the maximum duration of songs that viewers can add/request. ("),l("code",null,"0"),R(" = unlimited, for example: "),l("code",null,"5m"),R(", "),l("code",null,"1h"),R(", ...) ")],-1),F4=l("td",null,[l("code",null,"settings.maxSongLength.mod")],-1),B4=l("td",null,[R(" Limits the maximum duration of songs that mods can add/request. ("),l("code",null,"0"),R(" = unlimited, for example: "),l("code",null,"5m"),R(", "),l("code",null,"1h"),R(", ...) ")],-1),H4=l("td",null,[l("code",null,"settings.maxSongLength.sub")],-1),W4=l("td",null,[R(" Limits the maximum duration of songs that subscribers can add/request. ("),l("code",null,"0"),R(" = unlimited, for example: "),l("code",null,"5m"),R(", "),l("code",null,"1h"),R(", ...) ")],-1),j4=l("td",null,[l("code",null,"settings.maxSongsQueued.viewer")],-1),z4=l("td",null,"Number of new songs that viewers can request. (0 = unlimited)",-1),K4=l("td",null,[l("code",null,"settings.maxSongsQueued.mod")],-1),G4=l("td",null,"Number of new songs that mods can request. (0 = unlimited)",-1),J4=l("td",null,[l("code",null,"settings.maxSongsQueued.sub")],-1),Y4=l("td",null,"Number of new songs that subscribers can request. (0 = unlimited)",-1),X4={class:"table is-striped"},Q4=["disabled","onClick"],Z4={key:0,class:"fa fa-check has-text-success mr-1"},q4=["onClick"],e8=l("i",{class:"fa fa-pencil"},null,-1),t8=[e8],n8=l("i",{class:"fa fa-remove"},null,-1),s8=ce({__name:"Settings",props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=x(e.modelValue),o=x(null),i=x(null),a=p=>{o.value=p,i.value=s.value.customCssPresets[p]},r=p=>{o.value!==null&&(o.value===-1?(s.value.customCssPresets.unshift(p),o.value=0,s.value.customCssPresetIdx+=1):s.value.customCssPresets[o.value]=p,m())},u=p=>{r(p),o.value=null,i.value=null},c=p=>{s.value.customCssPresetIdx=p,m()},h=p=>{if(s.value.customCssPresets=s.value.customCssPresets.filter((v,w)=>w!==p),s.value.customCssPresets.length===0){const v=dl({name:"default"});s.value.customCssPresets.push(v),s.value.customCssPresetIdx=0}else p===s.value.customCssPresetIdx?s.value.customCssPresetIdx=0:p<s.value.customCssPresetIdx&&(s.value.customCssPresetIdx-=1);m()},d=()=>{o.value=-1,i.value=dl()},f=p=>{s.value.hideVideoImage=p,m()},m=()=>{t("update:modelValue",s.value)};return(p,v)=>(g(),_("div",null,[s.value?(g(),_("table",k4,[l("tbody",null,[O4,l("tr",null,[V4,l("td",null,[U(Ha,{modelValue:s.value.volume,"onUpdate:modelValue":[v[0]||(v[0]=w=>s.value.volume=w),m]},null,8,["modelValue"])]),x4]),l("tr",null,[P4,l("td",null,[U(Bn,{modelValue:s.value.initAutoplay,"onUpdate:modelValue":[v[1]||(v[1]=w=>s.value.initAutoplay=w),m]},null,8,["modelValue"])]),R4]),l("tr",null,[M4,l("td",null,[U(Pr,{modelValue:s.value.hideVideoImage,"onUpdate:modelValue":[v[2]||(v[2]=w=>s.value.hideVideoImage=w),f],width:"100px",height:"50px",class:"mb-1"},null,8,["modelValue"])]),U4]),l("tr",null,[N4,l("td",null,[U(Dn,{modelValue:s.value.maxSongLength.viewer,"onUpdate:modelValue":[v[3]||(v[3]=w=>s.value.maxSongLength.viewer=w),m]},null,8,["modelValue"])]),L4]),l("tr",null,[F4,l("td",null,[U(Dn,{modelValue:s.value.maxSongLength.mod,"onUpdate:modelValue":[v[4]||(v[4]=w=>s.value.maxSongLength.mod=w),m]},null,8,["modelValue"])]),B4]),l("tr",null,[H4,l("td",null,[U(Dn,{modelValue:s.value.maxSongLength.sub,"onUpdate:modelValue":[v[5]||(v[5]=w=>s.value.maxSongLength.sub=w),m]},null,8,["modelValue"])]),W4]),l("tr",null,[j4,l("td",null,[ve(l("input",{"onUpdate:modelValue":v[6]||(v[6]=w=>s.value.maxSongsQueued.viewer=w),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Ve,s.value.maxSongsQueued.viewer]])]),z4]),l("tr",null,[K4,l("td",null,[ve(l("input",{"onUpdate:modelValue":v[7]||(v[7]=w=>s.value.maxSongsQueued.mod=w),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Ve,s.value.maxSongsQueued.mod]])]),G4]),l("tr",null,[J4,l("td",null,[ve(l("input",{"onUpdate:modelValue":v[8]||(v[8]=w=>s.value.maxSongsQueued.sub=w),class:"input is-small",type:"number","on:update:modelValue":m},null,544),[[Ve,s.value.maxSongsQueued.sub]])]),Y4])])])):Y("",!0),l("div",null,[R(" Visuals "),l("span",{class:"button is-small",onClick:d},"Add preset")]),l("table",X4,[l("tbody",null,[(g(!0),_(re,null,ye(s.value.customCssPresets,(w,b)=>(g(),_("tr",{key:b},[l("td",null,Q(w.name),1),l("td",null,[l("span",{class:"button is-small",disabled:b===s.value.customCssPresetIdx?!0:void 0,onClick:y=>c(b)},[b===s.value.customCssPresetIdx?(g(),_("i",Z4)):Y("",!0),R(Q(b===s.value.customCssPresetIdx?"This is the current preset":"Use this preset"),1)],8,Q4)]),l("td",null,[l("span",{class:"button is-small",onClick:y=>a(b)},t8,8,q4),U(Ks,{message:"Are you sure?",timeout:1e3,class:"button is-small ml-1",onDoubleclick:y=>h(b)},{default:St(()=>[n8]),_:2},1032,["onDoubleclick"])])]))),128))])]),i.value?(g(),Ee(A4,{key:1,modelValue:i.value,"onUpdate:modelValue":v[9]||(v[9]=w=>i.value=w),onSave:r,onSaveAndClose:u,onCancel:v[10]||(v[10]=w=>i.value=null)},null,8,["modelValue"])):Y("",!0)]))}}),o8={class:"table is-striped"},l8=l("tr",null,[l("th",null,"Tag"),l("th"),l("th")],-1),a8=["onKeyup"],i8=["value","onFocus"],r8=["disabled","onClick"],u8=ce({__name:"TagsEditor",props:{tags:null},emits:["updateTag"],setup(e,{emit:t}){const n=x(""),s=x(-1),o=(a,r)=>{n.value=a.value,s.value=r},i=(a,r)=>{t("updateTag",[a,r])};return(a,r)=>(g(),_("table",o8,[l8,(g(!0),_(re,null,ye(e.tags,(u,c)=>(g(),_("tr",{key:c},[l("td",null,[s.value===c?ve((g(),_("input",{key:0,"onUpdate:modelValue":r[0]||(r[0]=h=>n.value=h),type:"text",class:"input is-small",onKeyup:fo(h=>i(u.value,n.value),["enter"])},null,40,a8)),[[Ve,n.value]]):(g(),_("input",{key:1,type:"text",class:"input is-small",value:u.value,onFocus:h=>o(u,c)},null,40,i8))]),l("td",null,[s.value===c?(g(),_("span",{key:0,class:"button is-small",disabled:u.value===n.value?!0:void 0,onClick:h=>i(u.value,n.value)},"Save",8,r8)):Y("",!0)]),l("td",null,Q(u.count)+"x",1)]))),128))]))}}),Bf=ce({__name:"YoutubePlayer",props:{visible:{type:Boolean,default:!0}},emits:["ended"],setup(e,{expose:t,emit:n}){const s=e,o=Fn("YoutubePlayer.vue");let i=!1;function a(){return i?(o.info("ytapi ALREADY ready"),Promise.resolve()):new Promise(H=>{const k=document.createElement("script");k.src="https://www.youtube.com/iframe_api",document.head.append(k),window.onYouTubeIframeAPIReady=()=>{i=!0,o.info("ytapi ready"),H()}})}function r(H){return new Promise(k=>{o.info("create player on "+H);const E=new YT.Player(H,{playerVars:{iv_load_policy:3,modestbranding:1},events:{onReady:()=>{o.info("player ready"),k(E)}}})})}async function u(H){return await a(),await r(H)}const c=`yt-${Math.floor(Math.random()*99+1)}-${new Date().getTime()}`,h=x(null),d=x(!1),f=x(null),m=x(null),p=x(null),v=x(!1),w=()=>h.value?h.value.getDuration():0,b=()=>h.value?h.value.getCurrentTime():0,y=()=>{const H=w(),k=b();return H?k/H:0},S=()=>{v.value=!0,$(),h.value&&h.value.stopVideo()},$=()=>{p.value&&(clearInterval(p.value),p.value=null)},I=()=>{if(v.value||($(),!s.visible))return;h.value&&h.value.playVideo();let H=20;p.value=setInterval(()=>{if(o.info({playing:j(),triesRemaining:H}),--H,j()||H<0){o.info("stopping interval"),$();return}h.value&&h.value.playVideo()},250)},C=H=>{v.value=!1,h.value?(h.value.cueVideoById(H),I()):f.value=H},V=()=>{h.value&&h.value.pauseVideo()},A=()=>{v.value=!1,h.value&&I()},O=H=>{h.value?h.value.setVolume(H):m.value=H},B=H=>{d.value=H},j=()=>h.value?h.value.getPlayerState()===1:!1;return ot(async()=>{h.value=await u(c),m.value!==null&&h.value.setVolume(m.value),f.value!==null&&(o.info("trying to play.."),C(f.value)),h.value.addEventListener("onStateChange",H=>{H.data===YT.PlayerState.CUED?I():H.data===YT.PlayerState.ENDED&&(d.value?I():n("ended"))})}),t({stop:S,play:C,pause:V,unpause:A,setVolume:O,setLoop:B,playing:j,getProgress:y}),(H,k)=>(g(),_("div",{id:c}))}});const _o=e=>(mn("data-v-8ba9876a"),e=e(),pn(),e),c8={class:"view"},d8={id:"top",ref:"top"},f8={id:"actionbar",class:"p-1"},h8=["disabled","title","onClick"],m8=["disabled"],p8=_o(()=>l("span",{class:"txt"},"Set all to played",-1)),v8=[p8],g8=["disabled","title"],y8=_o(()=>l("i",{class:"fa fa-tv mr-1"},null,-1)),b8={class:"txt"},w8={class:"field has-addons mr-1"},_8={class:"control"},S8=["disabled","onKeyup"],$8={class:"control"},C8=["disabled"],E8=_o(()=>l("i",{class:"fa fa-search mr-1"},null,-1)),T8={class:"field has-addons mr-1"},I8={class:"control"},D8=["disabled","onKeyup"],A8={class:"control"},k8=["disabled"],O8=_o(()=>l("i",{class:"fa fa-plus mr-1"},null,-1)),V8=["disabled","href"],x8={id:"main",ref:"main"},P8={style:{width:"640px","max-width":"100%"}},R8={class:"tabs"},M8=["onClick"],U8={key:0},N8={class:"mb-1"},L8=["href"],F8=_o(()=>l("i",{class:"fa fa-download mr-1"},null,-1)),B8=_o(()=>l("i",{class:"fa fa-upload mr-1"},null,-1)),H8={key:1,id:"tags"},W8={key:3,id:"playlist",class:"table-container"},j8=ce({__name:"SongRequestView",setup(e){const t=()=>{},n=x(!1),s=x([]),o=x([]),i=x([]),a=x({}),r=x(Ff()),u=x({tag:""}),c=x(""),h=x(""),d=x(!1),f=x("playlist"),m=x(""),p=x("");let v=null;const w=_f(),b=[{title:"Reset stats",ctrl:"resetStats",icon:"fa-eraser"},{title:"Clear playlist",ctrl:"clear",icon:"fa-eject"},{title:"Shuffle",ctrl:"shuffle",icon:"fa-random"},{title:"Play",ctrl:"unpause",icon:"fa-play"},{title:"Pause",ctrl:"pause",icon:"fa-pause"},{title:"Prev",ctrl:"prev",icon:"fa-step-backward"},{title:"Next",ctrl:"skip",icon:"fa-step-forward"}],y=[{tab:"playlist",title:"Playlist"},{tab:"commands",title:"Commands"},{tab:"settings",title:"Settings"},{tab:"tags",title:"Tags"},{tab:"import",title:"Import/Export"}],S=[Pe.SR_CURRENT,Pe.SR_UNDO,Pe.SR_GOOD,Pe.SR_BAD,Pe.SR_STATS,Pe.SR_PREV,Pe.SR_NEXT,Pe.SR_JUMPTONEW,Pe.SR_CLEAR,Pe.SR_RM,Pe.SR_SHUFFLE,Pe.SR_RESET_STATS,Pe.SR_LOOP,Pe.SR_NOLOOP,Pe.SR_PAUSE,Pe.SR_UNPAUSE,Pe.SR_HIDEVIDEO,Pe.SR_SHOWVIDEO,Pe.SR_REQUEST,Pe.SR_RE_REQUEST,Pe.SR_ADDTAG,Pe.SR_RMTAG,Pe.SR_VOLUME,Pe.SR_FILTER,Pe.SR_PRESET,Pe.SR_QUEUE],$=pe(()=>{const z=[];return s.value.forEach(he=>{he.tags.forEach(oe=>{const T=z.findIndex(D=>D.value===oe);T===-1?z.push({value:oe,count:1}):z[T].count++})}),z}),I=x(null),C=pe(()=>I.value||{stop:t,play:t,pause:t,unpause:t,setVolume:t,setLoop:t,playing:t,getProgress:t}),V=pe(()=>u.value.tag===""?s.value:s.value.filter(z=>z.tags.includes(u.value.tag))),A=pe(()=>V.value[0]),O=pe(()=>V.value.length!==0),B=pe(()=>n.value?"":"width:0;height:0;padding:0;margin-bottom:0;"),j=pe(()=>n.value?"Hide Player":"Show Player"),H=pe(()=>`${location.protocol}//${location.host}/api/sr/export`),k=()=>{te({event:"save",commands:o.value,settings:r.value})},E=z=>{ae(z[0],z[1])},M=z=>{$e(z[0],z[1])},P=z=>{$e("filter",[{tag:z}])},G=async()=>{(await At.importPlaylist(m.value)).status===200?(f.value="playlist",w.success("Import successful")):w.error("Import failed")},le=()=>{n.value=!n.value,n.value?C.value.playing()||Se():C.value.stop()},De=()=>{c.value!==""&&($e("resr",[c.value]),c.value="")},Ke=()=>{h.value!==""&&($e("sr",[h.value]),h.value="")},$e=(z,he)=>{te({event:"ctrl",ctrl:z,args:he})},He=()=>{te({event:"ended"})},te=z=>{v?v.send(JSON.stringify(z)):console.warn("sendMsg: this.ws not initialized")},Se=()=>{Z(r.value.volume),n.value&&O.value&&(C.value.play(A.value.yt),te({event:"play",id:A.value.id}))},L=()=>{O.value&&(C.value.unpause(),te({event:"unpause",id:A.value.id}))},q=()=>{n.value&&O.value&&(C.value.pause(),te({event:"pause"}))},Z=z=>{C.value.setVolume(z)},ae=(z,he)=>{z!==he&&$e("updatetag",[z,he])};return ot(async()=>{Zt(()=>{v=zs.wsClient("sr"),v.onMessage("save",z=>{r.value=z.settings,p.value=z.widgetUrl,o.value=z.commands,i.value=z.globalVariables,a.value=z.channelPointsCustomRewards}),v.onMessage(["pause"],z=>{C.value.playing()&&q()}),v.onMessage(["unpause"],z=>{C.value.playing()||L()}),v.onMessage(["loop"],z=>{C.value.setLoop(!0)}),v.onMessage(["noloop"],z=>{C.value.setLoop(!1)}),v.onMessage(["onEnded","prev","skip","remove","move","tags"],z=>{r.value=z.settings,o.value=z.commands,i.value=z.globalVariables,a.value=z.channelPointsCustomRewards;const he=V.value.length>0?V.value[0].id:null;u.value=z.filter,s.value=z.playlist;const oe=V.value.length>0?V.value[0].id:null;he!==oe&&Se()}),v.onMessage(["filter"],z=>{r.value=z.settings,o.value=z.commands,i.value=z.globalVariables,a.value=z.channelPointsCustomRewards;const he=V.value.length>0?V.value[0].id:null;u.value=z.filter,s.value=z.playlist,V.value.find(oe=>oe.id===he)||Se()}),v.onMessage(["stats","video","playIdx","resetStats","shuffle"],z=>{r.value=z.settings,o.value=z.commands,i.value=z.globalVariables,a.value=z.channelPointsCustomRewards,u.value=z.filter,s.value=z.playlist}),v.onMessage(["add","init"],z=>{r.value=z.settings,p.value=z.widgetUrl,o.value=z.commands,i.value=z.globalVariables,a.value=z.channelPointsCustomRewards,u.value=z.filter,s.value=z.playlist,!d.value&&!C.value.playing()&&Se(),d.value=!0}),v.connect(),Se()})}),Ct(()=>{v&&v.disconnect()}),(z,he)=>(g(),_("div",c8,[l("div",d8,[U(ns),l("div",f8,[(g(),_(re,null,ye(b,(oe,T)=>l("button",{key:T,class:"button is-small mr-1",disabled:d.value?void 0:!0,title:oe.title,onClick:D=>$e(oe.ctrl,[])},[l("i",{class:Oe(["fa",oe.icon])},null,2)],8,h8)),64)),l("button",{class:"button is-small mr-1",disabled:d.value?void 0:!0,title:"Sets all songs to at least 1x played",onClick:he[0]||(he[0]=oe=>$e("setAllToPlayed",[]))},v8,8,m8),l("button",{class:"button is-small mr-1",disabled:d.value?void 0:!0,title:J(j),onClick:le},[y8,l("span",b8,Q(J(j)),1)],8,g8),l("div",w8,[l("div",_8,[ve(l("input",{"onUpdate:modelValue":he[1]||(he[1]=oe=>c.value=oe),class:"input is-small",disabled:d.value?void 0:!0,onKeyup:fo(De,["enter"])},null,40,S8),[[Ve,c.value]])]),l("div",$8,[l("button",{class:"button is-small",disabled:d.value?void 0:!0,onClick:De},[E8,R(" from playlist ")],8,C8)])]),l("div",T8,[l("div",I8,[ve(l("input",{"onUpdate:modelValue":he[2]||(he[2]=oe=>h.value=oe),class:"input is-small",disabled:d.value?void 0:!0,onKeyup:fo(Ke,["enter"])},null,40,D8),[[Ve,h.value]])]),l("div",A8,[l("button",{class:"button is-small",disabled:d.value?void 0:!0,onClick:Ke},[O8,R(" from YouTube ")],8,k8)])]),l("a",{class:"button is-small mr-1",disabled:d.value?void 0:!0,href:p.value,target:"_blank"},"Open SR widget",8,V8)])],512),l("div",x8,[l("div",P8,[l("div",{id:"player",class:"video-16-9",style:at(J(B))},[U(Bf,{ref_key:"youtube",ref:I,visible:n.value,onEnded:He},null,8,["visible"])],4)]),l("div",R8,[l("ul",null,[(g(),_(re,null,ye(y,(oe,T)=>l("li",{key:T,class:Oe({"is-active":f.value===oe.tab}),onClick:D=>f.value=oe.tab},[l("a",null,Q(oe.title),1)],10,M8)),64))])]),d.value&&f.value==="import"?(g(),_("div",U8,[l("div",N8,[l("a",{class:"button is-small mr-1",href:J(H),target:"_blank"},[F8,R(" Export playlist")],8,L8),l("button",{class:"button is-small",onClick:G},[B8,R(" Import playlist ")])]),ve(l("textarea",{"onUpdate:modelValue":he[3]||(he[3]=oe=>m.value=oe),class:"textarea mb-1"},null,512),[[Ve,m.value]])])):Y("",!0),d.value&&f.value==="tags"?(g(),_("div",H8,[U(u8,{tags:J($),onUpdateTag:E},null,8,["tags"])])):Y("",!0),d.value&&f.value==="settings"?(g(),Ee(s8,{key:2,id:"settings",modelValue:r.value,"onUpdate:modelValue":[he[4]||(he[4]=oe=>r.value=oe),k]},null,8,["modelValue"])):Y("",!0),d.value&&f.value==="playlist"?(g(),_("div",W8,[U(a4,{playlist:s.value,filter:u.value,onStopPlayer:he[5]||(he[5]=oe=>J(C).stop()),onFilterChange:P,onCtrl:M},null,8,["playlist","filter"])])):Y("",!0),d.value&&f.value==="commands"?(g(),Ee(Uf,{key:4,modelValue:o.value,"onUpdate:modelValue":[he[6]||(he[6]=oe=>o.value=oe),k],"global-variables":i.value,"channel-points-custom-rewards":a.value,"possible-actions":S,"possible-effects":[],"base-volume":100},null,8,["modelValue","global-variables","channel-points-custom-rewards"])):Y("",!0)],512)]))}});var z8=dt(j8,[["__scopeId","data-v-8ba9876a"]]);const Yu=(e=null)=>({status:{enabled:ue(e,["status","enabled"],!1)},styles:{bgColor:ue(e,["styles","bgColor"],"#ff00ff"),bgColorEnabled:ue(e,["styles","bgColorEnabled"],!0),vAlign:ue(e,["styles","vAlign"],"bottom"),recognition:{fontFamily:ue(e,["styles","recognition","fontFamily"],"sans-serif"),fontSize:ue(e,["styles","recognition","fontSize"],"30pt"),fontWeight:ue(e,["styles","recognition","fontWeight"],"400"),strokeWidth:ue(e,["styles","recognition","strokeWidth"],"8pt"),strokeColor:ue(e,["styles","recognition","strokeColor"],"#292929"),color:ue(e,["styles","recognition","color"],"#ffff00")},translation:{fontFamily:ue(e,["styles","translation","fontFamily"],"sans-serif"),fontSize:ue(e,["styles","translation","fontSize"],"30pt"),fontWeight:ue(e,["styles","translation","fontWeight"],"400"),strokeWidth:ue(e,["styles","translation","strokeWidth"],"8pt"),strokeColor:ue(e,["styles","translation","strokeColor"],"#292929"),color:ue(e,["styles","translation","color"],"#cbcbcb")}},recognition:{display:ue(e,["recognition","display"],!0),lang:ue(e,["recognition","lang"],"ja"),synthesize:ue(e,["recognition","synthesize"],!1),synthesizeLang:ue(e,["recognition","synthesizeLang"],"")},translation:{enabled:ue(e,["translation","enabled"],!0),langSrc:ue(e,["translation","langSrc"],"ja"),langDst:ue(e,["translation","langDst"],"en"),synthesize:ue(e,["translation","synthesize"],!1),synthesizeLang:ue(e,["translation","synthesizeLang"],"")}}),K8=ce({components:{StringInput:ut,CheckboxInput:Bn,NavbarElement:ns},data:()=>({unchangedJson:"{}",changedJson:"{}",settings:Yu(),defaultSettings:Yu(),ws:null,inited:!1,controlWidgetUrl:"",displayWidgetUrl:""}),computed:{changed(){return this.unchangedJson!==this.changedJson}},watch:{settings:{deep:!0,handler(e){this.changedJson=JSON.stringify(e)}}},async mounted(){this.ws=zs.wsClient("speech-to-text"),this.ws.onMessage("init",e=>{this.settings=e.settings,this.unchangedJson=JSON.stringify(e.settings),this.controlWidgetUrl=e.controlWidgetUrl,this.displayWidgetUrl=e.displayWidgetUrl,this.inited=!0}),this.ws.connect()},unmounted(){this.ws&&this.ws.disconnect()},methods:{sendSave(){if(!this.settings){console.warn("sendSave: this.settings not initialized");return}this.sendMsg({event:"save",settings:this.settings})},sendMsg(e){if(!this.ws){console.warn("sendMsg: this.ws not initialized");return}this.ws.send(JSON.stringify(e))}}}),G8={class:"view"},J8={id:"top",ref:"top"},Y8={id:"actionbar",class:"p-1"},X8=["disabled"],Q8=["href"],Z8=["href"],q8={id:"main",ref:"main"},eD={key:0,ref:"table",class:"table is-striped"},tD=l("tr",null,[l("td",{colspan:"3"}," General ")],-1),nD=l("td",null,[l("code",null,"settings.style.bgColor")],-1),sD=["disabled"],oD=l("i",{class:"fa fa-remove"},null,-1),lD=[oD],aD=l("td",null,[l("code",null,"settings.style.bgColorEnabled")],-1),iD=l("td",null,[l("code",null,"settings.style.vAlign")],-1),rD={class:"select is-small"},uD=l("option",{value:"top"}," top ",-1),cD=l("option",{value:"bottom"}," bottom ",-1),dD=[uD,cD],fD=["disabled"],hD=l("i",{class:"fa fa-remove"},null,-1),mD=[hD],pD=l("tr",null,[l("td",{colspan:"3"}," Recognition ")],-1),vD=l("td",null,[l("code",null,"settings.recognition.lang")],-1),gD=["disabled"],yD=l("i",{class:"fa fa-remove"},null,-1),bD=[yD],wD=l("td",null,[l("code",null,"settings.recognition.synthesize")],-1),_D=["disabled"],SD=l("i",{class:"fa fa-remove"},null,-1),$D=[SD],CD=l("td",null,[l("code",null,"settings.recognition.synthesizeLang")],-1),ED=["disabled"],TD=l("i",{class:"fa fa-remove"},null,-1),ID=[TD],DD=l("td",null,[l("code",null,"settings.recognition.display")],-1),AD=["disabled"],kD=l("i",{class:"fa fa-remove"},null,-1),OD=[kD],VD=l("td",null,[l("code",null,"settings.styles.recognition.color")],-1),xD=["disabled"],PD=l("i",{class:"fa fa-remove"},null,-1),RD=[PD],MD=l("td",null,[l("code",null,"settings.styles.recognition.strokeWidth")],-1),UD=["disabled"],ND=l("i",{class:"fa fa-remove"},null,-1),LD=[ND],FD=l("td",null,[l("code",null,"settings.styles.recognition.strokeColor")],-1),BD=["disabled"],HD=l("i",{class:"fa fa-remove"},null,-1),WD=[HD],jD=l("td",null,[l("code",null,"settings.styles.recognition.fontFamily")],-1),zD=["disabled"],KD=l("i",{class:"fa fa-remove"},null,-1),GD=[KD],JD=l("td",null,[l("code",null,"settings.styles.recognition.fontSize")],-1),YD=["disabled"],XD=l("i",{class:"fa fa-remove"},null,-1),QD=[XD],ZD=l("td",null,[l("code",null,"settings.styles.recognition.fontWeight")],-1),qD=["disabled"],eA=l("i",{class:"fa fa-remove"},null,-1),tA=[eA],nA=l("tr",null,[l("td",{colspan:"3"}," Translation ")],-1),sA=l("td",null,[l("code",null,"settings.translation.enabled")],-1),oA=["disabled"],lA=l("i",{class:"fa fa-remove"},null,-1),aA=[lA],iA=l("td",null,[l("code",null,"settings.translation.synthesize")],-1),rA=["disabled"],uA=l("i",{class:"fa fa-remove"},null,-1),cA=[uA],dA=l("td",null,[l("code",null,"settings.translation.synthesizeLang")],-1),fA=["disabled"],hA=l("i",{class:"fa fa-remove"},null,-1),mA=[hA],pA=l("td",null,[l("code",null,"settings.translation.langSrc")],-1),vA=["disabled"],gA=l("i",{class:"fa fa-remove"},null,-1),yA=[gA],bA=l("td",null,[l("code",null,"settings.translation.langDst")],-1),wA=["disabled"],_A=l("i",{class:"fa fa-remove"},null,-1),SA=[_A],$A=l("td",null,[l("code",null,"settings.styles.translation.color")],-1),CA=["disabled"],EA=l("i",{class:"fa fa-remove"},null,-1),TA=[EA],IA=l("td",null,[l("code",null,"settings.styles.translation.strokeWidth")],-1),DA=["disabled"],AA=l("i",{class:"fa fa-remove"},null,-1),kA=[AA],OA=l("td",null,[l("code",null,"settings.styles.translation.strokeColor")],-1),VA=["disabled"],xA=l("i",{class:"fa fa-remove"},null,-1),PA=[xA],RA=l("td",null,[l("code",null,"settings.styles.translation.fontFamily")],-1),MA=["disabled"],UA=l("i",{class:"fa fa-remove"},null,-1),NA=[UA],LA=l("td",null,[l("code",null,"settings.styles.translation.fontSize")],-1),FA=["disabled"],BA=l("i",{class:"fa fa-remove"},null,-1),HA=[BA],WA=l("td",null,[l("code",null,"settings.styles.translation.fontWeight")],-1),jA=["disabled"],zA=l("i",{class:"fa fa-remove"},null,-1),KA=[zA],GA=l("tr",null,[l("td",{colspan:"3"}," Debug ")],-1),JA=l("td",null,[l("code",null,"settings.status.enabled")],-1),YA=["disabled"],XA=l("i",{class:"fa fa-remove"},null,-1),QA=[XA];function ZA(e,t,n,s,o,i){const a=st("NavbarElement"),r=st("CheckboxInput"),u=st("StringInput");return g(),_("div",G8,[l("div",J8,[U(a),l("div",Y8,[l("button",{class:"button is-small is-primary mr-1",disabled:!e.changed,onClick:t[0]||(t[0]=(...c)=>e.sendSave&&e.sendSave(...c))}," Save ",8,X8),l("a",{class:"button is-small mr-1",href:e.controlWidgetUrl,target:"_blank"},"Open control widget",8,Q8),l("a",{class:"button is-small mr-1",href:e.displayWidgetUrl,target:"_blank"},"Open display widget",8,Z8)])],512),l("div",q8,[e.inited?(g(),_("table",eD,[l("tbody",null,[tD,l("tr",null,[nD,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>e.settings.styles.bgColor=c),class:"input is-small",type:"color"},null,512),[[Ve,e.settings.styles.bgColor]])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.bgColor===e.defaultSettings.styles.bgColor,onClick:t[2]||(t[2]=c=>e.settings.styles.bgColor=e.defaultSettings.styles.bgColor)},lD,8,sD)])]),l("tr",null,[aD,l("td",null,[U(r,{modelValue:e.settings.styles.bgColorEnabled,"onUpdate:modelValue":t[3]||(t[3]=c=>e.settings.styles.bgColorEnabled=c)},null,8,["modelValue"])])]),l("tr",null,[iD,l("td",null,[l("div",rD,[ve(l("select",{"onUpdate:modelValue":t[4]||(t[4]=c=>e.settings.styles.vAlign=c)},dD,512),[[bl,e.settings.styles.vAlign]])])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.vAlign===e.defaultSettings.styles.vAlign,onClick:t[5]||(t[5]=c=>e.settings.styles.vAlign=e.defaultSettings.styles.vAlign)},mD,8,fD)])]),pD,l("tr",null,[vD,l("td",null,[U(u,{modelValue:e.settings.recognition.lang,"onUpdate:modelValue":t[6]||(t[6]=c=>e.settings.recognition.lang=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.recognition.lang===e.defaultSettings.recognition.lang,onClick:t[7]||(t[7]=c=>e.settings.recognition.lang=e.defaultSettings.recognition.lang)},bD,8,gD)])]),l("tr",null,[wD,l("td",null,[U(r,{modelValue:e.settings.recognition.synthesize,"onUpdate:modelValue":t[8]||(t[8]=c=>e.settings.recognition.synthesize=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.recognition.synthesize===e.defaultSettings.recognition.synthesize,onClick:t[9]||(t[9]=c=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},$D,8,_D)])]),l("tr",null,[CD,l("td",null,[U(u,{modelValue:e.settings.recognition.synthesizeLang,"onUpdate:modelValue":t[10]||(t[10]=c=>e.settings.recognition.synthesizeLang=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.recognition.synthesizeLang===e.defaultSettings.recognition.synthesizeLang,onClick:t[11]||(t[11]=c=>e.settings.recognition.synthesizeLang=e.defaultSettings.recognition.synthesizeLang)},ID,8,ED)])]),l("tr",null,[DD,l("td",null,[U(r,{modelValue:e.settings.recognition.display,"onUpdate:modelValue":t[12]||(t[12]=c=>e.settings.recognition.display=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.recognition.display===e.defaultSettings.recognition.display,onClick:t[13]||(t[13]=c=>e.settings.recognition.display=e.defaultSettings.recognition.display)},OD,8,AD)])]),l("tr",null,[VD,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[14]||(t[14]=c=>e.settings.styles.recognition.color=c),class:"input is-small",type:"color"},null,512),[[Ve,e.settings.styles.recognition.color]])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.color===e.defaultSettings.styles.recognition.color,onClick:t[15]||(t[15]=c=>e.settings.styles.recognition.color=e.defaultSettings.styles.recognition.color)},RD,8,xD)])]),l("tr",null,[MD,l("td",null,[U(u,{modelValue:e.settings.styles.recognition.strokeWidth,"onUpdate:modelValue":t[16]||(t[16]=c=>e.settings.styles.recognition.strokeWidth=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeWidth===e.defaultSettings.styles.recognition.strokeWidth,onClick:t[17]||(t[17]=c=>e.settings.styles.recognition.strokeWidth=e.defaultSettings.styles.recognition.strokeWidth)},LD,8,UD)])]),l("tr",null,[FD,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[18]||(t[18]=c=>e.settings.styles.recognition.strokeColor=c),class:"input is-small",type:"color"},null,512),[[Ve,e.settings.styles.recognition.strokeColor]])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.strokeColor===e.defaultSettings.styles.recognition.strokeColor,onClick:t[19]||(t[19]=c=>e.settings.styles.recognition.strokeColor=e.defaultSettings.styles.recognition.strokeColor)},WD,8,BD)])]),l("tr",null,[jD,l("td",null,[U(u,{modelValue:e.settings.styles.recognition.fontFamily,"onUpdate:modelValue":t[20]||(t[20]=c=>e.settings.styles.recognition.fontFamily=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontFamily===e.defaultSettings.styles.recognition.fontFamily,onClick:t[21]||(t[21]=c=>e.settings.styles.recognition.fontFamily=e.defaultSettings.styles.recognition.fontFamily)},GD,8,zD)])]),l("tr",null,[JD,l("td",null,[U(u,{modelValue:e.settings.styles.recognition.fontSize,"onUpdate:modelValue":t[22]||(t[22]=c=>e.settings.styles.recognition.fontSize=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontSize===e.defaultSettings.styles.recognition.fontSize,onClick:t[23]||(t[23]=c=>e.settings.styles.recognition.fontSize=e.defaultSettings.styles.recognition.fontSize)},QD,8,YD)])]),l("tr",null,[ZD,l("td",null,[U(u,{modelValue:e.settings.styles.recognition.fontWeight,"onUpdate:modelValue":t[24]||(t[24]=c=>e.settings.styles.recognition.fontWeight=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.recognition.fontWeight===e.defaultSettings.styles.recognition.fontWeight,onClick:t[25]||(t[25]=c=>e.settings.styles.recognition.fontWeight=e.defaultSettings.styles.recognition.fontWeight)},tA,8,qD)])]),nA,l("tr",null,[sA,l("td",null,[U(r,{modelValue:e.settings.translation.enabled,"onUpdate:modelValue":t[26]||(t[26]=c=>e.settings.translation.enabled=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.translation.enabled===e.defaultSettings.translation.enabled,onClick:t[27]||(t[27]=c=>e.settings.translation.enabled=e.defaultSettings.translation.enabled)},aA,8,oA)])]),l("tr",null,[iA,l("td",null,[U(r,{modelValue:e.settings.translation.synthesize,"onUpdate:modelValue":t[28]||(t[28]=c=>e.settings.translation.synthesize=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.translation.synthesize===e.defaultSettings.translation.synthesize,onClick:t[29]||(t[29]=c=>e.settings.translation.synthesize=e.defaultSettings.translation.synthesize)},cA,8,rA)])]),l("tr",null,[dA,l("td",null,[U(u,{modelValue:e.settings.translation.synthesizeLang,"onUpdate:modelValue":t[30]||(t[30]=c=>e.settings.translation.synthesizeLang=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.translation.synthesizeLang===e.defaultSettings.translation.synthesizeLang,onClick:t[31]||(t[31]=c=>e.settings.translation.synthesizeLang=e.defaultSettings.translation.synthesizeLang)},mA,8,fA)])]),l("tr",null,[pA,l("td",null,[U(u,{modelValue:e.settings.translation.langSrc,"onUpdate:modelValue":t[32]||(t[32]=c=>e.settings.translation.langSrc=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.translation.langSrc===e.defaultSettings.translation.langSrc,onClick:t[33]||(t[33]=c=>e.settings.translation.langSrc=e.defaultSettings.translation.langSrc)},yA,8,vA)])]),l("tr",null,[bA,l("td",null,[U(u,{modelValue:e.settings.translation.langDst,"onUpdate:modelValue":t[34]||(t[34]=c=>e.settings.translation.langDst=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.translation.langDst===e.defaultSettings.translation.langDst,onClick:t[35]||(t[35]=c=>e.settings.translation.langDst=e.defaultSettings.translation.langDst)},SA,8,wA)])]),l("tr",null,[$A,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[36]||(t[36]=c=>e.settings.styles.translation.color=c),class:"input is-small",type:"color"},null,512),[[Ve,e.settings.styles.translation.color]])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.color===e.defaultSettings.styles.translation.color,onClick:t[37]||(t[37]=c=>e.settings.styles.translation.color=e.defaultSettings.styles.translation.color)},TA,8,CA)])]),l("tr",null,[IA,l("td",null,[U(u,{modelValue:e.settings.styles.translation.strokeWidth,"onUpdate:modelValue":t[38]||(t[38]=c=>e.settings.styles.translation.strokeWidth=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeWidth===e.defaultSettings.styles.translation.strokeWidth,onClick:t[39]||(t[39]=c=>e.settings.styles.translation.strokeWidth=e.defaultSettings.styles.translation.strokeWidth)},kA,8,DA)])]),l("tr",null,[OA,l("td",null,[ve(l("input",{"onUpdate:modelValue":t[40]||(t[40]=c=>e.settings.styles.translation.strokeColor=c),class:"input is-small",type:"color"},null,512),[[Ve,e.settings.styles.translation.strokeColor]])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.strokeColor===e.defaultSettings.styles.translation.strokeColor,onClick:t[41]||(t[41]=c=>e.settings.styles.translation.strokeColor=e.defaultSettings.styles.translation.strokeColor)},PA,8,VA)])]),l("tr",null,[RA,l("td",null,[U(u,{modelValue:e.settings.styles.translation.fontFamily,"onUpdate:modelValue":t[42]||(t[42]=c=>e.settings.styles.translation.fontFamily=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.fontFamily===e.defaultSettings.styles.translation.fontFamily,onClick:t[43]||(t[43]=c=>e.settings.styles.translation.fontFamily=e.defaultSettings.styles.translation.fontFamily)},NA,8,MA)])]),l("tr",null,[LA,l("td",null,[U(u,{modelValue:e.settings.styles.translation.fontSize,"onUpdate:modelValue":t[44]||(t[44]=c=>e.settings.styles.translation.fontSize=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.fontSize===e.defaultSettings.styles.translation.fontSize,onClick:t[45]||(t[45]=c=>e.settings.styles.translation.fontSize=e.defaultSettings.styles.translation.fontSize)},HA,8,FA)])]),l("tr",null,[WA,l("td",null,[U(u,{modelValue:e.settings.styles.translation.fontWeight,"onUpdate:modelValue":t[46]||(t[46]=c=>e.settings.styles.translation.fontWeight=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.styles.translation.fontWeight===e.defaultSettings.styles.translation.fontWeight,onClick:t[47]||(t[47]=c=>e.settings.styles.translation.fontWeight=e.defaultSettings.styles.translation.fontWeight)},KA,8,jA)])]),GA,l("tr",null,[JA,l("td",null,[U(r,{modelValue:e.settings.status.enabled,"onUpdate:modelValue":t[48]||(t[48]=c=>e.settings.status.enabled=c)},null,8,["modelValue"])]),l("td",null,[l("button",{class:"button is-small",disabled:e.settings.status.enabled===e.defaultSettings.status.enabled,onClick:t[49]||(t[49]=c=>e.settings.status.enabled=e.defaultSettings.status.enabled)},QA,8,YA)])])])],512)):Y("",!0)],512)])}var qA=dt(K8,[["render",ZA]]);const ek={class:"view"},tk={id:"top",ref:"top"},nk={id:"actionbar",class:"p-1"},sk=["disabled"],ok={id:"main"},lk={class:"mb-4"},ak=l("h1",{class:"title mb-2"}," Global Variables ",-1),ik=l("div",{class:"help"},[R(" Variables can be used from commands with "),l("code",null,"$var(variable_name)"),R(". In addition to the global variables defined here, commands can define their own local variables which have precedence over the global ones. ")],-1),rk={class:"table is-striped"},uk=l("thead",null,[l("tr",null,[l("th",null,"Name"),l("th",null,"Value"),l("th")])],-1),ck=l("i",{class:"fa fa-trash"},null,-1),dk=ce({__name:"VariablesView",setup(e){const t=x("[]"),n=x("[]"),s=x([]),o=pe(()=>t.value!==n.value),i=d=>{s.value=s.value.filter((f,m)=>m!==d)},a=()=>{s.value.push({name:"",value:""})},r=()=>{n.value=JSON.stringify({variables:s.value})},u=()=>{t.value=JSON.stringify({variables:s.value}),n.value=t.value},c=async()=>{await At.saveVariables({variables:s.value}),u()},h=Cr();return ot(async()=>{const d=await At.getPageVariablesData();if(d.status!==200){h.push({name:"login"});return}const f=await d.json();s.value=f.variables,u(),Ge(s,()=>{r()},{deep:!0})}),(d,f)=>(g(),_("div",ek,[l("div",tk,[U(ns),l("div",nk,[l("button",{class:"button is-small",onClick:a}," Add "),l("button",{class:"button is-small is-primary",disabled:!J(o),onClick:c}," Save ",8,sk)])],512),l("div",ok,[l("div",lk,[ak,ik,l("table",rk,[uk,l("tbody",null,[(g(!0),_(re,null,ye(s.value,(m,p)=>(g(),_("tr",{key:p},[l("td",null,[U(ut,{modelValue:m.name,"onUpdate:modelValue":v=>m.name=v},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[U(ut,{modelValue:m.value,"onUpdate:modelValue":v=>m.value=v},null,8,["modelValue","onUpdate:modelValue"])]),l("td",null,[U(Ks,{class:"button is-small mr-1",message:"Are you sure?",timeout:1e3,onDoubleclick:v=>i(p)},{default:St(()=>[ck]),_:2},1032,["onDoubleclick"])])]))),128))])])])])]))}});var fk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function hk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hf(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t}var Wf={exports:{}},mk=Hf(uv);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,s)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(n),!0).forEach(function(s){pk(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Kl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kl=function(t){return typeof t}:Kl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function pk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hn.apply(this,arguments)}function vk(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,i;for(i=0;i<s.length;i++)o=s[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function gk(e,t){if(e==null)return{};var n=vk(e,t),s,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)s=i[o],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function yk(e){return bk(e)||wk(e)||_k(e)||Sk()}function bk(e){if(Array.isArray(e))return Wi(e)}function wk(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _k(e,t){if(!!e){if(typeof e=="string")return Wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wi(e,t)}}function Wi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Sk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $k="1.14.0";function Xn(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var ss=Xn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Sl=Xn(/Edge/i),Qu=Xn(/firefox/i),Go=Xn(/safari/i)&&!Xn(/chrome/i)&&!Xn(/android/i),jf=Xn(/iP(ad|od|hone)/i),Ck=Xn(/chrome/i)&&Xn(/android/i),zf={capture:!1,passive:!1};function Ye(e,t,n){e.addEventListener(t,n,!ss&&zf)}function Je(e,t,n){e.removeEventListener(t,n,!ss&&zf)}function ra(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Ek(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _n(e,t,n,s){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ra(e,t):ra(e,t))||s&&e===n)return e;if(e===n)break}while(e=Ek(e))}return null}var Zu=/\s+/g;function vt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(Zu," ").replace(" "+t+" "," ");e.className=(s+(n?" "+t:"")).replace(Zu," ")}}function Ce(e,t,n){var s=e&&e.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=n+(typeof n=="string"?"":"px")}}function Ms(e,t){var n="";if(typeof e=="string")n=e;else do{var s=Ce(e,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Kf(e,t,n){if(e){var s=e.getElementsByTagName(t),o=0,i=s.length;if(n)for(;o<i;o++)n(s[o],o);return s}return[]}function Mn(){var e=document.scrollingElement;return e||document.documentElement}function pt(e,t,n,s,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,a,r,u,c,h,d;if(e!==window&&e.parentNode&&e!==Mn()?(i=e.getBoundingClientRect(),a=i.top,r=i.left,u=i.bottom,c=i.right,h=i.height,d=i.width):(a=0,r=0,u=window.innerHeight,c=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!ss))do if(o&&o.getBoundingClientRect&&(Ce(o,"transform")!=="none"||n&&Ce(o,"position")!=="static")){var f=o.getBoundingClientRect();a-=f.top+parseInt(Ce(o,"border-top-width")),r-=f.left+parseInt(Ce(o,"border-left-width")),u=a+i.height,c=r+i.width;break}while(o=o.parentNode);if(s&&e!==window){var m=Ms(o||e),p=m&&m.a,v=m&&m.d;m&&(a/=v,r/=p,d/=p,h/=v,u=a+h,c=r+d)}return{top:a,left:r,bottom:u,right:c,width:d,height:h}}}function qu(e,t,n){for(var s=ms(e,!0),o=pt(e)[t];s;){var i=pt(s)[n],a=void 0;if(n==="top"||n==="left"?a=o>=i:a=o<=i,!a)return s;if(s===Mn())break;s=ms(s,!1)}return!1}function vo(e,t,n,s){for(var o=0,i=0,a=e.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==Ne.ghost&&(s||a[i]!==Ne.dragged)&&_n(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function Rr(e,t){for(var n=e.lastElementChild;n&&(n===Ne.ghost||Ce(n,"display")==="none"||t&&!ra(n,t));)n=n.previousElementSibling;return n||null}function wt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ne.clone&&(!t||ra(e,t))&&n++;return n}function ec(e){var t=0,n=0,s=Mn();if(e)do{var o=Ms(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==s&&(e=e.parentNode));return[t,n]}function Tk(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[n][s])return Number(n)}return-1}function ms(e,t){if(!e||!e.getBoundingClientRect)return Mn();var n=e,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Ce(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Mn();if(s||t)return n;s=!0}}while(n=n.parentNode);return Mn()}function Ik(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function li(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Jo;function Gf(e,t){return function(){if(!Jo){var n=arguments,s=this;n.length===1?e.call(s,n[0]):e.apply(s,n),Jo=setTimeout(function(){Jo=void 0},t)}}}function Dk(){clearTimeout(Jo),Jo=void 0}function Jf(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Mr(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function tc(e,t){Ce(e,"position","absolute"),Ce(e,"top",t.top),Ce(e,"left",t.left),Ce(e,"width",t.width),Ce(e,"height",t.height)}function ai(e){Ce(e,"position",""),Ce(e,"top",""),Ce(e,"left",""),Ce(e,"width",""),Ce(e,"height","")}var Nt="Sortable"+new Date().getTime();function Ak(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(o){if(!(Ce(o,"display")==="none"||o===Ne.ghost)){e.push({target:o,rect:pt(o)});var i=Nn({},e[e.length-1].rect);if(o.thisAnimationDuration){var a=Ms(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(s){e.push(s)},removeAnimationState:function(s){e.splice(Tk(e,{target:s}),1)},animateAll:function(s){var o=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var i=!1,a=0;e.forEach(function(r){var u=0,c=r.target,h=c.fromRect,d=pt(c),f=c.prevFromRect,m=c.prevToRect,p=r.rect,v=Ms(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&li(f,d)&&!li(h,d)&&(p.top-d.top)/(p.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(u=Ok(p,f,m,o.options)),li(d,h)||(c.prevFromRect=h,c.prevToRect=d,u||(u=o.options.animation),o.animate(c,p,d,u)),u&&(i=!0,a=Math.max(a,u),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},u),c.thisAnimationDuration=u)}),clearTimeout(t),i?t=setTimeout(function(){typeof s=="function"&&s()},a):typeof s=="function"&&s(),e=[]},animate:function(s,o,i,a){if(a){Ce(s,"transition",""),Ce(s,"transform","");var r=Ms(this.el),u=r&&r.a,c=r&&r.d,h=(o.left-i.left)/(u||1),d=(o.top-i.top)/(c||1);s.animatingX=!!h,s.animatingY=!!d,Ce(s,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=kk(s),Ce(s,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Ce(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Ce(s,"transition",""),Ce(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},a)}}}}function kk(e){return e.offsetWidth}function Ok(e,t,n,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*s.animation}var Js=[],ii={initializeByDefault:!0},$l={mount:function(t){for(var n in ii)ii.hasOwnProperty(n)&&!(n in t)&&(t[n]=ii[n]);Js.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Js.push(t)},pluginEvent:function(t,n,s){var o=this;this.eventCanceled=!1,s.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Js.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][i]&&n[a.pluginName][i](Nn({sortable:n},s)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](Nn({sortable:n},s)))})},initializePlugins:function(t,n,s,o){Js.forEach(function(r){var u=r.pluginName;if(!(!t.options[u]&&!r.initializeByDefault)){var c=new r(t,n,t.options);c.sortable=t,c.options=t.options,t[u]=c,hn(s,c.defaults)}});for(var i in t.options)if(!!t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);typeof a!="undefined"&&(t.options[i]=a)}},getEventProperties:function(t,n){var s={};return Js.forEach(function(o){typeof o.eventProperties=="function"&&hn(s,o.eventProperties.call(n[o.pluginName],t))}),s},modifyOption:function(t,n,s){var o;return Js.forEach(function(i){!t[i.pluginName]||i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],s))}),o}};function xo(e){var t=e.sortable,n=e.rootEl,s=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,r=e.fromEl,u=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,m=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Nt],!!t){var v,w=t.options,b="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!ss&&!Sl?v=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(s,!0,!0)),v.to=a||n,v.from=r||n,v.item=o||n,v.clone=i,v.oldIndex=u,v.newIndex=c,v.oldDraggableIndex=h,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=m?m.lastPutMode:void 0;var y=Nn(Nn({},p),$l.getEventProperties(s,t));for(var S in y)v[S]=y[S];n&&n.dispatchEvent(v),w[b]&&w[b].call(t,v)}}var Vk=["evt"],Wt=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.evt,i=gk(s,Vk);$l.pluginEvent.bind(Ne)(t,n,Nn({dragEl:me,parentEl:yt,ghostEl:ze,rootEl:mt,nextEl:Is,lastDownEl:Gl,cloneEl:bt,cloneHidden:fs,dragStarted:Po,putSortable:Ot,activeSortable:Ne.active,originalEvent:o,oldIndex:eo,oldDraggableIndex:Yo,newIndex:tn,newDraggableIndex:ds,hideGhostForTarget:Zf,unhideGhostForTarget:qf,cloneNowHidden:function(){fs=!0},cloneNowShown:function(){fs=!1},dispatchSortableEvent:function(r){Bt({sortable:n,name:r,originalEvent:o})}},i))};function Bt(e){xo(Nn({putSortable:Ot,cloneEl:bt,targetEl:me,rootEl:mt,oldIndex:eo,oldDraggableIndex:Yo,newIndex:tn,newDraggableIndex:ds},e))}var me,yt,ze,mt,Is,Gl,bt,fs,eo,tn,Yo,ds,Ml,Ot,qs=!1,ua=!1,ca=[],Cs,gn,ri,ui,nc,sc,Po,Ys,Xo,Qo=!1,Ul=!1,Jl,Rt,ci=[],ji=!1,da=[],Wa=typeof document!="undefined",Nl=jf,oc=Sl||ss?"cssFloat":"float",xk=Wa&&!Ck&&!jf&&"draggable"in document.createElement("div"),Yf=function(){if(!!Wa){if(ss)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Xf=function(t,n){var s=Ce(t),o=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),i=vo(t,0,n),a=vo(t,1,n),r=i&&Ce(i),u=a&&Ce(a),c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+pt(i).width,h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+pt(a).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&r.float&&r.float!=="none"){var d=r.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===d)?"vertical":"horizontal"}return i&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||c>=o&&s[oc]==="none"||a&&s[oc]==="none"&&c+h>o)?"vertical":"horizontal"},Pk=function(t,n,s){var o=s?t.left:t.top,i=s?t.right:t.bottom,a=s?t.width:t.height,r=s?n.left:n.top,u=s?n.right:n.bottom,c=s?n.width:n.height;return o===r||i===u||o+a/2===r+c/2},Rk=function(t,n){var s;return ca.some(function(o){var i=o[Nt].options.emptyInsertThreshold;if(!(!i||Rr(o))){var a=pt(o),r=t>=a.left-i&&t<=a.right+i,u=n>=a.top-i&&n<=a.bottom+i;if(r&&u)return s=o}}),s},Qf=function(t){function n(i,a){return function(r,u,c,h){var d=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(r,u,c,h),a)(r,u,c,h);var f=(a?r:u).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var s={},o=t.group;(!o||Kl(o)!="object")&&(o={name:o}),s.name=o.name,s.checkPull=n(o.pull,!0),s.checkPut=n(o.put),s.revertClone=o.revertClone,t.group=s},Zf=function(){!Yf&&ze&&Ce(ze,"display","none")},qf=function(){!Yf&&ze&&Ce(ze,"display","")};Wa&&document.addEventListener("click",function(e){if(ua)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ua=!1,!1},!0);var Es=function(t){if(me){t=t.touches?t.touches[0]:t;var n=Rk(t.clientX,t.clientY);if(n){var s={};for(var o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[Nt]._onDragOver(s)}}},Mk=function(t){me&&me.parentNode[Nt]._isOutsideThisEl(t.target)};function Ne(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=hn({},t),e[Nt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Xf(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,r){a.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ne.supportPointer!==!1&&"PointerEvent"in window&&!Go,emptyInsertThreshold:5};$l.initializePlugins(this,e,n);for(var s in n)!(s in t)&&(t[s]=n[s]);Qf(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:xk,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ye(e,"pointerdown",this._onTapStart):(Ye(e,"mousedown",this._onTapStart),Ye(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ye(e,"dragover",this),Ye(e,"dragenter",this)),ca.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),hn(this,Ak())}Ne.prototype={constructor:Ne,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ys=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,me):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,s=this.el,o=this.options,i=o.preventOnFilter,a=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(r||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,h=o.filter;if(jk(s),!me&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Go&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=_n(u,o.draggable,s,!1),!(u&&u.animated)&&Gl!==u)){if(eo=wt(u),Yo=wt(u,o.draggable),typeof h=="function"){if(h.call(this,t,u,this)){Bt({sortable:n,rootEl:c,name:"filter",targetEl:u,toEl:s,fromEl:s}),Wt("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=_n(c,d.trim(),s,!1),d)return Bt({sortable:n,rootEl:d,name:"filter",targetEl:u,fromEl:s,toEl:s}),Wt("filter",n,{evt:t}),!0}),h)){i&&t.cancelable&&t.preventDefault();return}o.handle&&!_n(c,o.handle,s,!1)||this._prepareDragStart(t,r,u)}}},_prepareDragStart:function(t,n,s){var o=this,i=o.el,a=o.options,r=i.ownerDocument,u;if(s&&!me&&s.parentNode===i){var c=pt(s);if(mt=i,me=s,yt=me.parentNode,Is=me.nextSibling,Gl=s,Ml=a.group,Ne.dragged=me,Cs={target:me,clientX:(n||t).clientX,clientY:(n||t).clientY},nc=Cs.clientX-c.left,sc=Cs.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,me.style["will-change"]="all",u=function(){if(Wt("delayEnded",o,{evt:t}),Ne.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Qu&&o.nativeDraggable&&(me.draggable=!0),o._triggerDragStart(t,n),Bt({sortable:o,name:"choose",originalEvent:t}),vt(me,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){Kf(me,h.trim(),di)}),Ye(r,"dragover",Es),Ye(r,"mousemove",Es),Ye(r,"touchmove",Es),Ye(r,"mouseup",o._onDrop),Ye(r,"touchend",o._onDrop),Ye(r,"touchcancel",o._onDrop),Qu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,me.draggable=!0),Wt("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Sl||ss))){if(Ne.eventCanceled){this._onDrop();return}Ye(r,"mouseup",o._disableDelayedDrag),Ye(r,"touchend",o._disableDelayedDrag),Ye(r,"touchcancel",o._disableDelayedDrag),Ye(r,"mousemove",o._delayedDragTouchMoveHandler),Ye(r,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Ye(r,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){me&&di(me),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Je(t,"mouseup",this._disableDelayedDrag),Je(t,"touchend",this._disableDelayedDrag),Je(t,"touchcancel",this._disableDelayedDrag),Je(t,"mousemove",this._delayedDragTouchMoveHandler),Je(t,"touchmove",this._delayedDragTouchMoveHandler),Je(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Ye(document,"pointermove",this._onTouchMove):n?Ye(document,"touchmove",this._onTouchMove):Ye(document,"mousemove",this._onTouchMove):(Ye(me,"dragend",this),Ye(mt,"dragstart",this._onDragStart));try{document.selection?Yl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(qs=!1,mt&&me){Wt("dragStarted",this,{evt:n}),this.nativeDraggable&&Ye(document,"dragover",Mk);var s=this.options;!t&&vt(me,s.dragClass,!1),vt(me,s.ghostClass,!0),Ne.active=this,t&&this._appendGhost(),Bt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(gn){this._lastX=gn.clientX,this._lastY=gn.clientY,Zf();for(var t=document.elementFromPoint(gn.clientX,gn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(gn.clientX,gn.clientY),t!==n);)n=t;if(me.parentNode[Nt]._isOutsideThisEl(t),n)do{if(n[Nt]){var s=void 0;if(s=n[Nt]._onDragOver({clientX:gn.clientX,clientY:gn.clientY,target:t,rootEl:n}),s&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);qf()}},_onTouchMove:function(t){if(Cs){var n=this.options,s=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,a=ze&&Ms(ze,!0),r=ze&&a&&a.a,u=ze&&a&&a.d,c=Nl&&Rt&&ec(Rt),h=(i.clientX-Cs.clientX+o.x)/(r||1)+(c?c[0]-ci[0]:0)/(r||1),d=(i.clientY-Cs.clientY+o.y)/(u||1)+(c?c[1]-ci[1]:0)/(u||1);if(!Ne.active&&!qs){if(s&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(ze){a?(a.e+=h-(ri||0),a.f+=d-(ui||0)):a={a:1,b:0,c:0,d:1,e:h,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Ce(ze,"webkitTransform",f),Ce(ze,"mozTransform",f),Ce(ze,"msTransform",f),Ce(ze,"transform",f),ri=h,ui=d,gn=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ze){var t=this.options.fallbackOnBody?document.body:mt,n=pt(me,!0,Nl,!0,t),s=this.options;if(Nl){for(Rt=t;Ce(Rt,"position")==="static"&&Ce(Rt,"transform")==="none"&&Rt!==document;)Rt=Rt.parentNode;Rt!==document.body&&Rt!==document.documentElement?(Rt===document&&(Rt=Mn()),n.top+=Rt.scrollTop,n.left+=Rt.scrollLeft):Rt=Mn(),ci=ec(Rt)}ze=me.cloneNode(!0),vt(ze,s.ghostClass,!1),vt(ze,s.fallbackClass,!0),vt(ze,s.dragClass,!0),Ce(ze,"transition",""),Ce(ze,"transform",""),Ce(ze,"box-sizing","border-box"),Ce(ze,"margin",0),Ce(ze,"top",n.top),Ce(ze,"left",n.left),Ce(ze,"width",n.width),Ce(ze,"height",n.height),Ce(ze,"opacity","0.8"),Ce(ze,"position",Nl?"absolute":"fixed"),Ce(ze,"zIndex","100000"),Ce(ze,"pointerEvents","none"),Ne.ghost=ze,t.appendChild(ze),Ce(ze,"transform-origin",nc/parseInt(ze.style.width)*100+"% "+sc/parseInt(ze.style.height)*100+"%")}},_onDragStart:function(t,n){var s=this,o=t.dataTransfer,i=s.options;if(Wt("dragStart",this,{evt:t}),Ne.eventCanceled){this._onDrop();return}Wt("setupClone",this),Ne.eventCanceled||(bt=Mr(me),bt.draggable=!1,bt.style["will-change"]="",this._hideClone(),vt(bt,this.options.chosenClass,!1),Ne.clone=bt),s.cloneId=Yl(function(){Wt("clone",s),!Ne.eventCanceled&&(s.options.removeCloneOnHide||mt.insertBefore(bt,me),s._hideClone(),Bt({sortable:s,name:"clone"}))}),!n&&vt(me,i.dragClass,!0),n?(ua=!0,s._loopId=setInterval(s._emulateDragOver,50)):(Je(document,"mouseup",s._onDrop),Je(document,"touchend",s._onDrop),Je(document,"touchcancel",s._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(s,o,me)),Ye(document,"drop",s),Ce(me,"transform","translateZ(0)")),qs=!0,s._dragStartId=Yl(s._dragStarted.bind(s,n,t)),Ye(document,"selectstart",s),Po=!0,Go&&Ce(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,s=t.target,o,i,a,r=this.options,u=r.group,c=Ne.active,h=Ml===u,d=r.sort,f=Ot||c,m,p=this,v=!1;if(ji)return;function w(le,De){Wt(le,p,Nn({evt:t,isOwner:h,axis:m?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:d,fromSortable:f,target:s,completed:y,onMove:function($e,He){return Ll(mt,n,me,o,$e,pt($e),t,He)},changed:S},De))}function b(){w("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function y(le){return w("dragOverCompleted",{insertion:le}),le&&(h?c._hideClone():c._showClone(p),p!==f&&(vt(me,Ot?Ot.options.ghostClass:c.options.ghostClass,!1),vt(me,r.ghostClass,!0)),Ot!==p&&p!==Ne.active?Ot=p:p===Ne.active&&Ot&&(Ot=null),f===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){w("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===me&&!me.animated||s===n&&!s.animated)&&(Ys=null),!r.dragoverBubble&&!t.rootEl&&s!==document&&(me.parentNode[Nt]._isOutsideThisEl(t.target),!le&&Es(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function S(){tn=wt(me),ds=wt(me,r.draggable),Bt({sortable:p,name:"change",toEl:n,newIndex:tn,newDraggableIndex:ds,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=_n(s,r.draggable,n,!0),w("dragOver"),Ne.eventCanceled)return v;if(me.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return y(!1);if(ua=!1,c&&!r.disabled&&(h?d||(a=yt!==mt):Ot===this||(this.lastPutMode=Ml.checkPull(this,c,me,t))&&u.checkPut(this,c,me,t))){if(m=this._getDirection(t,s)==="vertical",o=pt(me),w("dragOverValid"),Ne.eventCanceled)return v;if(a)return yt=mt,b(),this._hideClone(),w("revert"),Ne.eventCanceled||(Is?mt.insertBefore(me,Is):mt.appendChild(me)),y(!0);var $=Rr(n,r.draggable);if(!$||Fk(t,m,this)&&!$.animated){if($===me)return y(!1);if($&&n===t.target&&(s=$),s&&(i=pt(s)),Ll(mt,n,me,o,s,i,t,!!s)!==!1)return b(),n.appendChild(me),yt=n,S(),y(!0)}else if($&&Lk(t,m,this)){var I=vo(n,0,r,!0);if(I===me)return y(!1);if(s=I,i=pt(s),Ll(mt,n,me,o,s,i,t,!1)!==!1)return b(),n.insertBefore(me,I),yt=n,S(),y(!0)}else if(s.parentNode===n){i=pt(s);var C=0,V,A=me.parentNode!==n,O=!Pk(me.animated&&me.toRect||o,s.animated&&s.toRect||i,m),B=m?"top":"left",j=qu(s,"top","top")||qu(me,"top","top"),H=j?j.scrollTop:void 0;Ys!==s&&(V=i[B],Qo=!1,Ul=!O&&r.invertSwap||A),C=Bk(t,s,i,m,O?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ul,Ys===s);var k;if(C!==0){var E=wt(me);do E-=C,k=yt.children[E];while(k&&(Ce(k,"display")==="none"||k===ze))}if(C===0||k===s)return y(!1);Ys=s,Xo=C;var M=s.nextElementSibling,P=!1;P=C===1;var G=Ll(mt,n,me,o,s,i,t,P);if(G!==!1)return(G===1||G===-1)&&(P=G===1),ji=!0,setTimeout(Nk,30),b(),P&&!M?n.appendChild(me):s.parentNode.insertBefore(me,P?M:s),j&&Jf(j,0,H-j.scrollTop),yt=me.parentNode,V!==void 0&&!Ul&&(Jl=Math.abs(V-pt(s)[B])),S(),y(!0)}if(n.contains(me))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Je(document,"mousemove",this._onTouchMove),Je(document,"touchmove",this._onTouchMove),Je(document,"pointermove",this._onTouchMove),Je(document,"dragover",Es),Je(document,"mousemove",Es),Je(document,"touchmove",Es)},_offUpEvents:function(){var t=this.el.ownerDocument;Je(t,"mouseup",this._onDrop),Je(t,"touchend",this._onDrop),Je(t,"pointerup",this._onDrop),Je(t,"touchcancel",this._onDrop),Je(document,"selectstart",this)},_onDrop:function(t){var n=this.el,s=this.options;if(tn=wt(me),ds=wt(me,s.draggable),Wt("drop",this,{evt:t}),yt=me&&me.parentNode,tn=wt(me),ds=wt(me,s.draggable),Ne.eventCanceled){this._nulling();return}qs=!1,Ul=!1,Qo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zi(this.cloneId),zi(this._dragStartId),this.nativeDraggable&&(Je(document,"drop",this),Je(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Go&&Ce(document.body,"user-select",""),Ce(me,"transform",""),t&&(Po&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),ze&&ze.parentNode&&ze.parentNode.removeChild(ze),(mt===yt||Ot&&Ot.lastPutMode!=="clone")&&bt&&bt.parentNode&&bt.parentNode.removeChild(bt),me&&(this.nativeDraggable&&Je(me,"dragend",this),di(me),me.style["will-change"]="",Po&&!qs&&vt(me,Ot?Ot.options.ghostClass:this.options.ghostClass,!1),vt(me,this.options.chosenClass,!1),Bt({sortable:this,name:"unchoose",toEl:yt,newIndex:null,newDraggableIndex:null,originalEvent:t}),mt!==yt?(tn>=0&&(Bt({rootEl:yt,name:"add",toEl:yt,fromEl:mt,originalEvent:t}),Bt({sortable:this,name:"remove",toEl:yt,originalEvent:t}),Bt({rootEl:yt,name:"sort",toEl:yt,fromEl:mt,originalEvent:t}),Bt({sortable:this,name:"sort",toEl:yt,originalEvent:t})),Ot&&Ot.save()):tn!==eo&&tn>=0&&(Bt({sortable:this,name:"update",toEl:yt,originalEvent:t}),Bt({sortable:this,name:"sort",toEl:yt,originalEvent:t})),Ne.active&&((tn==null||tn===-1)&&(tn=eo,ds=Yo),Bt({sortable:this,name:"end",toEl:yt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Wt("nulling",this),mt=me=yt=ze=Is=bt=Gl=fs=Cs=gn=Po=tn=ds=eo=Yo=Ys=Xo=Ot=Ml=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,da.forEach(function(t){t.checked=!0}),da.length=ri=ui=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":me&&(this._onDragOver(t),Uk(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,s=this.el.children,o=0,i=s.length,a=this.options;o<i;o++)n=s[o],_n(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||Wk(n));return t},sort:function(t,n){var s={},o=this.el;this.toArray().forEach(function(i,a){var r=o.children[a];_n(r,this.options.draggable,o,!1)&&(s[i]=r)},this),n&&this.captureAnimationState(),t.forEach(function(i){s[i]&&(o.removeChild(s[i]),o.appendChild(s[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return _n(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var s=this.options;if(n===void 0)return s[t];var o=$l.modifyOption(this,t,n);typeof o!="undefined"?s[t]=o:s[t]=n,t==="group"&&Qf(s)},destroy:function(){Wt("destroy",this);var t=this.el;t[Nt]=null,Je(t,"mousedown",this._onTapStart),Je(t,"touchstart",this._onTapStart),Je(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Je(t,"dragover",this),Je(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ca.splice(ca.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!fs){if(Wt("hideClone",this),Ne.eventCanceled)return;Ce(bt,"display","none"),this.options.removeCloneOnHide&&bt.parentNode&&bt.parentNode.removeChild(bt),fs=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(fs){if(Wt("showClone",this),Ne.eventCanceled)return;me.parentNode==mt&&!this.options.group.revertClone?mt.insertBefore(bt,me):Is?mt.insertBefore(bt,Is):mt.appendChild(bt),this.options.group.revertClone&&this.animate(me,bt),Ce(bt,"display",""),fs=!1}}};function Uk(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ll(e,t,n,s,o,i,a,r){var u,c=e[Nt],h=c.options.onMove,d;return window.CustomEvent&&!ss&&!Sl?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=s,u.related=o||t,u.relatedRect=i||pt(t),u.willInsertAfter=r,u.originalEvent=a,e.dispatchEvent(u),h&&(d=h.call(c,u,a)),d}function di(e){e.draggable=!1}function Nk(){ji=!1}function Lk(e,t,n){var s=pt(vo(n.el,0,n.options,!0)),o=10;return t?e.clientX<s.left-o||e.clientY<s.top&&e.clientX<s.right:e.clientY<s.top-o||e.clientY<s.bottom&&e.clientX<s.left}function Fk(e,t,n){var s=pt(Rr(n.el,n.options.draggable)),o=10;return t?e.clientX>s.right+o||e.clientX<=s.right&&e.clientY>s.bottom&&e.clientX>=s.left:e.clientX>s.right&&e.clientY>s.top||e.clientX<=s.right&&e.clientY>s.bottom+o}function Bk(e,t,n,s,o,i,a,r){var u=s?e.clientY:e.clientX,c=s?n.height:n.width,h=s?n.top:n.left,d=s?n.bottom:n.right,f=!1;if(!a){if(r&&Jl<c*o){if(!Qo&&(Xo===1?u>h+c*i/2:u<d-c*i/2)&&(Qo=!0),Qo)f=!0;else if(Xo===1?u<h+Jl:u>d-Jl)return-Xo}else if(u>h+c*(1-o)/2&&u<d-c*(1-o)/2)return Hk(t)}return f=f||a,f&&(u<h+c*i/2||u>d-c*i/2)?u>h+c/2?1:-1:0}function Hk(e){return wt(me)<wt(e)?1:-1}function Wk(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,s=0;n--;)s+=t.charCodeAt(n);return s.toString(36)}function jk(e){da.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var s=t[n];s.checked&&da.push(s)}}function Yl(e){return setTimeout(e,0)}function zi(e){return clearTimeout(e)}Wa&&Ye(document,"touchmove",function(e){(Ne.active||qs)&&e.cancelable&&e.preventDefault()});Ne.utils={on:Ye,off:Je,css:Ce,find:Kf,is:function(t,n){return!!_n(t,n,t,!1)},extend:Ik,throttle:Gf,closest:_n,toggleClass:vt,clone:Mr,index:wt,nextTick:Yl,cancelNextTick:zi,detectDirection:Xf,getChild:vo};Ne.get=function(e){return e[Nt]};Ne.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Ne.utils=Nn(Nn({},Ne.utils),s.utils)),$l.mount(s)})};Ne.create=function(e,t){return new Ne(e,t)};Ne.version=$k;var $t=[],Ro,Ki,Gi=!1,fi,hi,fa,Mo;function zk(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?Ye(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ye(document,"pointermove",this._handleFallbackAutoScroll):s.touches?Ye(document,"touchmove",this._handleFallbackAutoScroll):Ye(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?Je(document,"dragover",this._handleAutoScroll):(Je(document,"pointermove",this._handleFallbackAutoScroll),Je(document,"touchmove",this._handleFallbackAutoScroll),Je(document,"mousemove",this._handleFallbackAutoScroll)),lc(),Xl(),Dk()},nulling:function(){fa=Ki=Ro=Gi=Mo=fi=hi=null,$t.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var o=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,r=document.elementFromPoint(i,a);if(fa=n,s||this.options.forceAutoScrollFallback||Sl||ss||Go){mi(n,this.options,r,s);var u=ms(r,!0);Gi&&(!Mo||i!==fi||a!==hi)&&(Mo&&lc(),Mo=setInterval(function(){var c=ms(document.elementFromPoint(i,a),!0);c!==u&&(u=c,Xl()),mi(n,o.options,c,s)},10),fi=i,hi=a)}else{if(!this.options.bubbleScroll||ms(r,!0)===Mn()){Xl();return}mi(n,this.options,ms(r,!1),!1)}}},hn(e,{pluginName:"scroll",initializeByDefault:!0})}function Xl(){$t.forEach(function(e){clearInterval(e.pid)}),$t=[]}function lc(){clearInterval(Mo)}var mi=Gf(function(e,t,n,s){if(!!t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,r=t.scrollSpeed,u=Mn(),c=!1,h;Ki!==n&&(Ki=n,Xl(),Ro=t.scroll,h=t.scrollFn,Ro===!0&&(Ro=ms(n,!0)));var d=0,f=Ro;do{var m=f,p=pt(m),v=p.top,w=p.bottom,b=p.left,y=p.right,S=p.width,$=p.height,I=void 0,C=void 0,V=m.scrollWidth,A=m.scrollHeight,O=Ce(m),B=m.scrollLeft,j=m.scrollTop;m===u?(I=S<V&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),C=$<A&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(I=S<V&&(O.overflowX==="auto"||O.overflowX==="scroll"),C=$<A&&(O.overflowY==="auto"||O.overflowY==="scroll"));var H=I&&(Math.abs(y-o)<=a&&B+S<V)-(Math.abs(b-o)<=a&&!!B),k=C&&(Math.abs(w-i)<=a&&j+$<A)-(Math.abs(v-i)<=a&&!!j);if(!$t[d])for(var E=0;E<=d;E++)$t[E]||($t[E]={});($t[d].vx!=H||$t[d].vy!=k||$t[d].el!==m)&&($t[d].el=m,$t[d].vx=H,$t[d].vy=k,clearInterval($t[d].pid),(H!=0||k!=0)&&(c=!0,$t[d].pid=setInterval(function(){s&&this.layer===0&&Ne.active._onTouchMove(fa);var M=$t[this.layer].vy?$t[this.layer].vy*r:0,P=$t[this.layer].vx?$t[this.layer].vx*r:0;typeof h=="function"&&h.call(Ne.dragged.parentNode[Nt],P,M,e,fa,$t[this.layer].el)!=="continue"||Jf($t[this.layer].el,P,M)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==u&&(f=ms(f,!1)));Gi=c}},30),eh=function(t){var n=t.originalEvent,s=t.putSortable,o=t.dragEl,i=t.activeSortable,a=t.dispatchSortableEvent,r=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(!!n){var c=s||i;r();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(h.clientX,h.clientY);u(),c&&!c.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:s}))}};function Ur(){}Ur.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var o=vo(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:eh};hn(Ur,{pluginName:"revertOnSpill"});function Nr(){}Nr.prototype={onSpill:function(t){var n=t.dragEl,s=t.putSortable,o=s||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:eh};hn(Nr,{pluginName:"removeOnSpill"});var dn;function Kk(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var s=n.dragEl;dn=s},dragOverValid:function(n){var s=n.completed,o=n.target,i=n.onMove,a=n.activeSortable,r=n.changed,u=n.cancel;if(!!a.options.swap){var c=this.sortable.el,h=this.options;if(o&&o!==c){var d=dn;i(o)!==!1?(vt(o,h.swapClass,!0),dn=o):dn=null,d&&d!==dn&&vt(d,h.swapClass,!1)}r(),s(!0),u()}},drop:function(n){var s=n.activeSortable,o=n.putSortable,i=n.dragEl,a=o||this.sortable,r=this.options;dn&&vt(dn,r.swapClass,!1),dn&&(r.swap||o&&o.options.swap)&&i!==dn&&(a.captureAnimationState(),a!==s&&s.captureAnimationState(),Gk(i,dn),a.animateAll(),a!==s&&s.animateAll())},nulling:function(){dn=null}},hn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:dn}}})}function Gk(e,t){var n=e.parentNode,s=t.parentNode,o,i;!n||!s||n.isEqualNode(t)||s.isEqualNode(e)||(o=wt(e),i=wt(t),n.isEqualNode(s)&&o<i&&i++,n.insertBefore(t,n.children[o]),s.insertBefore(e,s.children[i]))}var Be=[],en=[],To,yn,Io=!1,jt=!1,Xs=!1,ft,Do,Fl;function Jk(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?Ye(document,"pointerup",this._deselectMultiDrag):(Ye(document,"mouseup",this._deselectMultiDrag),Ye(document,"touchend",this._deselectMultiDrag)),Ye(document,"keydown",this._checkKeyDown),Ye(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,i){var a="";Be.length&&yn===t?Be.forEach(function(r,u){a+=(u?", ":"")+r.textContent}):a=i.textContent,o.setData("Text",a)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;ft=s},delayEnded:function(){this.isMultiDrag=~Be.indexOf(ft)},setupClone:function(n){var s=n.sortable,o=n.cancel;if(!!this.isMultiDrag){for(var i=0;i<Be.length;i++)en.push(Mr(Be[i])),en[i].sortableIndex=Be[i].sortableIndex,en[i].draggable=!1,en[i].style["will-change"]="",vt(en[i],this.options.selectedClass,!1),Be[i]===ft&&vt(en[i],this.options.chosenClass,!1);s._hideClone(),o()}},clone:function(n){var s=n.sortable,o=n.rootEl,i=n.dispatchSortableEvent,a=n.cancel;!this.isMultiDrag||this.options.removeCloneOnHide||Be.length&&yn===s&&(ac(!0,o),i("clone"),a())},showClone:function(n){var s=n.cloneNowShown,o=n.rootEl,i=n.cancel;!this.isMultiDrag||(ac(!1,o),en.forEach(function(a){Ce(a,"display","")}),s(),Fl=!1,i())},hideClone:function(n){var s=this;n.sortable;var o=n.cloneNowHidden,i=n.cancel;!this.isMultiDrag||(en.forEach(function(a){Ce(a,"display","none"),s.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),o(),Fl=!0,i())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&yn&&yn.multiDrag._deselectMultiDrag(),Be.forEach(function(s){s.sortableIndex=wt(s)}),Be=Be.sort(function(s,o){return s.sortableIndex-o.sortableIndex}),Xs=!0},dragStarted:function(n){var s=this,o=n.sortable;if(!!this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){Be.forEach(function(a){a!==ft&&Ce(a,"position","absolute")});var i=pt(ft,!1,!0,!0);Be.forEach(function(a){a!==ft&&tc(a,i)}),jt=!0,Io=!0}o.animateAll(function(){jt=!1,Io=!1,s.options.animation&&Be.forEach(function(a){ai(a)}),s.options.sort&&Bl()})}},dragOver:function(n){var s=n.target,o=n.completed,i=n.cancel;jt&&~Be.indexOf(s)&&(o(!1),i())},revert:function(n){var s=n.fromSortable,o=n.rootEl,i=n.sortable,a=n.dragRect;Be.length>1&&(Be.forEach(function(r){i.addAnimationState({target:r,rect:jt?pt(r):a}),ai(r),r.fromRect=a,s.removeAnimationState(r)}),jt=!1,Yk(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(n){var s=n.sortable,o=n.isOwner,i=n.insertion,a=n.activeSortable,r=n.parentEl,u=n.putSortable,c=this.options;if(i){if(o&&a._hideClone(),Io=!1,c.animation&&Be.length>1&&(jt||!o&&!a.options.sort&&!u)){var h=pt(ft,!1,!0,!0);Be.forEach(function(f){f!==ft&&(tc(f,h),r.appendChild(f))}),jt=!0}if(!o)if(jt||Bl(),Be.length>1){var d=Fl;a._showClone(s),a.options.animation&&!Fl&&d&&en.forEach(function(f){a.addAnimationState({target:f,rect:Do}),f.fromRect=Do,f.thisAnimationDuration=null})}else a._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,o=n.isOwner,i=n.activeSortable;if(Be.forEach(function(r){r.thisAnimationDuration=null}),i.options.animation&&!o&&i.multiDrag.isMultiDrag){Do=hn({},s);var a=Ms(ft,!0);Do.top-=a.f,Do.left-=a.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,Bl())},drop:function(n){var s=n.originalEvent,o=n.rootEl,i=n.parentEl,a=n.sortable,r=n.dispatchSortableEvent,u=n.oldIndex,c=n.putSortable,h=c||this.sortable;if(!!s){var d=this.options,f=i.children;if(!Xs)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),vt(ft,d.selectedClass,!~Be.indexOf(ft)),~Be.indexOf(ft))Be.splice(Be.indexOf(ft),1),To=null,xo({sortable:a,rootEl:o,name:"deselect",targetEl:ft,originalEvt:s});else{if(Be.push(ft),xo({sortable:a,rootEl:o,name:"select",targetEl:ft,originalEvt:s}),s.shiftKey&&To&&a.el.contains(To)){var m=wt(To),p=wt(ft);if(~m&&~p&&m!==p){var v,w;for(p>m?(w=m,v=p):(w=p,v=m+1);w<v;w++)~Be.indexOf(f[w])||(vt(f[w],d.selectedClass,!0),Be.push(f[w]),xo({sortable:a,rootEl:o,name:"select",targetEl:f[w],originalEvt:s}))}}else To=ft;yn=h}if(Xs&&this.isMultiDrag){if(jt=!1,(i[Nt].options.sort||i!==o)&&Be.length>1){var b=pt(ft),y=wt(ft,":not(."+this.options.selectedClass+")");if(!Io&&d.animation&&(ft.thisAnimationDuration=null),h.captureAnimationState(),!Io&&(d.animation&&(ft.fromRect=b,Be.forEach(function($){if($.thisAnimationDuration=null,$!==ft){var I=jt?pt($):b;$.fromRect=I,h.addAnimationState({target:$,rect:I})}})),Bl(),Be.forEach(function($){f[y]?i.insertBefore($,f[y]):i.appendChild($),y++}),u===wt(ft))){var S=!1;Be.forEach(function($){if($.sortableIndex!==wt($)){S=!0;return}}),S&&r("update")}Be.forEach(function($){ai($)}),h.animateAll()}yn=h}(o===i||c&&c.lastPutMode!=="clone")&&en.forEach(function($){$.parentNode&&$.parentNode.removeChild($)})}},nullingGlobal:function(){this.isMultiDrag=Xs=!1,en.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Je(document,"pointerup",this._deselectMultiDrag),Je(document,"mouseup",this._deselectMultiDrag),Je(document,"touchend",this._deselectMultiDrag),Je(document,"keydown",this._checkKeyDown),Je(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Xs!="undefined"&&Xs)&&yn===this.sortable&&!(n&&_n(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Be.length;){var s=Be[0];vt(s,this.options.selectedClass,!1),Be.shift(),xo({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},hn(e,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[Nt];!s||!s.options.multiDrag||~Be.indexOf(n)||(yn&&yn!==s&&(yn.multiDrag._deselectMultiDrag(),yn=s),vt(n,s.options.selectedClass,!0),Be.push(n))},deselect:function(n){var s=n.parentNode[Nt],o=Be.indexOf(n);!s||!s.options.multiDrag||!~o||(vt(n,s.options.selectedClass,!1),Be.splice(o,1))}},eventProperties:function(){var n=this,s=[],o=[];return Be.forEach(function(i){s.push({multiDragElement:i,index:i.sortableIndex});var a;jt&&i!==ft?a=-1:jt?a=wt(i,":not(."+n.options.selectedClass+")"):a=wt(i),o.push({multiDragElement:i,index:a})}),{items:yk(Be),clones:[].concat(en),oldIndicies:s,newIndicies:o}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Yk(e,t){Be.forEach(function(n,s){var o=t.children[n.sortableIndex+(e?Number(s):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function ac(e,t){en.forEach(function(n,s){var o=t.children[n.sortableIndex+(e?Number(s):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function Bl(){Be.forEach(function(e){e!==ft&&e.parentNode&&e.parentNode.removeChild(e)})}Ne.mount(new zk);Ne.mount(Nr,Ur);var Xk=Object.freeze(Object.defineProperty({__proto__:null,default:Ne,MultiDrag:Jk,Sortable:Ne,Swap:Kk},Symbol.toStringTag,{value:"Module"})),Qk=Hf(Xk);(function(e,t){(function(s,o){e.exports=o(mk,Qk)})(typeof self!="undefined"?self:fk,function(n,s){return function(o){var i={};function a(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return o[r].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=o,a.c=i,a.d=function(r,u,c){a.o(r,u)||Object.defineProperty(r,u,{enumerable:!0,get:c})},a.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},a.t=function(r,u){if(u&1&&(r=a(r)),u&8||u&4&&typeof r=="object"&&r&&r.__esModule)return r;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:r}),u&2&&typeof r!="string")for(var h in r)a.d(c,h,function(d){return r[d]}.bind(null,h));return c},a.n=function(r){var u=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(u,"a",u),u},a.o=function(r,u){return Object.prototype.hasOwnProperty.call(r,u)},a.p="",a(a.s="fb15")}({"00ee":function(o,i,a){var r=a("b622"),u=r("toStringTag"),c={};c[u]="z",o.exports=String(c)==="[object z]"},"0366":function(o,i,a){var r=a("1c0b");o.exports=function(u,c,h){if(r(u),c===void 0)return u;switch(h){case 0:return function(){return u.call(c)};case 1:return function(d){return u.call(c,d)};case 2:return function(d,f){return u.call(c,d,f)};case 3:return function(d,f,m){return u.call(c,d,f,m)}}return function(){return u.apply(c,arguments)}}},"057f":function(o,i,a){var r=a("fc6a"),u=a("241c").f,c={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return u(f)}catch{return h.slice()}};o.exports.f=function(m){return h&&c.call(m)=="[object Window]"?d(m):u(r(m))}},"06cf":function(o,i,a){var r=a("83ab"),u=a("d1e7"),c=a("5c6c"),h=a("fc6a"),d=a("c04e"),f=a("5135"),m=a("0cfb"),p=Object.getOwnPropertyDescriptor;i.f=r?p:function(w,b){if(w=h(w),b=d(b,!0),m)try{return p(w,b)}catch{}if(f(w,b))return c(!u.f.call(w,b),w[b])}},"0cfb":function(o,i,a){var r=a("83ab"),u=a("d039"),c=a("cc12");o.exports=!r&&!u(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(o,i,a){var r=a("23e7"),u=a("d58f").left,c=a("a640"),h=a("ae40"),d=c("reduce"),f=h("reduce",{1:0});r({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return u(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(o,i,a){var r=a("c6b6"),u=a("9263");o.exports=function(c,h){var d=c.exec;if(typeof d=="function"){var f=d.call(c,h);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(r(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(c,h)}},"159b":function(o,i,a){var r=a("da84"),u=a("fdbc"),c=a("17c2"),h=a("9112");for(var d in u){var f=r[d],m=f&&f.prototype;if(m&&m.forEach!==c)try{h(m,"forEach",c)}catch{m.forEach=c}}},"17c2":function(o,i,a){var r=a("b727").forEach,u=a("a640"),c=a("ae40"),h=u("forEach"),d=c("forEach");o.exports=!h||!d?function(m){return r(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(o,i,a){var r=a("d066");o.exports=r("document","documentElement")},"1c0b":function(o,i){o.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},"1c7e":function(o,i,a){var r=a("b622"),u=r("iterator"),c=!1;try{var h=0,d={next:function(){return{done:!!h++}},return:function(){c=!0}};d[u]=function(){return this},Array.from(d,function(){throw 2})}catch{}o.exports=function(f,m){if(!m&&!c)return!1;var p=!1;try{var v={};v[u]=function(){return{next:function(){return{done:p=!0}}}},f(v)}catch{}return p}},"1d80":function(o,i){o.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},"1dde":function(o,i,a){var r=a("d039"),u=a("b622"),c=a("2d00"),h=u("species");o.exports=function(d){return c>=51||!r(function(){var f=[],m=f.constructor={};return m[h]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(o,i,a){var r=a("a691"),u=Math.max,c=Math.min;o.exports=function(h,d){var f=r(h);return f<0?u(f+d,0):c(f,d)}},"23e7":function(o,i,a){var r=a("da84"),u=a("06cf").f,c=a("9112"),h=a("6eeb"),d=a("ce4e"),f=a("e893"),m=a("94ca");o.exports=function(p,v){var w=p.target,b=p.global,y=p.stat,S,$,I,C,V,A;if(b?$=r:y?$=r[w]||d(w,{}):$=(r[w]||{}).prototype,$)for(I in v){if(V=v[I],p.noTargetGet?(A=u($,I),C=A&&A.value):C=$[I],S=m(b?I:w+(y?".":"#")+I,p.forced),!S&&C!==void 0){if(typeof V==typeof C)continue;f(V,C)}(p.sham||C&&C.sham)&&c(V,"sham",!0),h($,I,V,p)}}},"241c":function(o,i,a){var r=a("ca84"),u=a("7839"),c=u.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return r(d,c)}},"25f0":function(o,i,a){var r=a("6eeb"),u=a("825a"),c=a("d039"),h=a("ad6d"),d="toString",f=RegExp.prototype,m=f[d],p=c(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),v=m.name!=d;(p||v)&&r(RegExp.prototype,d,function(){var b=u(this),y=String(b.source),S=b.flags,$=String(S===void 0&&b instanceof RegExp&&!("flags"in f)?h.call(b):S);return"/"+y+"/"+$},{unsafe:!0})},"2ca0":function(o,i,a){var r=a("23e7"),u=a("06cf").f,c=a("50c4"),h=a("5a34"),d=a("1d80"),f=a("ab13"),m=a("c430"),p="".startsWith,v=Math.min,w=f("startsWith"),b=!m&&!w&&!!function(){var y=u(String.prototype,"startsWith");return y&&!y.writable}();r({target:"String",proto:!0,forced:!b&&!w},{startsWith:function(S){var $=String(d(this));h(S);var I=c(v(arguments.length>1?arguments[1]:void 0,$.length)),C=String(S);return p?p.call($,C,I):$.slice(I,I+C.length)===C}})},"2d00":function(o,i,a){var r=a("da84"),u=a("342f"),c=r.process,h=c&&c.versions,d=h&&h.v8,f,m;d?(f=d.split("."),m=f[0]+f[1]):u&&(f=u.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=u.match(/Chrome\/(\d+)/),f&&(m=f[1]))),o.exports=m&&+m},"342f":function(o,i,a){var r=a("d066");o.exports=r("navigator","userAgent")||""},"35a1":function(o,i,a){var r=a("f5df"),u=a("3f8c"),c=a("b622"),h=c("iterator");o.exports=function(d){if(d!=null)return d[h]||d["@@iterator"]||u[r(d)]}},"37e8":function(o,i,a){var r=a("83ab"),u=a("9bf2"),c=a("825a"),h=a("df75");o.exports=r?Object.defineProperties:function(f,m){c(f);for(var p=h(m),v=p.length,w=0,b;v>w;)u.f(f,b=p[w++],m[b]);return f}},"3bbe":function(o,i,a){var r=a("861d");o.exports=function(u){if(!r(u)&&u!==null)throw TypeError("Can't set "+String(u)+" as a prototype");return u}},"3ca3":function(o,i,a){var r=a("6547").charAt,u=a("69f3"),c=a("7dd0"),h="String Iterator",d=u.set,f=u.getterFor(h);c(String,"String",function(m){d(this,{type:h,string:String(m),index:0})},function(){var p=f(this),v=p.string,w=p.index,b;return w>=v.length?{value:void 0,done:!0}:(b=r(v,w),p.index+=b.length,{value:b,done:!1})})},"3f8c":function(o,i){o.exports={}},4160:function(o,i,a){var r=a("23e7"),u=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},"428f":function(o,i,a){var r=a("da84");o.exports=r},"44ad":function(o,i,a){var r=a("d039"),u=a("c6b6"),c="".split;o.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return u(h)=="String"?c.call(h,""):Object(h)}:Object},"44d2":function(o,i,a){var r=a("b622"),u=a("7c73"),c=a("9bf2"),h=r("unscopables"),d=Array.prototype;d[h]==null&&c.f(d,h,{configurable:!0,value:u(null)}),o.exports=function(f){d[h][f]=!0}},"44e7":function(o,i,a){var r=a("861d"),u=a("c6b6"),c=a("b622"),h=c("match");o.exports=function(d){var f;return r(d)&&((f=d[h])!==void 0?!!f:u(d)=="RegExp")}},4930:function(o,i,a){var r=a("d039");o.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"4d64":function(o,i,a){var r=a("fc6a"),u=a("50c4"),c=a("23cb"),h=function(d){return function(f,m,p){var v=r(f),w=u(v.length),b=c(p,w),y;if(d&&m!=m){for(;w>b;)if(y=v[b++],y!=y)return!0}else for(;w>b;b++)if((d||b in v)&&v[b]===m)return d||b||0;return!d&&-1}};o.exports={includes:h(!0),indexOf:h(!1)}},"4de4":function(o,i,a){var r=a("23e7"),u=a("b727").filter,c=a("1dde"),h=a("ae40"),d=c("filter"),f=h("filter");r({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(o,i,a){var r=a("0366"),u=a("7b0b"),c=a("9bdd"),h=a("e95a"),d=a("50c4"),f=a("8418"),m=a("35a1");o.exports=function(v){var w=u(v),b=typeof this=="function"?this:Array,y=arguments.length,S=y>1?arguments[1]:void 0,$=S!==void 0,I=m(w),C=0,V,A,O,B,j,H;if($&&(S=r(S,y>2?arguments[2]:void 0,2)),I!=null&&!(b==Array&&h(I)))for(B=I.call(w),j=B.next,A=new b;!(O=j.call(B)).done;C++)H=$?c(B,S,[O.value,C],!0):O.value,f(A,C,H);else for(V=d(w.length),A=new b(V);V>C;C++)H=$?S(w[C],C):w[C],f(A,C,H);return A.length=C,A}},"4fad":function(o,i,a){var r=a("23e7"),u=a("6f53").entries;r({target:"Object",stat:!0},{entries:function(h){return u(h)}})},"50c4":function(o,i,a){var r=a("a691"),u=Math.min;o.exports=function(c){return c>0?u(r(c),9007199254740991):0}},5135:function(o,i){var a={}.hasOwnProperty;o.exports=function(r,u){return a.call(r,u)}},5319:function(o,i,a){var r=a("d784"),u=a("825a"),c=a("7b0b"),h=a("50c4"),d=a("a691"),f=a("1d80"),m=a("8aa5"),p=a("14c3"),v=Math.max,w=Math.min,b=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,$=function(I){return I===void 0?I:String(I)};r("replace",2,function(I,C,V,A){var O=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=A.REPLACE_KEEPS_$0,j=O?"$":"$0";return[function(E,M){var P=f(this),G=E==null?void 0:E[I];return G!==void 0?G.call(E,P,M):C.call(String(P),E,M)},function(k,E){if(!O&&B||typeof E=="string"&&E.indexOf(j)===-1){var M=V(C,k,this,E);if(M.done)return M.value}var P=u(k),G=String(this),le=typeof E=="function";le||(E=String(E));var De=P.global;if(De){var Ke=P.unicode;P.lastIndex=0}for(var $e=[];;){var He=p(P,G);if(He===null||($e.push(He),!De))break;var te=String(He[0]);te===""&&(P.lastIndex=m(G,h(P.lastIndex),Ke))}for(var Se="",L=0,q=0;q<$e.length;q++){He=$e[q];for(var Z=String(He[0]),ae=v(w(d(He.index),G.length),0),z=[],he=1;he<He.length;he++)z.push($(He[he]));var oe=He.groups;if(le){var T=[Z].concat(z,ae,G);oe!==void 0&&T.push(oe);var D=String(E.apply(void 0,T))}else D=H(Z,G,ae,z,oe,E);ae>=L&&(Se+=G.slice(L,ae)+D,L=ae+Z.length)}return Se+G.slice(L)}];function H(k,E,M,P,G,le){var De=M+k.length,Ke=P.length,$e=S;return G!==void 0&&(G=c(G),$e=y),C.call(le,$e,function(He,te){var Se;switch(te.charAt(0)){case"$":return"$";case"&":return k;case"`":return E.slice(0,M);case"'":return E.slice(De);case"<":Se=G[te.slice(1,-1)];break;default:var L=+te;if(L===0)return He;if(L>Ke){var q=b(L/10);return q===0?He:q<=Ke?P[q-1]===void 0?te.charAt(1):P[q-1]+te.charAt(1):He}Se=P[L-1]}return Se===void 0?"":Se})}})},5692:function(o,i,a){var r=a("c430"),u=a("c6cd");(o.exports=function(c,h){return u[c]||(u[c]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(o,i,a){var r=a("d066"),u=a("241c"),c=a("7418"),h=a("825a");o.exports=r("Reflect","ownKeys")||function(f){var m=u.f(h(f)),p=c.f;return p?m.concat(p(f)):m}},"5a34":function(o,i,a){var r=a("44e7");o.exports=function(u){if(r(u))throw TypeError("The method doesn't accept regular expressions");return u}},"5c6c":function(o,i){o.exports=function(a,r){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:r}}},"5db7":function(o,i,a){var r=a("23e7"),u=a("a2bf"),c=a("7b0b"),h=a("50c4"),d=a("1c0b"),f=a("65f0");r({target:"Array",proto:!0},{flatMap:function(p){var v=c(this),w=h(v.length),b;return d(p),b=f(v,0),b.length=u(b,v,v,w,0,1,p,arguments.length>1?arguments[1]:void 0),b}})},6547:function(o,i,a){var r=a("a691"),u=a("1d80"),c=function(h){return function(d,f){var m=String(u(d)),p=r(f),v=m.length,w,b;return p<0||p>=v?h?"":void 0:(w=m.charCodeAt(p),w<55296||w>56319||p+1===v||(b=m.charCodeAt(p+1))<56320||b>57343?h?m.charAt(p):w:h?m.slice(p,p+2):(w-55296<<10)+(b-56320)+65536)}};o.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(o,i,a){var r=a("861d"),u=a("e8b5"),c=a("b622"),h=c("species");o.exports=function(d,f){var m;return u(d)&&(m=d.constructor,typeof m=="function"&&(m===Array||u(m.prototype))?m=void 0:r(m)&&(m=m[h],m===null&&(m=void 0))),new(m===void 0?Array:m)(f===0?0:f)}},"69f3":function(o,i,a){var r=a("7f9a"),u=a("da84"),c=a("861d"),h=a("9112"),d=a("5135"),f=a("f772"),m=a("d012"),p=u.WeakMap,v,w,b,y=function(O){return b(O)?w(O):v(O,{})},S=function(O){return function(B){var j;if(!c(B)||(j=w(B)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return j}};if(r){var $=new p,I=$.get,C=$.has,V=$.set;v=function(O,B){return V.call($,O,B),B},w=function(O){return I.call($,O)||{}},b=function(O){return C.call($,O)}}else{var A=f("state");m[A]=!0,v=function(O,B){return h(O,A,B),B},w=function(O){return d(O,A)?O[A]:{}},b=function(O){return d(O,A)}}o.exports={set:v,get:w,has:b,enforce:y,getterFor:S}},"6eeb":function(o,i,a){var r=a("da84"),u=a("9112"),c=a("5135"),h=a("ce4e"),d=a("8925"),f=a("69f3"),m=f.get,p=f.enforce,v=String(String).split("String");(o.exports=function(w,b,y,S){var $=S?!!S.unsafe:!1,I=S?!!S.enumerable:!1,C=S?!!S.noTargetGet:!1;if(typeof y=="function"&&(typeof b=="string"&&!c(y,"name")&&u(y,"name",b),p(y).source=v.join(typeof b=="string"?b:"")),w===r){I?w[b]=y:h(b,y);return}else $?!C&&w[b]&&(I=!0):delete w[b];I?w[b]=y:u(w,b,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||d(this)})},"6f53":function(o,i,a){var r=a("83ab"),u=a("df75"),c=a("fc6a"),h=a("d1e7").f,d=function(f){return function(m){for(var p=c(m),v=u(p),w=v.length,b=0,y=[],S;w>b;)S=v[b++],(!r||h.call(p,S))&&y.push(f?[S,p[S]]:p[S]);return y}};o.exports={entries:d(!0),values:d(!1)}},"73d9":function(o,i,a){var r=a("44d2");r("flatMap")},7418:function(o,i){i.f=Object.getOwnPropertySymbols},"746f":function(o,i,a){var r=a("428f"),u=a("5135"),c=a("e538"),h=a("9bf2").f;o.exports=function(d){var f=r.Symbol||(r.Symbol={});u(f,d)||h(f,d,{value:c.f(d)})}},7839:function(o,i){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(o,i,a){var r=a("1d80");o.exports=function(u){return Object(r(u))}},"7c73":function(o,i,a){var r=a("825a"),u=a("37e8"),c=a("7839"),h=a("d012"),d=a("1be4"),f=a("cc12"),m=a("f772"),p=">",v="<",w="prototype",b="script",y=m("IE_PROTO"),S=function(){},$=function(O){return v+b+p+O+v+"/"+b+p},I=function(O){O.write($("")),O.close();var B=O.parentWindow.Object;return O=null,B},C=function(){var O=f("iframe"),B="java"+b+":",j;return O.style.display="none",d.appendChild(O),O.src=String(B),j=O.contentWindow.document,j.open(),j.write($("document.F=Object")),j.close(),j.F},V,A=function(){try{V=document.domain&&new ActiveXObject("htmlfile")}catch{}A=V?I(V):C();for(var O=c.length;O--;)delete A[w][c[O]];return A()};h[y]=!0,o.exports=Object.create||function(B,j){var H;return B!==null?(S[w]=r(B),H=new S,S[w]=null,H[y]=B):H=A(),j===void 0?H:u(H,j)}},"7dd0":function(o,i,a){var r=a("23e7"),u=a("9ed3"),c=a("e163"),h=a("d2bb"),d=a("d44e"),f=a("9112"),m=a("6eeb"),p=a("b622"),v=a("c430"),w=a("3f8c"),b=a("ae93"),y=b.IteratorPrototype,S=b.BUGGY_SAFARI_ITERATORS,$=p("iterator"),I="keys",C="values",V="entries",A=function(){return this};o.exports=function(O,B,j,H,k,E,M){u(j,B,H);var P=function(q){if(q===k&&$e)return $e;if(!S&&q in De)return De[q];switch(q){case I:return function(){return new j(this,q)};case C:return function(){return new j(this,q)};case V:return function(){return new j(this,q)}}return function(){return new j(this)}},G=B+" Iterator",le=!1,De=O.prototype,Ke=De[$]||De["@@iterator"]||k&&De[k],$e=!S&&Ke||P(k),He=B=="Array"&&De.entries||Ke,te,Se,L;if(He&&(te=c(He.call(new O)),y!==Object.prototype&&te.next&&(!v&&c(te)!==y&&(h?h(te,y):typeof te[$]!="function"&&f(te,$,A)),d(te,G,!0,!0),v&&(w[G]=A))),k==C&&Ke&&Ke.name!==C&&(le=!0,$e=function(){return Ke.call(this)}),(!v||M)&&De[$]!==$e&&f(De,$,$e),w[B]=$e,k)if(Se={values:P(C),keys:E?$e:P(I),entries:P(V)},M)for(L in Se)(S||le||!(L in De))&&m(De,L,Se[L]);else r({target:B,proto:!0,forced:S||le},Se);return Se}},"7f9a":function(o,i,a){var r=a("da84"),u=a("8925"),c=r.WeakMap;o.exports=typeof c=="function"&&/native code/.test(u(c))},"825a":function(o,i,a){var r=a("861d");o.exports=function(u){if(!r(u))throw TypeError(String(u)+" is not an object");return u}},"83ab":function(o,i,a){var r=a("d039");o.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(o,i,a){var r=a("c04e"),u=a("9bf2"),c=a("5c6c");o.exports=function(h,d,f){var m=r(d);m in h?u.f(h,m,c(0,f)):h[m]=f}},"861d":function(o,i){o.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},8875:function(o,i,a){var r,u,c;(function(h,d){u=[],r=d,c=typeof r=="function"?r.apply(i,u):r,c!==void 0&&(o.exports=c)})(typeof self!="undefined"?self:this,function(){function h(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==h&&document.currentScript)return document.currentScript;try{throw new Error}catch(V){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(V.stack)||m.exec(V.stack),v=p&&p[1]||!1,w=p&&p[2]||!1,b=document.location.href.replace(document.location.hash,""),y,S,$,I=document.getElementsByTagName("script");v===b&&(y=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(w-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),$=y.replace(S,"$1").trim());for(var C=0;C<I.length;C++)if(I[C].readyState==="interactive"||I[C].src===v||v===b&&I[C].innerHTML&&I[C].innerHTML.trim()===$)return I[C];return null}}return h})},8925:function(o,i,a){var r=a("c6cd"),u=Function.toString;typeof r.inspectSource!="function"&&(r.inspectSource=function(c){return u.call(c)}),o.exports=r.inspectSource},"8aa5":function(o,i,a){var r=a("6547").charAt;o.exports=function(u,c,h){return c+(h?r(u,c).length:1)}},"8bbf":function(o,i){o.exports=n},"90e3":function(o,i){var a=0,r=Math.random();o.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++a+r).toString(36)}},9112:function(o,i,a){var r=a("83ab"),u=a("9bf2"),c=a("5c6c");o.exports=r?function(h,d,f){return u.f(h,d,c(1,f))}:function(h,d,f){return h[d]=f,h}},9263:function(o,i,a){var r=a("ad6d"),u=a("9f7f"),c=RegExp.prototype.exec,h=String.prototype.replace,d=c,f=function(){var w=/a/,b=/b*/g;return c.call(w,"a"),c.call(b,"a"),w.lastIndex!==0||b.lastIndex!==0}(),m=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,v=f||p||m;v&&(d=function(b){var y=this,S,$,I,C,V=m&&y.sticky,A=r.call(y),O=y.source,B=0,j=b;return V&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),j=String(b).slice(y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&b[y.lastIndex-1]!==`
`)&&(O="(?: "+O+")",j=" "+j,B++),$=new RegExp("^(?:"+O+")",A)),p&&($=new RegExp("^"+O+"$(?!\\s)",A)),f&&(S=y.lastIndex),I=c.call(V?$:y,j),V?I?(I.input=I.input.slice(B),I[0]=I[0].slice(B),I.index=y.lastIndex,y.lastIndex+=I[0].length):y.lastIndex=0:f&&I&&(y.lastIndex=y.global?I.index+I[0].length:S),p&&I&&I.length>1&&h.call(I[0],$,function(){for(C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(I[C]=void 0)}),I}),o.exports=d},"94ca":function(o,i,a){var r=a("d039"),u=/#|\.prototype\./,c=function(p,v){var w=d[h(p)];return w==m?!0:w==f?!1:typeof v=="function"?r(v):!!v},h=c.normalize=function(p){return String(p).replace(u,".").toLowerCase()},d=c.data={},f=c.NATIVE="N",m=c.POLYFILL="P";o.exports=c},"99af":function(o,i,a){var r=a("23e7"),u=a("d039"),c=a("e8b5"),h=a("861d"),d=a("7b0b"),f=a("50c4"),m=a("8418"),p=a("65f0"),v=a("1dde"),w=a("b622"),b=a("2d00"),y=w("isConcatSpreadable"),S=9007199254740991,$="Maximum allowed index exceeded",I=b>=51||!u(function(){var O=[];return O[y]=!1,O.concat()[0]!==O}),C=v("concat"),V=function(O){if(!h(O))return!1;var B=O[y];return B!==void 0?!!B:c(O)},A=!I||!C;r({target:"Array",proto:!0,forced:A},{concat:function(B){var j=d(this),H=p(j,0),k=0,E,M,P,G,le;for(E=-1,P=arguments.length;E<P;E++)if(le=E===-1?j:arguments[E],V(le)){if(G=f(le.length),k+G>S)throw TypeError($);for(M=0;M<G;M++,k++)M in le&&m(H,k,le[M])}else{if(k>=S)throw TypeError($);m(H,k++,le)}return H.length=k,H}})},"9bdd":function(o,i,a){var r=a("825a");o.exports=function(u,c,h,d){try{return d?c(r(h)[0],h[1]):c(h)}catch(m){var f=u.return;throw f!==void 0&&r(f.call(u)),m}}},"9bf2":function(o,i,a){var r=a("83ab"),u=a("0cfb"),c=a("825a"),h=a("c04e"),d=Object.defineProperty;i.f=r?d:function(m,p,v){if(c(m),p=h(p,!0),c(v),u)try{return d(m,p,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(m[p]=v.value),m}},"9ed3":function(o,i,a){var r=a("ae93").IteratorPrototype,u=a("7c73"),c=a("5c6c"),h=a("d44e"),d=a("3f8c"),f=function(){return this};o.exports=function(m,p,v){var w=p+" Iterator";return m.prototype=u(r,{next:c(1,v)}),h(m,w,!1,!0),d[w]=f,m}},"9f7f":function(o,i,a){var r=a("d039");function u(c,h){return RegExp(c,h)}i.UNSUPPORTED_Y=r(function(){var c=u("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),i.BROKEN_CARET=r(function(){var c=u("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(o,i,a){var r=a("e8b5"),u=a("50c4"),c=a("0366"),h=function(d,f,m,p,v,w,b,y){for(var S=v,$=0,I=b?c(b,y,3):!1,C;$<p;){if($ in m){if(C=I?I(m[$],$,f):m[$],w>0&&r(C))S=h(d,f,C,u(C.length),S,w-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[S]=C}S++}$++}return S};o.exports=h},a352:function(o,i){o.exports=s},a434:function(o,i,a){var r=a("23e7"),u=a("23cb"),c=a("a691"),h=a("50c4"),d=a("7b0b"),f=a("65f0"),m=a("8418"),p=a("1dde"),v=a("ae40"),w=p("splice"),b=v("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,S=Math.min,$=9007199254740991,I="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!w||!b},{splice:function(V,A){var O=d(this),B=h(O.length),j=u(V,B),H=arguments.length,k,E,M,P,G,le;if(H===0?k=E=0:H===1?(k=0,E=B-j):(k=H-2,E=S(y(c(A),0),B-j)),B+k-E>$)throw TypeError(I);for(M=f(O,E),P=0;P<E;P++)G=j+P,G in O&&m(M,P,O[G]);if(M.length=E,k<E){for(P=j;P<B-E;P++)G=P+E,le=P+k,G in O?O[le]=O[G]:delete O[le];for(P=B;P>B-E+k;P--)delete O[P-1]}else if(k>E)for(P=B-E;P>j;P--)G=P+E-1,le=P+k-1,G in O?O[le]=O[G]:delete O[le];for(P=0;P<k;P++)O[P+j]=arguments[P+2];return O.length=B-E+k,M}})},a4d3:function(o,i,a){var r=a("23e7"),u=a("da84"),c=a("d066"),h=a("c430"),d=a("83ab"),f=a("4930"),m=a("fdbf"),p=a("d039"),v=a("5135"),w=a("e8b5"),b=a("861d"),y=a("825a"),S=a("7b0b"),$=a("fc6a"),I=a("c04e"),C=a("5c6c"),V=a("7c73"),A=a("df75"),O=a("241c"),B=a("057f"),j=a("7418"),H=a("06cf"),k=a("9bf2"),E=a("d1e7"),M=a("9112"),P=a("6eeb"),G=a("5692"),le=a("f772"),De=a("d012"),Ke=a("90e3"),$e=a("b622"),He=a("e538"),te=a("746f"),Se=a("d44e"),L=a("69f3"),q=a("b727").forEach,Z=le("hidden"),ae="Symbol",z="prototype",he=$e("toPrimitive"),oe=L.set,T=L.getterFor(ae),D=Object[z],W=u.Symbol,X=c("JSON","stringify"),ee=H.f,ie=k.f,ge=B.f,fe=E.f,de=G("symbols"),ne=G("op-symbols"),Ie=G("string-to-symbol-registry"),we=G("symbol-to-string-registry"),Ae=G("wks"),Re=u.QObject,We=!Re||!Re[z]||!Re[z].findChild,tt=d&&p(function(){return V(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a!=7})?function(Le,ke,Ue){var Xe=ee(D,ke);Xe&&delete D[ke],ie(Le,ke,Ue),Xe&&Le!==D&&ie(D,ke,Xe)}:ie,Qe=function(Le,ke){var Ue=de[Le]=V(W[z]);return oe(Ue,{type:ae,tag:Le,description:ke}),d||(Ue.description=ke),Ue},N=m?function(Le){return typeof Le=="symbol"}:function(Le){return Object(Le)instanceof W},F=function(ke,Ue,Xe){ke===D&&F(ne,Ue,Xe),y(ke);var qe=I(Ue,!0);return y(Xe),v(de,qe)?(Xe.enumerable?(v(ke,Z)&&ke[Z][qe]&&(ke[Z][qe]=!1),Xe=V(Xe,{enumerable:C(0,!1)})):(v(ke,Z)||ie(ke,Z,C(1,{})),ke[Z][qe]=!0),tt(ke,qe,Xe)):ie(ke,qe,Xe)},K=function(ke,Ue){y(ke);var Xe=$(Ue),qe=A(Xe).concat(je(Xe));return q(qe,function(Ht){(!d||be.call(Xe,Ht))&&F(ke,Ht,Xe[Ht])}),ke},se=function(ke,Ue){return Ue===void 0?V(ke):K(V(ke),Ue)},be=function(ke){var Ue=I(ke,!0),Xe=fe.call(this,Ue);return this===D&&v(de,Ue)&&!v(ne,Ue)?!1:Xe||!v(this,Ue)||!v(de,Ue)||v(this,Z)&&this[Z][Ue]?Xe:!0},Me=function(ke,Ue){var Xe=$(ke),qe=I(Ue,!0);if(!(Xe===D&&v(de,qe)&&!v(ne,qe))){var Ht=ee(Xe,qe);return Ht&&v(de,qe)&&!(v(Xe,Z)&&Xe[Z][qe])&&(Ht.enumerable=!0),Ht}},xe=function(ke){var Ue=ge($(ke)),Xe=[];return q(Ue,function(qe){!v(de,qe)&&!v(De,qe)&&Xe.push(qe)}),Xe},je=function(ke){var Ue=ke===D,Xe=ge(Ue?ne:$(ke)),qe=[];return q(Xe,function(Ht){v(de,Ht)&&(!Ue||v(D,Ht))&&qe.push(de[Ht])}),qe};if(f||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var ke=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ue=Ke(ke),Xe=function(qe){this===D&&Xe.call(ne,qe),v(this,Z)&&v(this[Z],Ue)&&(this[Z][Ue]=!1),tt(this,Ue,C(1,qe))};return d&&We&&tt(D,Ue,{configurable:!0,set:Xe}),Qe(Ue,ke)},P(W[z],"toString",function(){return T(this).tag}),P(W,"withoutSetter",function(Le){return Qe(Ke(Le),Le)}),E.f=be,k.f=F,H.f=Me,O.f=B.f=xe,j.f=je,He.f=function(Le){return Qe($e(Le),Le)},d&&(ie(W[z],"description",{configurable:!0,get:function(){return T(this).description}}),h||P(D,"propertyIsEnumerable",be,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:W}),q(A(Ae),function(Le){te(Le)}),r({target:ae,stat:!0,forced:!f},{for:function(Le){var ke=String(Le);if(v(Ie,ke))return Ie[ke];var Ue=W(ke);return Ie[ke]=Ue,we[Ue]=ke,Ue},keyFor:function(ke){if(!N(ke))throw TypeError(ke+" is not a symbol");if(v(we,ke))return we[ke]},useSetter:function(){We=!0},useSimple:function(){We=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!d},{create:se,defineProperty:F,defineProperties:K,getOwnPropertyDescriptor:Me}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:xe,getOwnPropertySymbols:je}),r({target:"Object",stat:!0,forced:p(function(){j.f(1)})},{getOwnPropertySymbols:function(ke){return j.f(S(ke))}}),X){var ht=!f||p(function(){var Le=W();return X([Le])!="[null]"||X({a:Le})!="{}"||X(Object(Le))!="{}"});r({target:"JSON",stat:!0,forced:ht},{stringify:function(ke,Ue,Xe){for(var qe=[ke],Ht=1,ja;arguments.length>Ht;)qe.push(arguments[Ht++]);if(ja=Ue,!(!b(Ue)&&ke===void 0||N(ke)))return w(Ue)||(Ue=function(th,Cl){if(typeof ja=="function"&&(Cl=ja.call(this,th,Cl)),!N(Cl))return Cl}),qe[1]=Ue,X.apply(null,qe)}})}W[z][he]||M(W[z],he,W[z].valueOf),Se(W,ae),De[Z]=!0},a630:function(o,i,a){var r=a("23e7"),u=a("4df4"),c=a("1c7e"),h=!c(function(d){Array.from(d)});r({target:"Array",stat:!0,forced:h},{from:u})},a640:function(o,i,a){var r=a("d039");o.exports=function(u,c){var h=[][u];return!!h&&r(function(){h.call(null,c||function(){throw 1},1)})}},a691:function(o,i){var a=Math.ceil,r=Math.floor;o.exports=function(u){return isNaN(u=+u)?0:(u>0?r:a)(u)}},ab13:function(o,i,a){var r=a("b622"),u=r("match");o.exports=function(c){var h=/./;try{"/./"[c](h)}catch{try{return h[u]=!1,"/./"[c](h)}catch{}}return!1}},ac1f:function(o,i,a){var r=a("23e7"),u=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},ad6d:function(o,i,a){var r=a("825a");o.exports=function(){var u=r(this),c="";return u.global&&(c+="g"),u.ignoreCase&&(c+="i"),u.multiline&&(c+="m"),u.dotAll&&(c+="s"),u.unicode&&(c+="u"),u.sticky&&(c+="y"),c}},ae40:function(o,i,a){var r=a("83ab"),u=a("d039"),c=a("5135"),h=Object.defineProperty,d={},f=function(m){throw m};o.exports=function(m,p){if(c(d,m))return d[m];p||(p={});var v=[][m],w=c(p,"ACCESSORS")?p.ACCESSORS:!1,b=c(p,0)?p[0]:f,y=c(p,1)?p[1]:void 0;return d[m]=!!v&&!u(function(){if(w&&!r)return!0;var S={length:-1};w?h(S,1,{enumerable:!0,get:f}):S[1]=1,v.call(S,b,y)})}},ae93:function(o,i,a){var r=a("e163"),u=a("9112"),c=a("5135"),h=a("b622"),d=a("c430"),f=h("iterator"),m=!1,p=function(){return this},v,w,b;[].keys&&(b=[].keys(),"next"in b?(w=r(r(b)),w!==Object.prototype&&(v=w)):m=!0),v==null&&(v={}),!d&&!c(v,f)&&u(v,f,p),o.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:m}},b041:function(o,i,a){var r=a("00ee"),u=a("f5df");o.exports=r?{}.toString:function(){return"[object "+u(this)+"]"}},b0c0:function(o,i,a){var r=a("83ab"),u=a("9bf2").f,c=Function.prototype,h=c.toString,d=/^\s*function ([^ (]*)/,f="name";r&&!(f in c)&&u(c,f,{configurable:!0,get:function(){try{return h.call(this).match(d)[1]}catch{return""}}})},b622:function(o,i,a){var r=a("da84"),u=a("5692"),c=a("5135"),h=a("90e3"),d=a("4930"),f=a("fdbf"),m=u("wks"),p=r.Symbol,v=f?p:p&&p.withoutSetter||h;o.exports=function(w){return c(m,w)||(d&&c(p,w)?m[w]=p[w]:m[w]=v("Symbol."+w)),m[w]}},b64b:function(o,i,a){var r=a("23e7"),u=a("7b0b"),c=a("df75"),h=a("d039"),d=h(function(){c(1)});r({target:"Object",stat:!0,forced:d},{keys:function(m){return c(u(m))}})},b727:function(o,i,a){var r=a("0366"),u=a("44ad"),c=a("7b0b"),h=a("50c4"),d=a("65f0"),f=[].push,m=function(p){var v=p==1,w=p==2,b=p==3,y=p==4,S=p==6,$=p==5||S;return function(I,C,V,A){for(var O=c(I),B=u(O),j=r(C,V,3),H=h(B.length),k=0,E=A||d,M=v?E(I,H):w?E(I,0):void 0,P,G;H>k;k++)if(($||k in B)&&(P=B[k],G=j(P,k,O),p)){if(v)M[k]=G;else if(G)switch(p){case 3:return!0;case 5:return P;case 6:return k;case 2:f.call(M,P)}else if(y)return!1}return S?-1:b||y?y:M}};o.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},c04e:function(o,i,a){var r=a("861d");o.exports=function(u,c){if(!r(u))return u;var h,d;if(c&&typeof(h=u.toString)=="function"&&!r(d=h.call(u))||typeof(h=u.valueOf)=="function"&&!r(d=h.call(u))||!c&&typeof(h=u.toString)=="function"&&!r(d=h.call(u)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(o,i){o.exports=!1},c6b6:function(o,i){var a={}.toString;o.exports=function(r){return a.call(r).slice(8,-1)}},c6cd:function(o,i,a){var r=a("da84"),u=a("ce4e"),c="__core-js_shared__",h=r[c]||u(c,{});o.exports=h},c740:function(o,i,a){var r=a("23e7"),u=a("b727").findIndex,c=a("44d2"),h=a("ae40"),d="findIndex",f=!0,m=h(d);d in[]&&Array(1)[d](function(){f=!1}),r({target:"Array",proto:!0,forced:f||!m},{findIndex:function(v){return u(this,v,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(o,i){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}o.exports=a},c975:function(o,i,a){var r=a("23e7"),u=a("4d64").indexOf,c=a("a640"),h=a("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,m=c("indexOf"),p=h("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:f||!m||!p},{indexOf:function(w){return f?d.apply(this,arguments)||0:u(this,w,arguments.length>1?arguments[1]:void 0)}})},ca84:function(o,i,a){var r=a("5135"),u=a("fc6a"),c=a("4d64").indexOf,h=a("d012");o.exports=function(d,f){var m=u(d),p=0,v=[],w;for(w in m)!r(h,w)&&r(m,w)&&v.push(w);for(;f.length>p;)r(m,w=f[p++])&&(~c(v,w)||v.push(w));return v}},caad:function(o,i,a){var r=a("23e7"),u=a("4d64").includes,c=a("44d2"),h=a("ae40"),d=h("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!d},{includes:function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(o,i,a){var r=a("da84"),u=a("861d"),c=r.document,h=u(c)&&u(c.createElement);o.exports=function(d){return h?c.createElement(d):{}}},ce4e:function(o,i,a){var r=a("da84"),u=a("9112");o.exports=function(c,h){try{u(r,c,h)}catch{r[c]=h}return h}},d012:function(o,i){o.exports={}},d039:function(o,i){o.exports=function(a){try{return!!a()}catch{return!0}}},d066:function(o,i,a){var r=a("428f"),u=a("da84"),c=function(h){return typeof h=="function"?h:void 0};o.exports=function(h,d){return arguments.length<2?c(r[h])||c(u[h]):r[h]&&r[h][d]||u[h]&&u[h][d]}},d1e7:function(o,i,a){var r={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!r.call({1:2},1);i.f=c?function(d){var f=u(this,d);return!!f&&f.enumerable}:r},d28b:function(o,i,a){var r=a("746f");r("iterator")},d2bb:function(o,i,a){var r=a("825a"),u=a("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,h={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(h,[]),c=h instanceof Array}catch{}return function(m,p){return r(m),u(p),c?d.call(m,p):m.__proto__=p,m}}():void 0)},d3b7:function(o,i,a){var r=a("00ee"),u=a("6eeb"),c=a("b041");r||u(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(o,i,a){var r=a("9bf2").f,u=a("5135"),c=a("b622"),h=c("toStringTag");o.exports=function(d,f,m){d&&!u(d=m?d:d.prototype,h)&&r(d,h,{configurable:!0,value:f})}},d58f:function(o,i,a){var r=a("1c0b"),u=a("7b0b"),c=a("44ad"),h=a("50c4"),d=function(f){return function(m,p,v,w){r(p);var b=u(m),y=c(b),S=h(b.length),$=f?S-1:0,I=f?-1:1;if(v<2)for(;;){if($ in y){w=y[$],$+=I;break}if($+=I,f?$<0:S<=$)throw TypeError("Reduce of empty array with no initial value")}for(;f?$>=0:S>$;$+=I)$ in y&&(w=p(w,y[$],$,b));return w}};o.exports={left:d(!1),right:d(!0)}},d784:function(o,i,a){a("ac1f");var r=a("6eeb"),u=a("d039"),c=a("b622"),h=a("9263"),d=a("9112"),f=c("species"),m=!u(function(){var y=/./;return y.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(y,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),v=c("replace"),w=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),b=!u(function(){var y=/(?:)/,S=y.exec;y.exec=function(){return S.apply(this,arguments)};var $="ab".split(y);return $.length!==2||$[0]!=="a"||$[1]!=="b"});o.exports=function(y,S,$,I){var C=c(y),V=!u(function(){var k={};return k[C]=function(){return 7},""[y](k)!=7}),A=V&&!u(function(){var k=!1,E=/a/;return y==="split"&&(E={},E.constructor={},E.constructor[f]=function(){return E},E.flags="",E[C]=/./[C]),E.exec=function(){return k=!0,null},E[C](""),!k});if(!V||!A||y==="replace"&&!(m&&p&&!w)||y==="split"&&!b){var O=/./[C],B=$(C,""[y],function(k,E,M,P,G){return E.exec===h?V&&!G?{done:!0,value:O.call(E,M,P)}:{done:!0,value:k.call(M,E,P)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:w}),j=B[0],H=B[1];r(String.prototype,y,j),r(RegExp.prototype,C,S==2?function(k,E){return H.call(k,this,E)}:function(k){return H.call(k,this)})}I&&d(RegExp.prototype[C],"sham",!0)}},d81d:function(o,i,a){var r=a("23e7"),u=a("b727").map,c=a("1dde"),h=a("ae40"),d=c("map"),f=h("map");r({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return u(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(o,i,a){(function(r){var u=function(c){return c&&c.Math==Math&&c};o.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof r=="object"&&r)||Function("return this")()}).call(this,a("c8ba"))},dbb4:function(o,i,a){var r=a("23e7"),u=a("83ab"),c=a("56ef"),h=a("fc6a"),d=a("06cf"),f=a("8418");r({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(p){for(var v=h(p),w=d.f,b=c(v),y={},S=0,$,I;b.length>S;)I=w(v,$=b[S++]),I!==void 0&&f(y,$,I);return y}})},dbf1:function(o,i,a){(function(r){a.d(i,"a",function(){return c});function u(){return typeof window!="undefined"?window.console:r.console}var c=u()}).call(this,a("c8ba"))},ddb0:function(o,i,a){var r=a("da84"),u=a("fdbc"),c=a("e260"),h=a("9112"),d=a("b622"),f=d("iterator"),m=d("toStringTag"),p=c.values;for(var v in u){var w=r[v],b=w&&w.prototype;if(b){if(b[f]!==p)try{h(b,f,p)}catch{b[f]=p}if(b[m]||h(b,m,v),u[v]){for(var y in c)if(b[y]!==c[y])try{h(b,y,c[y])}catch{b[y]=c[y]}}}}},df75:function(o,i,a){var r=a("ca84"),u=a("7839");o.exports=Object.keys||function(h){return r(h,u)}},e01a:function(o,i,a){var r=a("23e7"),u=a("83ab"),c=a("da84"),h=a("5135"),d=a("861d"),f=a("9bf2").f,m=a("e893"),p=c.Symbol;if(u&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var v={},w=function(){var C=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),V=this instanceof w?new p(C):C===void 0?p():p(C);return C===""&&(v[V]=!0),V};m(w,p);var b=w.prototype=p.prototype;b.constructor=w;var y=b.toString,S=String(p("test"))=="Symbol(test)",$=/^Symbol\((.*)\)[^)]+$/;f(b,"description",{configurable:!0,get:function(){var C=d(this)?this.valueOf():this,V=y.call(C);if(h(v,C))return"";var A=S?V.slice(7,-1):V.replace($,"$1");return A===""?void 0:A}}),r({global:!0,forced:!0},{Symbol:w})}},e163:function(o,i,a){var r=a("5135"),u=a("7b0b"),c=a("f772"),h=a("e177"),d=c("IE_PROTO"),f=Object.prototype;o.exports=h?Object.getPrototypeOf:function(m){return m=u(m),r(m,d)?m[d]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?f:null}},e177:function(o,i,a){var r=a("d039");o.exports=!r(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},e260:function(o,i,a){var r=a("fc6a"),u=a("44d2"),c=a("3f8c"),h=a("69f3"),d=a("7dd0"),f="Array Iterator",m=h.set,p=h.getterFor(f);o.exports=d(Array,"Array",function(v,w){m(this,{type:f,target:r(v),index:0,kind:w})},function(){var v=p(this),w=v.target,b=v.kind,y=v.index++;return!w||y>=w.length?(v.target=void 0,{value:void 0,done:!0}):b=="keys"?{value:y,done:!1}:b=="values"?{value:w[y],done:!1}:{value:[y,w[y]],done:!1}},"values"),c.Arguments=c.Array,u("keys"),u("values"),u("entries")},e439:function(o,i,a){var r=a("23e7"),u=a("d039"),c=a("fc6a"),h=a("06cf").f,d=a("83ab"),f=u(function(){h(1)}),m=!d||f;r({target:"Object",stat:!0,forced:m,sham:!d},{getOwnPropertyDescriptor:function(v,w){return h(c(v),w)}})},e538:function(o,i,a){var r=a("b622");i.f=r},e893:function(o,i,a){var r=a("5135"),u=a("56ef"),c=a("06cf"),h=a("9bf2");o.exports=function(d,f){for(var m=u(f),p=h.f,v=c.f,w=0;w<m.length;w++){var b=m[w];r(d,b)||p(d,b,v(f,b))}}},e8b5:function(o,i,a){var r=a("c6b6");o.exports=Array.isArray||function(c){return r(c)=="Array"}},e95a:function(o,i,a){var r=a("b622"),u=a("3f8c"),c=r("iterator"),h=Array.prototype;o.exports=function(d){return d!==void 0&&(u.Array===d||h[c]===d)}},f5df:function(o,i,a){var r=a("00ee"),u=a("c6b6"),c=a("b622"),h=c("toStringTag"),d=u(function(){return arguments}())=="Arguments",f=function(m,p){try{return m[p]}catch{}};o.exports=r?u:function(m){var p,v,w;return m===void 0?"Undefined":m===null?"Null":typeof(v=f(p=Object(m),h))=="string"?v:d?u(p):(w=u(p))=="Object"&&typeof p.callee=="function"?"Arguments":w}},f772:function(o,i,a){var r=a("5692"),u=a("90e3"),c=r("keys");o.exports=function(h){return c[h]||(c[h]=u(h))}},fb15:function(o,i,a){if(a.r(i),typeof window!="undefined"){var r=window.document.currentScript;{var u=a("8875");r=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u})}var c=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(a.p=c[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function h(N,F,K){return F in N?Object.defineProperty(N,F,{value:K,enumerable:!0,configurable:!0,writable:!0}):N[F]=K,N}function d(N,F){var K=Object.keys(N);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(N);F&&(se=se.filter(function(be){return Object.getOwnPropertyDescriptor(N,be).enumerable})),K.push.apply(K,se)}return K}function f(N){for(var F=1;F<arguments.length;F++){var K=arguments[F]!=null?arguments[F]:{};F%2?d(Object(K),!0).forEach(function(se){h(N,se,K[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(K)):d(Object(K)).forEach(function(se){Object.defineProperty(N,se,Object.getOwnPropertyDescriptor(K,se))})}return N}function m(N){if(Array.isArray(N))return N}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function p(N,F){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(N)))){var K=[],se=!0,be=!1,Me=void 0;try{for(var xe=N[Symbol.iterator](),je;!(se=(je=xe.next()).done)&&(K.push(je.value),!(F&&K.length===F));se=!0);}catch(ht){be=!0,Me=ht}finally{try{!se&&xe.return!=null&&xe.return()}finally{if(be)throw Me}}return K}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function v(N,F){(F==null||F>N.length)&&(F=N.length);for(var K=0,se=new Array(F);K<F;K++)se[K]=N[K];return se}function w(N,F){if(!!N){if(typeof N=="string")return v(N,F);var K=Object.prototype.toString.call(N).slice(8,-1);if(K==="Object"&&N.constructor&&(K=N.constructor.name),K==="Map"||K==="Set")return Array.from(N);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return v(N,F)}}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(N,F){return m(N)||p(N,F)||w(N,F)||b()}function S(N){if(Array.isArray(N))return v(N)}function $(N){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(N))return Array.from(N)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(N){return S(N)||$(N)||w(N)||I()}var V=a("a352"),A=a.n(V);function O(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function B(N,F,K){var se=K===0?N.children[0]:N.children[K-1].nextSibling;N.insertBefore(F,se)}var j=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function H(N){var F=Object.create(null);return function(se){var be=F[se];return be||(F[se]=N(se))}}var k=/-(\w)/g,E=H(function(N){return N.replace(k,function(F,K){return K.toUpperCase()})});a("5db7"),a("73d9");var M=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],G=["Move"],le=[G,M,P].flatMap(function(N){return N}).map(function(N){return"on".concat(N)}),De={manage:G,manageAndEmit:M,emit:P};function Ke(N){return le.indexOf(N)!==-1}a("caad"),a("2ca0");var $e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function He(N){return $e.includes(N)}function te(N){return["transition-group","TransitionGroup"].includes(N)}function Se(N){return["id","class","role","style"].includes(N)||N.startsWith("data-")||N.startsWith("aria-")||N.startsWith("on")}function L(N){return N.reduce(function(F,K){var se=y(K,2),be=se[0],Me=se[1];return F[be]=Me,F},{})}function q(N){var F=N.$attrs,K=N.componentData,se=K===void 0?{}:K,be=L(Object.entries(F).filter(function(Me){var xe=y(Me,2),je=xe[0];return xe[1],Se(je)}));return f(f({},be),se)}function Z(N){var F=N.$attrs,K=N.callBackBuilder,se=L(ae(F));Object.entries(K).forEach(function(Me){var xe=y(Me,2),je=xe[0],ht=xe[1];De[je].forEach(function(Le){se["on".concat(Le)]=ht(Le)})});var be="[data-draggable]".concat(se.draggable||"");return f(f({},se),{},{draggable:be})}function ae(N){return Object.entries(N).filter(function(F){var K=y(F,2),se=K[0];return K[1],!Se(se)}).map(function(F){var K=y(F,2),se=K[0],be=K[1];return[E(se),be]}).filter(function(F){var K=y(F,2),se=K[0];return K[1],!Ke(se)})}a("c740");function z(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function he(N,F){for(var K=0;K<F.length;K++){var se=F[K];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(N,se.key,se)}}function oe(N,F,K){return F&&he(N.prototype,F),K&&he(N,K),N}var T=function(F){var K=F.el;return K},D=function(F,K){return F.__draggable_context=K},W=function(F){return F.__draggable_context},X=function(){function N(F){var K=F.nodes,se=K.header,be=K.default,Me=K.footer,xe=F.root,je=F.realList;z(this,N),this.defaultNodes=be,this.children=[].concat(C(se),C(be),C(Me)),this.externalComponent=xe.externalComponent,this.rootTransition=xe.transition,this.tag=xe.tag,this.realList=je}return oe(N,[{key:"render",value:function(K,se){var be=this.tag,Me=this.children,xe=this._isRootComponent,je=xe?{default:function(){return Me}}:Me;return K(be,se,je)}},{key:"updated",value:function(){var K=this.defaultNodes,se=this.realList;K.forEach(function(be,Me){D(T(be),{element:se[Me],index:Me})})}},{key:"getUnderlyingVm",value:function(K){return W(K)}},{key:"getVmIndexFromDomIndex",value:function(K,se){var be=this.defaultNodes,Me=be.length,xe=se.children,je=xe.item(K);if(je===null)return Me;var ht=W(je);if(ht)return ht.index;if(Me===0)return 0;var Le=T(be[0]),ke=C(xe).findIndex(function(Ue){return Ue===Le});return K<ke?0:Me}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),N}(),ee=a("8bbf");function ie(N,F){var K=N[F];return K?K():[]}function ge(N){var F=N.$slots,K=N.realList,se=N.getKey,be=K||[],Me=["header","footer"].map(function(Ue){return ie(F,Ue)}),xe=y(Me,2),je=xe[0],ht=xe[1],Le=F.item;if(!Le)throw new Error("draggable element must have an item slot");var ke=be.flatMap(function(Ue,Xe){return Le({element:Ue,index:Xe}).map(function(qe){return qe.key=se(Ue),qe.props=f(f({},qe.props||{}),{},{"data-draggable":!0}),qe})});if(ke.length!==be.length)throw new Error("Item slot must have only one child");return{header:je,footer:ht,default:ke}}function fe(N){var F=te(N),K=!He(N)&&!F;return{transition:F,externalComponent:K,tag:K?Object(ee.resolveComponent)(N):F?ee.TransitionGroup:N}}function de(N){var F=N.$slots,K=N.tag,se=N.realList,be=N.getKey,Me=ge({$slots:F,realList:se,getKey:be}),xe=fe(K);return new X({nodes:Me,root:xe,realList:se})}function ne(N,F){var K=this;Object(ee.nextTick)(function(){return K.$emit(N.toLowerCase(),F)})}function Ie(N){var F=this;return function(K,se){if(F.realList!==null)return F["onDrag".concat(N)](K,se)}}function we(N){var F=this,K=Ie.call(this,N);return function(se,be){K.call(F,se,be),ne.call(F,N,se)}}var Ae=null,Re={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(F){return F}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},We=["update:modelValue","change"].concat(C([].concat(C(De.manageAndEmit),C(De.emit)).map(function(N){return N.toLowerCase()}))),tt=Object(ee.defineComponent)({name:"draggable",inheritAttrs:!1,props:Re,emits:We,data:function(){return{error:!1}},render:function(){try{this.error=!1;var F=this.$slots,K=this.$attrs,se=this.tag,be=this.componentData,Me=this.realList,xe=this.getKey,je=de({$slots:F,tag:se,realList:Me,getKey:xe});this.componentStructure=je;var ht=q({$attrs:K,componentData:be});return je.render(ee.h,ht)}catch(Le){return this.error=!0,Object(ee.h)("pre",{style:{color:"red"}},Le.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&j.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var F=this;if(!this.error){var K=this.$attrs,se=this.$el,be=this.componentStructure;be.updated();var Me=Z({$attrs:K,callBackBuilder:{manageAndEmit:function(ht){return we.call(F,ht)},emit:function(ht){return ne.bind(F,ht)},manage:function(ht){return Ie.call(F,ht)}}}),xe=se.nodeType===1?se:se.parentElement;this._sortable=new A.a(xe,Me),this.targetDomElement=xe,xe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var F=this.list;return F||this.modelValue},getKey:function(){var F=this.itemKey;return typeof F=="function"?F:function(K){return K[F]}}},watch:{$attrs:{handler:function(F){var K=this._sortable;!K||ae(F).forEach(function(se){var be=y(se,2),Me=be[0],xe=be[1];K.option(Me,xe)})},deep:!0}},methods:{getUnderlyingVm:function(F){return this.componentStructure.getUnderlyingVm(F)||null},getUnderlyingPotencialDraggableComponent:function(F){return F.__draggable_component__},emitChanges:function(F){var K=this;Object(ee.nextTick)(function(){return K.$emit("change",F)})},alterList:function(F){if(this.list){F(this.list);return}var K=C(this.modelValue);F(K),this.$emit("update:modelValue",K)},spliceList:function(){var F=arguments,K=function(be){return be.splice.apply(be,C(F))};this.alterList(K)},updatePosition:function(F,K){var se=function(Me){return Me.splice(K,0,Me.splice(F,1)[0])};this.alterList(se)},getRelatedContextFromMoveEvent:function(F){var K=F.to,se=F.related,be=this.getUnderlyingPotencialDraggableComponent(K);if(!be)return{component:be};var Me=be.realList,xe={list:Me,component:be};if(K!==se&&Me){var je=be.getUnderlyingVm(se)||{};return f(f({},je),xe)}return xe},getVmIndexFromDomIndex:function(F){return this.componentStructure.getVmIndexFromDomIndex(F,this.targetDomElement)},onDragStart:function(F){this.context=this.getUnderlyingVm(F.item),F.item._underlying_vm_=this.clone(this.context.element),Ae=F.item},onDragAdd:function(F){var K=F.item._underlying_vm_;if(K!==void 0){O(F.item);var se=this.getVmIndexFromDomIndex(F.newIndex);this.spliceList(se,0,K);var be={element:K,newIndex:se};this.emitChanges({added:be})}},onDragRemove:function(F){if(B(this.$el,F.item,F.oldIndex),F.pullMode==="clone"){O(F.clone);return}var K=this.context,se=K.index,be=K.element;this.spliceList(se,1);var Me={element:be,oldIndex:se};this.emitChanges({removed:Me})},onDragUpdate:function(F){O(F.item),B(F.from,F.item,F.oldIndex);var K=this.context.index,se=this.getVmIndexFromDomIndex(F.newIndex);this.updatePosition(K,se);var be={element:this.context.element,oldIndex:K,newIndex:se};this.emitChanges({moved:be})},computeFutureIndex:function(F,K){if(!F.element)return 0;var se=C(K.to.children).filter(function(je){return je.style.display!=="none"}),be=se.indexOf(K.related),Me=F.component.getVmIndexFromDomIndex(be),xe=se.indexOf(Ae)!==-1;return xe||!K.willInsertAfter?Me:Me+1},onDragMove:function(F,K){var se=this.move,be=this.realList;if(!se||!be)return!0;var Me=this.getRelatedContextFromMoveEvent(F),xe=this.computeFutureIndex(Me,F),je=f(f({},this.context),{},{futureIndex:xe}),ht=f(f({},F),{},{relatedContext:Me,draggedContext:je});return se(ht,K)},onDragEnd:function(){Ae=null}}}),Qe=tt;i.default=Qe},fb6a:function(o,i,a){var r=a("23e7"),u=a("861d"),c=a("e8b5"),h=a("23cb"),d=a("50c4"),f=a("fc6a"),m=a("8418"),p=a("b622"),v=a("1dde"),w=a("ae40"),b=v("slice"),y=w("slice",{ACCESSORS:!0,0:0,1:2}),S=p("species"),$=[].slice,I=Math.max;r({target:"Array",proto:!0,forced:!b||!y},{slice:function(V,A){var O=f(this),B=d(O.length),j=h(V,B),H=h(A===void 0?B:A,B),k,E,M;if(c(O)&&(k=O.constructor,typeof k=="function"&&(k===Array||c(k.prototype))?k=void 0:u(k)&&(k=k[S],k===null&&(k=void 0)),k===Array||k===void 0))return $.call(O,j,H);for(E=new(k===void 0?Array:k)(I(H-j,0)),M=0;j<H;j++,M++)j in O&&m(E,M,O[j]);return E.length=M,E}})},fc6a:function(o,i,a){var r=a("44ad"),u=a("1d80");o.exports=function(c){return r(u(c))}},fdbc:function(o,i){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(o,i,a){var r=a("4930");o.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Wf);var Zk=hk(Wf.exports);class qk{constructor(t){this.mic=null,this.context=t,this.instant=0,this.slow=0,this.clip=0,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const s=n.inputBuffer.getChannelData(0);let o,i=0,a=0;for(o=0;o<s.length;++o)i+=s[o]*s[o],Math.abs(s[o])>.99&&(a+=1);this.instant=Math.sqrt(i/s.length),this.slow=.95*this.slow+.05*this.instant,this.clip=a/s.length}}connectToSource(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),typeof n!="undefined"&&n(null)}catch(s){console.error(s),typeof n!="undefined"&&n(s)}}stop(){this.mic&&this.mic.disconnect(),this.script.disconnect()}}const eO=e=>new URLSearchParams(window.location.search).get(e)||"";var kn={wsClient:e=>new Of(`${e.wsUrl}/widget_${e.widget}`,e.widgetToken),getParam:eO};const tO={key:0,class:"base"},nO={key:0},sO={key:0},oO=l("td",null,"Tubers:",-1),lO=["onClick"],aO={key:1},iO=l("td",{colspan:"2"},[l("hr")],-1),rO=[iO],uO=l("td",null,"Start Mic",-1),cO=l("tr",null,[l("td",{colspan:"2"},[l("hr")])],-1),dO=["onClick"],fO=l("td",null,"State:",-1),hO=["onClick"],mO={key:1,class:"toggle-controls"},ic=ce({__name:"Page",props:{controls:{type:Boolean},wdata:null},setup(e){const t=e,n=Fn("Page.vue"),s="default",o="speaking",i={state:s,frames:[]},a=.05;let r=null;const u=x(!1),c=x(!1),h=x(!1),d=x(-1),f=x(kn.getParam("avatar")),m=x(Fi()),p=x(!0),v=pe(()=>d.value<0||d.value>=m.value.avatarDefinitions.length?null:m.value.avatarDefinitions[d.value]),w=pe(()=>v.value?v.value.state.slots:{}),b=pe(()=>{var k;return((k=v.value)==null?void 0:k.state.lockedState)||s}),y=pe(()=>b.value!==s?b.value:u.value?o:s),S=pe(()=>v.value?v.value.slotDefinitions.map($):[]);Ln(()=>Promise.resolve({}),["assets/main.fc8efcdc.css"]);const $=k=>{const E=I(k);if(!E)return i;const M=E.states.find(({state:P})=>P===y.value);return M&&M.frames.length>0?M:E.states.find(({state:P})=>P===s)||i},I=k=>{if(k.items.length===0)return null;let E=w.value[k.slot];return typeof E=="undefined"&&(E=k.defaultItemIndex),(E<0||E>=k.items.length)&&(E=0),k.items[E]},C=(k,E)=>{if(!r){n.error("ctrl: ws not initialized");return}r.send(JSON.stringify({event:"ctrl",data:{ctrl:k,args:E}}))},V=(k,E,M=!1)=>{w.value[k]!==E&&(m.value.avatarDefinitions[d.value].state.slots[k]=E,M&&C("setSlot",[d.value,k,E]))},A=(k,E=!1)=>{u.value!==k&&(u.value=k,E&&C("setSpeaking",[d.value,k]))},O=(k,E=!1)=>{b.value!==k&&(m.value.avatarDefinitions[d.value].state.lockedState=k,E&&C("lockState",[d.value,k]))},B=(k,E=!1)=>{if(!m.value){n.error("setTuber: this.settings not initialized");return}if(f.value&&(k=m.value.avatarDefinitions.findIndex(le=>le.name===f.value)),k>=m.value.avatarDefinitions.length&&(n.info("setTuber: index out of bounds. using index 0"),k=0),k<0||k>=m.value.avatarDefinitions.length){n.error("setTuber: index out of bounds");return}const M=m.value.avatarDefinitions[k],P=JSON.stringify(M),G=JSON.stringify(v.value);P!==G&&(d.value=k,E&&C("setTuber",[d.value]))},j=()=>{if(h.value)return;if(h.value=!0,!navigator.mediaDevices.getUserMedia){alert("navigator.mediaDevices.getUserMedia not supported in this browser.");return}const k=window.AudioContext||window.webkitAudioContext,E=new k;navigator.mediaDevices.getUserMedia({audio:!0}).then(M=>{const P=new qk(E);P.connectToSource(M,G=>{if(G){n.error({e:G});return}setInterval(()=>{const le=u.value?a/2:a;A(P.instant>le,!0)},100)})}).catch(M=>{n.error({e:M}),alert("Error capturing audio.")})},H=()=>{if(!m.value){n.error("applyStyles: this.settings not initialized");return}const k=m.value.styles;k.bgColorEnabled&&k.bgColor!=null?document.body.style.backgroundColor=k.bgColor:document.body.style.backgroundColor=""};return ot(()=>{r=kn.wsClient(t.wdata),r.onMessage("init",k=>{m.value=k.settings,Zt(()=>{H()});let E=k.state.tuberIdx;f.value&&(E=m.value.avatarDefinitions.findIndex(M=>M.name===f.value)),B(E===-1?0:E),c.value=!0}),r.onMessage("ctrl",({data:k})=>{if(k.ctrl==="setSlot"){const E=k.args[0];if(d.value===E){const M=k.args[1],P=k.args[2];V(M,P)}}else if(k.ctrl==="setSpeaking"){const E=k.args[0];if(d.value===E){const M=k.args[1];A(M)}}else if(k.ctrl==="lockState"){const E=k.args[0];if(d.value===E){const M=k.args[1];O(M)}}else if(k.ctrl==="setTuber"){const E=k.args[0];B(E)}}),r.connect()}),Ct(()=>{r&&r.disconnect()}),(k,E)=>c.value&&J(v)?(g(),_("div",tO,[l("div",{class:"avatar",style:at({width:`${J(v).width}px`,height:`${J(v).height}px`})},[(g(!0),_(re,null,ye(J(S),(M,P)=>(g(),Ee(ul,{key:P,frames:M.frames,width:J(v).width,height:J(v).height},null,8,["frames","width","height"]))),128))],4),e.controls&&p.value?(g(),_("table",nO,[f.value?Y("",!0):(g(),_("tr",sO,[oO,l("td",null,[(g(!0),_(re,null,ye(m.value.avatarDefinitions,(M,P)=>(g(),_("button",{key:P,class:Oe({active:d.value===P}),onClick:G=>B(P,!0)},Q(M.name),11,lO))),128))])])),f.value?Y("",!0):(g(),_("tr",aO,rO)),l("tr",null,[uO,l("td",null,[l("button",{onClick:j}," Start ")])]),cO,(g(!0),_(re,null,ye(J(v).slotDefinitions,(M,P)=>(g(),_("tr",{key:P},[l("td",null,Q(M.slot)+":",1),l("td",null,[(g(!0),_(re,null,ye(M.items,(G,le)=>(g(),_("button",{key:le,class:Oe({active:J(w)[M.slot]===le}),onClick:De=>V(M.slot,le,!0)},Q(G.title),11,dO))),128))])]))),128)),l("tr",null,[fO,l("td",null,[(g(!0),_(re,null,ye(J(v).stateDefinitions,(M,P)=>(g(),_("button",{key:P,class:Oe({active:J(b)===M.value}),onClick:G=>O(M.value,!0)},Q(M.value),11,hO))),128))])])])):Y("",!0),e.controls?(g(),_("div",mO,[l("button",{onClick:E[0]||(E[0]=M=>p.value=!p.value)}," Toggle controls ")])):Y("",!0)])):Y("",!0)}}),pO={class:"p-2"},vO=l("h1",{class:"title"}," Drawings awaiting approval ",-1),gO={key:0},yO={class:"card-body"},bO=["src"],wO={class:"card-footer"},_O=["onClick"],SO=["onClick"],$O={key:1},CO=ce({__name:"Page",props:{wdata:null},setup(e){const t=e;let n=null;const s=x(null),o=x({items:[]});Ln(()=>Promise.resolve({}),["assets/main.6b6e9440.css"]);const i=u=>{r({event:"approve_image",path:u})},a=u=>{r({event:"deny_image",path:u})},r=u=>{if(!n){console.warn("sendMsg: ws not initialized");return}n.send(JSON.stringify(u))};return ot(()=>{n=kn.wsClient(t.wdata),n.onMessage("init",async u=>{const h=await(await At.getDrawcastAllImages()).json();u.settings.notificationSound&&(s.value=new Audio(u.settings.notificationSound.urlpath),s.value.volume=u.settings.notificationSound.volume/100),o.value.items=h.filter(d=>!d.approved).map(d=>d.path)}),n.onMessage("approved_image_received",u=>{o.value.items=o.value.items.filter(c=>c!==u.img)}),n.onMessage("denied_image_received",u=>{o.value.items=o.value.items.filter(c=>c!==u.img)}),n.onMessage("image_received",u=>{o.value.items=o.value.items.filter(c=>c!==u.img),o.value.items.push(u.img),o.value.items=o.value.items.slice(),u.mayNotify&&s.value&&s.value.play()}),n.connect()}),Ct(()=>{n&&n.disconnect()}),(u,c)=>(g(),_("div",pO,[vO,o.value.items.length?(g(),_("div",gO,[(g(!0),_(re,null,ye(o.value.items,(h,d)=>(g(),_("div",{key:d,class:"image-to-approve card mr-1"},[l("div",yO,[l("img",{src:h,class:"thumbnail mr-1"},null,8,bO)]),l("div",wO,[l("span",{class:"card-footer-item button is-small is-success is-light",onClick:f=>i(h)}," Approve! ",8,_O),l("span",{class:"card-footer-item button is-small is-danger is-light",onClick:f=>a(h)}," Deny! ",8,SO)])]))),128))])):(g(),_("div",$O," Currently there are no drawings awaiting approval. "))]))}}),EO=ce({}),TO={width:"19",height:"25",viewBox:"0 0 19 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},IO=l("path",{d:"M1.34074 16.8137C1.34074 17.6148 0.52442 22.7293 1.4188 23.4937C1.57266 23.6252 4.27862 21.6554 4.77556 21.3546C6.74882 20.1601 8.26415 18.4096 9.55698 16.476C11.1939 14.0279 12.178 11.238 14.3384 9.04547C15.3798 7.98857 17.5 5.9796 17.5 4.48583C17.5 2.99759 14.8174 2.44392 13.9871 1.44607C12.7588 -0.0301503 11.4167 2.53807 10.8255 3.64145C8.97478 7.09562 5.93021 10.015 4.15105 13.4362M10.8254 4.31686C12.184 5.44892 13.8066 6.50765 15.0409 7.69437M9.06921 6.00566C10.1007 6.98057 12.9941 8.82439 13.636 10.0587",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),DO=[IO];function AO(e,t,n,s,o,i){return g(),_("svg",TO,DO)}var kO=dt(EO,[["render",AO]]);const OO=ce({}),VO={width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xO=l("path",{d:"M8.6857 9.58965C8.51179 8.19497 7.59609 5.01552 8.98288 3.79318C9.79935 3.07353 10.862 4.14397 11.3009 4.73954C11.7015 5.28323 11.7263 5.33102 12.4302 5.33102C13.8211 5.33102 14.2087 4.95856 14.6689 3.63545C15.0273 2.60503 15.7758 1.76607 16.7096 1.24983C17.2706 0.939645 19.2099 0.779084 19.3644 1.62443C19.8104 4.06593 18.9799 5.02352 17.4228 6.57312C15.5105 8.47616 16.5184 9.34733 17.5218 11.719C18.0947 13.0729 15.8176 12.9611 14.9463 13.1188C13.4498 13.3896 12.8656 12.2271 11.6179 13.6905C9.79426 15.8294 7.71129 17.858 5.99127 20.0588C5.59577 20.5648 2.04134 23.0892 1.5732 21.4586C1.13551 19.9342 2.37142 16.6874 4.04969 16.6874",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),PO=[xO];function RO(e,t,n,s,o,i){return g(),_("svg",VO,PO)}var MO=dt(OO,[["render",RO]]);const UO=ce({}),NO={width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},LO=l("path",{d:"M15.2026 20.4059C12.1702 21.6833 7.00132 25.0358 4.573 21.2567C2.63447 18.2398 3.03749 14.4589 2.2581 11.0475C0.793481 4.63683 5.75646 -0.650226 12.2263 3.43789C13.6243 4.32123 25.8508 14.1699 22.3835 16.1521C15.8336 19.8966 14.5169 14.1075 10.1004 11.8983",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round"},null,-1),FO=[LO];function BO(e,t,n,s,o,i){return g(),_("svg",NO,FO)}var HO=dt(UO,[["render",BO]]);const WO=ce({}),jO={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zO=l("path",{d:"M1.50616 12.2794C1.50616 8.28949 1.52414 6.00483 3.35146 2.79446C3.7407 2.11062 5.80713 0.756378 6.55647 1.03798C8.24341 1.67193 8.23865 4.06156 9.47011 4.95241C9.90322 5.26573 11.9972 3.68356 12.4566 3.49705C13.8656 2.92498 15.3332 2.79446 16.8271 2.79446C19.7283 2.79446 19.456 3.14654 21.149 5.47936C22.3195 7.09232 22.4844 9.87151 22.4844 11.8278C22.4844 14.8829 21.1795 18.2213 18.7695 20.1585C18.0499 20.7369 16.7286 21.0144 16.3657 21.7644M4.12853 16.3446C5.08648 16.3239 12.744 16.7418 12.8695 14.5379C12.9121 13.7884 10.9996 10.283 11.8011 10.0463C12.2697 9.90799 15.7596 9.748 15.9045 10.2722C16.2421 11.4932 15.9288 13.2649 15.9288 14.5379M13.7345 18.0948C14.5465 19.4251 15.3836 20.7153 16.2537 22M1.48438 12.7447C1.85884 13.7354 2.58818 15.6947 3.94957 15.6947C4.58896 15.6947 5.04081 15.7577 5.63628 15.9628",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),KO=[zO];function GO(e,t,n,s,o,i){return g(),_("svg",jO,KO)}var JO=dt(WO,[["render",GO]]);const YO=ce({}),XO={width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},QO=l("path",{d:"M12.4089 13.7917C14.5409 11.4576 16.5354 9.69995 17.8634 6.90587C18.889 4.74793 19.3445 4.25329 16.3482 3.08039C14.6 2.39602 12.2353 1.42912 10.4999 1.06847C7.75544 0.498158 6.22453 3.62675 5.01509 5.40402C3.36443 7.82965 1.5 12.3093 1.5 15.0669C1.5 17.2112 1.69173 17.2263 3.80299 17.9856C5.54232 18.6112 6.61693 19.9125 8.59079 19.9125M4.22719 10.2213C6.49673 12.0315 8.97428 14.4214 11.8634 15.322M12.4093 21.9528H17.3183M20.0233 5.31399C22.5345 8.37513 23.9589 10.4666 20.1095 13.133C18.6713 14.1293 17.0772 15.4173 16.2305 16.9216C15.5992 18.0433 13.8326 19.4503 12.7394 20.1863C11.9496 20.7181 11.4228 21.6684 10.7137 22M8.74404 18.2614C9.97157 17.3121 11.2185 16.3935 12.4706 15.4735M15.6475 15.8473L13.5461 14.6682",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),ZO=[QO];function qO(e,t,n,s,o,i){return g(),_("svg",XO,ZO)}var eV=dt(YO,[["render",qO]]);const tV=ce({}),nV={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},sV=l("path",{d:"M3.46083 1.42417C7.10747 -0.166485 8.08265 3.02571 9.70105 5.8783C11.4429 4.73862 15.1278 1.61602 17.433 2.90888C21.5924 5.24158 16.3121 8.16103 14.9117 10.9098C13.6076 13.4696 19.9503 14.394 17.433 17.5704C16.3045 18.9945 14.7074 18.5369 13.3149 17.756C12.1694 17.1135 11.9679 15.0862 10.8356 14.4979C9.62925 13.871 7.27704 17.6349 6.75953 18.4983C6.08525 19.6233 3.84548 18.5668 3.06162 18.1272C1.73805 17.3849 0.120623 16.7381 1.56985 15.1577C2.73649 13.8855 4.88246 13.177 5.83505 11.8171C6.44976 10.9396 7.13452 11.31 7.05368 9.96125C7.0404 9.73969 6.35625 8.73446 6.21325 8.55903C5.35826 7.51013 4.33953 6.52657 3.64993 5.34215C2.97731 4.18691 1.35143 2.34429 3.46083 1.42417Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),oV=[sV];function lV(e,t,n,s,o,i){return g(),_("svg",nV,oV)}var aV=dt(tV,[["render",lV]]);const rc=Fn("Page.vue"),uc=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.targetTouches[0].clientX-n.x,y:t.targetTouches[0].clientY-n.y}},cc=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.x,y:t.clientY-n.y}},iV=e=>{const t=e.replace("#",""),n=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16);return(n*299+s*587+o*114)/1e3>69},rV=(e,t,n)=>{if(e==="color-sampler")return"crosshair";const s=document.createElement("canvas"),o=s.getContext("2d"),i=10,a=3,r=t+i+a+i+a,u=Math.round(r/2);return s.width=r+1,s.height=r+1,o.fillStyle="#AAA",o.fillRect(0,u-1,i,3),o.fillRect(s.width-i,u-1,i,3),o.fillRect(u-1,0,3,i),o.fillRect(u-1,s.height-i,3,i),o.fillStyle="#666",o.fillRect(1,u,i-2,1),o.fillRect(s.width-i+1,u,i-2,1),o.fillRect(u,1,1,i-2),o.fillRect(u,s.height-i+1,1,i-2),o.beginPath(),o.translate(.5,.5),o.fillStyle=n,o.strokeStyle=iV(String(o.fillStyle))?"#000":"#fff",o.arc(u,u,t/2,0,2*Math.PI),o.translate(-.5,-.5),o.closePath(),e!=="eraser"&&o.fill(),o.stroke(),`url(${s.toDataURL()}) ${u} ${u}, default`},dc=(e,t,n,s)=>{if(t.length===1){e.beginPath(),e.translate(.5,.5),e.fillStyle=n,e.arc(t[0].x,t[0].y,s/2,0,2*Math.PI),e.translate(-.5,-.5),e.closePath(),e.fill();return}e.lineJoin="round",e.beginPath(),e.translate(.5,.5),e.strokeStyle=n,e.lineWidth=s,e.moveTo(t[0].x,t[0].y);for(let o=1;o<t.length;o++)e.lineTo(t[o].x,t[o].y);e.translate(-.5,-.5),e.closePath(),e.stroke()},uV=ce({components:{IconPen:kO,IconEyedropper:MO,IconSend:HO,IconUndo:JO,IconEraser:eV,IconClear:aV},props:{wdata:{type:Object,required:!0}},data(){return{ws:null,opts:{},palette:["#000000"],images:[],favoriteLists:[],color:"#000000",sampleColor:"",hotkeys:["E Eraser","B Pencil","S Color sampler","1-7 Adjust size","Ctrl+Z Undo"],tool:"pen",sizes:[1,2,5,10,30,60,100],sizeIdx:2,transparencies:[10,20,30,40,50,60,70,80,90,100],transparencyIdx:9,ctx:{},finalctx:{},last:null,canvasWidth:720,canvasHeight:405,submitButtonText:"Submit",submitConfirm:"",customDescription:"",customProfileImageUrl:"",recentImagesTitle:"",stack:[],drawing:!1,dialog:"",dialogBody:"",modifyImageUrl:"",successImageUrlStyle:{},clearImageUrlStyle:{},sending:{date:null,nonce:""}}},computed:{finalcanvas(){return this.$refs.finalcanvas},draftcanvas(){return this.$refs.draftcanvas},favoriteListsFiltered(){return this.favoriteLists.filter(e=>e.list.length>0)},favorites(){const e=[];for(const t of this.favoriteLists)e.push(...t.list);return e},currentColorStyle(){return{backgroundColor:this.tool==="color-sampler"?this.sampleColor:this.color}},canvasHolderStyle(){return{width:`${this.canvasWidth+4}px`,height:`${this.canvasHeight+4}px`}},size(){return this.sizes[this.sizeIdx]},transparency(){return this.transparencies[this.transparencyIdx]},nonfavorites(){return this.images.filter(e=>!this.favorites.includes(e))},canvasBg(){return["transparent-light","transparent-dark"].includes(this.opts.canvasBg)?this.opts.canvasBg:"transparent-light"},canvasClasses(){return[`bg-${this.canvasBg}`]},draftstyles(){return{cursor:this.cursor,opacity:`${this.transparency/100}`}},styles(){return{cursor:this.cursor}},cursor(){return rV(this.tool,this.size,this.color)}},created(){Ln(()=>Promise.resolve({}),["assets/main.2e35d04c.css"])},mounted(){this.ctx=this.draftcanvas.getContext("2d"),this.finalctx=this.finalcanvas.getContext("2d"),this.ws=kn.wsClient(this.wdata);const e=window.localStorage.getItem("drawcastOpts");this.opts=e?JSON.parse(e):{canvasBg:"transparent"},this.ws.onMessage("init",t=>{this.submitButtonText=t.settings.submitButtonText||"Send",this.submitConfirm=t.settings.submitConfirm,this.canvasWidth=t.settings.canvasWidth,this.canvasHeight=t.settings.canvasHeight,this.customDescription=t.settings.customDescription||"",this.customProfileImageUrl=t.settings.customProfileImage&&t.settings.customProfileImage.urlpath?t.settings.customProfileImage.urlpath:"",this.recentImagesTitle=t.settings.recentImagesTitle||"Newest submitted:",this.palette=t.settings.palette||this.palette,this.favoriteLists=t.settings.favoriteLists,this.color=this.palette[0],this.images=t.images.map(n=>n.path),this.images.length>0&&t.settings.autofillLatest&&this.stack.length===0&&!this.drawing&&this.modify(this.images[0])}),this.ws.onMessage("image_deleted",t=>{this.favoriteLists=this.favoriteLists.map(n=>(n.list=n.list.filter(s=>s!==t.img),n)),this.images=this.images.filter(n=>n!==t.img)}),this.ws.onMessage("image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const s=new Date,o=this.sending.date.getTime()+500-s.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent and is pending approval.",this.sending.nonce="",this.sending.date=null},Math.max(0,o))}}),this.ws.onMessage("approved_image_received",t=>{if(this.sending.date&&this.sending.nonce&&t.nonce===this.sending.nonce){const s=new Date,o=this.sending.date.getTime()+500-s.getTime();setTimeout(()=>{this.successImageUrlStyle={backgroundImage:`url(${t.img})`},this.dialog="success",this.dialogBody="Your drawing was sent to the stream.",this.sending.nonce="",this.sending.date=null,this.images.unshift(t.img),this.images=this.images.slice(0,20)},Math.max(0,o))}else this.images.unshift(t.img),this.images=this.images.slice(0,20)}),this.ws.connect(),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.cancelDraw),window.addEventListener("touchend",this.cancelDraw),window.addEventListener("touchcancel",this.cancelDraw),window.addEventListener("keyup",this.keyup),this.$watch("color",()=>{this.tool="pen"})},unmounted(){this.ws&&this.ws.disconnect(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.cancelDraw),window.removeEventListener("touchend",this.cancelDraw),window.removeEventListener("touchcancel",this.cancelDraw),window.removeEventListener("keyup",this.keyup)},methods:{opt(e,t){this.opts[e]=t,window.localStorage.setItem("drawcastOpts",JSON.stringify(this.opts))},async modify(e){const t=new Image;return new Promise(n=>{t.src=e,t.onload=()=>{this.img(t),this.stack=[],this.drawing=!1,this.stack.push(this.getImageData()),n()}})},undo(){this.stack.pop(),this.clear(),this.drawing=!1,this.stack.length>0&&this.putImageData(this.stack[this.stack.length-1])},getImageData(){return this.finalctx.getImageData(0,0,this.finalcanvas.width,this.finalcanvas.height)},putImageData(e){this.finalctx.putImageData(e,0,0)},img(e){this.clear();const t=this.finalctx.globalCompositeOperation;this.finalctx.globalCompositeOperation="source-over",this.finalctx.drawImage(e,0,0),this.finalctx.globalCompositeOperation=t},drawPathPart(e){if(this.drawing=!0,e.length!==0){if(this.tool==="eraser"){this.finalctx.globalCompositeOperation="destination-out",dc(this.finalctx,e,this.color,this.size);return}this.finalctx.globalCompositeOperation="source-over",dc(this.ctx,e,this.color,this.size)}},cancelDraw(){!this.drawing||(this.tool!=="eraser"&&(this.finalctx.globalAlpha=this.transparency/100,this.finalctx.drawImage(this.draftcanvas,0,0),this.finalctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)),this.stack.push(this.getImageData()),this.drawing=!1,this.last=null)},startDraw(e){if(this.tool==="color-sampler"){e.x>=0&&e.y>=0&&e.x<this.canvasWidth&&e.y<this.canvasHeight&&(this.color=this.getColor(e));return}if(e.x>=-this.size&&e.y>=-this.size&&e.x<this.canvasWidth+this.size&&e.y<this.canvasHeight+this.size){const t=e;this.drawPathPart([t]),this.last=t}},continueDraw(e){if(this.tool==="color-sampler"&&(this.sampleColor=this.getColor(e)),!this.last)return;const t=e;this.drawPathPart([this.last,t]),this.last=t},touchstart(e){e.preventDefault(),this.startDraw(uc(this.draftcanvas,e))},mousedown(e){this.startDraw(cc(this.draftcanvas,e))},touchmove(e){e.preventDefault(),this.continueDraw(uc(this.draftcanvas,e))},mousemove(e){this.continueDraw(cc(this.draftcanvas,e))},clear(){this.ctx.clearRect(0,0,this.draftcanvas.width,this.draftcanvas.height),this.finalctx.clearRect(0,0,this.finalcanvas.width,this.finalcanvas.height)},clearClick(){this.clear(),this.stack=[],this.drawing=!1},prepareSubmitImage(){if(this.submitConfirm){this.dialog="confirm-submit",this.dialogBody=this.submitConfirm;return}this.submitImage()},submitImage(){if(!this.ws){rc.error("submitImage: this.ws not set");return}if(this.sending.nonce){rc.error("submitImage: nonce not empty");return}this.sending.date=new Date,this.sending.nonce=Ir(10),this.ws.send(JSON.stringify({event:"post",data:{nonce:this.sending.nonce,img:this.finalcanvas.toDataURL()}}))},showClearDialog(){const t=Math.round(100*this.canvasHeight/this.canvasWidth);this.clearImageUrlStyle={backgroundImage:`url(${this.finalcanvas.toDataURL()})`,width:100+"px",height:t+"px"},this.dialog="clear",this.dialogBody=`
        If you click this, your current drawing will be erased. <br />
        <br />
        Do you want to proceed?`},prepareModify(e){this.modifyImageUrl=e,this.dialog="replace",this.dialogBody=`
        If you click this, your current drawing will be erased and replaced by
        the drawing you just clicked on. <br />
        <br />
        Do you want to proceed?`},dialogClose(){this.dialog="",this.dialogBody=""},dialogConfirm(){this.dialog==="confirm-submit"?(this.dialog="",this.submitImage()):this.dialog==="clear"?(this.dialog="",this.clearClick()):this.dialog==="replace"&&(this.dialog="",this.modify(this.modifyImageUrl))},getColor(e){const[t,n,s,o]=this.finalctx.getImageData(e.x,e.y,1,1).data,i=a=>$n(a.toString(16),"00");return o?`#${i(t)}${i(n)}${i(s)}`:this.palette[0]},keyup(e){e.code==="Digit1"?this.sizeIdx=0:e.code==="Digit2"?this.sizeIdx=1:e.code==="Digit3"?this.sizeIdx=2:e.code==="Digit4"?this.sizeIdx=3:e.code==="Digit5"?this.sizeIdx=4:e.code==="Digit6"?this.sizeIdx=5:e.code==="Digit7"?this.sizeIdx=6:e.code==="KeyB"?this.tool="pen":e.code==="KeyS"?this.tool="color-sampler":e.code==="KeyE"?this.tool="eraser":e.code==="KeyZ"&&e.ctrlKey&&this.undo()}}}),cV={id:"drawcast"},dV={class:"streamer_message"},fV={class:"streamer_message_inner"},hV={class:"draw_panel"},mV={class:"draw_panel_inner"},pV={class:"draw_panel_top"},vV={class:"draw_canvas_holder"},gV=["width","height"],yV=["width","height"],bV={class:"v355_1274"},wV={class:"card draw_tools_panel"},_V={class:"draw_tools_tool_buttons"},SV={class:"slider"},$V=l("div",{class:"bubble bubble-left"},[l("div",{class:"bubble-small bubble-dark"})],-1),CV={class:"slider-input-holder"},EV=["max"],TV=l("div",{class:"bubble bubble-right"},[l("div",{class:"bubble-big bubble-dark"})],-1),IV={class:"slider"},DV=l("div",{class:"bubble bubble-left"},[l("div",{class:"bubble-big bubble-light"})],-1),AV={class:"slider-input-holder"},kV=["max"],OV=l("div",{class:"bubble bubble-right"},[l("div",{class:"bubble-big bubble-dark"})],-1),VV={class:"visual_background"},xV=l("div",{class:"visual_background_title"}," Visual Background: ",-1),PV={class:"visual_background_colors"},RV=["onClick"],MV={class:"hotkey-help"},UV=l("div",{class:"hotkey-help-title"}," Hotkeys ",-1),NV={class:"draw_panel_bottom"},LV={class:"draw_colors"},FV={class:"draw_colors_current"},BV={class:"draw_colors_current_label clickable"},HV={class:"draw_colors_current_icon"},WV={class:"draw_colors_palette"},jV=["onClick"],zV=l("div",null,null,-1),KV={class:"drawing_panel_bottom_right"},GV=l("span",{class:"send_button_text"},"\u23F3 Sending...",-1),JV=[GV],YV={class:"send_button_text"},XV={class:"drawings_panel_title"},QV={class:"drawings_panel_title_inner"},ZV={class:"drawing_panel_drawings"},qV=["src","onClick"],ex={class:"drawings-panel recent-drawings-panel"},tx={class:"drawings_panel_title"},nx={class:"drawings_panel_title_inner"},sx={class:"drawing_panel_drawings"},ox=["src","onClick"],lx=l("div",{class:"dotdotdot"},null,-1),ax=yd('<span class="drawcast_footer_left">Hyottoko.club | Developed by <a href="https://github.com/zutatensuppe" target="_blank">para</a>. UI Design by <a href="https://www.artstation.com/lisadikaprio" target="_blank">LisadiKaprio</a></span><span class="drawcast_footer_right"><a href="https://github.com/zutatensuppe/robyottoko" target="_blank">Source code on Github</a> | <a href="https://twitch.tv/nc_para_" target="_blank">Developer\u2019s Twitch channel</a> | <a href="https://jigsaw.hyottoko.club" target="_blank">Jigsaw Puzzle Multiplayer</a></span>',2),ix=[ax],rx={key:0,class:"dialog success-dialog"},ux={class:"dialog-container"},cx={class:"dialog-image"},dx=l("div",{class:"dialog-title"}," Success! ",-1),fx=["innerHTML"],hx={class:"dialog-footer"},mx={key:1,class:"dialog confirm-dialog"},px={class:"dialog-container"},vx=["innerHTML"],gx={class:"dialog-footer"},yx={key:2,class:"dialog confirm-dialog"},bx={class:"dialog-container"},wx=["innerHTML"],_x={class:"dialog-footer"},Sx={key:3,class:"dialog clear-dialog"},$x={class:"dialog-container"},Cx={class:"dialog-image"},Ex=["innerHTML"],Tx={class:"dialog-footer"};function Ix(e,t,n,s,o,i){const a=st("icon-pen"),r=st("icon-eraser"),u=st("icon-eyedropper"),c=st("icon-undo"),h=st("icon-clear"),d=st("icon-send");return g(),_("div",cV,[l("div",{class:Oe(["drawcast_body",{blurred:e.dialog}])},[e.customDescription?(g(),_("div",{key:0,class:Oe(["streamer_info",{"no-avatar":!e.customProfileImageUrl}])},[e.customProfileImageUrl?(g(),_("div",{key:0,class:"streamer_avatar",style:at({backgroundImage:`url(${e.customProfileImageUrl})`})},null,4)):Y("",!0),l("div",dV,[l("span",fV,Q(e.customDescription),1)])],2)):Y("",!0),l("div",hV,[l("div",mV,[l("div",pV,[l("div",vV,[l("div",{class:Oe(["draw_canvas_holder_inner",e.canvasClasses]),style:at(e.canvasHolderStyle)},[l("canvas",{ref:"finalcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.styles)},null,12,gV),l("canvas",{ref:"draftcanvas",width:e.canvasWidth,height:e.canvasHeight,style:at(e.draftstyles),onTouchstart:t[0]||(t[0]=na((...f)=>e.touchstart&&e.touchstart(...f),["prevent"])),onTouchmove:t[1]||(t[1]=na((...f)=>e.touchmove&&e.touchmove(...f),["prevent"])),onMousedown:t[2]||(t[2]=(...f)=>e.mousedown&&e.mousedown(...f))},null,44,yV)],6)]),l("div",bV,[l("div",wV,[l("div",_V,[l("div",{class:Oe(["draw_tools_tool_button clickable tool-pen",{"is-current":e.tool==="pen"}]),title:"Pen",onClick:t[3]||(t[3]=f=>e.tool="pen")},[U(a)],2),l("div",{class:Oe(["draw_tools_tool_button clickable tool-eraser",{"is-current":e.tool==="eraser"}]),title:"Eraser",onClick:t[4]||(t[4]=f=>e.tool="eraser")},[U(r)],2),l("div",{class:Oe(["draw_tools_tool_button clickable tool-eyedropper",{"is-current":e.tool==="color-sampler"}]),title:"Color Sampler",onClick:t[5]||(t[5]=f=>e.tool="color-sampler")},[U(u)],2),l("div",{class:"draw_tools_tool_button clickable tool-undo",title:"Undo",onClick:t[6]||(t[6]=(...f)=>e.undo&&e.undo(...f))},[U(c)]),l("div",{class:"draw_tools_tool_button clickable tool-clear",title:"Clear the canvas",onClick:t[7]||(t[7]=(...f)=>e.showClearDialog&&e.showClearDialog(...f))},[U(h)])]),l("div",SV,[$V,l("div",CV,[ve(l("input",{"onUpdate:modelValue":t[8]||(t[8]=f=>e.sizeIdx=f),type:"range",min:"0",max:e.sizes.length-1,step:"1"},null,8,EV),[[Ve,e.sizeIdx]])]),TV]),l("div",IV,[DV,l("div",AV,[ve(l("input",{"onUpdate:modelValue":t[9]||(t[9]=f=>e.transparencyIdx=f),type:"range",min:"0",max:e.transparencies.length-1,step:"1"},null,8,kV),[[Ve,e.transparencyIdx]])]),OV]),l("div",VV,[xV,l("div",PV,[(g(),_(re,null,ye(["transparent-light","transparent-dark"],(f,m)=>l("div",{key:m,class:Oe(["visual_background_button clickable",{"is-current":e.canvasBg===f,[`bg-${f}`]:!0}]),onClick:p=>e.opt("canvasBg",f)},null,10,RV)),64))])])]),l("div",MV,[UV,(g(!0),_(re,null,ye(e.hotkeys,(f,m)=>(g(),_("div",{key:m,class:"hotkey-help-item"},Q(f),1))),128))])])]),l("div",NV,[l("div",LV,[l("div",FV,[l("label",BV,[ve(l("input",{"onUpdate:modelValue":t[10]||(t[10]=f=>e.color=f),type:"color"},null,512),[[Ve,e.color]]),l("span",{class:Oe(["draw_colors_current_inner",{active:e.tool==="pen"}]),style:at(e.currentColorStyle)},null,6),l("div",HV,[U(u)])])]),l("div",WV,[(g(!0),_(re,null,ye(e.palette,(f,m)=>(g(),_("div",{key:m,class:"palette_color clickable",style:at({backgroundColor:f}),onClick:p=>{e.color=f,e.tool="pen"}},null,12,jV))),128))])]),zV,l("div",KV,[e.sending.nonce?(g(),_("div",{key:0,class:"button button-primary send_button",onClick:t[11]||(t[11]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},JV)):(g(),_("div",{key:1,class:"button button-primary send_button clickable",onClick:t[12]||(t[12]=(...f)=>e.prepareSubmitImage&&e.prepareSubmitImage(...f))},[U(d),l("span",YV,Q(e.submitButtonText),1)]))])])])]),(g(!0),_(re,null,ye(e.favoriteListsFiltered,(f,m)=>(g(),_("div",{key:m,class:"drawings-panel favorite-drawings-panel"},[l("div",XV,[l("span",QV,Q(f.title||"Streamer's favorites:"),1)]),l("div",ZV,[(g(!0),_(re,null,ye(f.list,(p,v)=>(g(),_("img",{key:v,class:"image favorite clickable",src:p,height:"190",onClick:w=>e.prepareModify(p)},null,8,qV))),128))])]))),128)),l("div",ex,[l("div",tx,[l("span",nx,Q(e.recentImagesTitle),1)]),l("div",sx,[(g(!0),_(re,null,ye(e.nonfavorites,(f,m)=>(g(),_("img",{key:m,class:"image clickable",src:f,height:"190",onClick:p=>e.prepareModify(f)},null,8,ox))),128)),lx])])],2),l("div",{class:Oe(["drawcast_footer",{blurred:e.dialog}])},ix,2),e.dialog==="success"?(g(),_("div",rx,[l("div",{class:"dialog-bg",onClick:t[13]||(t[13]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),l("div",ux,[l("div",cx,[l("div",{class:"responsive-image",style:at(e.successImageUrlStyle)},null,4)]),dx,l("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,fx),l("div",hx,[l("div",{class:"button button-ok clickable",onClick:t[14]||(t[14]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Draw another one ")])])])):Y("",!0),e.dialog==="replace"?(g(),_("div",mx,[l("div",{class:"dialog-bg",onClick:t[15]||(t[15]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),l("div",px,[l("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,vx),l("div",gx,[l("div",{class:"button button-no-button clickable",onClick:t[16]||(t[16]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),l("div",{class:"button button-danger clickable",onClick:t[17]||(t[17]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Replace image ")])])])):Y("",!0),e.dialog==="confirm-submit"?(g(),_("div",yx,[l("div",{class:"dialog-bg",onClick:t[18]||(t[18]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),l("div",bx,[l("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,wx),l("div",_x,[l("div",{class:"button button-no-button clickable",onClick:t[19]||(t[19]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),l("div",{class:"button button-ok clickable",onClick:t[20]||(t[20]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Send ")])])])):Y("",!0),e.dialog==="clear"?(g(),_("div",Sx,[l("div",{class:"dialog-bg",onClick:t[21]||(t[21]=(...f)=>e.dialogClose&&e.dialogClose(...f))}),l("div",$x,[l("div",Cx,[l("div",{class:"responsive-image",style:at(e.clearImageUrlStyle)},null,4)]),l("div",{class:"dialog-body",innerHTML:e.dialogBody},null,8,Ex),l("div",Tx,[l("div",{class:"button button-no-button clickable",onClick:t[22]||(t[22]=(...f)=>e.dialogClose&&e.dialogClose(...f))}," Cancel "),l("div",{class:"button button-danger clickable",onClick:t[23]||(t[23]=(...f)=>e.dialogConfirm&&e.dialogConfirm(...f))}," Clear ")])])])):Y("",!0)])}var Dx=dt(uV,[["render",Ix]]);const Ax={key:0,class:"video-container"},kx={class:"video-16-9"},Ox=["src"],Vx=ce({__name:"MediaQueueElement",props:{timeBetweenMediaMs:{default:400},baseVolume:{default:100},displayLatestForever:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e,s=Fn("MediaQueueElement.vue"),o=(b,y)=>new Promise(S=>{const $=new Audio(b);$.addEventListener("ended",()=>{S()}),$.volume=Qt.clamp(0,y,1),$.play()}),i=b=>new Promise(y=>{setTimeout(y,b)}),a=x([]),r=x(null),u=x(!1),c=x(void 0),h=x(""),d=x(!0),f=x(),m=async b=>new Promise(async y=>{d.value=!1;const S=[];b.video.url&&(h.value=b.video.url,S.push(new Promise(I=>{Zt(()=>{if(!f.value)return;const C=b.video.volume/100;f.value.addEventListener("error",V=>{s.error({e:V},"error when playing video"),I()}),f.value.volume=Qt.clamp(0,C,1),f.value.addEventListener("ended",()=>{I()})})})));let $="";if(b.image_url?$=b.image_url:b.image&&b.image.file&&($=b.image.urlpath),$&&(await v($),u.value=!0,c.value={backgroundImage:`url(${$})`}),b.minDurationMs&&S.push(i(Qt.parseHumanDuration(b.minDurationMs))),b.sound&&b.sound.file){const I=b.sound.urlpath,C=n.baseVolume/100,V=b.sound.volume/100,A=C*V;S.push(o(I,A))}S.length===0&&S.push(i(1e3)),Promise.all(S).then(I=>{n.displayLatestForever||(u.value=!1),d.value=!0,h.value="",y()})}),p=b=>{if(a.value.push(b),r.value)return;const y=async()=>{if(a.value.length===0){clearInterval(r.value),r.value=null;return}const S=a.value.shift();if(!S){clearInterval(r.value),r.value=null;return}await m(S),r.value=setTimeout(y,n.timeBetweenMediaMs)};r.value=setTimeout(y,n.timeBetweenMediaMs)},v=async b=>new Promise(y=>{const S=new Image;S.src=b,Zt(()=>{S.complete?y():S.onload=()=>{y()}})});return t({playmedia:b=>{!n.displayLatestForever&&d.value&&(u.value=!1),p(b)}}),(b,y)=>(g(),_(re,null,[l("div",{style:at(c.value),class:Oe(["image-container",{"m-fadeIn":u.value,"m-fadeOut":!u.value}])},null,6),h.value?(g(),_("div",Ax,[l("div",kx,[l("video",{ref_key:"videoEl",ref:f,src:h.value,autoplay:""},null,8,Ox)])])):Y("",!0)],64))}});var Lr=dt(Vx,[["__scopeId","data-v-77c80515"]]);const xx=ce({__name:"Page",props:{wdata:null},setup(e){const t=e;let n=null;const s=x(5e3),o=x(!1),i=x(null),a=x([]),r=x();return Ln(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),ot(()=>{n=kn.wsClient(t.wdata),n.onMessage("init",u=>{o.value=u.settings.displayLatestForever,i.value=u.settings.notificationSound,a.value=u.images.map(c=>c.path),u.settings.displayLatestAutomatically&&a.value.length>0&&r.value.playmedia(po({image_url:a.value[0],minDurationMs:s.value}))}),n.onMessage("approved_image_received",u=>{a.value.unshift(u.img),a.value=a.value.slice(0,20),r.value.playmedia(po({sound:u.mayNotify?i.value:null,image_url:u.img,minDurationMs:s.value}))}),n.connect()}),Ct(()=>{n&&n.disconnect()}),(u,c)=>(g(),Ee(Lr,{ref_key:"q",ref:r,"time-between-media-ms":500,"display-latest-forever":o.value},null,8,["display-latest-forever"]))}}),Px={class:"emote-wall"},Rx=["src"],Mx=ce({__name:"Page",props:{wdata:null},setup(e){const t=e,n=Fn("emote_wall/Page.vue");Ln(()=>Promise.resolve({}),["assets/main.d3550ad8.css"]);let s=null;const o=x(Or()),i=x([]),a=pe(()=>i.value.filter(te=>te.active)),r=64,u=window.requestAnimationFrame,c=()=>{for(const te of i.value)te.update();i.value=i.value.filter(te=>!te.dead),u(c)};u(c);const h=(te,Se,L,q,Z)=>{const ae=3*(L.x-Se.x),z=3*(q.x-L.x)-ae,he=Z.x-Se.x-ae-z,oe=3*(L.y-Se.y),T=3*(q.y-L.y)-oe,D=Z.y-Se.y-oe-T,W=he*Math.pow(te,3)+z*Math.pow(te,2)+ae*te+Se.x,X=D*Math.pow(te,3)+T*Math.pow(te,2)+oe*te+Se.y;return{x:W,y:X}},d=te=>-(Math.cos(Math.PI*te)-1)/2,f=-1,m=1,p=-1,v=1,w=-1,b=1,y=()=>zt(0,window.innerWidth),S=()=>window.innerWidth/2,$=()=>window.innerHeight/2,I=()=>zt(0,window.innerHeight),C=()=>window.innerHeight,V=()=>window.innerWidth,A=te=>te.x+te.w<=0,O=te=>te.x>window.innerWidth,B=te=>te.y+te.h<=0,j=te=>te.y>window.innerHeight,H=te=>A(te)||O(te)||B(te)||j(te),k=te=>te.y<=0,E=te=>te.y+te.h>=C(),M=te=>{const Se={x:y(),y:I()},L={x:y(),y:I()},q={x:y(),y:I()},Z={x:y(),y:I()},ae=zt(0,50);let z=0,he=0;const oe=r,T=te.height*oe/te.width;return{url:te.src,x:-oe,y:-T,w:oe,h:T,rot:0,active:!0,dead:!1,update:function(){if(z++,z<ae)return;this.active=!0,he+=.005;const D=h(d(he),Se,L,q,Z);this.x=D.x,this.y=D.y,this.w=d(he)*oe,this.h=d(he)*T,he>=2&&(this.dead=!0,n.info("bezier dead"))}}},P=te=>{const Se=zn(["right","left"]),L=bn(2,4)*(Se==="right"?f:m);let q=-10;const Z=.1,ae=.7,z=zt(0,50);let he=0;const oe=r,T=te.height*oe/te.width;return{url:te.src,x:(Se==="right"?V():0)-oe/2,y:I()-T/2,w:oe,h:T,rot:0,active:!1,dead:!1,update:function(){he++,!(he<z)&&(this.active=!0,this.x+=L,this.y+=q,q+=Z,(A(this)||O(this))&&(this.dead=!0,n.info("bouncy dead")),k(this)&&(this.y=0,q=5),E(this)&&(this.y=C()-this.h,q*=-ae))}}},G=te=>{let Se=bn(4,8);const L=Se,q=zt(-20,20),Z=.1+q/50,ae=zt(0,50);let z=0;const he=r+q,oe=te.height*he/te.width;return{url:te.src,x:y()-he/2,y:0-oe/2,w:he,h:oe,rot:0,active:!1,dead:!1,update:function(){z++,!(z<ae)&&(this.active=!0,this.y+=Se,Se+=Z,Se=Math.max(L,Se),j(this)&&(this.dead=!0,n.info("rain dead")))}}},le=te=>{const Se=zt(-10,10),L=-5+Se/5,q=L/2;let Z=0,ae=L;const z=zt(0,50);let he=0;const oe=r+Se,T=te.height*oe/te.width;return{url:te.src,x:y()-oe/2,y:C()-T/2,w:oe,h:T,rot:0,active:!1,dead:!1,update:function(){he++,!(he<z)&&(this.active=!0,this.y+=ae,this.x+=Z,he%20===0&&bn(0,1)<.4&&(Z===0?(Z=zt(-1,1),ae=Math.min(q,ae)):(Z=0,ae+=.1)),B(this)&&(this.dead=!0,n.info("balloon dead")))}}},De=te=>{const Se=bn(.5,2)*zn([f,m]),L=bn(.5,2)*zn([p,v]),q=bn(1,3)*zn([w,b]),Z=zt(0,50);let ae=0;const z=r,he=te.height*z/te.width;return{url:te.src,x:S()-z/2,y:$()-he/2,w:z,h:he,rot:0,active:!1,dead:!1,update:function(){ae++,!(ae<Z)&&(this.active=!0,this.rot+=q,this.x+=Se,this.y+=L,H(this)&&(this.dead=!0,n.info("floating space dead")))}}},Ke=te=>{const Se=bn(.5,4)*zn([f,m]),L=bn(.5,4)*zn([p,v]),q=zt(0,50);let Z=0;const ae=r,z=te.height*ae/te.width;return{url:te.src,x:S()-ae/2,y:$()-z/2,w:ae,h:z,rot:0,active:!1,dead:!1,update:function(){Z++,!(Z<q)&&(this.active=!0,this.x+=Se,this.y+=L,H(this)&&(this.dead=!0,n.info("explode dead")))}}},$e=te=>{const Se=bn(.5,4)*zn([f,m]);let L=bn(-15,-10);const q=.1,Z=.7,ae=zt(0,50);let z=0;const he=r,oe=te.height*he/te.width;return{url:te.src,x:S()-he/2,y:C()-oe,w:he,h:oe,rot:0,active:!1,dead:!1,update:function(){z++,!(z<ae)&&(this.active=!0,this.x+=Se,this.y+=L,L+=q,(A(this)||O(this))&&(this.dead=!0,n.info("fountain dead")),k(this)&&(this.y=0,L=-L),E(this)&&(this.y=C()-this.h,L*=-Z))}}},He=async te=>new Promise(Se=>{const L=new Image;L.onload=()=>{Se(L)},L.src=te});return ot(()=>{s=kn.wsClient(t.wdata),s.onMessage("init",te=>{o.value=te.settings}),s.onMessage("emotes",async te=>{const Se=zn(te.displayFn);let L;switch(Se.fn){case Mt.BALLOON:L=le;break;case Mt.BOUNCY:L=P;break;case Mt.EXPLODE:L=Ke;break;case Mt.FLOATING_SPACE:L=De;break;case Mt.FOUNTAIN:L=$e;break;case Mt.RAIN:L=G;break;case Mt.RANDOM_BEZIER:L=M;break;default:return}for(const q of te.emotes){const Z=await He(q.url);i.value.push(L(Z,Se.args))}}),s.connect()}),Ct(()=>{s&&s.disconnect()}),(te,Se)=>(g(),_("div",Px,[(g(!0),_(re,null,ye(J(a),(L,q)=>(g(),_("img",{key:q,src:L.url,class:"emote",style:at({top:`${L.y}px`,left:`${L.x}px`,width:L.w+"px",height:L.h+"px",transform:`rotate(${L.rot}deg)`})},null,12,Rx))),128))]))}}),Ux=ce({__name:"Page",props:{wdata:null},setup(e){const t=e;let n=null;const s=x(Or()),o=x(kn.getParam("id")),i=x();return Ln(()=>Promise.resolve({}),["assets/main.b31286b1.css"]),ot(()=>{n=kn.wsClient(t.wdata),n.onMessage("init",a=>{s.value=a.settings}),n.onMessage("playmedia",a=>{!o.value&&a.widgetIds.length>0&&!a.widgetIds.includes("")||o.value&&!a.widgetIds.includes(o.value)||i.value.playmedia(po(a))}),n.connect()}),Ct(()=>{n&&n.disconnect()}),(a,r)=>(g(),Ee(Lr,{ref_key:"q",ref:i,"base-volume":s.value.volume},null,8,["base-volume"]))}}),Nx={key:0},Lx={key:1},Fx={key:0},Bx={key:1},Hx=ce({__name:"Page",props:{wdata:null},setup(e){const t=e;let n=null;const s=x(null),o=x(null),i=x(null),a=x(),r=pe(()=>s.value?!!s.value.settings.showTimerWhenFinished:!1),u=pe(()=>s.value?s.value.settings.finishedText:""),c=pe(()=>d.value<=0),h=pe(()=>s.value?!!s.value.state.running:!1),d=pe(()=>!f.value||!i.value?0:f.value.getTime()-i.value.getTime()),f=pe(()=>!m.value||!s.value?null:new Date(m.value.getTime()+s.value.state.durationMs)),m=pe(()=>s.value?new Date(JSON.parse(s.value.state.startTs)):null),p=pe(()=>{if(!s.value)return"";const b=Math.max(d.value,0),S=1e3*1,$=60*S,I=60*$,C=Qt.pad(Math.floor(b/I),"00"),V=Qt.pad(Math.floor(b%I/$),"00"),A=Qt.pad(Math.floor(b%I%$/S),"00");let O=s.value.settings.timerFormat;return O=O.replace("{hh}",C),O=O.replace("{mm}",V),O=O.replace("{ss}",A),O}),v=pe(()=>{if(!!s.value)return{fontFamily:s.value.settings.fontFamily,fontSize:s.value.settings.fontSize,color:s.value.settings.color}}),w=()=>{o.value&&clearTimeout(o.value),o.value=setTimeout(()=>{i.value=new Date,s.value&&s.value.state.running&&w()},1e3)};return Ln(()=>Promise.resolve({}),["assets/main.5e25e8d0.css"]),ot(()=>{n=kn.wsClient(t.wdata),n.onMessage("init",b=>{s.value=b,w()}),n.onMessage("effect",b=>{a.value.playmedia(po({sound:b.sound,minDurationMs:0}))}),n.connect()}),Ct(()=>{o.value&&clearTimeout(o.value),n&&n.disconnect()}),(b,y)=>(g(),_(re,null,[J(h)?(g(),_("div",{key:0,style:at(J(v))},[J(c)?(g(),_("div",Lx,[J(r)?(g(),_("span",Fx,Q(J(p)),1)):Y("",!0),J(u)?(g(),_("span",Bx,Q(J(u)),1)):Y("",!0)])):(g(),_("div",Nx,Q(J(p)),1))],4)):Y("",!0),U(Lr,{ref_key:"q",ref:a,"time-between-media-ms":100},null,512)],64))}}),Wx={key:0,class:"big"},jx={key:0},zx={key:0},Kx=l("div",null,"Latest errors:",-1),Gx={align:"center",valign:"bottom"},fc=ce({__name:"Page",props:{controls:{type:Boolean},wdata:null},setup(e){const t=e,n=Fn("speech-to-text/Page.vue");let s=null;const o=x(""),i=x([]),a=x(!1),r=x(""),u=x({interimResults:!1,continuous:!0}),c=x([]),h=x(null),d=x(null),f=x(null),m=pe(()=>c.value.length===0||!c.value[0].ready?"":c.value[0].recognized),p=pe(()=>c.value.length===0||!c.value[0].ready?"":c.value[0].translated),v=pe(()=>c.value.length===0?"":c.value[c.value.length-1].recognized),w=pe(()=>d.value?d.value.recognition.synthesize||d.value.translation.synthesize:!1),b=x(),y=x(),S=x(),$=x(),I=x(),C=x(),V=x();Ln(()=>Promise.resolve({}),["assets/main.789973a0.css"]);const A=()=>{n.info(speechSynthesis),speechSynthesis.cancel(),speechSynthesis.resume(),a.value=!0},O=()=>{if(h.value){n.info("_next(): timeout still active");return}if(!m.value&&!p.value){n.info("_next(): recognizedText and translatedText empty");return}if(!d.value){n.info("_next(): settings empty");return}m.value&&d.value.recognition.synthesize&&(n.info("synthesizing recognized text"),j(m.value,d.value.recognition.synthesizeLang)),p.value&&d.value.translation.synthesize&&(n.info("synthesizing translated text"),j(p.value,d.value.translation.synthesizeLang)),h.value=setTimeout(()=>{c.value.shift(),h.value=null,O()},B(`${m.value} ${p.value}`))},B=M=>{const P=$y(M);return Ef(2*Bs,P,10*Bs)},j=(M,P)=>{if(n.info({lastUtterance:r.value,text:M,lang:P},"synthesize"),r.value!==M){n.info({speechSynthesis},"speechSynthesis"),r.value=M;let G=new SpeechSynthesisUtterance(`${r.value}`);P&&(G.lang=P),speechSynthesis.cancel(),speechSynthesis.speak(G)}},H=()=>{if(!d.value){n.info("applyStyles(): settings empty");return}const M=d.value.styles,P=M.bgColorEnabled&&M.bgColor!=null?M.bgColor:"";document.body.style.backgroundColor=P,M.vAlign==="top"?b.value.style.bottom=null:M.vAlign==="bottom"&&(b.value.style.bottom="0px");const G=(le,De,Ke,$e,He)=>{if($e.color!=null&&(De.style.color=$e.color),le.style.webkitTextStrokeColor=He,$e.strokeWidth!=null){const te=Li($e.strokeWidth);le.style.webkitTextStrokeWidth=te,Ke.style.webkitTextStrokeWidth=te}if($e.strokeColor!=null&&(Ke.style.webkitTextStrokeColor=$e.strokeColor),$e.fontFamily!=null&&(le.style.fontFamily=$e.fontFamily,De.style.fontFamily=$e.fontFamily,Ke.style.fontFamily=$e.fontFamily),$e.fontSize!=null){const te=Li($e.fontSize);le.style.fontSize=te,De.style.fontSize=te,Ke.style.fontSize=te}$e.fontWeight!=null&&(le.style.fontWeight=$e.fontWeight,De.style.fontWeight=$e.fontWeight,Ke.style.fontWeight=$e.fontWeight)};d.value.recognition.display&&G(y.value,S.value,$.value,M.recognition,P),d.value.translation.enabled&&G(I.value,C.value,V.value,M.translation,P)},k=()=>{if(!t.controls)return;if(!d.value){n.info("initVoiceRecognition(): settings empty");return}const M=window.SpeechRecognition||window.webkitSpeechRecognition;if(!M){alert("This widget does not work in this browser. Try a chrome based browser.");return}f.value&&(f.value.abort(),f.value.stop()),f.value=new M,f.value.lang=d.value.recognition.lang,f.value.interimResults=u.value.interimResults,f.value.continuous=u.value.continuous,f.value.onsoundstart=()=>{o.value="Sound started"},f.value.onnomatch=()=>{o.value="No match"},f.value.onerror=P=>{o.value="Error",i.value.unshift(P.error),i.value=i.value.slice(0,10),k()},f.value.onsoundend=()=>{o.value="Sound ended",k()},f.value.onspeechend=()=>{o.value="Speech ended",k()},f.value.onresult=async P=>{E(P),k()},f.value.start()},E=M=>{if(!s){n.error("onVoiceResult: ws not set");return}let P=M.results;n.info({evt:M},"onVoiceResult()");for(var G=M.resultIndex;G<P.length;G++){if(!P[G].isFinal)continue;const le=P[G][0].transcript;if(v.value!==le){s.send(JSON.stringify({event:"onVoiceResult",text:le}));break}}};return ot(()=>{s=kn.wsClient(t.wdata),s.onMessage("text",M=>{c.value.push({recognized:M.recognized,translated:M.translated,ready:!0}),O()}),s.onMessage("init",M=>{d.value=M.settings,Zt(()=>{H(),k()})}),s.connect()}),Ct(()=>{s&&s.disconnect()}),(M,P)=>d.value?(g(),_("div",Wx,[d.value.status.enabled?(g(),_("div",jx,[R(Q(o.value)+" ",1),i.value.length>0?(g(),_("div",zx,[Kx,l("ul",null,[(g(!0),_(re,null,ye(i.value,(G,le)=>(g(),_("li",{key:le},Q(G),1))),128))])])):Y("",!0)])):Y("",!0),e.controls&&J(w)&&!a.value?(g(),_("button",{key:1,onClick:A}," Enable Speech Synthesis ")):Y("",!0),l("table",{ref_key:"textTable",ref:b,class:"btm_table"},[l("tr",null,[l("td",Gx,[d.value.recognition.display?(g(),_("div",{key:0,ref_key:"speechTextBg",ref:$,class:"stroke-single-bg"},Q(J(m)),513)):Y("",!0),d.value.recognition.display?(g(),_("div",{key:1,ref_key:"speechTextFg",ref:S,class:"stroke-single-fg"},Q(J(m)),513)):Y("",!0),d.value.recognition.display?(g(),_("div",{key:2,ref_key:"speechTextImb",ref:y,class:"stroke-single-imb"},Q(J(m)),513)):Y("",!0),d.value.translation.enabled?(g(),_("div",{key:3,ref_key:"transTextBg",ref:V,class:"stroke-single-bg"},Q(J(p)),513)):Y("",!0),d.value.translation.enabled?(g(),_("div",{key:4,ref_key:"transTextFg",ref:C,class:"stroke-single-fg"},Q(J(p)),513)):Y("",!0),d.value.translation.enabled?(g(),_("div",{key:5,ref_key:"transTextImb",ref:I,class:"stroke-single-imb"},Q(J(p)),513)):Y("",!0)])])],512)])):Y("",!0)}}),Jx=["data-user","data-yt"],Yx={key:0,class:"thumbnail"},Xx={class:"media-16-9"},Qx=["src"],Zx={class:"title"},qx={class:"title-content title-orig"},e5={class:"title-content title-dupl"},t5={class:"meta meta-left"},n5={class:"meta-user"},s5=l("span",{class:"meta-user-text-before"},"requested by ",-1),o5={class:"meta-user-name"},l5=l("span",{class:"meta-user-text-after"},null,-1),a5={key:0,class:"meta-timestamp"},i5={class:"meta-plays"},r5=l("span",{class:"meta-plays-text-before"},"played ",-1),u5={class:"meta-plays-count"},c5={class:"meta-plays-text-after"},d5={class:"meta meta-right vote"},f5={class:"meta-plays"},h5=l("i",{class:"fa fa-repeat"},null,-1),m5={class:"vote-up"},p5=l("i",{class:"fa fa-thumbs-up"},null,-1),v5={class:"vote-down"},g5=l("i",{class:"fa fa-thumbs-down"},null,-1),y5=ce({__name:"ListItem",props:{item:null,showThumbnails:{type:[String,Boolean]},timestampFormat:{default:"YYYY-MM-DD hh:mm:ss"}},setup(e){const t=e,n=pe(()=>`https://i.ytimg.com/vi/${t.item.yt}/mqdefault.jpg`),s=o=>Tr(t.timestampFormat,new Date(o));return(o,i)=>(g(),_("li",{class:"item","data-user":e.item.user,"data-yt":e.item.yt},[e.showThumbnails!==!1?(g(),_("div",Yx,[l("div",Xx,[l("img",{src:J(n)},null,8,Qx)])])):Y("",!0),l("div",Zx,[l("span",qx,Q(e.item.title||e.item.yt),1),l("span",e5,Q(e.item.title||e.item.yt),1)]),l("div",t5,[l("span",n5,[s5,l("span",o5,Q(e.item.user),1),l5]),e.timestampFormat?(g(),_("span",a5,Q(s(e.item.timestamp)),1)):Y("",!0),l("span",i5,[r5,l("span",u5,Q(e.item.plays),1),l("span",c5," time"+Q(e.item.plays===1?"":"s"),1)])]),l("div",d5,[l("span",f5,[h5,R(" "+Q(e.item.plays),1)]),l("span",m5,[p5,R(" "+Q(e.item.goods),1)]),l("span",v5,[g5,R(" "+Q(e.item.bads),1)])])],8,Jx))}}),b5={class:"player video-16-9"},w5={key:1,class:"hide-video"},_5={key:2,class:"progress"},S5={class:"list"},$5=ce({__name:"Page",props:{wdata:null},setup(e){const t=e;Ln(()=>Promise.resolve({}),["assets/main.32689c31.css"]);const n=Fn("Page.vue");let s=null;const o=x(),i=x({tag:""}),a=x(!1),r=x([]),u=x(Ff()),c=x(0),h=x(!1),d=pe(()=>u.value.customCssPresets[u.value.customCssPresetIdx]||dl()),f=pe(()=>d.value.showThumbnails==="left"?"with-thumbnails-left":d.value.showThumbnails==="right"?"with-thumbnails-right":"without-thumbnails"),m=pe(()=>d.value.showProgressBar?"with-progress-bar":"without-progress-bar"),p=pe(()=>[f.value,m.value]),v=pe(()=>({width:`${c.value*100}%`})),w=pe(()=>r.value.filter((E,M)=>!$(E,M))),b=pe(()=>i.value.tag===""?r.value:r.value.filter(E=>E.tags.includes(i.value.tag))),y=pe(()=>S.value?!!S.value.hidevideo:!1),S=pe(()=>b.value.length===0?null:b.value[0]),$=(E,M)=>d.value.maxItemsShown>=0&&d.value.maxItemsShown-1<M?!0:i.value.tag!==""&&!E.tags.includes(i.value.tag),I=()=>{C({event:"ended"})},C=E=>{if(!s){n.error("sendMsg, ws not defined");return}s.send(JSON.stringify(E))},V=()=>{a.value=!0,B(),S.value&&(o.value.play(S.value.yt),C({event:"play",id:S.value.id}))},A=()=>{S.value&&(o.value.unpause(),C({event:"unpause",id:S.value.id}))},O=()=>{S.value&&(o.value.pause(),C({event:"pause"}))},B=()=>{o.value.setVolume(u.value.volume)},j=()=>{c.value=o.value.getProgress(),d.value.showProgressBar&&requestAnimationFrame(j)},H=E=>E.length>0?E[0].id:null,k=E=>{const M=E.customCssPresets[E.customCssPresetIdx]||dl();if(d.value.css!==M.css){let P=document.getElementById("customCss");P&&P.parentElement&&P.parentElement.removeChild(P),P=document.createElement("style"),P.id="customCss",P.textContent=M.css,document.head.appendChild(P)}d.value.showProgressBar!==M.showProgressBar&&M.showProgressBar&&requestAnimationFrame(j),u.value=E,B()};return ot(()=>{s=kn.wsClient(t.wdata),s.onMessage(["save","settings"],E=>{k(E.settings)}),s.onMessage(["onEnded","prev","skip","remove","move","tags"],E=>{k(E.settings);const M=H(b.value);i.value=E.filter,r.value=E.playlist;const P=H(b.value);M!==P&&V()}),s.onMessage(["filter"],E=>{k(E.settings);const M=H(b.value);i.value=E.filter,r.value=E.playlist,b.value.find(P=>P.id===M)||V()}),s.onMessage(["pause"],E=>{o.value.playing()&&O()}),s.onMessage(["unpause"],E=>{o.value.playing()||(a.value?A():V())}),s.onMessage(["loop"],E=>{o.value.setLoop(!0)}),s.onMessage(["noloop"],E=>{o.value.setLoop(!1)}),s.onMessage(["stats","video","playIdx","shuffle"],E=>{k(E.settings),i.value=E.filter,r.value=E.playlist}),s.onMessage(["add","init"],E=>{k(E.settings),i.value=E.filter,r.value=E.playlist,!h.value&&!o.value.playing()&&u.value.initAutoplay&&V(),h.value=!0}),s.connect()}),Ct(()=>{s&&s.disconnect()}),Ge(r,E=>{E.some((M,P)=>!$(M,P))||(console.log("stopping player"),o.value.stop())}),Ge(i,()=>{r.value.some((E,M)=>!$(E,M))||(console.log("stopping player"),o.value.stop())}),(E,M)=>(g(),_("div",{class:Oe(["wrapper",J(p)])},[l("div",b5,[J(y)&&u.value.hideVideoImage.file?(g(),Ee(xr,{key:0,class:"hide-video",src:u.value.hideVideoImage.urlpath},null,8,["src"])):J(y)?(g(),_("div",w5)):Y("",!0),J(d).showProgressBar?(g(),_("div",_5,[l("div",{class:"progress-value",style:at(J(v))},null,4)])):Y("",!0),U(Bf,{ref_key:"player",ref:o,onEnded:I},null,512)]),l("ol",S5,[(g(!0),_(re,null,ye(J(w),(P,G)=>(g(),Ee(y5,{key:G,class:Oe(G===0?"playing":"not-playing"),item:P,"show-thumbnails":J(d).showThumbnails,"timestamp-format":J(d).timestampFormat},null,8,["class","item","show-thumbnails","timestamp-format"]))),128))])],2))}}),C5={key:11},E5={key:12},hc=ce({__name:"Widget",setup(e){const t=x(null),n=x(""),s=hg();return ot(async()=>{const o=s.params,i=s.name==="pub"?await At.getPubData(`${o.pub_id}`):await At.getWidgetData(`${o.widget_type}`,`${o.widget_token}`);if(i.status!==200){n.value="Widget not found...";return}const a=await i.json();document.title=a.title,t.value=a}),(o,i)=>t.value&&t.value.widget==="avatar"?(g(),Ee(ic,{key:0,wdata:t.value,controls:!0},null,8,["wdata"])):t.value&&t.value.widget==="avatar_receive"?(g(),Ee(ic,{key:1,wdata:t.value,controls:!1},null,8,["wdata"])):t.value&&t.value.widget==="drawcast_draw"?(g(),Ee(Dx,{key:2,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="drawcast_control"?(g(),Ee(CO,{key:3,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="drawcast_receive"?(g(),Ee(xx,{key:4,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="media"?(g(),Ee(Ux,{key:5,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="emote_wall"?(g(),Ee(Mx,{key:6,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="pomo"?(g(),Ee(Hx,{key:7,wdata:t.value},null,8,["wdata"])):t.value&&t.value.widget==="speech-to-text"?(g(),Ee(fc,{key:8,wdata:t.value,controls:!0},null,8,["wdata"])):t.value&&t.value.widget==="speech-to-text_receive"?(g(),Ee(fc,{key:9,wdata:t.value,controls:!1},null,8,["wdata"])):t.value&&t.value.widget==="sr"?(g(),Ee($5,{key:10,wdata:t.value},null,8,["wdata"])):n.value?(g(),_("div",E5,Q(n.value),1)):(g(),_("div",C5," Loading... "))}}),T5=async()=>{const e=dg({history:Iv(),routes:[{name:"index",path:"/",component:UT,meta:{title:"Hyottoko.club",protected:!0}},{name:"login",path:"/login",component:ZT,meta:{title:"Login",protected:!1}},{name:"commands",path:"/commands/",component:e2,meta:{title:"Commands",protected:!0}},{name:"variables",path:"/variables/",component:dk,meta:{title:"Variables",protected:!0}},{name:"sr",path:"/sr/",component:z8,meta:{title:"Song Request",protected:!0}},{name:"speech-to-text",path:"/speech-to-text/",component:qA,meta:{title:"Speech to text",protected:!0}},{name:"avatar",path:"/avatar/",component:qb,meta:{title:"Avatar",protected:!0}},{name:"pomo",path:"/pomo/",component:FI,meta:{title:"Pomo",protected:!0}},{name:"drawcast",path:"/drawcast/",component:IT,meta:{title:"Drawcast",protected:!0}},{name:"settings",path:"/settings/",component:u3,meta:{title:"Settings",protected:!0}},{name:"widget",path:"/widget/:widget_type/:widget_token/",component:hc,meta:{title:"Widget",protected:!1}},{name:"pub",path:"/pub/:pub_id/",component:hc,meta:{title:"Pub",protected:!1}}]});let t=!1;e.beforeEach(async(s,o,i)=>{if(s.name==="widget"||s.name==="pub"){i();return}if(t||(Ln(()=>Promise.resolve({}),["assets/style.aaeffa9c.css"]),Cn.eventBus.on("login",()=>{Gu.init()}),Cn.eventBus.on("logout",()=>{Gu.stop()}),Cn.eventBus.on("darkmode",a=>{a?document.documentElement.classList.add("darkmode"):document.documentElement.classList.remove("darkmode")}),await Nf.init(),await Ar.init(),await Cn.init(),t=!0),s.meta.protected&&!Cn.getMe()){i({name:"login"});return}if(!s.meta.protected&&Cn.getMe()){i({name:"index"});return}o.name&&document.documentElement.classList.remove(`view-${String(o.name)}`),document.documentElement.classList.add(`view-${String(s.name)}`),document.title=`${s.meta.title}`,i()});const n=_r(fy);n.use(e),n.use(uy,{}),n.component("VueDraggable",Zk),n.mount("#app")};T5();
